reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-110116631-172.17.0.6-1597417942708:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32839,DS-97f7ad49-99e5-49dc-800d-cd712c44475d,DISK], DatanodeInfoWithStorage[127.0.0.1:36885,DS-1859d921-9b23-4b69-817d-e833f076202f,DISK], DatanodeInfoWithStorage[127.0.0.1:37322,DS-cf2acda1-3de7-42c4-a919-53e74c074e71,DISK], DatanodeInfoWithStorage[127.0.0.1:41947,DS-54e80876-bd23-46db-99b3-4c530a16dca2,DISK], DatanodeInfoWithStorage[127.0.0.1:40701,DS-10d075e6-0bc2-45ee-9057-ea8175e3d15f,DISK], DatanodeInfoWithStorage[127.0.0.1:44720,DS-5cbcce8d-26e5-4c90-8160-03db3760f589,DISK], DatanodeInfoWithStorage[127.0.0.1:36161,DS-94485ac0-6683-454a-a252-973b81bce4a9,DISK]]; indices=[0, 4, 6, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-110116631-172.17.0.6-1597417942708:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32839,DS-97f7ad49-99e5-49dc-800d-cd712c44475d,DISK], DatanodeInfoWithStorage[127.0.0.1:36885,DS-1859d921-9b23-4b69-817d-e833f076202f,DISK], DatanodeInfoWithStorage[127.0.0.1:37322,DS-cf2acda1-3de7-42c4-a919-53e74c074e71,DISK], DatanodeInfoWithStorage[127.0.0.1:41947,DS-54e80876-bd23-46db-99b3-4c530a16dca2,DISK], DatanodeInfoWithStorage[127.0.0.1:40701,DS-10d075e6-0bc2-45ee-9057-ea8175e3d15f,DISK], DatanodeInfoWithStorage[127.0.0.1:44720,DS-5cbcce8d-26e5-4c90-8160-03db3760f589,DISK], DatanodeInfoWithStorage[127.0.0.1:36161,DS-94485ac0-6683-454a-a252-973b81bce4a9,DISK]]; indices=[0, 4, 6, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-110116631-172.17.0.6-1597417942708:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32839,DS-97f7ad49-99e5-49dc-800d-cd712c44475d,DISK], DatanodeInfoWithStorage[127.0.0.1:36885,DS-1859d921-9b23-4b69-817d-e833f076202f,DISK], DatanodeInfoWithStorage[127.0.0.1:37322,DS-cf2acda1-3de7-42c4-a919-53e74c074e71,DISK], DatanodeInfoWithStorage[127.0.0.1:41947,DS-54e80876-bd23-46db-99b3-4c530a16dca2,DISK], DatanodeInfoWithStorage[127.0.0.1:40701,DS-10d075e6-0bc2-45ee-9057-ea8175e3d15f,DISK], DatanodeInfoWithStorage[127.0.0.1:44720,DS-5cbcce8d-26e5-4c90-8160-03db3760f589,DISK], DatanodeInfoWithStorage[127.0.0.1:36161,DS-94485ac0-6683-454a-a252-973b81bce4a9,DISK]]; indices=[0, 4, 6, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-110116631-172.17.0.6-1597417942708:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32839,DS-97f7ad49-99e5-49dc-800d-cd712c44475d,DISK], DatanodeInfoWithStorage[127.0.0.1:36885,DS-1859d921-9b23-4b69-817d-e833f076202f,DISK], DatanodeInfoWithStorage[127.0.0.1:37322,DS-cf2acda1-3de7-42c4-a919-53e74c074e71,DISK], DatanodeInfoWithStorage[127.0.0.1:41947,DS-54e80876-bd23-46db-99b3-4c530a16dca2,DISK], DatanodeInfoWithStorage[127.0.0.1:40701,DS-10d075e6-0bc2-45ee-9057-ea8175e3d15f,DISK], DatanodeInfoWithStorage[127.0.0.1:44720,DS-5cbcce8d-26e5-4c90-8160-03db3760f589,DISK], DatanodeInfoWithStorage[127.0.0.1:36161,DS-94485ac0-6683-454a-a252-973b81bce4a9,DISK]]; indices=[0, 4, 6, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1845793315-172.17.0.6-1597418297888:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34800,DS-243ae159-9aec-41e7-97ed-f95a51b48e67,DISK], DatanodeInfoWithStorage[127.0.0.1:43911,DS-6e8b1132-c227-454b-8043-f6d3fcd46ba1,DISK], DatanodeInfoWithStorage[127.0.0.1:37329,DS-8905b73b-b002-42f0-9192-11425eb828fc,DISK], DatanodeInfoWithStorage[127.0.0.1:38302,DS-8dc182aa-635a-4e52-817d-dc391f333f70,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-79902640-d5f1-4f64-8867-bddd8aeac308,DISK], DatanodeInfoWithStorage[127.0.0.1:42545,DS-eeff98f4-402f-48d5-844f-b877fd0c3cb1,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-e1f8ce89-c900-4a68-b6c5-8391931d1350,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1845793315-172.17.0.6-1597418297888:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34800,DS-243ae159-9aec-41e7-97ed-f95a51b48e67,DISK], DatanodeInfoWithStorage[127.0.0.1:43911,DS-6e8b1132-c227-454b-8043-f6d3fcd46ba1,DISK], DatanodeInfoWithStorage[127.0.0.1:37329,DS-8905b73b-b002-42f0-9192-11425eb828fc,DISK], DatanodeInfoWithStorage[127.0.0.1:38302,DS-8dc182aa-635a-4e52-817d-dc391f333f70,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-79902640-d5f1-4f64-8867-bddd8aeac308,DISK], DatanodeInfoWithStorage[127.0.0.1:42545,DS-eeff98f4-402f-48d5-844f-b877fd0c3cb1,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-e1f8ce89-c900-4a68-b6c5-8391931d1350,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1845793315-172.17.0.6-1597418297888:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34800,DS-243ae159-9aec-41e7-97ed-f95a51b48e67,DISK], DatanodeInfoWithStorage[127.0.0.1:43911,DS-6e8b1132-c227-454b-8043-f6d3fcd46ba1,DISK], DatanodeInfoWithStorage[127.0.0.1:37329,DS-8905b73b-b002-42f0-9192-11425eb828fc,DISK], DatanodeInfoWithStorage[127.0.0.1:38302,DS-8dc182aa-635a-4e52-817d-dc391f333f70,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-79902640-d5f1-4f64-8867-bddd8aeac308,DISK], DatanodeInfoWithStorage[127.0.0.1:42545,DS-eeff98f4-402f-48d5-844f-b877fd0c3cb1,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-e1f8ce89-c900-4a68-b6c5-8391931d1350,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1845793315-172.17.0.6-1597418297888:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34800,DS-243ae159-9aec-41e7-97ed-f95a51b48e67,DISK], DatanodeInfoWithStorage[127.0.0.1:43911,DS-6e8b1132-c227-454b-8043-f6d3fcd46ba1,DISK], DatanodeInfoWithStorage[127.0.0.1:37329,DS-8905b73b-b002-42f0-9192-11425eb828fc,DISK], DatanodeInfoWithStorage[127.0.0.1:38302,DS-8dc182aa-635a-4e52-817d-dc391f333f70,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-79902640-d5f1-4f64-8867-bddd8aeac308,DISK], DatanodeInfoWithStorage[127.0.0.1:42545,DS-eeff98f4-402f-48d5-844f-b877fd0c3cb1,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-e1f8ce89-c900-4a68-b6c5-8391931d1350,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1735636667-172.17.0.6-1597418343124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42467,DS-fbe3b49d-5e6e-4af3-9df2-d9a849632562,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-46b252db-afbe-43c5-8b09-daa44d74f02b,DISK], DatanodeInfoWithStorage[127.0.0.1:41880,DS-a77681c8-bac6-493d-9608-3e4d1c0d01b6,DISK], DatanodeInfoWithStorage[127.0.0.1:34293,DS-32d357a1-38c6-4c17-a4b2-b46c43d33a63,DISK], DatanodeInfoWithStorage[127.0.0.1:39910,DS-ae4cbda7-37a0-422e-9021-b4774f23f9ea,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-42e4fe73-6786-4aa3-bb37-d2c5125c18f7,DISK]]; indices=[0, 4, 5, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1735636667-172.17.0.6-1597418343124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42467,DS-fbe3b49d-5e6e-4af3-9df2-d9a849632562,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-46b252db-afbe-43c5-8b09-daa44d74f02b,DISK], DatanodeInfoWithStorage[127.0.0.1:41880,DS-a77681c8-bac6-493d-9608-3e4d1c0d01b6,DISK], DatanodeInfoWithStorage[127.0.0.1:34293,DS-32d357a1-38c6-4c17-a4b2-b46c43d33a63,DISK], DatanodeInfoWithStorage[127.0.0.1:39910,DS-ae4cbda7-37a0-422e-9021-b4774f23f9ea,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-42e4fe73-6786-4aa3-bb37-d2c5125c18f7,DISK]]; indices=[0, 4, 5, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1735636667-172.17.0.6-1597418343124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42467,DS-fbe3b49d-5e6e-4af3-9df2-d9a849632562,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-46b252db-afbe-43c5-8b09-daa44d74f02b,DISK], DatanodeInfoWithStorage[127.0.0.1:41880,DS-a77681c8-bac6-493d-9608-3e4d1c0d01b6,DISK], DatanodeInfoWithStorage[127.0.0.1:34293,DS-32d357a1-38c6-4c17-a4b2-b46c43d33a63,DISK], DatanodeInfoWithStorage[127.0.0.1:39910,DS-ae4cbda7-37a0-422e-9021-b4774f23f9ea,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-42e4fe73-6786-4aa3-bb37-d2c5125c18f7,DISK]]; indices=[0, 4, 5, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1735636667-172.17.0.6-1597418343124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42467,DS-fbe3b49d-5e6e-4af3-9df2-d9a849632562,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-46b252db-afbe-43c5-8b09-daa44d74f02b,DISK], DatanodeInfoWithStorage[127.0.0.1:41880,DS-a77681c8-bac6-493d-9608-3e4d1c0d01b6,DISK], DatanodeInfoWithStorage[127.0.0.1:34293,DS-32d357a1-38c6-4c17-a4b2-b46c43d33a63,DISK], DatanodeInfoWithStorage[127.0.0.1:39910,DS-ae4cbda7-37a0-422e-9021-b4774f23f9ea,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-42e4fe73-6786-4aa3-bb37-d2c5125c18f7,DISK]]; indices=[0, 4, 5, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-193595549-172.17.0.6-1597419849882:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44414,DS-259d2468-0ef3-4697-bbcd-6e7d611ec077,DISK], DatanodeInfoWithStorage[127.0.0.1:36819,DS-b049e947-8dff-488c-8b00-1ad741238b4e,DISK], DatanodeInfoWithStorage[127.0.0.1:36187,DS-2b032eab-c2e1-4d09-bedc-583560ff0014,DISK], DatanodeInfoWithStorage[127.0.0.1:36732,DS-acde1afd-861b-4898-8d4e-ba64d0bfc6a8,DISK], DatanodeInfoWithStorage[127.0.0.1:37309,DS-b9fae152-c8fa-4014-98ef-b8e4442d3281,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-10b4f36b-874a-41f8-966f-b0c5aea1a0ab,DISK]]; indices=[3, 4, 5, 6, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-193595549-172.17.0.6-1597419849882:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44414,DS-259d2468-0ef3-4697-bbcd-6e7d611ec077,DISK], DatanodeInfoWithStorage[127.0.0.1:36819,DS-b049e947-8dff-488c-8b00-1ad741238b4e,DISK], DatanodeInfoWithStorage[127.0.0.1:36187,DS-2b032eab-c2e1-4d09-bedc-583560ff0014,DISK], DatanodeInfoWithStorage[127.0.0.1:36732,DS-acde1afd-861b-4898-8d4e-ba64d0bfc6a8,DISK], DatanodeInfoWithStorage[127.0.0.1:37309,DS-b9fae152-c8fa-4014-98ef-b8e4442d3281,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-10b4f36b-874a-41f8-966f-b0c5aea1a0ab,DISK]]; indices=[3, 4, 5, 6, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-193595549-172.17.0.6-1597419849882:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44414,DS-259d2468-0ef3-4697-bbcd-6e7d611ec077,DISK], DatanodeInfoWithStorage[127.0.0.1:36819,DS-b049e947-8dff-488c-8b00-1ad741238b4e,DISK], DatanodeInfoWithStorage[127.0.0.1:36187,DS-2b032eab-c2e1-4d09-bedc-583560ff0014,DISK], DatanodeInfoWithStorage[127.0.0.1:36732,DS-acde1afd-861b-4898-8d4e-ba64d0bfc6a8,DISK], DatanodeInfoWithStorage[127.0.0.1:37309,DS-b9fae152-c8fa-4014-98ef-b8e4442d3281,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-10b4f36b-874a-41f8-966f-b0c5aea1a0ab,DISK]]; indices=[3, 4, 5, 6, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-193595549-172.17.0.6-1597419849882:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44414,DS-259d2468-0ef3-4697-bbcd-6e7d611ec077,DISK], DatanodeInfoWithStorage[127.0.0.1:36819,DS-b049e947-8dff-488c-8b00-1ad741238b4e,DISK], DatanodeInfoWithStorage[127.0.0.1:36187,DS-2b032eab-c2e1-4d09-bedc-583560ff0014,DISK], DatanodeInfoWithStorage[127.0.0.1:36732,DS-acde1afd-861b-4898-8d4e-ba64d0bfc6a8,DISK], DatanodeInfoWithStorage[127.0.0.1:37309,DS-b9fae152-c8fa-4014-98ef-b8e4442d3281,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-10b4f36b-874a-41f8-966f-b0c5aea1a0ab,DISK]]; indices=[3, 4, 5, 6, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1859444890-172.17.0.6-1597420084920:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40067,DS-67b727a9-22b2-46c6-a465-9616f1bb449e,DISK], DatanodeInfoWithStorage[127.0.0.1:39038,DS-ad5dce09-308f-407c-bb24-2a1349c5e6da,DISK], DatanodeInfoWithStorage[127.0.0.1:41130,DS-40856f34-4495-46cb-b5e1-79a5377a0177,DISK], DatanodeInfoWithStorage[127.0.0.1:45432,DS-2ae969cb-b708-4f32-948c-f6b37766209e,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-75bc04e0-3746-4cce-8264-b9922c2caf81,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-e23220f8-2baf-4a3b-835a-3427a6fbed12,DISK]]; indices=[0, 3, 4, 5, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1859444890-172.17.0.6-1597420084920:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40067,DS-67b727a9-22b2-46c6-a465-9616f1bb449e,DISK], DatanodeInfoWithStorage[127.0.0.1:39038,DS-ad5dce09-308f-407c-bb24-2a1349c5e6da,DISK], DatanodeInfoWithStorage[127.0.0.1:41130,DS-40856f34-4495-46cb-b5e1-79a5377a0177,DISK], DatanodeInfoWithStorage[127.0.0.1:45432,DS-2ae969cb-b708-4f32-948c-f6b37766209e,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-75bc04e0-3746-4cce-8264-b9922c2caf81,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-e23220f8-2baf-4a3b-835a-3427a6fbed12,DISK]]; indices=[0, 3, 4, 5, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1859444890-172.17.0.6-1597420084920:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40067,DS-67b727a9-22b2-46c6-a465-9616f1bb449e,DISK], DatanodeInfoWithStorage[127.0.0.1:39038,DS-ad5dce09-308f-407c-bb24-2a1349c5e6da,DISK], DatanodeInfoWithStorage[127.0.0.1:41130,DS-40856f34-4495-46cb-b5e1-79a5377a0177,DISK], DatanodeInfoWithStorage[127.0.0.1:45432,DS-2ae969cb-b708-4f32-948c-f6b37766209e,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-75bc04e0-3746-4cce-8264-b9922c2caf81,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-e23220f8-2baf-4a3b-835a-3427a6fbed12,DISK]]; indices=[0, 3, 4, 5, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1859444890-172.17.0.6-1597420084920:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40067,DS-67b727a9-22b2-46c6-a465-9616f1bb449e,DISK], DatanodeInfoWithStorage[127.0.0.1:39038,DS-ad5dce09-308f-407c-bb24-2a1349c5e6da,DISK], DatanodeInfoWithStorage[127.0.0.1:41130,DS-40856f34-4495-46cb-b5e1-79a5377a0177,DISK], DatanodeInfoWithStorage[127.0.0.1:45432,DS-2ae969cb-b708-4f32-948c-f6b37766209e,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-75bc04e0-3746-4cce-8264-b9922c2caf81,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-e23220f8-2baf-4a3b-835a-3427a6fbed12,DISK]]; indices=[0, 3, 4, 5, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1131183743-172.17.0.6-1597420563765:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37378,DS-8814b78d-deb7-4470-83ca-ad809e327df3,DISK], DatanodeInfoWithStorage[127.0.0.1:42823,DS-52bd4583-3ac7-48c6-87b0-44616264e3bd,DISK], DatanodeInfoWithStorage[127.0.0.1:33127,DS-1fe70da5-d988-4892-b71f-8175ab7ce256,DISK], DatanodeInfoWithStorage[127.0.0.1:37392,DS-f96150df-a06a-4271-ad52-8c797158bdec,DISK], DatanodeInfoWithStorage[127.0.0.1:45559,DS-06f322e2-1721-41d1-88fb-d6bbe5ac03de,DISK], DatanodeInfoWithStorage[127.0.0.1:45889,DS-0548caf1-52ab-4c36-8d7d-a4b82648d93b,DISK]]; indices=[2, 3, 4, 5, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1131183743-172.17.0.6-1597420563765:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37378,DS-8814b78d-deb7-4470-83ca-ad809e327df3,DISK], DatanodeInfoWithStorage[127.0.0.1:42823,DS-52bd4583-3ac7-48c6-87b0-44616264e3bd,DISK], DatanodeInfoWithStorage[127.0.0.1:33127,DS-1fe70da5-d988-4892-b71f-8175ab7ce256,DISK], DatanodeInfoWithStorage[127.0.0.1:37392,DS-f96150df-a06a-4271-ad52-8c797158bdec,DISK], DatanodeInfoWithStorage[127.0.0.1:45559,DS-06f322e2-1721-41d1-88fb-d6bbe5ac03de,DISK], DatanodeInfoWithStorage[127.0.0.1:45889,DS-0548caf1-52ab-4c36-8d7d-a4b82648d93b,DISK]]; indices=[2, 3, 4, 5, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1131183743-172.17.0.6-1597420563765:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37378,DS-8814b78d-deb7-4470-83ca-ad809e327df3,DISK], DatanodeInfoWithStorage[127.0.0.1:42823,DS-52bd4583-3ac7-48c6-87b0-44616264e3bd,DISK], DatanodeInfoWithStorage[127.0.0.1:33127,DS-1fe70da5-d988-4892-b71f-8175ab7ce256,DISK], DatanodeInfoWithStorage[127.0.0.1:37392,DS-f96150df-a06a-4271-ad52-8c797158bdec,DISK], DatanodeInfoWithStorage[127.0.0.1:45559,DS-06f322e2-1721-41d1-88fb-d6bbe5ac03de,DISK], DatanodeInfoWithStorage[127.0.0.1:45889,DS-0548caf1-52ab-4c36-8d7d-a4b82648d93b,DISK]]; indices=[2, 3, 4, 5, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1131183743-172.17.0.6-1597420563765:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37378,DS-8814b78d-deb7-4470-83ca-ad809e327df3,DISK], DatanodeInfoWithStorage[127.0.0.1:42823,DS-52bd4583-3ac7-48c6-87b0-44616264e3bd,DISK], DatanodeInfoWithStorage[127.0.0.1:33127,DS-1fe70da5-d988-4892-b71f-8175ab7ce256,DISK], DatanodeInfoWithStorage[127.0.0.1:37392,DS-f96150df-a06a-4271-ad52-8c797158bdec,DISK], DatanodeInfoWithStorage[127.0.0.1:45559,DS-06f322e2-1721-41d1-88fb-d6bbe5ac03de,DISK], DatanodeInfoWithStorage[127.0.0.1:45889,DS-0548caf1-52ab-4c36-8d7d-a4b82648d93b,DISK]]; indices=[2, 3, 4, 5, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1298139272-172.17.0.6-1597420959774:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41736,DS-53cfcd0c-437e-4b13-92fc-833f7b2312c5,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-1eb41c25-fc66-45da-8049-176587f9e0c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-094feb6b-ac56-44a7-802c-6a1c7245cb20,DISK], DatanodeInfoWithStorage[127.0.0.1:43124,DS-42499f95-41d4-47dd-8a15-9d2e7a05a729,DISK], DatanodeInfoWithStorage[127.0.0.1:34159,DS-e4e6d151-2158-4f34-b4ec-4e9f51885574,DISK], DatanodeInfoWithStorage[127.0.0.1:43521,DS-33cfd421-2b39-4afb-8d82-845ef3ad40c3,DISK], DatanodeInfoWithStorage[127.0.0.1:33951,DS-f86e57af-c7d2-446d-b05d-701e538925af,DISK]]; indices=[0, 2, 4, 5, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1298139272-172.17.0.6-1597420959774:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41736,DS-53cfcd0c-437e-4b13-92fc-833f7b2312c5,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-1eb41c25-fc66-45da-8049-176587f9e0c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-094feb6b-ac56-44a7-802c-6a1c7245cb20,DISK], DatanodeInfoWithStorage[127.0.0.1:43124,DS-42499f95-41d4-47dd-8a15-9d2e7a05a729,DISK], DatanodeInfoWithStorage[127.0.0.1:34159,DS-e4e6d151-2158-4f34-b4ec-4e9f51885574,DISK], DatanodeInfoWithStorage[127.0.0.1:43521,DS-33cfd421-2b39-4afb-8d82-845ef3ad40c3,DISK], DatanodeInfoWithStorage[127.0.0.1:33951,DS-f86e57af-c7d2-446d-b05d-701e538925af,DISK]]; indices=[0, 2, 4, 5, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1298139272-172.17.0.6-1597420959774:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41736,DS-53cfcd0c-437e-4b13-92fc-833f7b2312c5,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-1eb41c25-fc66-45da-8049-176587f9e0c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-094feb6b-ac56-44a7-802c-6a1c7245cb20,DISK], DatanodeInfoWithStorage[127.0.0.1:43124,DS-42499f95-41d4-47dd-8a15-9d2e7a05a729,DISK], DatanodeInfoWithStorage[127.0.0.1:34159,DS-e4e6d151-2158-4f34-b4ec-4e9f51885574,DISK], DatanodeInfoWithStorage[127.0.0.1:43521,DS-33cfd421-2b39-4afb-8d82-845ef3ad40c3,DISK], DatanodeInfoWithStorage[127.0.0.1:33951,DS-f86e57af-c7d2-446d-b05d-701e538925af,DISK]]; indices=[0, 2, 4, 5, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1298139272-172.17.0.6-1597420959774:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41736,DS-53cfcd0c-437e-4b13-92fc-833f7b2312c5,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-1eb41c25-fc66-45da-8049-176587f9e0c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-094feb6b-ac56-44a7-802c-6a1c7245cb20,DISK], DatanodeInfoWithStorage[127.0.0.1:43124,DS-42499f95-41d4-47dd-8a15-9d2e7a05a729,DISK], DatanodeInfoWithStorage[127.0.0.1:34159,DS-e4e6d151-2158-4f34-b4ec-4e9f51885574,DISK], DatanodeInfoWithStorage[127.0.0.1:43521,DS-33cfd421-2b39-4afb-8d82-845ef3ad40c3,DISK], DatanodeInfoWithStorage[127.0.0.1:33951,DS-f86e57af-c7d2-446d-b05d-701e538925af,DISK]]; indices=[0, 2, 4, 5, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1941751401-172.17.0.6-1597421249143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41559,DS-7cae2e13-ee62-42ef-afb4-966229855495,DISK], DatanodeInfoWithStorage[127.0.0.1:37512,DS-ecca136c-5886-45d9-886b-9304acdd0be3,DISK], DatanodeInfoWithStorage[127.0.0.1:37110,DS-12f53b56-d0f4-4688-8abb-517f39db0f83,DISK], DatanodeInfoWithStorage[127.0.0.1:35129,DS-8910e55b-e550-4b85-94c9-a66d6f52e869,DISK], DatanodeInfoWithStorage[127.0.0.1:34044,DS-94e1af51-eabb-4648-8057-ec135b2da598,DISK], DatanodeInfoWithStorage[127.0.0.1:42489,DS-2978e59a-3bf5-4297-aac5-953e61fd6530,DISK], DatanodeInfoWithStorage[127.0.0.1:34083,DS-99c7416d-5344-4464-8171-7c0f854d5730,DISK]]; indices=[1, 3, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1941751401-172.17.0.6-1597421249143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41559,DS-7cae2e13-ee62-42ef-afb4-966229855495,DISK], DatanodeInfoWithStorage[127.0.0.1:37512,DS-ecca136c-5886-45d9-886b-9304acdd0be3,DISK], DatanodeInfoWithStorage[127.0.0.1:37110,DS-12f53b56-d0f4-4688-8abb-517f39db0f83,DISK], DatanodeInfoWithStorage[127.0.0.1:35129,DS-8910e55b-e550-4b85-94c9-a66d6f52e869,DISK], DatanodeInfoWithStorage[127.0.0.1:34044,DS-94e1af51-eabb-4648-8057-ec135b2da598,DISK], DatanodeInfoWithStorage[127.0.0.1:42489,DS-2978e59a-3bf5-4297-aac5-953e61fd6530,DISK], DatanodeInfoWithStorage[127.0.0.1:34083,DS-99c7416d-5344-4464-8171-7c0f854d5730,DISK]]; indices=[1, 3, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1941751401-172.17.0.6-1597421249143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41559,DS-7cae2e13-ee62-42ef-afb4-966229855495,DISK], DatanodeInfoWithStorage[127.0.0.1:37512,DS-ecca136c-5886-45d9-886b-9304acdd0be3,DISK], DatanodeInfoWithStorage[127.0.0.1:37110,DS-12f53b56-d0f4-4688-8abb-517f39db0f83,DISK], DatanodeInfoWithStorage[127.0.0.1:35129,DS-8910e55b-e550-4b85-94c9-a66d6f52e869,DISK], DatanodeInfoWithStorage[127.0.0.1:34044,DS-94e1af51-eabb-4648-8057-ec135b2da598,DISK], DatanodeInfoWithStorage[127.0.0.1:42489,DS-2978e59a-3bf5-4297-aac5-953e61fd6530,DISK], DatanodeInfoWithStorage[127.0.0.1:34083,DS-99c7416d-5344-4464-8171-7c0f854d5730,DISK]]; indices=[1, 3, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1941751401-172.17.0.6-1597421249143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41559,DS-7cae2e13-ee62-42ef-afb4-966229855495,DISK], DatanodeInfoWithStorage[127.0.0.1:37512,DS-ecca136c-5886-45d9-886b-9304acdd0be3,DISK], DatanodeInfoWithStorage[127.0.0.1:37110,DS-12f53b56-d0f4-4688-8abb-517f39db0f83,DISK], DatanodeInfoWithStorage[127.0.0.1:35129,DS-8910e55b-e550-4b85-94c9-a66d6f52e869,DISK], DatanodeInfoWithStorage[127.0.0.1:34044,DS-94e1af51-eabb-4648-8057-ec135b2da598,DISK], DatanodeInfoWithStorage[127.0.0.1:42489,DS-2978e59a-3bf5-4297-aac5-953e61fd6530,DISK], DatanodeInfoWithStorage[127.0.0.1:34083,DS-99c7416d-5344-4464-8171-7c0f854d5730,DISK]]; indices=[1, 3, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1172901653-172.17.0.6-1597422034804:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42425,DS-184291d1-ad92-451a-9f70-b4d3bb6a2016,DISK], DatanodeInfoWithStorage[127.0.0.1:45383,DS-7d645868-7d03-4de7-bc72-634e9bdf69df,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-0f3e19b2-eccd-4c00-9287-2dee432a1e8c,DISK], DatanodeInfoWithStorage[127.0.0.1:40860,DS-cbdf58ad-1e4b-4ccd-852e-192f66e612e8,DISK], DatanodeInfoWithStorage[127.0.0.1:37701,DS-af8eaec5-c14f-4464-9261-65fc0e6a3d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-2cf852d8-b2bb-4fcd-b264-7392a0dc7621,DISK]]; indices=[1, 2, 3, 4, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1172901653-172.17.0.6-1597422034804:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42425,DS-184291d1-ad92-451a-9f70-b4d3bb6a2016,DISK], DatanodeInfoWithStorage[127.0.0.1:45383,DS-7d645868-7d03-4de7-bc72-634e9bdf69df,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-0f3e19b2-eccd-4c00-9287-2dee432a1e8c,DISK], DatanodeInfoWithStorage[127.0.0.1:40860,DS-cbdf58ad-1e4b-4ccd-852e-192f66e612e8,DISK], DatanodeInfoWithStorage[127.0.0.1:37701,DS-af8eaec5-c14f-4464-9261-65fc0e6a3d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-2cf852d8-b2bb-4fcd-b264-7392a0dc7621,DISK]]; indices=[1, 2, 3, 4, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1172901653-172.17.0.6-1597422034804:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42425,DS-184291d1-ad92-451a-9f70-b4d3bb6a2016,DISK], DatanodeInfoWithStorage[127.0.0.1:45383,DS-7d645868-7d03-4de7-bc72-634e9bdf69df,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-0f3e19b2-eccd-4c00-9287-2dee432a1e8c,DISK], DatanodeInfoWithStorage[127.0.0.1:40860,DS-cbdf58ad-1e4b-4ccd-852e-192f66e612e8,DISK], DatanodeInfoWithStorage[127.0.0.1:37701,DS-af8eaec5-c14f-4464-9261-65fc0e6a3d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-2cf852d8-b2bb-4fcd-b264-7392a0dc7621,DISK]]; indices=[1, 2, 3, 4, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1172901653-172.17.0.6-1597422034804:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42425,DS-184291d1-ad92-451a-9f70-b4d3bb6a2016,DISK], DatanodeInfoWithStorage[127.0.0.1:45383,DS-7d645868-7d03-4de7-bc72-634e9bdf69df,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-0f3e19b2-eccd-4c00-9287-2dee432a1e8c,DISK], DatanodeInfoWithStorage[127.0.0.1:40860,DS-cbdf58ad-1e4b-4ccd-852e-192f66e612e8,DISK], DatanodeInfoWithStorage[127.0.0.1:37701,DS-af8eaec5-c14f-4464-9261-65fc0e6a3d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-2cf852d8-b2bb-4fcd-b264-7392a0dc7621,DISK]]; indices=[1, 2, 3, 4, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1660343307-172.17.0.6-1597422353273:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35245,DS-155cdee4-d871-4e89-b38d-6a9665ade0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:39384,DS-0cd9d7a8-9eab-4e80-b97b-30d23d25fa9e,DISK], DatanodeInfoWithStorage[127.0.0.1:43108,DS-51e01bea-2684-4b79-b195-9d61640df189,DISK], DatanodeInfoWithStorage[127.0.0.1:32788,DS-0d9c0fb6-d6c6-45b7-a622-69ec38d217fc,DISK], DatanodeInfoWithStorage[127.0.0.1:44151,DS-d51d38de-2bde-4f93-9b54-d91dee75ba8f,DISK], DatanodeInfoWithStorage[127.0.0.1:40863,DS-8a7ab0f5-3ce8-4f02-b81d-cb94ccecd3fb,DISK]]; indices=[0, 2, 3, 5, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1660343307-172.17.0.6-1597422353273:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35245,DS-155cdee4-d871-4e89-b38d-6a9665ade0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:39384,DS-0cd9d7a8-9eab-4e80-b97b-30d23d25fa9e,DISK], DatanodeInfoWithStorage[127.0.0.1:43108,DS-51e01bea-2684-4b79-b195-9d61640df189,DISK], DatanodeInfoWithStorage[127.0.0.1:32788,DS-0d9c0fb6-d6c6-45b7-a622-69ec38d217fc,DISK], DatanodeInfoWithStorage[127.0.0.1:44151,DS-d51d38de-2bde-4f93-9b54-d91dee75ba8f,DISK], DatanodeInfoWithStorage[127.0.0.1:40863,DS-8a7ab0f5-3ce8-4f02-b81d-cb94ccecd3fb,DISK]]; indices=[0, 2, 3, 5, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1660343307-172.17.0.6-1597422353273:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35245,DS-155cdee4-d871-4e89-b38d-6a9665ade0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:39384,DS-0cd9d7a8-9eab-4e80-b97b-30d23d25fa9e,DISK], DatanodeInfoWithStorage[127.0.0.1:43108,DS-51e01bea-2684-4b79-b195-9d61640df189,DISK], DatanodeInfoWithStorage[127.0.0.1:32788,DS-0d9c0fb6-d6c6-45b7-a622-69ec38d217fc,DISK], DatanodeInfoWithStorage[127.0.0.1:44151,DS-d51d38de-2bde-4f93-9b54-d91dee75ba8f,DISK], DatanodeInfoWithStorage[127.0.0.1:40863,DS-8a7ab0f5-3ce8-4f02-b81d-cb94ccecd3fb,DISK]]; indices=[0, 2, 3, 5, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1660343307-172.17.0.6-1597422353273:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35245,DS-155cdee4-d871-4e89-b38d-6a9665ade0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:39384,DS-0cd9d7a8-9eab-4e80-b97b-30d23d25fa9e,DISK], DatanodeInfoWithStorage[127.0.0.1:43108,DS-51e01bea-2684-4b79-b195-9d61640df189,DISK], DatanodeInfoWithStorage[127.0.0.1:32788,DS-0d9c0fb6-d6c6-45b7-a622-69ec38d217fc,DISK], DatanodeInfoWithStorage[127.0.0.1:44151,DS-d51d38de-2bde-4f93-9b54-d91dee75ba8f,DISK], DatanodeInfoWithStorage[127.0.0.1:40863,DS-8a7ab0f5-3ce8-4f02-b81d-cb94ccecd3fb,DISK]]; indices=[0, 2, 3, 5, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-100911231-172.17.0.6-1597422447232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33201,DS-f4b3d20b-2cb5-4780-91cc-b55f7c2c1a4f,DISK], DatanodeInfoWithStorage[127.0.0.1:46449,DS-457bb7d1-7304-42e9-b08e-a566d3627fad,DISK], DatanodeInfoWithStorage[127.0.0.1:46444,DS-0b38c2d2-229a-46c1-8e69-a23b97428040,DISK], DatanodeInfoWithStorage[127.0.0.1:35314,DS-53b35455-076a-4234-bc2a-b657a9dffca0,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-72ad1a07-3965-42ad-8d5e-a3b76ec89fdd,DISK], DatanodeInfoWithStorage[127.0.0.1:41751,DS-06b41d71-a3f4-450f-abf4-91d6ab311f60,DISK], DatanodeInfoWithStorage[127.0.0.1:45657,DS-cfcfa2f7-4158-4966-8fc0-dafb4b162545,DISK]]; indices=[0, 5, 6, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-100911231-172.17.0.6-1597422447232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33201,DS-f4b3d20b-2cb5-4780-91cc-b55f7c2c1a4f,DISK], DatanodeInfoWithStorage[127.0.0.1:46449,DS-457bb7d1-7304-42e9-b08e-a566d3627fad,DISK], DatanodeInfoWithStorage[127.0.0.1:46444,DS-0b38c2d2-229a-46c1-8e69-a23b97428040,DISK], DatanodeInfoWithStorage[127.0.0.1:35314,DS-53b35455-076a-4234-bc2a-b657a9dffca0,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-72ad1a07-3965-42ad-8d5e-a3b76ec89fdd,DISK], DatanodeInfoWithStorage[127.0.0.1:41751,DS-06b41d71-a3f4-450f-abf4-91d6ab311f60,DISK], DatanodeInfoWithStorage[127.0.0.1:45657,DS-cfcfa2f7-4158-4966-8fc0-dafb4b162545,DISK]]; indices=[0, 5, 6, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-100911231-172.17.0.6-1597422447232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33201,DS-f4b3d20b-2cb5-4780-91cc-b55f7c2c1a4f,DISK], DatanodeInfoWithStorage[127.0.0.1:46449,DS-457bb7d1-7304-42e9-b08e-a566d3627fad,DISK], DatanodeInfoWithStorage[127.0.0.1:46444,DS-0b38c2d2-229a-46c1-8e69-a23b97428040,DISK], DatanodeInfoWithStorage[127.0.0.1:35314,DS-53b35455-076a-4234-bc2a-b657a9dffca0,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-72ad1a07-3965-42ad-8d5e-a3b76ec89fdd,DISK], DatanodeInfoWithStorage[127.0.0.1:41751,DS-06b41d71-a3f4-450f-abf4-91d6ab311f60,DISK], DatanodeInfoWithStorage[127.0.0.1:45657,DS-cfcfa2f7-4158-4966-8fc0-dafb4b162545,DISK]]; indices=[0, 5, 6, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-100911231-172.17.0.6-1597422447232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33201,DS-f4b3d20b-2cb5-4780-91cc-b55f7c2c1a4f,DISK], DatanodeInfoWithStorage[127.0.0.1:46449,DS-457bb7d1-7304-42e9-b08e-a566d3627fad,DISK], DatanodeInfoWithStorage[127.0.0.1:46444,DS-0b38c2d2-229a-46c1-8e69-a23b97428040,DISK], DatanodeInfoWithStorage[127.0.0.1:35314,DS-53b35455-076a-4234-bc2a-b657a9dffca0,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-72ad1a07-3965-42ad-8d5e-a3b76ec89fdd,DISK], DatanodeInfoWithStorage[127.0.0.1:41751,DS-06b41d71-a3f4-450f-abf4-91d6ab311f60,DISK], DatanodeInfoWithStorage[127.0.0.1:45657,DS-cfcfa2f7-4158-4966-8fc0-dafb4b162545,DISK]]; indices=[0, 5, 6, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-536790078-172.17.0.6-1597423132792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41909,DS-88694d12-3a82-4abe-8ac8-8289552a4886,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-ac7f4b09-7f29-4ea9-b62c-143960d815f7,DISK], DatanodeInfoWithStorage[127.0.0.1:40501,DS-37260bbf-5b99-40ca-94ab-646a54946431,DISK], DatanodeInfoWithStorage[127.0.0.1:41054,DS-f8589bb9-e954-4c04-8a79-1a570df72315,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-ec01cef3-aed2-4650-ae6d-91f305e5cb5d,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-f67151f8-21c6-4c27-ae35-262c9a85eefa,DISK]]; indices=[0, 1, 3, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-536790078-172.17.0.6-1597423132792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41909,DS-88694d12-3a82-4abe-8ac8-8289552a4886,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-ac7f4b09-7f29-4ea9-b62c-143960d815f7,DISK], DatanodeInfoWithStorage[127.0.0.1:40501,DS-37260bbf-5b99-40ca-94ab-646a54946431,DISK], DatanodeInfoWithStorage[127.0.0.1:41054,DS-f8589bb9-e954-4c04-8a79-1a570df72315,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-ec01cef3-aed2-4650-ae6d-91f305e5cb5d,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-f67151f8-21c6-4c27-ae35-262c9a85eefa,DISK]]; indices=[0, 1, 3, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-536790078-172.17.0.6-1597423132792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41909,DS-88694d12-3a82-4abe-8ac8-8289552a4886,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-ac7f4b09-7f29-4ea9-b62c-143960d815f7,DISK], DatanodeInfoWithStorage[127.0.0.1:40501,DS-37260bbf-5b99-40ca-94ab-646a54946431,DISK], DatanodeInfoWithStorage[127.0.0.1:41054,DS-f8589bb9-e954-4c04-8a79-1a570df72315,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-ec01cef3-aed2-4650-ae6d-91f305e5cb5d,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-f67151f8-21c6-4c27-ae35-262c9a85eefa,DISK]]; indices=[0, 1, 3, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-536790078-172.17.0.6-1597423132792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41909,DS-88694d12-3a82-4abe-8ac8-8289552a4886,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-ac7f4b09-7f29-4ea9-b62c-143960d815f7,DISK], DatanodeInfoWithStorage[127.0.0.1:40501,DS-37260bbf-5b99-40ca-94ab-646a54946431,DISK], DatanodeInfoWithStorage[127.0.0.1:41054,DS-f8589bb9-e954-4c04-8a79-1a570df72315,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-ec01cef3-aed2-4650-ae6d-91f305e5cb5d,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-f67151f8-21c6-4c27-ae35-262c9a85eefa,DISK]]; indices=[0, 1, 3, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.bp-ready.timeout
component: hdfs:DataNode
v1: 200s
v2: 20
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1569129450-172.17.0.6-1597424261139:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45748,DS-07f4639a-de2c-4ae3-b300-333fbbfd2778,DISK], DatanodeInfoWithStorage[127.0.0.1:35171,DS-a235cb89-59f1-4420-95f7-440a70c8cb7e,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-8a9ed8dd-4fc0-477b-88f2-c9237893b6bf,DISK], DatanodeInfoWithStorage[127.0.0.1:39263,DS-89499307-263b-4268-ac2c-facb5241dc92,DISK], DatanodeInfoWithStorage[127.0.0.1:35303,DS-4441368b-cc55-4b54-9bb8-9b92989af3f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37948,DS-3f3b0cbb-29ed-4d5f-8406-d5cd167bb660,DISK]]; indices=[3, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1569129450-172.17.0.6-1597424261139:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45748,DS-07f4639a-de2c-4ae3-b300-333fbbfd2778,DISK], DatanodeInfoWithStorage[127.0.0.1:35171,DS-a235cb89-59f1-4420-95f7-440a70c8cb7e,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-8a9ed8dd-4fc0-477b-88f2-c9237893b6bf,DISK], DatanodeInfoWithStorage[127.0.0.1:39263,DS-89499307-263b-4268-ac2c-facb5241dc92,DISK], DatanodeInfoWithStorage[127.0.0.1:35303,DS-4441368b-cc55-4b54-9bb8-9b92989af3f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37948,DS-3f3b0cbb-29ed-4d5f-8406-d5cd167bb660,DISK]]; indices=[3, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1569129450-172.17.0.6-1597424261139:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45748,DS-07f4639a-de2c-4ae3-b300-333fbbfd2778,DISK], DatanodeInfoWithStorage[127.0.0.1:35171,DS-a235cb89-59f1-4420-95f7-440a70c8cb7e,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-8a9ed8dd-4fc0-477b-88f2-c9237893b6bf,DISK], DatanodeInfoWithStorage[127.0.0.1:39263,DS-89499307-263b-4268-ac2c-facb5241dc92,DISK], DatanodeInfoWithStorage[127.0.0.1:35303,DS-4441368b-cc55-4b54-9bb8-9b92989af3f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37948,DS-3f3b0cbb-29ed-4d5f-8406-d5cd167bb660,DISK]]; indices=[3, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1569129450-172.17.0.6-1597424261139:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45748,DS-07f4639a-de2c-4ae3-b300-333fbbfd2778,DISK], DatanodeInfoWithStorage[127.0.0.1:35171,DS-a235cb89-59f1-4420-95f7-440a70c8cb7e,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-8a9ed8dd-4fc0-477b-88f2-c9237893b6bf,DISK], DatanodeInfoWithStorage[127.0.0.1:39263,DS-89499307-263b-4268-ac2c-facb5241dc92,DISK], DatanodeInfoWithStorage[127.0.0.1:35303,DS-4441368b-cc55-4b54-9bb8-9b92989af3f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37948,DS-3f3b0cbb-29ed-4d5f-8406-d5cd167bb660,DISK]]; indices=[3, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


v1v2 failed with probability 5 out of 50
v1v1v2v2 failed with probability 7 out of 50
result: false positive !!!
Total execution time in seconds : 7278
