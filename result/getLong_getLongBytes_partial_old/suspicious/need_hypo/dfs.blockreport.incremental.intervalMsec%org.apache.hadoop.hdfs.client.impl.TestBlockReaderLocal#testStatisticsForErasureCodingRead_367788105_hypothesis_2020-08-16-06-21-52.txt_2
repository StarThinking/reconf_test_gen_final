reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-657735843-172.17.0.6-1597558930863:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41349,DS-4389ebf6-6fc3-40d4-8770-52a0cec4c434,DISK], DatanodeInfoWithStorage[127.0.0.1:34686,DS-2ad38dd1-de28-410d-917a-a8a888eaa187,DISK], DatanodeInfoWithStorage[127.0.0.1:40856,DS-de499391-c9db-43d9-9357-fcdb0bace7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42157,DS-efa0416d-8e98-43db-88a5-a4a7cba42a3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38110,DS-7651827d-a7f1-462e-bd89-c486388a4ba4,DISK], DatanodeInfoWithStorage[127.0.0.1:43588,DS-dd422c97-bc1d-4283-b05a-d62ab79b178e,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-657735843-172.17.0.6-1597558930863:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41349,DS-4389ebf6-6fc3-40d4-8770-52a0cec4c434,DISK], DatanodeInfoWithStorage[127.0.0.1:34686,DS-2ad38dd1-de28-410d-917a-a8a888eaa187,DISK], DatanodeInfoWithStorage[127.0.0.1:40856,DS-de499391-c9db-43d9-9357-fcdb0bace7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42157,DS-efa0416d-8e98-43db-88a5-a4a7cba42a3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38110,DS-7651827d-a7f1-462e-bd89-c486388a4ba4,DISK], DatanodeInfoWithStorage[127.0.0.1:43588,DS-dd422c97-bc1d-4283-b05a-d62ab79b178e,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-657735843-172.17.0.6-1597558930863:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41349,DS-4389ebf6-6fc3-40d4-8770-52a0cec4c434,DISK], DatanodeInfoWithStorage[127.0.0.1:34686,DS-2ad38dd1-de28-410d-917a-a8a888eaa187,DISK], DatanodeInfoWithStorage[127.0.0.1:40856,DS-de499391-c9db-43d9-9357-fcdb0bace7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42157,DS-efa0416d-8e98-43db-88a5-a4a7cba42a3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38110,DS-7651827d-a7f1-462e-bd89-c486388a4ba4,DISK], DatanodeInfoWithStorage[127.0.0.1:43588,DS-dd422c97-bc1d-4283-b05a-d62ab79b178e,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-657735843-172.17.0.6-1597558930863:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41349,DS-4389ebf6-6fc3-40d4-8770-52a0cec4c434,DISK], DatanodeInfoWithStorage[127.0.0.1:34686,DS-2ad38dd1-de28-410d-917a-a8a888eaa187,DISK], DatanodeInfoWithStorage[127.0.0.1:40856,DS-de499391-c9db-43d9-9357-fcdb0bace7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42157,DS-efa0416d-8e98-43db-88a5-a4a7cba42a3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38110,DS-7651827d-a7f1-462e-bd89-c486388a4ba4,DISK], DatanodeInfoWithStorage[127.0.0.1:43588,DS-dd422c97-bc1d-4283-b05a-d62ab79b178e,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-572238446-172.17.0.6-1597559486803:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-85c3c430-a072-4c72-85eb-ce45245b4723,DISK], DatanodeInfoWithStorage[127.0.0.1:46410,DS-30dbb64a-775d-4948-8968-93e5679a0cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:42917,DS-e61877c9-4d3a-4d6f-82ac-bda9ba44d180,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-0552c41b-e029-408d-97f0-073501b07c24,DISK], DatanodeInfoWithStorage[127.0.0.1:38949,DS-c9569bc7-e9f0-4d96-89de-821bea3d0470,DISK], DatanodeInfoWithStorage[127.0.0.1:37693,DS-a2d1dc1d-bd3d-4187-8d6d-e9da2718306c,DISK]]; indices=[0, 1, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-572238446-172.17.0.6-1597559486803:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-85c3c430-a072-4c72-85eb-ce45245b4723,DISK], DatanodeInfoWithStorage[127.0.0.1:46410,DS-30dbb64a-775d-4948-8968-93e5679a0cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:42917,DS-e61877c9-4d3a-4d6f-82ac-bda9ba44d180,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-0552c41b-e029-408d-97f0-073501b07c24,DISK], DatanodeInfoWithStorage[127.0.0.1:38949,DS-c9569bc7-e9f0-4d96-89de-821bea3d0470,DISK], DatanodeInfoWithStorage[127.0.0.1:37693,DS-a2d1dc1d-bd3d-4187-8d6d-e9da2718306c,DISK]]; indices=[0, 1, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-572238446-172.17.0.6-1597559486803:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-85c3c430-a072-4c72-85eb-ce45245b4723,DISK], DatanodeInfoWithStorage[127.0.0.1:46410,DS-30dbb64a-775d-4948-8968-93e5679a0cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:42917,DS-e61877c9-4d3a-4d6f-82ac-bda9ba44d180,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-0552c41b-e029-408d-97f0-073501b07c24,DISK], DatanodeInfoWithStorage[127.0.0.1:38949,DS-c9569bc7-e9f0-4d96-89de-821bea3d0470,DISK], DatanodeInfoWithStorage[127.0.0.1:37693,DS-a2d1dc1d-bd3d-4187-8d6d-e9da2718306c,DISK]]; indices=[0, 1, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-572238446-172.17.0.6-1597559486803:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-85c3c430-a072-4c72-85eb-ce45245b4723,DISK], DatanodeInfoWithStorage[127.0.0.1:46410,DS-30dbb64a-775d-4948-8968-93e5679a0cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:42917,DS-e61877c9-4d3a-4d6f-82ac-bda9ba44d180,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-0552c41b-e029-408d-97f0-073501b07c24,DISK], DatanodeInfoWithStorage[127.0.0.1:38949,DS-c9569bc7-e9f0-4d96-89de-821bea3d0470,DISK], DatanodeInfoWithStorage[127.0.0.1:37693,DS-a2d1dc1d-bd3d-4187-8d6d-e9da2718306c,DISK]]; indices=[0, 1, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1371546417-172.17.0.6-1597559697887:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38540,DS-43837281-a133-4cfc-9e09-2771c18e6ee9,DISK], DatanodeInfoWithStorage[127.0.0.1:33809,DS-e791635d-4601-42ac-b415-ab2355971252,DISK], DatanodeInfoWithStorage[127.0.0.1:32847,DS-692467d8-a110-44a4-845a-2b772f278389,DISK], DatanodeInfoWithStorage[127.0.0.1:45613,DS-eb2a8615-434d-4ffb-b601-411531415804,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-0f300cee-d11f-4eea-870f-b34cb8c03b05,DISK], DatanodeInfoWithStorage[127.0.0.1:38232,DS-8ae22bf1-5ae9-4022-ba95-fb93d2c78d4c,DISK]]; indices=[0, 1, 2, 3, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1371546417-172.17.0.6-1597559697887:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38540,DS-43837281-a133-4cfc-9e09-2771c18e6ee9,DISK], DatanodeInfoWithStorage[127.0.0.1:33809,DS-e791635d-4601-42ac-b415-ab2355971252,DISK], DatanodeInfoWithStorage[127.0.0.1:32847,DS-692467d8-a110-44a4-845a-2b772f278389,DISK], DatanodeInfoWithStorage[127.0.0.1:45613,DS-eb2a8615-434d-4ffb-b601-411531415804,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-0f300cee-d11f-4eea-870f-b34cb8c03b05,DISK], DatanodeInfoWithStorage[127.0.0.1:38232,DS-8ae22bf1-5ae9-4022-ba95-fb93d2c78d4c,DISK]]; indices=[0, 1, 2, 3, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1371546417-172.17.0.6-1597559697887:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38540,DS-43837281-a133-4cfc-9e09-2771c18e6ee9,DISK], DatanodeInfoWithStorage[127.0.0.1:33809,DS-e791635d-4601-42ac-b415-ab2355971252,DISK], DatanodeInfoWithStorage[127.0.0.1:32847,DS-692467d8-a110-44a4-845a-2b772f278389,DISK], DatanodeInfoWithStorage[127.0.0.1:45613,DS-eb2a8615-434d-4ffb-b601-411531415804,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-0f300cee-d11f-4eea-870f-b34cb8c03b05,DISK], DatanodeInfoWithStorage[127.0.0.1:38232,DS-8ae22bf1-5ae9-4022-ba95-fb93d2c78d4c,DISK]]; indices=[0, 1, 2, 3, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1371546417-172.17.0.6-1597559697887:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38540,DS-43837281-a133-4cfc-9e09-2771c18e6ee9,DISK], DatanodeInfoWithStorage[127.0.0.1:33809,DS-e791635d-4601-42ac-b415-ab2355971252,DISK], DatanodeInfoWithStorage[127.0.0.1:32847,DS-692467d8-a110-44a4-845a-2b772f278389,DISK], DatanodeInfoWithStorage[127.0.0.1:45613,DS-eb2a8615-434d-4ffb-b601-411531415804,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-0f300cee-d11f-4eea-870f-b34cb8c03b05,DISK], DatanodeInfoWithStorage[127.0.0.1:38232,DS-8ae22bf1-5ae9-4022-ba95-fb93d2c78d4c,DISK]]; indices=[0, 1, 2, 3, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-789396555-172.17.0.6-1597559936252:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38133,DS-10ad4ea2-f2c5-4a80-89c4-193ee7418621,DISK], DatanodeInfoWithStorage[127.0.0.1:45471,DS-9e571b2c-31c7-45d6-a7af-97255c170f99,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-d3658901-8dec-401f-8813-acc39fa03521,DISK], DatanodeInfoWithStorage[127.0.0.1:38581,DS-294faee6-9e0f-40ed-af4b-c2137b90f090,DISK], DatanodeInfoWithStorage[127.0.0.1:45394,DS-66010292-1977-4dbc-9f43-2cfb79e827d1,DISK], DatanodeInfoWithStorage[127.0.0.1:37748,DS-ab300c1f-597e-4d72-bb0d-16b5d2f2edcb,DISK]]; indices=[0, 1, 2, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-789396555-172.17.0.6-1597559936252:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38133,DS-10ad4ea2-f2c5-4a80-89c4-193ee7418621,DISK], DatanodeInfoWithStorage[127.0.0.1:45471,DS-9e571b2c-31c7-45d6-a7af-97255c170f99,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-d3658901-8dec-401f-8813-acc39fa03521,DISK], DatanodeInfoWithStorage[127.0.0.1:38581,DS-294faee6-9e0f-40ed-af4b-c2137b90f090,DISK], DatanodeInfoWithStorage[127.0.0.1:45394,DS-66010292-1977-4dbc-9f43-2cfb79e827d1,DISK], DatanodeInfoWithStorage[127.0.0.1:37748,DS-ab300c1f-597e-4d72-bb0d-16b5d2f2edcb,DISK]]; indices=[0, 1, 2, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-789396555-172.17.0.6-1597559936252:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38133,DS-10ad4ea2-f2c5-4a80-89c4-193ee7418621,DISK], DatanodeInfoWithStorage[127.0.0.1:45471,DS-9e571b2c-31c7-45d6-a7af-97255c170f99,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-d3658901-8dec-401f-8813-acc39fa03521,DISK], DatanodeInfoWithStorage[127.0.0.1:38581,DS-294faee6-9e0f-40ed-af4b-c2137b90f090,DISK], DatanodeInfoWithStorage[127.0.0.1:45394,DS-66010292-1977-4dbc-9f43-2cfb79e827d1,DISK], DatanodeInfoWithStorage[127.0.0.1:37748,DS-ab300c1f-597e-4d72-bb0d-16b5d2f2edcb,DISK]]; indices=[0, 1, 2, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-789396555-172.17.0.6-1597559936252:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38133,DS-10ad4ea2-f2c5-4a80-89c4-193ee7418621,DISK], DatanodeInfoWithStorage[127.0.0.1:45471,DS-9e571b2c-31c7-45d6-a7af-97255c170f99,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-d3658901-8dec-401f-8813-acc39fa03521,DISK], DatanodeInfoWithStorage[127.0.0.1:38581,DS-294faee6-9e0f-40ed-af4b-c2137b90f090,DISK], DatanodeInfoWithStorage[127.0.0.1:45394,DS-66010292-1977-4dbc-9f43-2cfb79e827d1,DISK], DatanodeInfoWithStorage[127.0.0.1:37748,DS-ab300c1f-597e-4d72-bb0d-16b5d2f2edcb,DISK]]; indices=[0, 1, 2, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1600654582-172.17.0.6-1597560305559:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37605,DS-646618bf-689a-45c8-8f99-2e2055c2d79b,DISK], DatanodeInfoWithStorage[127.0.0.1:44429,DS-80000c5c-eacd-4401-a955-4f6148bf81e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45688,DS-4a17e4b9-ebd8-442c-88a8-80ccf4bffc21,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-26b334c2-b08d-44f0-8816-695a1c24c9f7,DISK], DatanodeInfoWithStorage[127.0.0.1:34926,DS-9ae8d368-45b4-4ac5-aa53-729b59600d38,DISK], DatanodeInfoWithStorage[127.0.0.1:45085,DS-f778fa78-ebbe-46a3-98db-c688e5c35b9a,DISK]]; indices=[0, 1, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1600654582-172.17.0.6-1597560305559:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37605,DS-646618bf-689a-45c8-8f99-2e2055c2d79b,DISK], DatanodeInfoWithStorage[127.0.0.1:44429,DS-80000c5c-eacd-4401-a955-4f6148bf81e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45688,DS-4a17e4b9-ebd8-442c-88a8-80ccf4bffc21,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-26b334c2-b08d-44f0-8816-695a1c24c9f7,DISK], DatanodeInfoWithStorage[127.0.0.1:34926,DS-9ae8d368-45b4-4ac5-aa53-729b59600d38,DISK], DatanodeInfoWithStorage[127.0.0.1:45085,DS-f778fa78-ebbe-46a3-98db-c688e5c35b9a,DISK]]; indices=[0, 1, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1600654582-172.17.0.6-1597560305559:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37605,DS-646618bf-689a-45c8-8f99-2e2055c2d79b,DISK], DatanodeInfoWithStorage[127.0.0.1:44429,DS-80000c5c-eacd-4401-a955-4f6148bf81e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45688,DS-4a17e4b9-ebd8-442c-88a8-80ccf4bffc21,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-26b334c2-b08d-44f0-8816-695a1c24c9f7,DISK], DatanodeInfoWithStorage[127.0.0.1:34926,DS-9ae8d368-45b4-4ac5-aa53-729b59600d38,DISK], DatanodeInfoWithStorage[127.0.0.1:45085,DS-f778fa78-ebbe-46a3-98db-c688e5c35b9a,DISK]]; indices=[0, 1, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1600654582-172.17.0.6-1597560305559:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37605,DS-646618bf-689a-45c8-8f99-2e2055c2d79b,DISK], DatanodeInfoWithStorage[127.0.0.1:44429,DS-80000c5c-eacd-4401-a955-4f6148bf81e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45688,DS-4a17e4b9-ebd8-442c-88a8-80ccf4bffc21,DISK], DatanodeInfoWithStorage[127.0.0.1:44134,DS-26b334c2-b08d-44f0-8816-695a1c24c9f7,DISK], DatanodeInfoWithStorage[127.0.0.1:34926,DS-9ae8d368-45b4-4ac5-aa53-729b59600d38,DISK], DatanodeInfoWithStorage[127.0.0.1:45085,DS-f778fa78-ebbe-46a3-98db-c688e5c35b9a,DISK]]; indices=[0, 1, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1968863539-172.17.0.6-1597560945742:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39566,DS-7f071da4-6170-403e-8673-cd241df2d69a,DISK], DatanodeInfoWithStorage[127.0.0.1:37230,DS-c0e952be-0ee9-48b9-a006-3edf314cc7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:36645,DS-ca0dc890-468c-427d-8c5c-1f16b9a0abfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35946,DS-7342814f-aaab-4050-b7fc-1c4e68d75aac,DISK], DatanodeInfoWithStorage[127.0.0.1:38034,DS-709c013b-7b47-4d71-afcc-a1ed2b07fc12,DISK], DatanodeInfoWithStorage[127.0.0.1:41483,DS-53fb725f-a2b1-4937-849f-9be9786f2398,DISK]]; indices=[0, 1, 2, 3, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1968863539-172.17.0.6-1597560945742:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39566,DS-7f071da4-6170-403e-8673-cd241df2d69a,DISK], DatanodeInfoWithStorage[127.0.0.1:37230,DS-c0e952be-0ee9-48b9-a006-3edf314cc7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:36645,DS-ca0dc890-468c-427d-8c5c-1f16b9a0abfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35946,DS-7342814f-aaab-4050-b7fc-1c4e68d75aac,DISK], DatanodeInfoWithStorage[127.0.0.1:38034,DS-709c013b-7b47-4d71-afcc-a1ed2b07fc12,DISK], DatanodeInfoWithStorage[127.0.0.1:41483,DS-53fb725f-a2b1-4937-849f-9be9786f2398,DISK]]; indices=[0, 1, 2, 3, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1968863539-172.17.0.6-1597560945742:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39566,DS-7f071da4-6170-403e-8673-cd241df2d69a,DISK], DatanodeInfoWithStorage[127.0.0.1:37230,DS-c0e952be-0ee9-48b9-a006-3edf314cc7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:36645,DS-ca0dc890-468c-427d-8c5c-1f16b9a0abfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35946,DS-7342814f-aaab-4050-b7fc-1c4e68d75aac,DISK], DatanodeInfoWithStorage[127.0.0.1:38034,DS-709c013b-7b47-4d71-afcc-a1ed2b07fc12,DISK], DatanodeInfoWithStorage[127.0.0.1:41483,DS-53fb725f-a2b1-4937-849f-9be9786f2398,DISK]]; indices=[0, 1, 2, 3, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1968863539-172.17.0.6-1597560945742:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39566,DS-7f071da4-6170-403e-8673-cd241df2d69a,DISK], DatanodeInfoWithStorage[127.0.0.1:37230,DS-c0e952be-0ee9-48b9-a006-3edf314cc7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:36645,DS-ca0dc890-468c-427d-8c5c-1f16b9a0abfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35946,DS-7342814f-aaab-4050-b7fc-1c4e68d75aac,DISK], DatanodeInfoWithStorage[127.0.0.1:38034,DS-709c013b-7b47-4d71-afcc-a1ed2b07fc12,DISK], DatanodeInfoWithStorage[127.0.0.1:41483,DS-53fb725f-a2b1-4937-849f-9be9786f2398,DISK]]; indices=[0, 1, 2, 3, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-959507410-172.17.0.6-1597561076931:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41390,DS-da4316e6-f664-4421-9c68-7f9d42d1c383,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-78231475-6fa7-4c8b-93d2-1c9f2eef2cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:38352,DS-97459a35-8557-4bb8-a6b7-5b078df31d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-3bf228c8-bc85-45fd-ae6e-65410a9ee8cb,DISK], DatanodeInfoWithStorage[127.0.0.1:38299,DS-bb17099c-ab24-4531-99eb-9b9aa2440d4c,DISK], DatanodeInfoWithStorage[127.0.0.1:41235,DS-1a9f8bfa-e5eb-44b5-b8cc-721c8cb1a2fb,DISK]]; indices=[0, 1, 2, 3, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-959507410-172.17.0.6-1597561076931:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41390,DS-da4316e6-f664-4421-9c68-7f9d42d1c383,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-78231475-6fa7-4c8b-93d2-1c9f2eef2cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:38352,DS-97459a35-8557-4bb8-a6b7-5b078df31d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-3bf228c8-bc85-45fd-ae6e-65410a9ee8cb,DISK], DatanodeInfoWithStorage[127.0.0.1:38299,DS-bb17099c-ab24-4531-99eb-9b9aa2440d4c,DISK], DatanodeInfoWithStorage[127.0.0.1:41235,DS-1a9f8bfa-e5eb-44b5-b8cc-721c8cb1a2fb,DISK]]; indices=[0, 1, 2, 3, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-959507410-172.17.0.6-1597561076931:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41390,DS-da4316e6-f664-4421-9c68-7f9d42d1c383,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-78231475-6fa7-4c8b-93d2-1c9f2eef2cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:38352,DS-97459a35-8557-4bb8-a6b7-5b078df31d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-3bf228c8-bc85-45fd-ae6e-65410a9ee8cb,DISK], DatanodeInfoWithStorage[127.0.0.1:38299,DS-bb17099c-ab24-4531-99eb-9b9aa2440d4c,DISK], DatanodeInfoWithStorage[127.0.0.1:41235,DS-1a9f8bfa-e5eb-44b5-b8cc-721c8cb1a2fb,DISK]]; indices=[0, 1, 2, 3, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-959507410-172.17.0.6-1597561076931:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41390,DS-da4316e6-f664-4421-9c68-7f9d42d1c383,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-78231475-6fa7-4c8b-93d2-1c9f2eef2cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:38352,DS-97459a35-8557-4bb8-a6b7-5b078df31d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-3bf228c8-bc85-45fd-ae6e-65410a9ee8cb,DISK], DatanodeInfoWithStorage[127.0.0.1:38299,DS-bb17099c-ab24-4531-99eb-9b9aa2440d4c,DISK], DatanodeInfoWithStorage[127.0.0.1:41235,DS-1a9f8bfa-e5eb-44b5-b8cc-721c8cb1a2fb,DISK]]; indices=[0, 1, 2, 3, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-989223631-172.17.0.6-1597561211767:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32871,DS-ea518aa0-fff0-46c4-94fc-8729a42c8641,DISK], DatanodeInfoWithStorage[127.0.0.1:40021,DS-ead4a0d7-e7d6-4f24-ad16-0dd0a24bf694,DISK], DatanodeInfoWithStorage[127.0.0.1:36143,DS-df7eb8f3-e5ee-4df9-afe5-0ac6da0528a3,DISK], DatanodeInfoWithStorage[127.0.0.1:38269,DS-0bb5ce44-7fe7-4e1b-8c03-d15dd3eca7a5,DISK], DatanodeInfoWithStorage[127.0.0.1:32954,DS-98ddb1f4-7080-47e0-a5d3-bdf83c2569da,DISK], DatanodeInfoWithStorage[127.0.0.1:46806,DS-5a978516-95d7-4926-abb9-36adb300f214,DISK]]; indices=[0, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-989223631-172.17.0.6-1597561211767:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32871,DS-ea518aa0-fff0-46c4-94fc-8729a42c8641,DISK], DatanodeInfoWithStorage[127.0.0.1:40021,DS-ead4a0d7-e7d6-4f24-ad16-0dd0a24bf694,DISK], DatanodeInfoWithStorage[127.0.0.1:36143,DS-df7eb8f3-e5ee-4df9-afe5-0ac6da0528a3,DISK], DatanodeInfoWithStorage[127.0.0.1:38269,DS-0bb5ce44-7fe7-4e1b-8c03-d15dd3eca7a5,DISK], DatanodeInfoWithStorage[127.0.0.1:32954,DS-98ddb1f4-7080-47e0-a5d3-bdf83c2569da,DISK], DatanodeInfoWithStorage[127.0.0.1:46806,DS-5a978516-95d7-4926-abb9-36adb300f214,DISK]]; indices=[0, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-989223631-172.17.0.6-1597561211767:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32871,DS-ea518aa0-fff0-46c4-94fc-8729a42c8641,DISK], DatanodeInfoWithStorage[127.0.0.1:40021,DS-ead4a0d7-e7d6-4f24-ad16-0dd0a24bf694,DISK], DatanodeInfoWithStorage[127.0.0.1:36143,DS-df7eb8f3-e5ee-4df9-afe5-0ac6da0528a3,DISK], DatanodeInfoWithStorage[127.0.0.1:38269,DS-0bb5ce44-7fe7-4e1b-8c03-d15dd3eca7a5,DISK], DatanodeInfoWithStorage[127.0.0.1:32954,DS-98ddb1f4-7080-47e0-a5d3-bdf83c2569da,DISK], DatanodeInfoWithStorage[127.0.0.1:46806,DS-5a978516-95d7-4926-abb9-36adb300f214,DISK]]; indices=[0, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-989223631-172.17.0.6-1597561211767:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32871,DS-ea518aa0-fff0-46c4-94fc-8729a42c8641,DISK], DatanodeInfoWithStorage[127.0.0.1:40021,DS-ead4a0d7-e7d6-4f24-ad16-0dd0a24bf694,DISK], DatanodeInfoWithStorage[127.0.0.1:36143,DS-df7eb8f3-e5ee-4df9-afe5-0ac6da0528a3,DISK], DatanodeInfoWithStorage[127.0.0.1:38269,DS-0bb5ce44-7fe7-4e1b-8c03-d15dd3eca7a5,DISK], DatanodeInfoWithStorage[127.0.0.1:32954,DS-98ddb1f4-7080-47e0-a5d3-bdf83c2569da,DISK], DatanodeInfoWithStorage[127.0.0.1:46806,DS-5a978516-95d7-4926-abb9-36adb300f214,DISK]]; indices=[0, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1189543115-172.17.0.6-1597561463785:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40513,DS-0e1100a1-3e13-4247-89c2-36d997b97d66,DISK], DatanodeInfoWithStorage[127.0.0.1:43212,DS-92277305-09e4-498f-bb98-39c46026c70a,DISK], DatanodeInfoWithStorage[127.0.0.1:39044,DS-c36f5423-9c35-4a4f-afca-a77a2f890e7a,DISK], DatanodeInfoWithStorage[127.0.0.1:35117,DS-0db86f6e-6f8e-4fa8-b194-fe3938b35ada,DISK], DatanodeInfoWithStorage[127.0.0.1:36348,DS-3e6702eb-0fe6-4c92-a190-68f55204476e,DISK], DatanodeInfoWithStorage[127.0.0.1:45590,DS-6fe7142a-00c6-4e05-b08b-d34b1c1d55c4,DISK]]; indices=[1, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1189543115-172.17.0.6-1597561463785:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40513,DS-0e1100a1-3e13-4247-89c2-36d997b97d66,DISK], DatanodeInfoWithStorage[127.0.0.1:43212,DS-92277305-09e4-498f-bb98-39c46026c70a,DISK], DatanodeInfoWithStorage[127.0.0.1:39044,DS-c36f5423-9c35-4a4f-afca-a77a2f890e7a,DISK], DatanodeInfoWithStorage[127.0.0.1:35117,DS-0db86f6e-6f8e-4fa8-b194-fe3938b35ada,DISK], DatanodeInfoWithStorage[127.0.0.1:36348,DS-3e6702eb-0fe6-4c92-a190-68f55204476e,DISK], DatanodeInfoWithStorage[127.0.0.1:45590,DS-6fe7142a-00c6-4e05-b08b-d34b1c1d55c4,DISK]]; indices=[1, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1189543115-172.17.0.6-1597561463785:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40513,DS-0e1100a1-3e13-4247-89c2-36d997b97d66,DISK], DatanodeInfoWithStorage[127.0.0.1:43212,DS-92277305-09e4-498f-bb98-39c46026c70a,DISK], DatanodeInfoWithStorage[127.0.0.1:39044,DS-c36f5423-9c35-4a4f-afca-a77a2f890e7a,DISK], DatanodeInfoWithStorage[127.0.0.1:35117,DS-0db86f6e-6f8e-4fa8-b194-fe3938b35ada,DISK], DatanodeInfoWithStorage[127.0.0.1:36348,DS-3e6702eb-0fe6-4c92-a190-68f55204476e,DISK], DatanodeInfoWithStorage[127.0.0.1:45590,DS-6fe7142a-00c6-4e05-b08b-d34b1c1d55c4,DISK]]; indices=[1, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1189543115-172.17.0.6-1597561463785:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40513,DS-0e1100a1-3e13-4247-89c2-36d997b97d66,DISK], DatanodeInfoWithStorage[127.0.0.1:43212,DS-92277305-09e4-498f-bb98-39c46026c70a,DISK], DatanodeInfoWithStorage[127.0.0.1:39044,DS-c36f5423-9c35-4a4f-afca-a77a2f890e7a,DISK], DatanodeInfoWithStorage[127.0.0.1:35117,DS-0db86f6e-6f8e-4fa8-b194-fe3938b35ada,DISK], DatanodeInfoWithStorage[127.0.0.1:36348,DS-3e6702eb-0fe6-4c92-a190-68f55204476e,DISK], DatanodeInfoWithStorage[127.0.0.1:45590,DS-6fe7142a-00c6-4e05-b08b-d34b1c1d55c4,DISK]]; indices=[1, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-441277081-172.17.0.6-1597561647079:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40235,DS-249bdd51-5918-46ba-9a5e-57eff1874e86,DISK], DatanodeInfoWithStorage[127.0.0.1:39950,DS-27a9781b-75ec-4882-b1d2-b82a03075615,DISK], DatanodeInfoWithStorage[127.0.0.1:43495,DS-03f744e4-95f9-4412-9c8d-9ac007a16ad6,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-a4256e6a-f615-4d6b-b6d5-7a5e34e2eda8,DISK], DatanodeInfoWithStorage[127.0.0.1:42793,DS-684db324-2792-4395-9940-2198e053649c,DISK], DatanodeInfoWithStorage[127.0.0.1:35837,DS-1d5c1b70-ae01-4ccf-8568-a8b3e6c92b5f,DISK]]; indices=[0, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-441277081-172.17.0.6-1597561647079:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40235,DS-249bdd51-5918-46ba-9a5e-57eff1874e86,DISK], DatanodeInfoWithStorage[127.0.0.1:39950,DS-27a9781b-75ec-4882-b1d2-b82a03075615,DISK], DatanodeInfoWithStorage[127.0.0.1:43495,DS-03f744e4-95f9-4412-9c8d-9ac007a16ad6,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-a4256e6a-f615-4d6b-b6d5-7a5e34e2eda8,DISK], DatanodeInfoWithStorage[127.0.0.1:42793,DS-684db324-2792-4395-9940-2198e053649c,DISK], DatanodeInfoWithStorage[127.0.0.1:35837,DS-1d5c1b70-ae01-4ccf-8568-a8b3e6c92b5f,DISK]]; indices=[0, 2, 3, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-441277081-172.17.0.6-1597561647079:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40235,DS-249bdd51-5918-46ba-9a5e-57eff1874e86,DISK], DatanodeInfoWithStorage[127.0.0.1:39950,DS-27a9781b-75ec-4882-b1d2-b82a03075615,DISK], DatanodeInfoWithStorage[127.0.0.1:43495,DS-03f744e4-95f9-4412-9c8d-9ac007a16ad6,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-a4256e6a-f615-4d6b-b6d5-7a5e34e2eda8,DISK], DatanodeInfoWithStorage[127.0.0.1:42793,DS-684db324-2792-4395-9940-2198e053649c,DISK], DatanodeInfoWithStorage[127.0.0.1:35837,DS-1d5c1b70-ae01-4ccf-8568-a8b3e6c92b5f,DISK]]; indices=[0, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-441277081-172.17.0.6-1597561647079:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40235,DS-249bdd51-5918-46ba-9a5e-57eff1874e86,DISK], DatanodeInfoWithStorage[127.0.0.1:39950,DS-27a9781b-75ec-4882-b1d2-b82a03075615,DISK], DatanodeInfoWithStorage[127.0.0.1:43495,DS-03f744e4-95f9-4412-9c8d-9ac007a16ad6,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-a4256e6a-f615-4d6b-b6d5-7a5e34e2eda8,DISK], DatanodeInfoWithStorage[127.0.0.1:42793,DS-684db324-2792-4395-9940-2198e053649c,DISK], DatanodeInfoWithStorage[127.0.0.1:35837,DS-1d5c1b70-ae01-4ccf-8568-a8b3e6c92b5f,DISK]]; indices=[0, 2, 3, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1390576952-172.17.0.6-1597561734407:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35270,DS-3725dea4-d839-4f3d-8450-19dc5e8c5bcb,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-774d701b-1cf8-47ce-af5f-ac7438a04be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44058,DS-d02b360c-e137-4506-906c-b1f700dc7146,DISK], DatanodeInfoWithStorage[127.0.0.1:39454,DS-5e16287c-767c-4457-920a-c061a006c58a,DISK], DatanodeInfoWithStorage[127.0.0.1:35088,DS-d64fc3cd-89e4-4529-b0af-11e1c21a3084,DISK], DatanodeInfoWithStorage[127.0.0.1:33975,DS-07d82be1-1e8d-41ac-b173-02f79621573b,DISK]]; indices=[0, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1390576952-172.17.0.6-1597561734407:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35270,DS-3725dea4-d839-4f3d-8450-19dc5e8c5bcb,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-774d701b-1cf8-47ce-af5f-ac7438a04be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44058,DS-d02b360c-e137-4506-906c-b1f700dc7146,DISK], DatanodeInfoWithStorage[127.0.0.1:39454,DS-5e16287c-767c-4457-920a-c061a006c58a,DISK], DatanodeInfoWithStorage[127.0.0.1:35088,DS-d64fc3cd-89e4-4529-b0af-11e1c21a3084,DISK], DatanodeInfoWithStorage[127.0.0.1:33975,DS-07d82be1-1e8d-41ac-b173-02f79621573b,DISK]]; indices=[0, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1390576952-172.17.0.6-1597561734407:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35270,DS-3725dea4-d839-4f3d-8450-19dc5e8c5bcb,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-774d701b-1cf8-47ce-af5f-ac7438a04be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44058,DS-d02b360c-e137-4506-906c-b1f700dc7146,DISK], DatanodeInfoWithStorage[127.0.0.1:39454,DS-5e16287c-767c-4457-920a-c061a006c58a,DISK], DatanodeInfoWithStorage[127.0.0.1:35088,DS-d64fc3cd-89e4-4529-b0af-11e1c21a3084,DISK], DatanodeInfoWithStorage[127.0.0.1:33975,DS-07d82be1-1e8d-41ac-b173-02f79621573b,DISK]]; indices=[0, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1390576952-172.17.0.6-1597561734407:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35270,DS-3725dea4-d839-4f3d-8450-19dc5e8c5bcb,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-774d701b-1cf8-47ce-af5f-ac7438a04be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44058,DS-d02b360c-e137-4506-906c-b1f700dc7146,DISK], DatanodeInfoWithStorage[127.0.0.1:39454,DS-5e16287c-767c-4457-920a-c061a006c58a,DISK], DatanodeInfoWithStorage[127.0.0.1:35088,DS-d64fc3cd-89e4-4529-b0af-11e1c21a3084,DISK], DatanodeInfoWithStorage[127.0.0.1:33975,DS-07d82be1-1e8d-41ac-b173-02f79621573b,DISK]]; indices=[0, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2133978583-172.17.0.6-1597561919608:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40542,DS-7e0d2ecd-4fab-441c-b97b-5b07ae4c423e,DISK], DatanodeInfoWithStorage[127.0.0.1:44366,DS-7fd4cb38-7044-4fb4-86c5-e36f2fa98e55,DISK], DatanodeInfoWithStorage[127.0.0.1:45838,DS-dce81d4e-c160-4f29-b431-c6031e2846ab,DISK], DatanodeInfoWithStorage[127.0.0.1:36096,DS-70f0e6bb-a99c-4d7f-80b2-2b8b03bb9b41,DISK], DatanodeInfoWithStorage[127.0.0.1:41255,DS-933048ae-9dd4-45fc-9651-5350f8a675e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-6d4c4376-87aa-42e8-aafc-ba23ed7ce137,DISK]]; indices=[0, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2133978583-172.17.0.6-1597561919608:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40542,DS-7e0d2ecd-4fab-441c-b97b-5b07ae4c423e,DISK], DatanodeInfoWithStorage[127.0.0.1:44366,DS-7fd4cb38-7044-4fb4-86c5-e36f2fa98e55,DISK], DatanodeInfoWithStorage[127.0.0.1:45838,DS-dce81d4e-c160-4f29-b431-c6031e2846ab,DISK], DatanodeInfoWithStorage[127.0.0.1:36096,DS-70f0e6bb-a99c-4d7f-80b2-2b8b03bb9b41,DISK], DatanodeInfoWithStorage[127.0.0.1:41255,DS-933048ae-9dd4-45fc-9651-5350f8a675e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-6d4c4376-87aa-42e8-aafc-ba23ed7ce137,DISK]]; indices=[0, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2133978583-172.17.0.6-1597561919608:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40542,DS-7e0d2ecd-4fab-441c-b97b-5b07ae4c423e,DISK], DatanodeInfoWithStorage[127.0.0.1:44366,DS-7fd4cb38-7044-4fb4-86c5-e36f2fa98e55,DISK], DatanodeInfoWithStorage[127.0.0.1:45838,DS-dce81d4e-c160-4f29-b431-c6031e2846ab,DISK], DatanodeInfoWithStorage[127.0.0.1:36096,DS-70f0e6bb-a99c-4d7f-80b2-2b8b03bb9b41,DISK], DatanodeInfoWithStorage[127.0.0.1:41255,DS-933048ae-9dd4-45fc-9651-5350f8a675e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-6d4c4376-87aa-42e8-aafc-ba23ed7ce137,DISK]]; indices=[0, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2133978583-172.17.0.6-1597561919608:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40542,DS-7e0d2ecd-4fab-441c-b97b-5b07ae4c423e,DISK], DatanodeInfoWithStorage[127.0.0.1:44366,DS-7fd4cb38-7044-4fb4-86c5-e36f2fa98e55,DISK], DatanodeInfoWithStorage[127.0.0.1:45838,DS-dce81d4e-c160-4f29-b431-c6031e2846ab,DISK], DatanodeInfoWithStorage[127.0.0.1:36096,DS-70f0e6bb-a99c-4d7f-80b2-2b8b03bb9b41,DISK], DatanodeInfoWithStorage[127.0.0.1:41255,DS-933048ae-9dd4-45fc-9651-5350f8a675e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-6d4c4376-87aa-42e8-aafc-ba23ed7ce137,DISK]]; indices=[0, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1055487238-172.17.0.6-1597562085324:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35815,DS-478d422b-35ca-460c-ae5f-5469ec738ac0,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-13a71be2-f9a8-482e-894f-9229db094116,DISK], DatanodeInfoWithStorage[127.0.0.1:46245,DS-842af057-34ea-4e1c-977b-9008fe4528e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44621,DS-d7fb9b42-13ce-4ceb-bc36-ce83daa40d14,DISK], DatanodeInfoWithStorage[127.0.0.1:39362,DS-4f0be3a7-69e8-4cfa-b65a-4d122b034062,DISK], DatanodeInfoWithStorage[127.0.0.1:34199,DS-285d2a4a-5c01-46f1-b915-98d6b5f14929,DISK]]; indices=[1, 2, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1055487238-172.17.0.6-1597562085324:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35815,DS-478d422b-35ca-460c-ae5f-5469ec738ac0,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-13a71be2-f9a8-482e-894f-9229db094116,DISK], DatanodeInfoWithStorage[127.0.0.1:46245,DS-842af057-34ea-4e1c-977b-9008fe4528e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44621,DS-d7fb9b42-13ce-4ceb-bc36-ce83daa40d14,DISK], DatanodeInfoWithStorage[127.0.0.1:39362,DS-4f0be3a7-69e8-4cfa-b65a-4d122b034062,DISK], DatanodeInfoWithStorage[127.0.0.1:34199,DS-285d2a4a-5c01-46f1-b915-98d6b5f14929,DISK]]; indices=[1, 2, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1055487238-172.17.0.6-1597562085324:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35815,DS-478d422b-35ca-460c-ae5f-5469ec738ac0,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-13a71be2-f9a8-482e-894f-9229db094116,DISK], DatanodeInfoWithStorage[127.0.0.1:46245,DS-842af057-34ea-4e1c-977b-9008fe4528e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44621,DS-d7fb9b42-13ce-4ceb-bc36-ce83daa40d14,DISK], DatanodeInfoWithStorage[127.0.0.1:39362,DS-4f0be3a7-69e8-4cfa-b65a-4d122b034062,DISK], DatanodeInfoWithStorage[127.0.0.1:34199,DS-285d2a4a-5c01-46f1-b915-98d6b5f14929,DISK]]; indices=[1, 2, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1055487238-172.17.0.6-1597562085324:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35815,DS-478d422b-35ca-460c-ae5f-5469ec738ac0,DISK], DatanodeInfoWithStorage[127.0.0.1:39466,DS-13a71be2-f9a8-482e-894f-9229db094116,DISK], DatanodeInfoWithStorage[127.0.0.1:46245,DS-842af057-34ea-4e1c-977b-9008fe4528e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44621,DS-d7fb9b42-13ce-4ceb-bc36-ce83daa40d14,DISK], DatanodeInfoWithStorage[127.0.0.1:39362,DS-4f0be3a7-69e8-4cfa-b65a-4d122b034062,DISK], DatanodeInfoWithStorage[127.0.0.1:34199,DS-285d2a4a-5c01-46f1-b915-98d6b5f14929,DISK]]; indices=[1, 2, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-132989417-172.17.0.6-1597563091569:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36120,DS-a6971ef1-30bf-4100-828a-a99838108037,DISK], DatanodeInfoWithStorage[127.0.0.1:34840,DS-3812fb32-e63f-4abe-9d08-3757077441ce,DISK], DatanodeInfoWithStorage[127.0.0.1:33843,DS-f7e9f534-02f3-42d8-9db1-35128fe1b4b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42799,DS-eb7dd75f-fb52-49f2-ad67-865413b5f68b,DISK], DatanodeInfoWithStorage[127.0.0.1:37698,DS-96f5180f-929a-4170-b116-5d7d4de2bbfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-1f858ab4-6a65-46b4-a585-64620b1ab7fa,DISK]]; indices=[0, 1, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-132989417-172.17.0.6-1597563091569:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36120,DS-a6971ef1-30bf-4100-828a-a99838108037,DISK], DatanodeInfoWithStorage[127.0.0.1:34840,DS-3812fb32-e63f-4abe-9d08-3757077441ce,DISK], DatanodeInfoWithStorage[127.0.0.1:33843,DS-f7e9f534-02f3-42d8-9db1-35128fe1b4b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42799,DS-eb7dd75f-fb52-49f2-ad67-865413b5f68b,DISK], DatanodeInfoWithStorage[127.0.0.1:37698,DS-96f5180f-929a-4170-b116-5d7d4de2bbfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-1f858ab4-6a65-46b4-a585-64620b1ab7fa,DISK]]; indices=[0, 1, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-132989417-172.17.0.6-1597563091569:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36120,DS-a6971ef1-30bf-4100-828a-a99838108037,DISK], DatanodeInfoWithStorage[127.0.0.1:34840,DS-3812fb32-e63f-4abe-9d08-3757077441ce,DISK], DatanodeInfoWithStorage[127.0.0.1:33843,DS-f7e9f534-02f3-42d8-9db1-35128fe1b4b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42799,DS-eb7dd75f-fb52-49f2-ad67-865413b5f68b,DISK], DatanodeInfoWithStorage[127.0.0.1:37698,DS-96f5180f-929a-4170-b116-5d7d4de2bbfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-1f858ab4-6a65-46b4-a585-64620b1ab7fa,DISK]]; indices=[0, 1, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-132989417-172.17.0.6-1597563091569:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36120,DS-a6971ef1-30bf-4100-828a-a99838108037,DISK], DatanodeInfoWithStorage[127.0.0.1:34840,DS-3812fb32-e63f-4abe-9d08-3757077441ce,DISK], DatanodeInfoWithStorage[127.0.0.1:33843,DS-f7e9f534-02f3-42d8-9db1-35128fe1b4b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42799,DS-eb7dd75f-fb52-49f2-ad67-865413b5f68b,DISK], DatanodeInfoWithStorage[127.0.0.1:37698,DS-96f5180f-929a-4170-b116-5d7d4de2bbfb,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-1f858ab4-6a65-46b4-a585-64620b1ab7fa,DISK]]; indices=[0, 1, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-741389336-172.17.0.6-1597563172702:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45861,DS-3cdff1f6-595a-4fb3-a6cc-f5842f6485fd,DISK], DatanodeInfoWithStorage[127.0.0.1:43691,DS-aebda278-82ed-4ad4-b967-f16ec3235ccf,DISK], DatanodeInfoWithStorage[127.0.0.1:34183,DS-27fae977-d6dd-45be-a1eb-d6539a4510b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42123,DS-6287024f-bb2a-418e-b044-d3ef7dc2c6e5,DISK], DatanodeInfoWithStorage[127.0.0.1:35086,DS-07ad0f02-ae91-4d47-87d5-76aaf47236c5,DISK], DatanodeInfoWithStorage[127.0.0.1:36988,DS-ce1bafe5-1f9e-4503-aa55-2247c6dd1ee1,DISK]]; indices=[0, 1, 2, 3, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-741389336-172.17.0.6-1597563172702:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45861,DS-3cdff1f6-595a-4fb3-a6cc-f5842f6485fd,DISK], DatanodeInfoWithStorage[127.0.0.1:43691,DS-aebda278-82ed-4ad4-b967-f16ec3235ccf,DISK], DatanodeInfoWithStorage[127.0.0.1:34183,DS-27fae977-d6dd-45be-a1eb-d6539a4510b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42123,DS-6287024f-bb2a-418e-b044-d3ef7dc2c6e5,DISK], DatanodeInfoWithStorage[127.0.0.1:35086,DS-07ad0f02-ae91-4d47-87d5-76aaf47236c5,DISK], DatanodeInfoWithStorage[127.0.0.1:36988,DS-ce1bafe5-1f9e-4503-aa55-2247c6dd1ee1,DISK]]; indices=[0, 1, 2, 3, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-741389336-172.17.0.6-1597563172702:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45861,DS-3cdff1f6-595a-4fb3-a6cc-f5842f6485fd,DISK], DatanodeInfoWithStorage[127.0.0.1:43691,DS-aebda278-82ed-4ad4-b967-f16ec3235ccf,DISK], DatanodeInfoWithStorage[127.0.0.1:34183,DS-27fae977-d6dd-45be-a1eb-d6539a4510b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42123,DS-6287024f-bb2a-418e-b044-d3ef7dc2c6e5,DISK], DatanodeInfoWithStorage[127.0.0.1:35086,DS-07ad0f02-ae91-4d47-87d5-76aaf47236c5,DISK], DatanodeInfoWithStorage[127.0.0.1:36988,DS-ce1bafe5-1f9e-4503-aa55-2247c6dd1ee1,DISK]]; indices=[0, 1, 2, 3, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-741389336-172.17.0.6-1597563172702:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45861,DS-3cdff1f6-595a-4fb3-a6cc-f5842f6485fd,DISK], DatanodeInfoWithStorage[127.0.0.1:43691,DS-aebda278-82ed-4ad4-b967-f16ec3235ccf,DISK], DatanodeInfoWithStorage[127.0.0.1:34183,DS-27fae977-d6dd-45be-a1eb-d6539a4510b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42123,DS-6287024f-bb2a-418e-b044-d3ef7dc2c6e5,DISK], DatanodeInfoWithStorage[127.0.0.1:35086,DS-07ad0f02-ae91-4d47-87d5-76aaf47236c5,DISK], DatanodeInfoWithStorage[127.0.0.1:36988,DS-ce1bafe5-1f9e-4503-aa55-2247c6dd1ee1,DISK]]; indices=[0, 1, 2, 3, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1780361298-172.17.0.6-1597563347438:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36523,DS-14cf13f4-bb35-483a-a8be-a8fca5047c32,DISK], DatanodeInfoWithStorage[127.0.0.1:36568,DS-7bcdb32f-fd4d-4370-8747-591049f18579,DISK], DatanodeInfoWithStorage[127.0.0.1:39431,DS-e6baadfd-c287-4c4d-bfc2-10432fc333f8,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-79a27a57-b244-46d3-9a87-a14c1b875465,DISK], DatanodeInfoWithStorage[127.0.0.1:43058,DS-13f010f5-0b7a-475b-b0db-b1aa8401a18b,DISK], DatanodeInfoWithStorage[127.0.0.1:40736,DS-b67f5141-afbd-43f2-8bee-517601812525,DISK]]; indices=[0, 1, 2, 3, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1780361298-172.17.0.6-1597563347438:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36523,DS-14cf13f4-bb35-483a-a8be-a8fca5047c32,DISK], DatanodeInfoWithStorage[127.0.0.1:36568,DS-7bcdb32f-fd4d-4370-8747-591049f18579,DISK], DatanodeInfoWithStorage[127.0.0.1:39431,DS-e6baadfd-c287-4c4d-bfc2-10432fc333f8,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-79a27a57-b244-46d3-9a87-a14c1b875465,DISK], DatanodeInfoWithStorage[127.0.0.1:43058,DS-13f010f5-0b7a-475b-b0db-b1aa8401a18b,DISK], DatanodeInfoWithStorage[127.0.0.1:40736,DS-b67f5141-afbd-43f2-8bee-517601812525,DISK]]; indices=[0, 1, 2, 3, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1780361298-172.17.0.6-1597563347438:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36523,DS-14cf13f4-bb35-483a-a8be-a8fca5047c32,DISK], DatanodeInfoWithStorage[127.0.0.1:36568,DS-7bcdb32f-fd4d-4370-8747-591049f18579,DISK], DatanodeInfoWithStorage[127.0.0.1:39431,DS-e6baadfd-c287-4c4d-bfc2-10432fc333f8,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-79a27a57-b244-46d3-9a87-a14c1b875465,DISK], DatanodeInfoWithStorage[127.0.0.1:43058,DS-13f010f5-0b7a-475b-b0db-b1aa8401a18b,DISK], DatanodeInfoWithStorage[127.0.0.1:40736,DS-b67f5141-afbd-43f2-8bee-517601812525,DISK]]; indices=[0, 1, 2, 3, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1780361298-172.17.0.6-1597563347438:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36523,DS-14cf13f4-bb35-483a-a8be-a8fca5047c32,DISK], DatanodeInfoWithStorage[127.0.0.1:36568,DS-7bcdb32f-fd4d-4370-8747-591049f18579,DISK], DatanodeInfoWithStorage[127.0.0.1:39431,DS-e6baadfd-c287-4c4d-bfc2-10432fc333f8,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-79a27a57-b244-46d3-9a87-a14c1b875465,DISK], DatanodeInfoWithStorage[127.0.0.1:43058,DS-13f010f5-0b7a-475b-b0db-b1aa8401a18b,DISK], DatanodeInfoWithStorage[127.0.0.1:40736,DS-b67f5141-afbd-43f2-8bee-517601812525,DISK]]; indices=[0, 1, 2, 3, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 14 out of 50
v1v1v2v2 failed with probability 2 out of 50
result: might be true error
Total execution time in seconds : 4513
