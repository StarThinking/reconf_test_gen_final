reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1810297616-172.17.0.14-1597474283495:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44178,DS-c5962968-b681-4dc7-87d2-e0fb37533ef7,DISK], DatanodeInfoWithStorage[127.0.0.1:39327,DS-41837310-8bde-4954-bf12-ec7c5b50cb96,DISK], DatanodeInfoWithStorage[127.0.0.1:36938,DS-68edea09-501a-49b4-bec3-d310fae79baa,DISK], DatanodeInfoWithStorage[127.0.0.1:35350,DS-dddcd37b-7f44-4198-afa6-ff79c1dcabc4,DISK], DatanodeInfoWithStorage[127.0.0.1:41116,DS-34f79d62-c421-44df-93b5-2f3dbe435dc4,DISK], DatanodeInfoWithStorage[127.0.0.1:42513,DS-83bc5985-1262-4681-9897-04b538662214,DISK], DatanodeInfoWithStorage[127.0.0.1:38852,DS-5910682c-1f79-4da5-87f0-8389d5dbfc22,DISK], DatanodeInfoWithStorage[127.0.0.1:41781,DS-2e8ea0ba-a5a3-4f86-a5bd-21f59967ddb7,DISK], DatanodeInfoWithStorage[127.0.0.1:45622,DS-9787b4a1-b9c2-4a5c-9f9f-73e41c128021,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1810297616-172.17.0.14-1597474283495:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36938,DS-e2f6b19e-0396-4959-891a-048d485ead7c,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1810297616-172.17.0.14-1597474283495:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36938,DS-e2f6b19e-0396-4959-891a-048d485ead7c,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1810297616-172.17.0.14-1597474283495:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44178,DS-c5962968-b681-4dc7-87d2-e0fb37533ef7,DISK], DatanodeInfoWithStorage[127.0.0.1:39327,DS-41837310-8bde-4954-bf12-ec7c5b50cb96,DISK], DatanodeInfoWithStorage[127.0.0.1:36938,DS-68edea09-501a-49b4-bec3-d310fae79baa,DISK], DatanodeInfoWithStorage[127.0.0.1:35350,DS-dddcd37b-7f44-4198-afa6-ff79c1dcabc4,DISK], DatanodeInfoWithStorage[127.0.0.1:41116,DS-34f79d62-c421-44df-93b5-2f3dbe435dc4,DISK], DatanodeInfoWithStorage[127.0.0.1:42513,DS-83bc5985-1262-4681-9897-04b538662214,DISK], DatanodeInfoWithStorage[127.0.0.1:38852,DS-5910682c-1f79-4da5-87f0-8389d5dbfc22,DISK], DatanodeInfoWithStorage[127.0.0.1:41781,DS-2e8ea0ba-a5a3-4f86-a5bd-21f59967ddb7,DISK], DatanodeInfoWithStorage[127.0.0.1:45622,DS-9787b4a1-b9c2-4a5c-9f9f-73e41c128021,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1810297616-172.17.0.14-1597474283495:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36938,DS-e2f6b19e-0396-4959-891a-048d485ead7c,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1810297616-172.17.0.14-1597474283495:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36938,DS-e2f6b19e-0396-4959-891a-048d485ead7c,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-402681787-172.17.0.14-1597474794677:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33191,DS-76ebaddd-149e-47ab-b745-a8dd05442950,DISK], DatanodeInfoWithStorage[127.0.0.1:43878,DS-60fb569c-654b-470b-9250-01ae9ae5a75d,DISK], DatanodeInfoWithStorage[127.0.0.1:45354,DS-3f43a781-e63e-4054-99db-659a12d56040,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-4e90cf22-0433-4431-b274-1db4dc987d97,DISK], DatanodeInfoWithStorage[127.0.0.1:37088,DS-65d0281e-199f-4e25-9668-05195f4b8fbb,DISK], DatanodeInfoWithStorage[127.0.0.1:38921,DS-64b5dfd8-e875-4852-ace1-4a9512b48126,DISK], DatanodeInfoWithStorage[127.0.0.1:42686,DS-0d141660-f4ba-4975-96e6-e8bf8e7722d7,DISK], DatanodeInfoWithStorage[127.0.0.1:38566,DS-539f0480-0a72-4f83-b6a7-a0dc640d8fd2,DISK], DatanodeInfoWithStorage[127.0.0.1:38313,DS-a6dce60f-b280-4ed9-891f-81e4e01416ca,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-402681787-172.17.0.14-1597474794677:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37088,DS-c466b9f2-d631-4102-8e31-368b7e70fa01,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-402681787-172.17.0.14-1597474794677:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37088,DS-c466b9f2-d631-4102-8e31-368b7e70fa01,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-402681787-172.17.0.14-1597474794677:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33191,DS-76ebaddd-149e-47ab-b745-a8dd05442950,DISK], DatanodeInfoWithStorage[127.0.0.1:43878,DS-60fb569c-654b-470b-9250-01ae9ae5a75d,DISK], DatanodeInfoWithStorage[127.0.0.1:45354,DS-3f43a781-e63e-4054-99db-659a12d56040,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-4e90cf22-0433-4431-b274-1db4dc987d97,DISK], DatanodeInfoWithStorage[127.0.0.1:37088,DS-65d0281e-199f-4e25-9668-05195f4b8fbb,DISK], DatanodeInfoWithStorage[127.0.0.1:38921,DS-64b5dfd8-e875-4852-ace1-4a9512b48126,DISK], DatanodeInfoWithStorage[127.0.0.1:42686,DS-0d141660-f4ba-4975-96e6-e8bf8e7722d7,DISK], DatanodeInfoWithStorage[127.0.0.1:38566,DS-539f0480-0a72-4f83-b6a7-a0dc640d8fd2,DISK], DatanodeInfoWithStorage[127.0.0.1:38313,DS-a6dce60f-b280-4ed9-891f-81e4e01416ca,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-402681787-172.17.0.14-1597474794677:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37088,DS-c466b9f2-d631-4102-8e31-368b7e70fa01,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-402681787-172.17.0.14-1597474794677:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37088,DS-c466b9f2-d631-4102-8e31-368b7e70fa01,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: Invalid buffer found, not allowing null
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: Invalid buffer found, not allowing null
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkOutputBuffers(ByteBufferDecodingState.java:132)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:48)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1177776016-172.17.0.14-1597476493245:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41093,DS-7c1dd2d1-f540-4851-b742-577db43e9f50,DISK], DatanodeInfoWithStorage[127.0.0.1:33116,DS-8d9aa9dd-97d7-41b3-947d-994883b2d57e,DISK], DatanodeInfoWithStorage[127.0.0.1:33031,DS-45f33a76-dd1e-4394-bd2d-f16adf4ce6b8,DISK], DatanodeInfoWithStorage[127.0.0.1:45058,DS-78fc743e-de37-4c86-b1cc-86867421b350,DISK], DatanodeInfoWithStorage[127.0.0.1:36945,DS-9571a45c-e27e-4cc4-8429-500776f20b5a,DISK], DatanodeInfoWithStorage[127.0.0.1:43046,DS-e6e078b5-59b7-4204-8059-28ba3ae128ed,DISK], DatanodeInfoWithStorage[127.0.0.1:38775,DS-de2b00ca-f79e-4776-b57c-674f9e6416d2,DISK], DatanodeInfoWithStorage[127.0.0.1:36244,DS-4839d999-7358-48a3-b6f4-c1fa4f918270,DISK], DatanodeInfoWithStorage[127.0.0.1:33890,DS-166d4866-f98f-4b87-8cd8-b71c274e4fde,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1177776016-172.17.0.14-1597476493245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-93f9dd08-1540-457a-97cf-25919e7eaf64,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1177776016-172.17.0.14-1597476493245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-93f9dd08-1540-457a-97cf-25919e7eaf64,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1177776016-172.17.0.14-1597476493245:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41093,DS-7c1dd2d1-f540-4851-b742-577db43e9f50,DISK], DatanodeInfoWithStorage[127.0.0.1:33116,DS-8d9aa9dd-97d7-41b3-947d-994883b2d57e,DISK], DatanodeInfoWithStorage[127.0.0.1:33031,DS-45f33a76-dd1e-4394-bd2d-f16adf4ce6b8,DISK], DatanodeInfoWithStorage[127.0.0.1:45058,DS-78fc743e-de37-4c86-b1cc-86867421b350,DISK], DatanodeInfoWithStorage[127.0.0.1:36945,DS-9571a45c-e27e-4cc4-8429-500776f20b5a,DISK], DatanodeInfoWithStorage[127.0.0.1:43046,DS-e6e078b5-59b7-4204-8059-28ba3ae128ed,DISK], DatanodeInfoWithStorage[127.0.0.1:38775,DS-de2b00ca-f79e-4776-b57c-674f9e6416d2,DISK], DatanodeInfoWithStorage[127.0.0.1:36244,DS-4839d999-7358-48a3-b6f4-c1fa4f918270,DISK], DatanodeInfoWithStorage[127.0.0.1:33890,DS-166d4866-f98f-4b87-8cd8-b71c274e4fde,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1177776016-172.17.0.14-1597476493245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-93f9dd08-1540-457a-97cf-25919e7eaf64,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1177776016-172.17.0.14-1597476493245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-93f9dd08-1540-457a-97cf-25919e7eaf64,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-49865961-172.17.0.14-1597478472207:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45032,DS-84d19cf0-6439-4150-9035-b2495fcf50e1,DISK], DatanodeInfoWithStorage[127.0.0.1:44570,DS-f142b919-79d3-4272-8725-d931c908b29e,DISK], DatanodeInfoWithStorage[127.0.0.1:44035,DS-f5714ac9-6f32-4f1b-9573-059df80d0699,DISK], DatanodeInfoWithStorage[127.0.0.1:40623,DS-95257376-357d-4d05-881e-3daa36b34363,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-fe4c5b46-2c19-457b-adb0-5aab9d63c81b,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-dfb1ed81-a94f-497f-ac52-ce9b55f49f4c,DISK], DatanodeInfoWithStorage[127.0.0.1:40755,DS-f810dfe3-142a-4132-88e1-14219db9d25e,DISK], DatanodeInfoWithStorage[127.0.0.1:46703,DS-5c497256-2f0a-4aed-a93f-ea99135c70d3,DISK], DatanodeInfoWithStorage[127.0.0.1:43617,DS-9f18914b-e8ae-450b-9fb5-4437d6ce9387,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-49865961-172.17.0.14-1597478472207:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40755,DS-c698aee9-2fa3-453c-b324-f7068ec361d5,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-49865961-172.17.0.14-1597478472207:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40755,DS-c698aee9-2fa3-453c-b324-f7068ec361d5,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-49865961-172.17.0.14-1597478472207:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45032,DS-84d19cf0-6439-4150-9035-b2495fcf50e1,DISK], DatanodeInfoWithStorage[127.0.0.1:44570,DS-f142b919-79d3-4272-8725-d931c908b29e,DISK], DatanodeInfoWithStorage[127.0.0.1:44035,DS-f5714ac9-6f32-4f1b-9573-059df80d0699,DISK], DatanodeInfoWithStorage[127.0.0.1:40623,DS-95257376-357d-4d05-881e-3daa36b34363,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-fe4c5b46-2c19-457b-adb0-5aab9d63c81b,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-dfb1ed81-a94f-497f-ac52-ce9b55f49f4c,DISK], DatanodeInfoWithStorage[127.0.0.1:40755,DS-f810dfe3-142a-4132-88e1-14219db9d25e,DISK], DatanodeInfoWithStorage[127.0.0.1:46703,DS-5c497256-2f0a-4aed-a93f-ea99135c70d3,DISK], DatanodeInfoWithStorage[127.0.0.1:43617,DS-9f18914b-e8ae-450b-9fb5-4437d6ce9387,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-49865961-172.17.0.14-1597478472207:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40755,DS-c698aee9-2fa3-453c-b324-f7068ec361d5,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-49865961-172.17.0.14-1597478472207:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40755,DS-c698aee9-2fa3-453c-b324-f7068ec361d5,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-856097628-172.17.0.14-1597481011445:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45671,DS-8a137c95-4605-4b10-882e-c79be0f66a8c,DISK], DatanodeInfoWithStorage[127.0.0.1:46090,DS-c8f8ceed-72dd-4d53-a767-accd0502fa83,DISK], DatanodeInfoWithStorage[127.0.0.1:37897,DS-fb7c22b2-302f-4140-bc8d-c896abd9f704,DISK], DatanodeInfoWithStorage[127.0.0.1:44969,DS-33b0f513-2388-49c1-82b2-db9924739a43,DISK], DatanodeInfoWithStorage[127.0.0.1:34966,DS-a76ad6c6-7e82-4f71-9073-ce1ee0f0307d,DISK], DatanodeInfoWithStorage[127.0.0.1:35443,DS-6ebb2c4c-af51-434f-842e-1a55f788efc8,DISK]]; indices=[0, 1, 2, 4, 7, 8]}, LocatedStripedBlock{BP-856097628-172.17.0.14-1597481011445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35443,DS-3612fd3a-5c80-4bd9-ab70-1b8ef0dc5e3a,DISK], DatanodeInfoWithStorage[127.0.0.1:45671,DS-17233292-d4b3-49ab-8201-d5c52e8b639b,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-856097628-172.17.0.14-1597481011445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35443,DS-3612fd3a-5c80-4bd9-ab70-1b8ef0dc5e3a,DISK], DatanodeInfoWithStorage[127.0.0.1:45671,DS-17233292-d4b3-49ab-8201-d5c52e8b639b,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-856097628-172.17.0.14-1597481011445:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45671,DS-8a137c95-4605-4b10-882e-c79be0f66a8c,DISK], DatanodeInfoWithStorage[127.0.0.1:46090,DS-c8f8ceed-72dd-4d53-a767-accd0502fa83,DISK], DatanodeInfoWithStorage[127.0.0.1:37897,DS-fb7c22b2-302f-4140-bc8d-c896abd9f704,DISK], DatanodeInfoWithStorage[127.0.0.1:44969,DS-33b0f513-2388-49c1-82b2-db9924739a43,DISK], DatanodeInfoWithStorage[127.0.0.1:34966,DS-a76ad6c6-7e82-4f71-9073-ce1ee0f0307d,DISK], DatanodeInfoWithStorage[127.0.0.1:35443,DS-6ebb2c4c-af51-434f-842e-1a55f788efc8,DISK]]; indices=[0, 1, 2, 4, 7, 8]}, LocatedStripedBlock{BP-856097628-172.17.0.14-1597481011445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35443,DS-3612fd3a-5c80-4bd9-ab70-1b8ef0dc5e3a,DISK], DatanodeInfoWithStorage[127.0.0.1:45671,DS-17233292-d4b3-49ab-8201-d5c52e8b639b,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-856097628-172.17.0.14-1597481011445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35443,DS-3612fd3a-5c80-4bd9-ab70-1b8ef0dc5e3a,DISK], DatanodeInfoWithStorage[127.0.0.1:45671,DS-17233292-d4b3-49ab-8201-d5c52e8b639b,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-409825680-172.17.0.14-1597481179679:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34450,DS-c0883630-1ad3-4e8b-82fd-badbbadecc76,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-871c132e-3147-4b39-b2b6-9ce595766490,DISK], DatanodeInfoWithStorage[127.0.0.1:45676,DS-fd40915f-9a6f-480e-9158-195d5221f970,DISK], DatanodeInfoWithStorage[127.0.0.1:41248,DS-b42f1c45-55e3-40a9-a9bf-0ae593bfad25,DISK], DatanodeInfoWithStorage[127.0.0.1:38429,DS-01887ef4-80bb-423c-9b16-cc3f3feb137d,DISK], DatanodeInfoWithStorage[127.0.0.1:42836,DS-e19618b9-ebe0-4679-8759-954759cbd091,DISK]]; indices=[0, 1, 3, 4, 7, 8]}, LocatedStripedBlock{BP-409825680-172.17.0.14-1597481179679:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41248,DS-cf7d61c7-86a9-4c74-8433-f62a6634e9af,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-f1b4475e-35e1-4dbd-a451-011416fb3ea9,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-409825680-172.17.0.14-1597481179679:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41248,DS-cf7d61c7-86a9-4c74-8433-f62a6634e9af,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-f1b4475e-35e1-4dbd-a451-011416fb3ea9,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-409825680-172.17.0.14-1597481179679:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34450,DS-c0883630-1ad3-4e8b-82fd-badbbadecc76,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-871c132e-3147-4b39-b2b6-9ce595766490,DISK], DatanodeInfoWithStorage[127.0.0.1:45676,DS-fd40915f-9a6f-480e-9158-195d5221f970,DISK], DatanodeInfoWithStorage[127.0.0.1:41248,DS-b42f1c45-55e3-40a9-a9bf-0ae593bfad25,DISK], DatanodeInfoWithStorage[127.0.0.1:38429,DS-01887ef4-80bb-423c-9b16-cc3f3feb137d,DISK], DatanodeInfoWithStorage[127.0.0.1:42836,DS-e19618b9-ebe0-4679-8759-954759cbd091,DISK]]; indices=[0, 1, 3, 4, 7, 8]}, LocatedStripedBlock{BP-409825680-172.17.0.14-1597481179679:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41248,DS-cf7d61c7-86a9-4c74-8433-f62a6634e9af,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-f1b4475e-35e1-4dbd-a451-011416fb3ea9,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-409825680-172.17.0.14-1597481179679:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41248,DS-cf7d61c7-86a9-4c74-8433-f62a6634e9af,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-f1b4475e-35e1-4dbd-a451-011416fb3ea9,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1166786596-172.17.0.14-1597481931617:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36370,DS-923e329b-91a5-43dc-a37d-21fc1778d40a,DISK], DatanodeInfoWithStorage[127.0.0.1:35399,DS-9cc3eef2-d869-49ef-b72a-2b143835bbbf,DISK], DatanodeInfoWithStorage[127.0.0.1:39115,DS-0042d01e-c5a5-48b0-80da-b35e73e03a71,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-e3686148-ecc3-4a92-b6f1-719a76607fe9,DISK], DatanodeInfoWithStorage[127.0.0.1:39447,DS-bf39b99c-4f2b-49d4-9b64-7ae85881630d,DISK], DatanodeInfoWithStorage[127.0.0.1:43170,DS-abeb6550-72cd-489a-9929-1a0bb8888558,DISK], DatanodeInfoWithStorage[127.0.0.1:40222,DS-d4fc588f-33aa-4a2c-9862-65b13e9fdbd7,DISK], DatanodeInfoWithStorage[127.0.0.1:33445,DS-aa89fdc5-b8f1-4d78-b4c4-de17df85f323,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1166786596-172.17.0.14-1597481931617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36370,DS-39e0ef1a-0185-4ae7-9413-7d55ffad8161,DISK], DatanodeInfoWithStorage[127.0.0.1:39447,DS-3771aec3-854d-46fc-b478-c17c476215eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33445,DS-bfffb1c1-8894-449a-a084-b3c36ce48a14,DISK]]; indices=[0, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1166786596-172.17.0.14-1597481931617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36370,DS-39e0ef1a-0185-4ae7-9413-7d55ffad8161,DISK], DatanodeInfoWithStorage[127.0.0.1:39447,DS-3771aec3-854d-46fc-b478-c17c476215eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33445,DS-bfffb1c1-8894-449a-a084-b3c36ce48a14,DISK]]; indices=[0, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1166786596-172.17.0.14-1597481931617:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36370,DS-923e329b-91a5-43dc-a37d-21fc1778d40a,DISK], DatanodeInfoWithStorage[127.0.0.1:35399,DS-9cc3eef2-d869-49ef-b72a-2b143835bbbf,DISK], DatanodeInfoWithStorage[127.0.0.1:39115,DS-0042d01e-c5a5-48b0-80da-b35e73e03a71,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-e3686148-ecc3-4a92-b6f1-719a76607fe9,DISK], DatanodeInfoWithStorage[127.0.0.1:39447,DS-bf39b99c-4f2b-49d4-9b64-7ae85881630d,DISK], DatanodeInfoWithStorage[127.0.0.1:43170,DS-abeb6550-72cd-489a-9929-1a0bb8888558,DISK], DatanodeInfoWithStorage[127.0.0.1:40222,DS-d4fc588f-33aa-4a2c-9862-65b13e9fdbd7,DISK], DatanodeInfoWithStorage[127.0.0.1:33445,DS-aa89fdc5-b8f1-4d78-b4c4-de17df85f323,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1166786596-172.17.0.14-1597481931617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36370,DS-39e0ef1a-0185-4ae7-9413-7d55ffad8161,DISK], DatanodeInfoWithStorage[127.0.0.1:39447,DS-3771aec3-854d-46fc-b478-c17c476215eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33445,DS-bfffb1c1-8894-449a-a084-b3c36ce48a14,DISK]]; indices=[0, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1166786596-172.17.0.14-1597481931617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36370,DS-39e0ef1a-0185-4ae7-9413-7d55ffad8161,DISK], DatanodeInfoWithStorage[127.0.0.1:39447,DS-3771aec3-854d-46fc-b478-c17c476215eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33445,DS-bfffb1c1-8894-449a-a084-b3c36ce48a14,DISK]]; indices=[0, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: Invalid buffer found, not allowing null
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: Invalid buffer found, not allowing null
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkOutputBuffers(ByteBufferDecodingState.java:132)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:48)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2026318214-172.17.0.14-1597483170809:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34110,DS-393f8652-a579-40ee-81f0-70ef242a73bb,DISK], DatanodeInfoWithStorage[127.0.0.1:46103,DS-75152378-7ee8-4cf0-aa35-eeef5cf260cb,DISK], DatanodeInfoWithStorage[127.0.0.1:37040,DS-0d2000c8-a46c-46b0-a13a-066d80f40459,DISK], DatanodeInfoWithStorage[127.0.0.1:37441,DS-a4d52ac7-6f9a-4f69-b23a-c7c2160e6d6a,DISK], DatanodeInfoWithStorage[127.0.0.1:43499,DS-052ab0f7-7af6-47c7-bc79-596e2d8e82a7,DISK], DatanodeInfoWithStorage[127.0.0.1:36215,DS-2ee971ee-7472-447d-9bd6-138c262f58a8,DISK], DatanodeInfoWithStorage[127.0.0.1:43821,DS-da21483b-7c70-412c-ab6c-5e270db4d59c,DISK], DatanodeInfoWithStorage[127.0.0.1:37639,DS-a13c5e10-0a9a-470e-813e-db78129ad732,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-2026318214-172.17.0.14-1597483170809:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43499,DS-eb8ca064-e5cc-4549-8a3c-2b88eb2d0e45,DISK], DatanodeInfoWithStorage[127.0.0.1:37639,DS-7f766880-baf6-4e77-b286-42551a4e4e6d,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2026318214-172.17.0.14-1597483170809:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43499,DS-eb8ca064-e5cc-4549-8a3c-2b88eb2d0e45,DISK], DatanodeInfoWithStorage[127.0.0.1:37639,DS-7f766880-baf6-4e77-b286-42551a4e4e6d,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2026318214-172.17.0.14-1597483170809:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34110,DS-393f8652-a579-40ee-81f0-70ef242a73bb,DISK], DatanodeInfoWithStorage[127.0.0.1:46103,DS-75152378-7ee8-4cf0-aa35-eeef5cf260cb,DISK], DatanodeInfoWithStorage[127.0.0.1:37040,DS-0d2000c8-a46c-46b0-a13a-066d80f40459,DISK], DatanodeInfoWithStorage[127.0.0.1:37441,DS-a4d52ac7-6f9a-4f69-b23a-c7c2160e6d6a,DISK], DatanodeInfoWithStorage[127.0.0.1:43499,DS-052ab0f7-7af6-47c7-bc79-596e2d8e82a7,DISK], DatanodeInfoWithStorage[127.0.0.1:36215,DS-2ee971ee-7472-447d-9bd6-138c262f58a8,DISK], DatanodeInfoWithStorage[127.0.0.1:43821,DS-da21483b-7c70-412c-ab6c-5e270db4d59c,DISK], DatanodeInfoWithStorage[127.0.0.1:37639,DS-a13c5e10-0a9a-470e-813e-db78129ad732,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-2026318214-172.17.0.14-1597483170809:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43499,DS-eb8ca064-e5cc-4549-8a3c-2b88eb2d0e45,DISK], DatanodeInfoWithStorage[127.0.0.1:37639,DS-7f766880-baf6-4e77-b286-42551a4e4e6d,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2026318214-172.17.0.14-1597483170809:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43499,DS-eb8ca064-e5cc-4549-8a3c-2b88eb2d0e45,DISK], DatanodeInfoWithStorage[127.0.0.1:37639,DS-7f766880-baf6-4e77-b286-42551a4e4e6d,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-944110945-172.17.0.14-1597483549588:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37402,DS-3fd56be2-348d-4b2a-ae98-f84aa37384f6,DISK], DatanodeInfoWithStorage[127.0.0.1:33122,DS-45f2f3bc-d7c4-42ed-850b-37f65ce6677b,DISK], DatanodeInfoWithStorage[127.0.0.1:35438,DS-d40dd613-2967-4f0f-8bfc-6fa85f08ca35,DISK], DatanodeInfoWithStorage[127.0.0.1:33510,DS-577b643e-a60a-406b-9569-a653837547c7,DISK], DatanodeInfoWithStorage[127.0.0.1:40220,DS-55e42763-6617-4e3d-bb3f-9ab96fab4662,DISK], DatanodeInfoWithStorage[127.0.0.1:36434,DS-1d2d9217-3df1-44e9-9072-ffc7efb6267b,DISK]]; indices=[0, 2, 5, 6, 7, 8]}, LocatedStripedBlock{BP-944110945-172.17.0.14-1597483549588:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33122,DS-7b715fd1-4264-4510-a68d-4ff80d4339d5,DISK], DatanodeInfoWithStorage[127.0.0.1:36434,DS-a8047bd6-8087-4471-be71-6bcaa9f119f7,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-944110945-172.17.0.14-1597483549588:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33122,DS-7b715fd1-4264-4510-a68d-4ff80d4339d5,DISK], DatanodeInfoWithStorage[127.0.0.1:36434,DS-a8047bd6-8087-4471-be71-6bcaa9f119f7,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-944110945-172.17.0.14-1597483549588:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37402,DS-3fd56be2-348d-4b2a-ae98-f84aa37384f6,DISK], DatanodeInfoWithStorage[127.0.0.1:33122,DS-45f2f3bc-d7c4-42ed-850b-37f65ce6677b,DISK], DatanodeInfoWithStorage[127.0.0.1:35438,DS-d40dd613-2967-4f0f-8bfc-6fa85f08ca35,DISK], DatanodeInfoWithStorage[127.0.0.1:33510,DS-577b643e-a60a-406b-9569-a653837547c7,DISK], DatanodeInfoWithStorage[127.0.0.1:40220,DS-55e42763-6617-4e3d-bb3f-9ab96fab4662,DISK], DatanodeInfoWithStorage[127.0.0.1:36434,DS-1d2d9217-3df1-44e9-9072-ffc7efb6267b,DISK]]; indices=[0, 2, 5, 6, 7, 8]}, LocatedStripedBlock{BP-944110945-172.17.0.14-1597483549588:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33122,DS-7b715fd1-4264-4510-a68d-4ff80d4339d5,DISK], DatanodeInfoWithStorage[127.0.0.1:36434,DS-a8047bd6-8087-4471-be71-6bcaa9f119f7,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-944110945-172.17.0.14-1597483549588:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33122,DS-7b715fd1-4264-4510-a68d-4ff80d4339d5,DISK], DatanodeInfoWithStorage[127.0.0.1:36434,DS-a8047bd6-8087-4471-be71-6bcaa9f119f7,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-820067790-172.17.0.14-1597483641592:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37682,DS-812f5746-a767-488a-a01d-e4ecc9d582aa,DISK], DatanodeInfoWithStorage[127.0.0.1:38851,DS-e3b5952c-43ec-4129-9657-2f19b64a4c8b,DISK], DatanodeInfoWithStorage[127.0.0.1:45879,DS-adf68eef-899b-4753-8f5d-2dba8c14bf4a,DISK], DatanodeInfoWithStorage[127.0.0.1:35186,DS-6ccba2a1-2400-4019-8ebd-b663dc05f5c1,DISK], DatanodeInfoWithStorage[127.0.0.1:40233,DS-519de312-18de-4d9e-9b59-91f4757a1d1b,DISK], DatanodeInfoWithStorage[127.0.0.1:34687,DS-317853f8-4631-4e4f-9728-583e05462af5,DISK], DatanodeInfoWithStorage[127.0.0.1:44442,DS-772f4a52-f860-47c2-bf6e-666ca493431c,DISK], DatanodeInfoWithStorage[127.0.0.1:37499,DS-2e4fec2f-55b7-40b2-b417-aa6a509b03cf,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-820067790-172.17.0.14-1597483641592:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44442,DS-d8ca8e3b-ce2f-48a6-affc-302d91d59ca0,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-820067790-172.17.0.14-1597483641592:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44442,DS-d8ca8e3b-ce2f-48a6-affc-302d91d59ca0,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-820067790-172.17.0.14-1597483641592:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37682,DS-812f5746-a767-488a-a01d-e4ecc9d582aa,DISK], DatanodeInfoWithStorage[127.0.0.1:38851,DS-e3b5952c-43ec-4129-9657-2f19b64a4c8b,DISK], DatanodeInfoWithStorage[127.0.0.1:45879,DS-adf68eef-899b-4753-8f5d-2dba8c14bf4a,DISK], DatanodeInfoWithStorage[127.0.0.1:35186,DS-6ccba2a1-2400-4019-8ebd-b663dc05f5c1,DISK], DatanodeInfoWithStorage[127.0.0.1:40233,DS-519de312-18de-4d9e-9b59-91f4757a1d1b,DISK], DatanodeInfoWithStorage[127.0.0.1:34687,DS-317853f8-4631-4e4f-9728-583e05462af5,DISK], DatanodeInfoWithStorage[127.0.0.1:44442,DS-772f4a52-f860-47c2-bf6e-666ca493431c,DISK], DatanodeInfoWithStorage[127.0.0.1:37499,DS-2e4fec2f-55b7-40b2-b417-aa6a509b03cf,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-820067790-172.17.0.14-1597483641592:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44442,DS-d8ca8e3b-ce2f-48a6-affc-302d91d59ca0,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-820067790-172.17.0.14-1597483641592:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44442,DS-d8ca8e3b-ce2f-48a6-affc-302d91d59ca0,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 4 out of 50
result: might be true error
Total execution time in seconds : 9993
