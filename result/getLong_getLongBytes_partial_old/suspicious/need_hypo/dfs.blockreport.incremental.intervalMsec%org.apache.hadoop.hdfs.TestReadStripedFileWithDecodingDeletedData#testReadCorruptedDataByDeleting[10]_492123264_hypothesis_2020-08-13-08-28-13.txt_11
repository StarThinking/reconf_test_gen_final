reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1283308568-172.17.0.2-1597308811555:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40323,DS-53423b2b-daad-4b01-9a8d-d997a34ca85e,DISK], DatanodeInfoWithStorage[127.0.0.1:35181,DS-d2e58b61-1ded-4461-8ed1-393d53887fc5,DISK], DatanodeInfoWithStorage[127.0.0.1:46440,DS-972c861e-578a-4e72-a296-d528b3e57fa7,DISK], DatanodeInfoWithStorage[127.0.0.1:44043,DS-e92edc61-ad65-4e8e-a0e1-1f50a9de66db,DISK], DatanodeInfoWithStorage[127.0.0.1:40325,DS-f0b6695c-95b4-4037-b075-ba3ff6e7be0b,DISK], DatanodeInfoWithStorage[127.0.0.1:42416,DS-1addb1a7-f2e5-4b95-bd99-b160e50df029,DISK], DatanodeInfoWithStorage[127.0.0.1:39746,DS-165f5e4c-2de9-4863-accd-1fb07b1634bf,DISK], DatanodeInfoWithStorage[127.0.0.1:38725,DS-e1ae03ce-23d4-4623-8db2-981d42606c08,DISK], DatanodeInfoWithStorage[127.0.0.1:41713,DS-42d763e5-700f-46ec-a7ab-0020add7bb8e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1283308568-172.17.0.2-1597308811555:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38725,DS-6a0118aa-97e8-4feb-88fb-4089c79f5f39,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1283308568-172.17.0.2-1597308811555:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38725,DS-6a0118aa-97e8-4feb-88fb-4089c79f5f39,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1283308568-172.17.0.2-1597308811555:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40323,DS-53423b2b-daad-4b01-9a8d-d997a34ca85e,DISK], DatanodeInfoWithStorage[127.0.0.1:35181,DS-d2e58b61-1ded-4461-8ed1-393d53887fc5,DISK], DatanodeInfoWithStorage[127.0.0.1:46440,DS-972c861e-578a-4e72-a296-d528b3e57fa7,DISK], DatanodeInfoWithStorage[127.0.0.1:44043,DS-e92edc61-ad65-4e8e-a0e1-1f50a9de66db,DISK], DatanodeInfoWithStorage[127.0.0.1:40325,DS-f0b6695c-95b4-4037-b075-ba3ff6e7be0b,DISK], DatanodeInfoWithStorage[127.0.0.1:42416,DS-1addb1a7-f2e5-4b95-bd99-b160e50df029,DISK], DatanodeInfoWithStorage[127.0.0.1:39746,DS-165f5e4c-2de9-4863-accd-1fb07b1634bf,DISK], DatanodeInfoWithStorage[127.0.0.1:38725,DS-e1ae03ce-23d4-4623-8db2-981d42606c08,DISK], DatanodeInfoWithStorage[127.0.0.1:41713,DS-42d763e5-700f-46ec-a7ab-0020add7bb8e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1283308568-172.17.0.2-1597308811555:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38725,DS-6a0118aa-97e8-4feb-88fb-4089c79f5f39,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1283308568-172.17.0.2-1597308811555:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38725,DS-6a0118aa-97e8-4feb-88fb-4089c79f5f39,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-397268315-172.17.0.2-1597310317414:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36723,DS-84568eb0-beb1-4b10-92e8-0568ac90696b,DISK], DatanodeInfoWithStorage[127.0.0.1:35463,DS-6ba0471d-c266-4b48-b213-a97a72f8183f,DISK], DatanodeInfoWithStorage[127.0.0.1:34206,DS-923262c7-5fd1-4322-b381-650c11159fc0,DISK], DatanodeInfoWithStorage[127.0.0.1:40341,DS-a937e86c-eedd-4e39-8827-451c8c39401c,DISK], DatanodeInfoWithStorage[127.0.0.1:41521,DS-3e89dacd-2e20-4fe8-bb3a-3b57fb353cca,DISK], DatanodeInfoWithStorage[127.0.0.1:34829,DS-638eeae3-0b62-4cc5-87c6-916b6934ee48,DISK], DatanodeInfoWithStorage[127.0.0.1:41908,DS-9ecd324e-996a-445e-80b9-daeda91611b8,DISK], DatanodeInfoWithStorage[127.0.0.1:44416,DS-8b8f506e-d3ae-4fab-8f03-a75f14632679,DISK], DatanodeInfoWithStorage[127.0.0.1:35237,DS-c86c6b54-c15b-4409-97c9-b73b10d56a21,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-397268315-172.17.0.2-1597310317414:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41521,DS-cf24f686-c659-4072-a15d-8bfdf14f5c12,DISK], DatanodeInfoWithStorage[127.0.0.1:35237,DS-7b3ea418-f4dd-43d0-9edc-75d7ad4fdf39,DISK], DatanodeInfoWithStorage[127.0.0.1:34829,DS-f0c15eb1-1f17-4314-a9dc-94d4a3f55b25,DISK]]; indices=[0, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-397268315-172.17.0.2-1597310317414:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41521,DS-cf24f686-c659-4072-a15d-8bfdf14f5c12,DISK], DatanodeInfoWithStorage[127.0.0.1:34829,DS-f0c15eb1-1f17-4314-a9dc-94d4a3f55b25,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-397268315-172.17.0.2-1597310317414:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36723,DS-84568eb0-beb1-4b10-92e8-0568ac90696b,DISK], DatanodeInfoWithStorage[127.0.0.1:35463,DS-6ba0471d-c266-4b48-b213-a97a72f8183f,DISK], DatanodeInfoWithStorage[127.0.0.1:34206,DS-923262c7-5fd1-4322-b381-650c11159fc0,DISK], DatanodeInfoWithStorage[127.0.0.1:40341,DS-a937e86c-eedd-4e39-8827-451c8c39401c,DISK], DatanodeInfoWithStorage[127.0.0.1:41521,DS-3e89dacd-2e20-4fe8-bb3a-3b57fb353cca,DISK], DatanodeInfoWithStorage[127.0.0.1:34829,DS-638eeae3-0b62-4cc5-87c6-916b6934ee48,DISK], DatanodeInfoWithStorage[127.0.0.1:41908,DS-9ecd324e-996a-445e-80b9-daeda91611b8,DISK], DatanodeInfoWithStorage[127.0.0.1:44416,DS-8b8f506e-d3ae-4fab-8f03-a75f14632679,DISK], DatanodeInfoWithStorage[127.0.0.1:35237,DS-c86c6b54-c15b-4409-97c9-b73b10d56a21,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-397268315-172.17.0.2-1597310317414:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41521,DS-cf24f686-c659-4072-a15d-8bfdf14f5c12,DISK], DatanodeInfoWithStorage[127.0.0.1:35237,DS-7b3ea418-f4dd-43d0-9edc-75d7ad4fdf39,DISK], DatanodeInfoWithStorage[127.0.0.1:34829,DS-f0c15eb1-1f17-4314-a9dc-94d4a3f55b25,DISK]]; indices=[0, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-397268315-172.17.0.2-1597310317414:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41521,DS-cf24f686-c659-4072-a15d-8bfdf14f5c12,DISK], DatanodeInfoWithStorage[127.0.0.1:34829,DS-f0c15eb1-1f17-4314-a9dc-94d4a3f55b25,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1105928476-172.17.0.2-1597312497367:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43583,DS-f74b173a-8197-437e-aed3-878a8fc6fa64,DISK], DatanodeInfoWithStorage[127.0.0.1:37851,DS-44932de8-60a9-4870-b457-1452e76b2173,DISK], DatanodeInfoWithStorage[127.0.0.1:33093,DS-22c89050-89b6-40d8-ac48-febf3386fc9f,DISK], DatanodeInfoWithStorage[127.0.0.1:37157,DS-77340728-6b1e-48e6-804d-be2212d64911,DISK], DatanodeInfoWithStorage[127.0.0.1:42885,DS-02aa9248-8c89-4e46-8a4e-35110937139f,DISK], DatanodeInfoWithStorage[127.0.0.1:45384,DS-4867864d-b4b3-4d47-bd2a-5af2a928c81f,DISK], DatanodeInfoWithStorage[127.0.0.1:36483,DS-4304ea72-6f30-4a0e-9023-35a64ebc3cc6,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7]}, LocatedStripedBlock{BP-1105928476-172.17.0.2-1597312497367:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36483,DS-ba2c90b7-ffbe-4d05-b78d-ccb8846687b1,DISK], DatanodeInfoWithStorage[127.0.0.1:42885,DS-ab360275-6b4d-45df-862f-343f80849283,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1105928476-172.17.0.2-1597312497367:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36483,DS-ba2c90b7-ffbe-4d05-b78d-ccb8846687b1,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1105928476-172.17.0.2-1597312497367:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43583,DS-f74b173a-8197-437e-aed3-878a8fc6fa64,DISK], DatanodeInfoWithStorage[127.0.0.1:37851,DS-44932de8-60a9-4870-b457-1452e76b2173,DISK], DatanodeInfoWithStorage[127.0.0.1:33093,DS-22c89050-89b6-40d8-ac48-febf3386fc9f,DISK], DatanodeInfoWithStorage[127.0.0.1:37157,DS-77340728-6b1e-48e6-804d-be2212d64911,DISK], DatanodeInfoWithStorage[127.0.0.1:42885,DS-02aa9248-8c89-4e46-8a4e-35110937139f,DISK], DatanodeInfoWithStorage[127.0.0.1:45384,DS-4867864d-b4b3-4d47-bd2a-5af2a928c81f,DISK], DatanodeInfoWithStorage[127.0.0.1:36483,DS-4304ea72-6f30-4a0e-9023-35a64ebc3cc6,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7]}, LocatedStripedBlock{BP-1105928476-172.17.0.2-1597312497367:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36483,DS-ba2c90b7-ffbe-4d05-b78d-ccb8846687b1,DISK], DatanodeInfoWithStorage[127.0.0.1:42885,DS-ab360275-6b4d-45df-862f-343f80849283,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1105928476-172.17.0.2-1597312497367:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36483,DS-ba2c90b7-ffbe-4d05-b78d-ccb8846687b1,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-145688151-172.17.0.2-1597312782391:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34628,DS-42ab6894-32bd-4df0-b0e0-e0d070d0e3a8,DISK], DatanodeInfoWithStorage[127.0.0.1:45003,DS-1c2beeb0-d3c1-4bb5-90dd-0928739f523a,DISK], DatanodeInfoWithStorage[127.0.0.1:43414,DS-c8e49be0-909a-4452-866e-b3bbcc93d359,DISK], DatanodeInfoWithStorage[127.0.0.1:44135,DS-ead65eda-ed01-4741-9c3d-e02549c04bed,DISK], DatanodeInfoWithStorage[127.0.0.1:35318,DS-50d2d5db-354f-4a2e-abe7-345b6dcdc28d,DISK], DatanodeInfoWithStorage[127.0.0.1:39966,DS-5f7f6492-b29b-43fc-a0d3-57c9e9feab17,DISK], DatanodeInfoWithStorage[127.0.0.1:40240,DS-248f74e7-78ff-4e4b-a6c2-c3bb7aa5c6b0,DISK], DatanodeInfoWithStorage[127.0.0.1:41638,DS-0e051fb4-e12a-481c-a8e7-a4bd5ae47f6f,DISK], DatanodeInfoWithStorage[127.0.0.1:38046,DS-269be7fd-7a9c-415c-9d0c-fb3ff249564c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-145688151-172.17.0.2-1597312782391:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45003,DS-7edc6151-be0c-4e2c-9c07-457886a65a64,DISK], DatanodeInfoWithStorage[127.0.0.1:35318,DS-ccb02d7c-efb8-4258-87a0-7034f339409f,DISK]]; indices=[0, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-145688151-172.17.0.2-1597312782391:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45003,DS-7edc6151-be0c-4e2c-9c07-457886a65a64,DISK], DatanodeInfoWithStorage[127.0.0.1:35318,DS-ccb02d7c-efb8-4258-87a0-7034f339409f,DISK]]; indices=[0, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-145688151-172.17.0.2-1597312782391:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34628,DS-42ab6894-32bd-4df0-b0e0-e0d070d0e3a8,DISK], DatanodeInfoWithStorage[127.0.0.1:45003,DS-1c2beeb0-d3c1-4bb5-90dd-0928739f523a,DISK], DatanodeInfoWithStorage[127.0.0.1:43414,DS-c8e49be0-909a-4452-866e-b3bbcc93d359,DISK], DatanodeInfoWithStorage[127.0.0.1:44135,DS-ead65eda-ed01-4741-9c3d-e02549c04bed,DISK], DatanodeInfoWithStorage[127.0.0.1:35318,DS-50d2d5db-354f-4a2e-abe7-345b6dcdc28d,DISK], DatanodeInfoWithStorage[127.0.0.1:39966,DS-5f7f6492-b29b-43fc-a0d3-57c9e9feab17,DISK], DatanodeInfoWithStorage[127.0.0.1:40240,DS-248f74e7-78ff-4e4b-a6c2-c3bb7aa5c6b0,DISK], DatanodeInfoWithStorage[127.0.0.1:41638,DS-0e051fb4-e12a-481c-a8e7-a4bd5ae47f6f,DISK], DatanodeInfoWithStorage[127.0.0.1:38046,DS-269be7fd-7a9c-415c-9d0c-fb3ff249564c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-145688151-172.17.0.2-1597312782391:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45003,DS-7edc6151-be0c-4e2c-9c07-457886a65a64,DISK], DatanodeInfoWithStorage[127.0.0.1:35318,DS-ccb02d7c-efb8-4258-87a0-7034f339409f,DISK]]; indices=[0, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-145688151-172.17.0.2-1597312782391:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45003,DS-7edc6151-be0c-4e2c-9c07-457886a65a64,DISK], DatanodeInfoWithStorage[127.0.0.1:35318,DS-ccb02d7c-efb8-4258-87a0-7034f339409f,DISK]]; indices=[0, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1971211499-172.17.0.2-1597314039851:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36679,DS-7aac665c-2f55-430f-83bb-319d7e7362df,DISK], DatanodeInfoWithStorage[127.0.0.1:46107,DS-8bbe9062-393e-4ae4-b390-b8a8f625ab49,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-a8fb7738-285b-447f-908d-affc857fd254,DISK], DatanodeInfoWithStorage[127.0.0.1:39642,DS-34b09c61-72d5-4932-8165-63896e2b89d5,DISK], DatanodeInfoWithStorage[127.0.0.1:42621,DS-bba1e061-6b72-4300-92c8-8b58b9c08692,DISK], DatanodeInfoWithStorage[127.0.0.1:38781,DS-3d7904a6-0827-4a58-9678-f6c43a7381cc,DISK], DatanodeInfoWithStorage[127.0.0.1:35909,DS-e5bb35a9-bf4a-43af-bf2f-a4bb6b1211c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39130,DS-873385f8-0ee9-471d-a243-1f4c89a099cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37642,DS-6fe1bd8e-81d7-4e83-b649-f2cfa3c4b510,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1971211499-172.17.0.2-1597314039851:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37642,DS-fa1f9fd2-7a7e-4cab-bf57-cdc3371122e5,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1971211499-172.17.0.2-1597314039851:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37642,DS-fa1f9fd2-7a7e-4cab-bf57-cdc3371122e5,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1971211499-172.17.0.2-1597314039851:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36679,DS-7aac665c-2f55-430f-83bb-319d7e7362df,DISK], DatanodeInfoWithStorage[127.0.0.1:46107,DS-8bbe9062-393e-4ae4-b390-b8a8f625ab49,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-a8fb7738-285b-447f-908d-affc857fd254,DISK], DatanodeInfoWithStorage[127.0.0.1:39642,DS-34b09c61-72d5-4932-8165-63896e2b89d5,DISK], DatanodeInfoWithStorage[127.0.0.1:42621,DS-bba1e061-6b72-4300-92c8-8b58b9c08692,DISK], DatanodeInfoWithStorage[127.0.0.1:38781,DS-3d7904a6-0827-4a58-9678-f6c43a7381cc,DISK], DatanodeInfoWithStorage[127.0.0.1:35909,DS-e5bb35a9-bf4a-43af-bf2f-a4bb6b1211c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39130,DS-873385f8-0ee9-471d-a243-1f4c89a099cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37642,DS-6fe1bd8e-81d7-4e83-b649-f2cfa3c4b510,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1971211499-172.17.0.2-1597314039851:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37642,DS-fa1f9fd2-7a7e-4cab-bf57-cdc3371122e5,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1971211499-172.17.0.2-1597314039851:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37642,DS-fa1f9fd2-7a7e-4cab-bf57-cdc3371122e5,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2114890248-172.17.0.2-1597315537869:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35113,DS-5a85b63b-8d21-4dcd-bbdd-e34d49061a12,DISK], DatanodeInfoWithStorage[127.0.0.1:41307,DS-97e67e2b-b4e2-4b59-ba3f-f348029b7e4d,DISK], DatanodeInfoWithStorage[127.0.0.1:34946,DS-e3d84e9f-43d0-4701-b78f-1221dc5e8f9d,DISK], DatanodeInfoWithStorage[127.0.0.1:33629,DS-0ee3a4fb-20a3-4332-bc86-687889d90700,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-0fe309fe-acbf-472b-94e8-923fe2863848,DISK], DatanodeInfoWithStorage[127.0.0.1:35907,DS-b15544ba-af28-422b-af2e-2b3e0c1de38e,DISK], DatanodeInfoWithStorage[127.0.0.1:34308,DS-c5c5b20b-a4a1-4e7b-a4b8-d7e5905f1221,DISK], DatanodeInfoWithStorage[127.0.0.1:35589,DS-444b385e-c9b7-4d83-8f8f-2b97fdc35f2a,DISK], DatanodeInfoWithStorage[127.0.0.1:37781,DS-3a428297-d7dd-4e80-864f-2e946d98d2db,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2114890248-172.17.0.2-1597315537869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39944,DS-cbf5b2f2-1264-4fbd-b490-58ba5e356f8d,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-2114890248-172.17.0.2-1597315537869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39944,DS-cbf5b2f2-1264-4fbd-b490-58ba5e356f8d,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2114890248-172.17.0.2-1597315537869:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35113,DS-5a85b63b-8d21-4dcd-bbdd-e34d49061a12,DISK], DatanodeInfoWithStorage[127.0.0.1:41307,DS-97e67e2b-b4e2-4b59-ba3f-f348029b7e4d,DISK], DatanodeInfoWithStorage[127.0.0.1:34946,DS-e3d84e9f-43d0-4701-b78f-1221dc5e8f9d,DISK], DatanodeInfoWithStorage[127.0.0.1:33629,DS-0ee3a4fb-20a3-4332-bc86-687889d90700,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-0fe309fe-acbf-472b-94e8-923fe2863848,DISK], DatanodeInfoWithStorage[127.0.0.1:35907,DS-b15544ba-af28-422b-af2e-2b3e0c1de38e,DISK], DatanodeInfoWithStorage[127.0.0.1:34308,DS-c5c5b20b-a4a1-4e7b-a4b8-d7e5905f1221,DISK], DatanodeInfoWithStorage[127.0.0.1:35589,DS-444b385e-c9b7-4d83-8f8f-2b97fdc35f2a,DISK], DatanodeInfoWithStorage[127.0.0.1:37781,DS-3a428297-d7dd-4e80-864f-2e946d98d2db,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2114890248-172.17.0.2-1597315537869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39944,DS-cbf5b2f2-1264-4fbd-b490-58ba5e356f8d,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-2114890248-172.17.0.2-1597315537869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39944,DS-cbf5b2f2-1264-4fbd-b490-58ba5e356f8d,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1268991681-172.17.0.2-1597318920046:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38749,DS-0d1e0ffa-ddf8-4d65-8fb7-fede410092f1,DISK], DatanodeInfoWithStorage[127.0.0.1:41922,DS-7d0b54f3-d386-49f3-b282-218ab7a27d20,DISK], DatanodeInfoWithStorage[127.0.0.1:37633,DS-50d92d93-6b0e-46a1-82aa-137db3d5fdd6,DISK], DatanodeInfoWithStorage[127.0.0.1:39074,DS-a54a3317-d4d3-493c-91d1-b8aad4bb407c,DISK], DatanodeInfoWithStorage[127.0.0.1:42356,DS-8332bfcc-9120-4050-898d-2cc9b7fde7ad,DISK], DatanodeInfoWithStorage[127.0.0.1:36909,DS-b1ffd29c-5907-4732-9748-78100f30125d,DISK], DatanodeInfoWithStorage[127.0.0.1:42855,DS-b89a327e-0a2e-4b25-9fdc-577d6790c5ff,DISK], DatanodeInfoWithStorage[127.0.0.1:45540,DS-b79001f8-ad17-4aff-ab7e-2a6dad33f4d5,DISK], DatanodeInfoWithStorage[127.0.0.1:41211,DS-9af654f2-b2cc-4f81-8423-81181461c5f9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1268991681-172.17.0.2-1597318920046:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39074,DS-3d44e87f-627b-4598-9f66-d7e615f7f463,DISK], DatanodeInfoWithStorage[127.0.0.1:45540,DS-44f719a1-4bf1-45aa-910d-eb3bdf9eb71f,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1268991681-172.17.0.2-1597318920046:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39074,DS-3d44e87f-627b-4598-9f66-d7e615f7f463,DISK], DatanodeInfoWithStorage[127.0.0.1:45540,DS-44f719a1-4bf1-45aa-910d-eb3bdf9eb71f,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1268991681-172.17.0.2-1597318920046:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38749,DS-0d1e0ffa-ddf8-4d65-8fb7-fede410092f1,DISK], DatanodeInfoWithStorage[127.0.0.1:41922,DS-7d0b54f3-d386-49f3-b282-218ab7a27d20,DISK], DatanodeInfoWithStorage[127.0.0.1:37633,DS-50d92d93-6b0e-46a1-82aa-137db3d5fdd6,DISK], DatanodeInfoWithStorage[127.0.0.1:39074,DS-a54a3317-d4d3-493c-91d1-b8aad4bb407c,DISK], DatanodeInfoWithStorage[127.0.0.1:42356,DS-8332bfcc-9120-4050-898d-2cc9b7fde7ad,DISK], DatanodeInfoWithStorage[127.0.0.1:36909,DS-b1ffd29c-5907-4732-9748-78100f30125d,DISK], DatanodeInfoWithStorage[127.0.0.1:42855,DS-b89a327e-0a2e-4b25-9fdc-577d6790c5ff,DISK], DatanodeInfoWithStorage[127.0.0.1:45540,DS-b79001f8-ad17-4aff-ab7e-2a6dad33f4d5,DISK], DatanodeInfoWithStorage[127.0.0.1:41211,DS-9af654f2-b2cc-4f81-8423-81181461c5f9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1268991681-172.17.0.2-1597318920046:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39074,DS-3d44e87f-627b-4598-9f66-d7e615f7f463,DISK], DatanodeInfoWithStorage[127.0.0.1:45540,DS-44f719a1-4bf1-45aa-910d-eb3bdf9eb71f,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1268991681-172.17.0.2-1597318920046:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39074,DS-3d44e87f-627b-4598-9f66-d7e615f7f463,DISK], DatanodeInfoWithStorage[127.0.0.1:45540,DS-44f719a1-4bf1-45aa-910d-eb3bdf9eb71f,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 6 out of 50
v1v1v2v2 failed with probability 1 out of 50
result: might be true error
Total execution time in seconds : 12604
