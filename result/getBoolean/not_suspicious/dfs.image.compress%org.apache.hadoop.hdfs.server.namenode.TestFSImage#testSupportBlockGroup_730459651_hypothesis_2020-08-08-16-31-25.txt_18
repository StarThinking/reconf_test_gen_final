reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1324947174-172.17.0.2-1596904518728:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40599,DS-fbb15dde-2c9b-40a9-b79b-06d76cc9c976,DISK], DatanodeInfoWithStorage[127.0.0.1:38700,DS-9f83e734-fb49-470c-be9f-ed5f9030ef3f,DISK], DatanodeInfoWithStorage[127.0.0.1:36413,DS-420184ec-7dd4-403e-a952-1f4c1205eec1,DISK], DatanodeInfoWithStorage[127.0.0.1:44823,DS-b3eef75e-a015-4224-9424-0e2c67ef3aa8,DISK], DatanodeInfoWithStorage[127.0.0.1:39400,DS-3cea4ba2-fa73-4068-a786-781d5cfa88e6,DISK], DatanodeInfoWithStorage[127.0.0.1:36313,DS-b719a831-d6bb-4407-974b-f5c1a9b18d76,DISK]]; indices=[3, 5, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1324947174-172.17.0.2-1596904518728:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40599,DS-fbb15dde-2c9b-40a9-b79b-06d76cc9c976,DISK], DatanodeInfoWithStorage[127.0.0.1:38700,DS-9f83e734-fb49-470c-be9f-ed5f9030ef3f,DISK], DatanodeInfoWithStorage[127.0.0.1:36413,DS-420184ec-7dd4-403e-a952-1f4c1205eec1,DISK], DatanodeInfoWithStorage[127.0.0.1:44823,DS-b3eef75e-a015-4224-9424-0e2c67ef3aa8,DISK], DatanodeInfoWithStorage[127.0.0.1:39400,DS-3cea4ba2-fa73-4068-a786-781d5cfa88e6,DISK], DatanodeInfoWithStorage[127.0.0.1:36313,DS-b719a831-d6bb-4407-974b-f5c1a9b18d76,DISK]]; indices=[3, 5, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1324947174-172.17.0.2-1596904518728:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40599,DS-fbb15dde-2c9b-40a9-b79b-06d76cc9c976,DISK], DatanodeInfoWithStorage[127.0.0.1:38700,DS-9f83e734-fb49-470c-be9f-ed5f9030ef3f,DISK], DatanodeInfoWithStorage[127.0.0.1:36413,DS-420184ec-7dd4-403e-a952-1f4c1205eec1,DISK], DatanodeInfoWithStorage[127.0.0.1:44823,DS-b3eef75e-a015-4224-9424-0e2c67ef3aa8,DISK], DatanodeInfoWithStorage[127.0.0.1:39400,DS-3cea4ba2-fa73-4068-a786-781d5cfa88e6,DISK], DatanodeInfoWithStorage[127.0.0.1:36313,DS-b719a831-d6bb-4407-974b-f5c1a9b18d76,DISK]]; indices=[3, 5, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1324947174-172.17.0.2-1596904518728:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40599,DS-fbb15dde-2c9b-40a9-b79b-06d76cc9c976,DISK], DatanodeInfoWithStorage[127.0.0.1:38700,DS-9f83e734-fb49-470c-be9f-ed5f9030ef3f,DISK], DatanodeInfoWithStorage[127.0.0.1:36413,DS-420184ec-7dd4-403e-a952-1f4c1205eec1,DISK], DatanodeInfoWithStorage[127.0.0.1:44823,DS-b3eef75e-a015-4224-9424-0e2c67ef3aa8,DISK], DatanodeInfoWithStorage[127.0.0.1:39400,DS-3cea4ba2-fa73-4068-a786-781d5cfa88e6,DISK], DatanodeInfoWithStorage[127.0.0.1:36313,DS-b719a831-d6bb-4407-974b-f5c1a9b18d76,DISK]]; indices=[3, 5, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1117231662-172.17.0.2-1596904600493:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42908,DS-e4baaac1-e33c-4283-aa91-7f448229f571,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-567486e1-673b-4c3a-95f8-8914934d8211,DISK], DatanodeInfoWithStorage[127.0.0.1:38671,DS-64038d72-36a2-4cdf-8984-7c1ef7122ea9,DISK], DatanodeInfoWithStorage[127.0.0.1:35466,DS-d03ac7d8-8c40-4fae-b2ee-c319fae3c7c1,DISK], DatanodeInfoWithStorage[127.0.0.1:39200,DS-2cfd7a23-eee5-4b9e-9058-9a51248ebd66,DISK], DatanodeInfoWithStorage[127.0.0.1:43114,DS-23742096-c847-405d-b1be-bcc03b853ec4,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-935ac762-3b5a-43d9-a361-2690f5442fe3,DISK]]; indices=[0, 3, 4, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1117231662-172.17.0.2-1596904600493:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42908,DS-e4baaac1-e33c-4283-aa91-7f448229f571,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-567486e1-673b-4c3a-95f8-8914934d8211,DISK], DatanodeInfoWithStorage[127.0.0.1:38671,DS-64038d72-36a2-4cdf-8984-7c1ef7122ea9,DISK], DatanodeInfoWithStorage[127.0.0.1:35466,DS-d03ac7d8-8c40-4fae-b2ee-c319fae3c7c1,DISK], DatanodeInfoWithStorage[127.0.0.1:39200,DS-2cfd7a23-eee5-4b9e-9058-9a51248ebd66,DISK], DatanodeInfoWithStorage[127.0.0.1:43114,DS-23742096-c847-405d-b1be-bcc03b853ec4,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-935ac762-3b5a-43d9-a361-2690f5442fe3,DISK]]; indices=[0, 3, 4, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1117231662-172.17.0.2-1596904600493:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42908,DS-e4baaac1-e33c-4283-aa91-7f448229f571,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-567486e1-673b-4c3a-95f8-8914934d8211,DISK], DatanodeInfoWithStorage[127.0.0.1:38671,DS-64038d72-36a2-4cdf-8984-7c1ef7122ea9,DISK], DatanodeInfoWithStorage[127.0.0.1:35466,DS-d03ac7d8-8c40-4fae-b2ee-c319fae3c7c1,DISK], DatanodeInfoWithStorage[127.0.0.1:39200,DS-2cfd7a23-eee5-4b9e-9058-9a51248ebd66,DISK], DatanodeInfoWithStorage[127.0.0.1:43114,DS-23742096-c847-405d-b1be-bcc03b853ec4,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-935ac762-3b5a-43d9-a361-2690f5442fe3,DISK]]; indices=[0, 3, 4, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1117231662-172.17.0.2-1596904600493:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42908,DS-e4baaac1-e33c-4283-aa91-7f448229f571,DISK], DatanodeInfoWithStorage[127.0.0.1:37049,DS-567486e1-673b-4c3a-95f8-8914934d8211,DISK], DatanodeInfoWithStorage[127.0.0.1:38671,DS-64038d72-36a2-4cdf-8984-7c1ef7122ea9,DISK], DatanodeInfoWithStorage[127.0.0.1:35466,DS-d03ac7d8-8c40-4fae-b2ee-c319fae3c7c1,DISK], DatanodeInfoWithStorage[127.0.0.1:39200,DS-2cfd7a23-eee5-4b9e-9058-9a51248ebd66,DISK], DatanodeInfoWithStorage[127.0.0.1:43114,DS-23742096-c847-405d-b1be-bcc03b853ec4,DISK], DatanodeInfoWithStorage[127.0.0.1:34253,DS-935ac762-3b5a-43d9-a361-2690f5442fe3,DISK]]; indices=[0, 3, 4, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-750245075-172.17.0.2-1596904644950:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40623,DS-3b8a3980-99b5-4448-b139-f4b51488c785,DISK], DatanodeInfoWithStorage[127.0.0.1:38225,DS-b84c6012-c6ee-4901-8f51-527f973707bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-96739c51-e78e-424e-adf1-f312858c6ce1,DISK], DatanodeInfoWithStorage[127.0.0.1:42782,DS-40aecc5d-9479-4015-a280-204829067ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:38314,DS-9842bfa5-fe2b-48c5-9a51-129ba6e73aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-7e813dea-b655-4a87-b659-8f952ddb0cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:45593,DS-979760a1-670d-4fa7-a1a6-2bb21faedda9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-750245075-172.17.0.2-1596904644950:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40623,DS-3b8a3980-99b5-4448-b139-f4b51488c785,DISK], DatanodeInfoWithStorage[127.0.0.1:38225,DS-b84c6012-c6ee-4901-8f51-527f973707bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-96739c51-e78e-424e-adf1-f312858c6ce1,DISK], DatanodeInfoWithStorage[127.0.0.1:42782,DS-40aecc5d-9479-4015-a280-204829067ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:38314,DS-9842bfa5-fe2b-48c5-9a51-129ba6e73aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-7e813dea-b655-4a87-b659-8f952ddb0cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:45593,DS-979760a1-670d-4fa7-a1a6-2bb21faedda9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-750245075-172.17.0.2-1596904644950:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40623,DS-3b8a3980-99b5-4448-b139-f4b51488c785,DISK], DatanodeInfoWithStorage[127.0.0.1:38225,DS-b84c6012-c6ee-4901-8f51-527f973707bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-96739c51-e78e-424e-adf1-f312858c6ce1,DISK], DatanodeInfoWithStorage[127.0.0.1:42782,DS-40aecc5d-9479-4015-a280-204829067ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:38314,DS-9842bfa5-fe2b-48c5-9a51-129ba6e73aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-7e813dea-b655-4a87-b659-8f952ddb0cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:45593,DS-979760a1-670d-4fa7-a1a6-2bb21faedda9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-750245075-172.17.0.2-1596904644950:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40623,DS-3b8a3980-99b5-4448-b139-f4b51488c785,DISK], DatanodeInfoWithStorage[127.0.0.1:38225,DS-b84c6012-c6ee-4901-8f51-527f973707bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-96739c51-e78e-424e-adf1-f312858c6ce1,DISK], DatanodeInfoWithStorage[127.0.0.1:42782,DS-40aecc5d-9479-4015-a280-204829067ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:38314,DS-9842bfa5-fe2b-48c5-9a51-129ba6e73aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-7e813dea-b655-4a87-b659-8f952ddb0cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:45593,DS-979760a1-670d-4fa7-a1a6-2bb21faedda9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-379747242-172.17.0.2-1596904779948:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40602,DS-b77b1c61-e2e8-4fd8-a7b6-1fb3fa1e745f,DISK], DatanodeInfoWithStorage[127.0.0.1:41227,DS-3f403f6b-f061-4ca5-8944-22a80cb83bd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46215,DS-6525b3e1-db35-484b-8bda-58a003fc8ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:36184,DS-27ea21e5-b2fa-422c-af1d-38d8670ff29d,DISK], DatanodeInfoWithStorage[127.0.0.1:33320,DS-85bcffca-890c-4050-8373-663e0605efdb,DISK], DatanodeInfoWithStorage[127.0.0.1:43455,DS-e29c5c8c-d2ff-4a9e-921e-873168e88e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37368,DS-2d2c5e3a-6189-447e-872f-0edb8b68e60f,DISK]]; indices=[1, 2, 4, 5, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-379747242-172.17.0.2-1596904779948:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40602,DS-b77b1c61-e2e8-4fd8-a7b6-1fb3fa1e745f,DISK], DatanodeInfoWithStorage[127.0.0.1:41227,DS-3f403f6b-f061-4ca5-8944-22a80cb83bd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46215,DS-6525b3e1-db35-484b-8bda-58a003fc8ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:36184,DS-27ea21e5-b2fa-422c-af1d-38d8670ff29d,DISK], DatanodeInfoWithStorage[127.0.0.1:33320,DS-85bcffca-890c-4050-8373-663e0605efdb,DISK], DatanodeInfoWithStorage[127.0.0.1:43455,DS-e29c5c8c-d2ff-4a9e-921e-873168e88e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37368,DS-2d2c5e3a-6189-447e-872f-0edb8b68e60f,DISK]]; indices=[1, 2, 4, 5, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-379747242-172.17.0.2-1596904779948:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40602,DS-b77b1c61-e2e8-4fd8-a7b6-1fb3fa1e745f,DISK], DatanodeInfoWithStorage[127.0.0.1:41227,DS-3f403f6b-f061-4ca5-8944-22a80cb83bd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46215,DS-6525b3e1-db35-484b-8bda-58a003fc8ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:36184,DS-27ea21e5-b2fa-422c-af1d-38d8670ff29d,DISK], DatanodeInfoWithStorage[127.0.0.1:33320,DS-85bcffca-890c-4050-8373-663e0605efdb,DISK], DatanodeInfoWithStorage[127.0.0.1:43455,DS-e29c5c8c-d2ff-4a9e-921e-873168e88e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37368,DS-2d2c5e3a-6189-447e-872f-0edb8b68e60f,DISK]]; indices=[1, 2, 4, 5, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-379747242-172.17.0.2-1596904779948:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40602,DS-b77b1c61-e2e8-4fd8-a7b6-1fb3fa1e745f,DISK], DatanodeInfoWithStorage[127.0.0.1:41227,DS-3f403f6b-f061-4ca5-8944-22a80cb83bd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46215,DS-6525b3e1-db35-484b-8bda-58a003fc8ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:36184,DS-27ea21e5-b2fa-422c-af1d-38d8670ff29d,DISK], DatanodeInfoWithStorage[127.0.0.1:33320,DS-85bcffca-890c-4050-8373-663e0605efdb,DISK], DatanodeInfoWithStorage[127.0.0.1:43455,DS-e29c5c8c-d2ff-4a9e-921e-873168e88e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37368,DS-2d2c5e3a-6189-447e-872f-0edb8b68e60f,DISK]]; indices=[1, 2, 4, 5, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1751499124-172.17.0.2-1596904966758:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39544,DS-df4bcae7-c26d-451f-92f6-42c94214b0db,DISK], DatanodeInfoWithStorage[127.0.0.1:46303,DS-4446b3e5-e780-48df-84da-37cff209f5c2,DISK], DatanodeInfoWithStorage[127.0.0.1:42620,DS-1d7f60fc-3cf7-4627-9fe2-d51ee36edce4,DISK], DatanodeInfoWithStorage[127.0.0.1:37917,DS-d91781b1-5984-4b5b-9f7c-1006ffaac47d,DISK], DatanodeInfoWithStorage[127.0.0.1:38963,DS-d5c9ed4f-cd5f-4b0d-9c5b-c4996d220b40,DISK], DatanodeInfoWithStorage[127.0.0.1:42855,DS-9b0ebaec-838e-41e8-a1c3-3cd66f53c321,DISK]]; indices=[1, 3, 4, 5, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1751499124-172.17.0.2-1596904966758:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39544,DS-df4bcae7-c26d-451f-92f6-42c94214b0db,DISK], DatanodeInfoWithStorage[127.0.0.1:46303,DS-4446b3e5-e780-48df-84da-37cff209f5c2,DISK], DatanodeInfoWithStorage[127.0.0.1:42620,DS-1d7f60fc-3cf7-4627-9fe2-d51ee36edce4,DISK], DatanodeInfoWithStorage[127.0.0.1:37917,DS-d91781b1-5984-4b5b-9f7c-1006ffaac47d,DISK], DatanodeInfoWithStorage[127.0.0.1:38963,DS-d5c9ed4f-cd5f-4b0d-9c5b-c4996d220b40,DISK], DatanodeInfoWithStorage[127.0.0.1:42855,DS-9b0ebaec-838e-41e8-a1c3-3cd66f53c321,DISK]]; indices=[1, 3, 4, 5, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1751499124-172.17.0.2-1596904966758:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39544,DS-df4bcae7-c26d-451f-92f6-42c94214b0db,DISK], DatanodeInfoWithStorage[127.0.0.1:46303,DS-4446b3e5-e780-48df-84da-37cff209f5c2,DISK], DatanodeInfoWithStorage[127.0.0.1:42620,DS-1d7f60fc-3cf7-4627-9fe2-d51ee36edce4,DISK], DatanodeInfoWithStorage[127.0.0.1:37917,DS-d91781b1-5984-4b5b-9f7c-1006ffaac47d,DISK], DatanodeInfoWithStorage[127.0.0.1:38963,DS-d5c9ed4f-cd5f-4b0d-9c5b-c4996d220b40,DISK], DatanodeInfoWithStorage[127.0.0.1:42855,DS-9b0ebaec-838e-41e8-a1c3-3cd66f53c321,DISK]]; indices=[1, 3, 4, 5, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1751499124-172.17.0.2-1596904966758:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39544,DS-df4bcae7-c26d-451f-92f6-42c94214b0db,DISK], DatanodeInfoWithStorage[127.0.0.1:46303,DS-4446b3e5-e780-48df-84da-37cff209f5c2,DISK], DatanodeInfoWithStorage[127.0.0.1:42620,DS-1d7f60fc-3cf7-4627-9fe2-d51ee36edce4,DISK], DatanodeInfoWithStorage[127.0.0.1:37917,DS-d91781b1-5984-4b5b-9f7c-1006ffaac47d,DISK], DatanodeInfoWithStorage[127.0.0.1:38963,DS-d5c9ed4f-cd5f-4b0d-9c5b-c4996d220b40,DISK], DatanodeInfoWithStorage[127.0.0.1:42855,DS-9b0ebaec-838e-41e8-a1c3-3cd66f53c321,DISK]]; indices=[1, 3, 4, 5, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1294906705-172.17.0.2-1596906383369:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35890,DS-aed5fd60-1395-472e-9c7f-4b145100ac24,DISK], DatanodeInfoWithStorage[127.0.0.1:37313,DS-99abd37f-3c38-4ad3-aac9-fa0032c42322,DISK], DatanodeInfoWithStorage[127.0.0.1:45318,DS-3a1ab17c-4a20-4fd3-b75e-2040845914b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41451,DS-c501c1b6-9390-4996-95f8-55cf478ea4f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33640,DS-6472f7a9-7c51-42c6-89ad-710ed8530528,DISK], DatanodeInfoWithStorage[127.0.0.1:43569,DS-4c1ab0e9-ecfc-40bd-bd0e-a8e26cf38369,DISK]]; indices=[1, 3, 5, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1294906705-172.17.0.2-1596906383369:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35890,DS-aed5fd60-1395-472e-9c7f-4b145100ac24,DISK], DatanodeInfoWithStorage[127.0.0.1:37313,DS-99abd37f-3c38-4ad3-aac9-fa0032c42322,DISK], DatanodeInfoWithStorage[127.0.0.1:45318,DS-3a1ab17c-4a20-4fd3-b75e-2040845914b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41451,DS-c501c1b6-9390-4996-95f8-55cf478ea4f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33640,DS-6472f7a9-7c51-42c6-89ad-710ed8530528,DISK], DatanodeInfoWithStorage[127.0.0.1:43569,DS-4c1ab0e9-ecfc-40bd-bd0e-a8e26cf38369,DISK]]; indices=[1, 3, 5, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1294906705-172.17.0.2-1596906383369:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35890,DS-aed5fd60-1395-472e-9c7f-4b145100ac24,DISK], DatanodeInfoWithStorage[127.0.0.1:37313,DS-99abd37f-3c38-4ad3-aac9-fa0032c42322,DISK], DatanodeInfoWithStorage[127.0.0.1:45318,DS-3a1ab17c-4a20-4fd3-b75e-2040845914b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41451,DS-c501c1b6-9390-4996-95f8-55cf478ea4f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33640,DS-6472f7a9-7c51-42c6-89ad-710ed8530528,DISK], DatanodeInfoWithStorage[127.0.0.1:43569,DS-4c1ab0e9-ecfc-40bd-bd0e-a8e26cf38369,DISK]]; indices=[1, 3, 5, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1294906705-172.17.0.2-1596906383369:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35890,DS-aed5fd60-1395-472e-9c7f-4b145100ac24,DISK], DatanodeInfoWithStorage[127.0.0.1:37313,DS-99abd37f-3c38-4ad3-aac9-fa0032c42322,DISK], DatanodeInfoWithStorage[127.0.0.1:45318,DS-3a1ab17c-4a20-4fd3-b75e-2040845914b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41451,DS-c501c1b6-9390-4996-95f8-55cf478ea4f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33640,DS-6472f7a9-7c51-42c6-89ad-710ed8530528,DISK], DatanodeInfoWithStorage[127.0.0.1:43569,DS-4c1ab0e9-ecfc-40bd-bd0e-a8e26cf38369,DISK]]; indices=[1, 3, 5, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-264947907-172.17.0.2-1596906593632:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39416,DS-ca417266-edd8-4b0f-8fec-5f482da63722,DISK], DatanodeInfoWithStorage[127.0.0.1:40196,DS-f50b87cc-3891-40d8-892d-9bc4a05a4f02,DISK], DatanodeInfoWithStorage[127.0.0.1:39310,DS-70e6df0b-bf2f-41ba-87df-7adb2874a7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-f7ea6147-342a-4fab-a7f3-27f69d2466d2,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-3a6577cb-b5bd-44d4-926d-60634b518bc7,DISK]]; indices=[2, 4, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-264947907-172.17.0.2-1596906593632:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39416,DS-ca417266-edd8-4b0f-8fec-5f482da63722,DISK], DatanodeInfoWithStorage[127.0.0.1:40196,DS-f50b87cc-3891-40d8-892d-9bc4a05a4f02,DISK], DatanodeInfoWithStorage[127.0.0.1:39310,DS-70e6df0b-bf2f-41ba-87df-7adb2874a7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-f7ea6147-342a-4fab-a7f3-27f69d2466d2,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-3a6577cb-b5bd-44d4-926d-60634b518bc7,DISK]]; indices=[2, 4, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-264947907-172.17.0.2-1596906593632:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39416,DS-ca417266-edd8-4b0f-8fec-5f482da63722,DISK], DatanodeInfoWithStorage[127.0.0.1:40196,DS-f50b87cc-3891-40d8-892d-9bc4a05a4f02,DISK], DatanodeInfoWithStorage[127.0.0.1:39310,DS-70e6df0b-bf2f-41ba-87df-7adb2874a7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-f7ea6147-342a-4fab-a7f3-27f69d2466d2,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-3a6577cb-b5bd-44d4-926d-60634b518bc7,DISK]]; indices=[2, 4, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-264947907-172.17.0.2-1596906593632:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39416,DS-ca417266-edd8-4b0f-8fec-5f482da63722,DISK], DatanodeInfoWithStorage[127.0.0.1:40196,DS-f50b87cc-3891-40d8-892d-9bc4a05a4f02,DISK], DatanodeInfoWithStorage[127.0.0.1:39310,DS-70e6df0b-bf2f-41ba-87df-7adb2874a7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-f7ea6147-342a-4fab-a7f3-27f69d2466d2,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-3a6577cb-b5bd-44d4-926d-60634b518bc7,DISK]]; indices=[2, 4, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-53235605-172.17.0.2-1596906725228:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44478,DS-63e5d8e9-46c6-41fe-9687-c8962f26c061,DISK], DatanodeInfoWithStorage[127.0.0.1:40514,DS-3e72b129-524d-4391-90d2-684c99ceebf3,DISK], DatanodeInfoWithStorage[127.0.0.1:42358,DS-8cebf618-825c-4052-a131-18ccc8df2916,DISK], DatanodeInfoWithStorage[127.0.0.1:43297,DS-53ea0b0e-f2ce-4cae-b638-a4713d34d23e,DISK]]; indices=[5, 6, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-53235605-172.17.0.2-1596906725228:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44478,DS-63e5d8e9-46c6-41fe-9687-c8962f26c061,DISK], DatanodeInfoWithStorage[127.0.0.1:40514,DS-3e72b129-524d-4391-90d2-684c99ceebf3,DISK], DatanodeInfoWithStorage[127.0.0.1:42358,DS-8cebf618-825c-4052-a131-18ccc8df2916,DISK], DatanodeInfoWithStorage[127.0.0.1:43297,DS-53ea0b0e-f2ce-4cae-b638-a4713d34d23e,DISK]]; indices=[5, 6, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-53235605-172.17.0.2-1596906725228:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44478,DS-63e5d8e9-46c6-41fe-9687-c8962f26c061,DISK], DatanodeInfoWithStorage[127.0.0.1:40514,DS-3e72b129-524d-4391-90d2-684c99ceebf3,DISK], DatanodeInfoWithStorage[127.0.0.1:42358,DS-8cebf618-825c-4052-a131-18ccc8df2916,DISK], DatanodeInfoWithStorage[127.0.0.1:43297,DS-53ea0b0e-f2ce-4cae-b638-a4713d34d23e,DISK]]; indices=[5, 6, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-53235605-172.17.0.2-1596906725228:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44478,DS-63e5d8e9-46c6-41fe-9687-c8962f26c061,DISK], DatanodeInfoWithStorage[127.0.0.1:40514,DS-3e72b129-524d-4391-90d2-684c99ceebf3,DISK], DatanodeInfoWithStorage[127.0.0.1:42358,DS-8cebf618-825c-4052-a131-18ccc8df2916,DISK], DatanodeInfoWithStorage[127.0.0.1:43297,DS-53ea0b0e-f2ce-4cae-b638-a4713d34d23e,DISK]]; indices=[5, 6, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1924005253-172.17.0.2-1596906941929:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43200,DS-b77132fb-6366-4537-9fbc-97889d166351,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-400d6a1a-2604-4e9c-baf7-9352e5530dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:41472,DS-21c0bd34-b75a-4ab7-b328-7414f528fa6d,DISK], DatanodeInfoWithStorage[127.0.0.1:41029,DS-8434b8ec-5fd9-4ee6-9d7e-264f4dcb83c5,DISK], DatanodeInfoWithStorage[127.0.0.1:42289,DS-e3480cbe-6ddd-41d7-b9c6-8d17c3e2dd0f,DISK]]; indices=[1, 3, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1924005253-172.17.0.2-1596906941929:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43200,DS-b77132fb-6366-4537-9fbc-97889d166351,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-400d6a1a-2604-4e9c-baf7-9352e5530dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:41472,DS-21c0bd34-b75a-4ab7-b328-7414f528fa6d,DISK], DatanodeInfoWithStorage[127.0.0.1:41029,DS-8434b8ec-5fd9-4ee6-9d7e-264f4dcb83c5,DISK], DatanodeInfoWithStorage[127.0.0.1:42289,DS-e3480cbe-6ddd-41d7-b9c6-8d17c3e2dd0f,DISK]]; indices=[1, 3, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1924005253-172.17.0.2-1596906941929:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43200,DS-b77132fb-6366-4537-9fbc-97889d166351,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-400d6a1a-2604-4e9c-baf7-9352e5530dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:41472,DS-21c0bd34-b75a-4ab7-b328-7414f528fa6d,DISK], DatanodeInfoWithStorage[127.0.0.1:41029,DS-8434b8ec-5fd9-4ee6-9d7e-264f4dcb83c5,DISK], DatanodeInfoWithStorage[127.0.0.1:42289,DS-e3480cbe-6ddd-41d7-b9c6-8d17c3e2dd0f,DISK]]; indices=[1, 3, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1924005253-172.17.0.2-1596906941929:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43200,DS-b77132fb-6366-4537-9fbc-97889d166351,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-400d6a1a-2604-4e9c-baf7-9352e5530dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:41472,DS-21c0bd34-b75a-4ab7-b328-7414f528fa6d,DISK], DatanodeInfoWithStorage[127.0.0.1:41029,DS-8434b8ec-5fd9-4ee6-9d7e-264f4dcb83c5,DISK], DatanodeInfoWithStorage[127.0.0.1:42289,DS-e3480cbe-6ddd-41d7-b9c6-8d17c3e2dd0f,DISK]]; indices=[1, 3, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-856978454-172.17.0.2-1596906979635:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46234,DS-f877198a-58bb-4e14-8ac6-c7f98e2a46a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41075,DS-c412ce29-5b16-4720-8210-fabb0bbfe90e,DISK], DatanodeInfoWithStorage[127.0.0.1:46022,DS-e9a22932-95fa-4166-973b-c3e3bc249478,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-d30360ae-37e6-412e-89da-5b015f9aecdb,DISK], DatanodeInfoWithStorage[127.0.0.1:34156,DS-72392d20-539c-415a-9ea9-4a47f35ed95b,DISK], DatanodeInfoWithStorage[127.0.0.1:45155,DS-cc6168ff-394b-4347-bde7-76df1dc7f1af,DISK], DatanodeInfoWithStorage[127.0.0.1:43003,DS-3c80af1a-4a2c-499d-a7e1-90b4345fa6e4,DISK]]; indices=[2, 4, 5, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-856978454-172.17.0.2-1596906979635:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46234,DS-f877198a-58bb-4e14-8ac6-c7f98e2a46a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41075,DS-c412ce29-5b16-4720-8210-fabb0bbfe90e,DISK], DatanodeInfoWithStorage[127.0.0.1:46022,DS-e9a22932-95fa-4166-973b-c3e3bc249478,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-d30360ae-37e6-412e-89da-5b015f9aecdb,DISK], DatanodeInfoWithStorage[127.0.0.1:34156,DS-72392d20-539c-415a-9ea9-4a47f35ed95b,DISK], DatanodeInfoWithStorage[127.0.0.1:45155,DS-cc6168ff-394b-4347-bde7-76df1dc7f1af,DISK], DatanodeInfoWithStorage[127.0.0.1:43003,DS-3c80af1a-4a2c-499d-a7e1-90b4345fa6e4,DISK]]; indices=[2, 4, 5, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-856978454-172.17.0.2-1596906979635:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46234,DS-f877198a-58bb-4e14-8ac6-c7f98e2a46a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41075,DS-c412ce29-5b16-4720-8210-fabb0bbfe90e,DISK], DatanodeInfoWithStorage[127.0.0.1:46022,DS-e9a22932-95fa-4166-973b-c3e3bc249478,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-d30360ae-37e6-412e-89da-5b015f9aecdb,DISK], DatanodeInfoWithStorage[127.0.0.1:34156,DS-72392d20-539c-415a-9ea9-4a47f35ed95b,DISK], DatanodeInfoWithStorage[127.0.0.1:45155,DS-cc6168ff-394b-4347-bde7-76df1dc7f1af,DISK], DatanodeInfoWithStorage[127.0.0.1:43003,DS-3c80af1a-4a2c-499d-a7e1-90b4345fa6e4,DISK]]; indices=[2, 4, 5, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-856978454-172.17.0.2-1596906979635:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46234,DS-f877198a-58bb-4e14-8ac6-c7f98e2a46a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41075,DS-c412ce29-5b16-4720-8210-fabb0bbfe90e,DISK], DatanodeInfoWithStorage[127.0.0.1:46022,DS-e9a22932-95fa-4166-973b-c3e3bc249478,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-d30360ae-37e6-412e-89da-5b015f9aecdb,DISK], DatanodeInfoWithStorage[127.0.0.1:34156,DS-72392d20-539c-415a-9ea9-4a47f35ed95b,DISK], DatanodeInfoWithStorage[127.0.0.1:45155,DS-cc6168ff-394b-4347-bde7-76df1dc7f1af,DISK], DatanodeInfoWithStorage[127.0.0.1:43003,DS-3c80af1a-4a2c-499d-a7e1-90b4345fa6e4,DISK]]; indices=[2, 4, 5, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1344910942-172.17.0.2-1596907283387:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35492,DS-a50b285c-da03-487c-8f1c-5fbf869b0417,DISK], DatanodeInfoWithStorage[127.0.0.1:42059,DS-e5ac213b-3702-473e-a98a-a42f443be4c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37221,DS-bec06cce-41b6-4ddd-abce-c3690d244457,DISK], DatanodeInfoWithStorage[127.0.0.1:36462,DS-19256942-c4cb-4ee8-a55f-aeb1236297ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-1e744e03-1564-4ac3-bf73-3056b578d853,DISK], DatanodeInfoWithStorage[127.0.0.1:45238,DS-0ccb095b-ea40-468b-a19d-57b723687e1d,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-ba810643-ce06-4c11-a722-71e10732c762,DISK]]; indices=[0, 1, 2, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1344910942-172.17.0.2-1596907283387:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35492,DS-a50b285c-da03-487c-8f1c-5fbf869b0417,DISK], DatanodeInfoWithStorage[127.0.0.1:42059,DS-e5ac213b-3702-473e-a98a-a42f443be4c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37221,DS-bec06cce-41b6-4ddd-abce-c3690d244457,DISK], DatanodeInfoWithStorage[127.0.0.1:36462,DS-19256942-c4cb-4ee8-a55f-aeb1236297ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-1e744e03-1564-4ac3-bf73-3056b578d853,DISK], DatanodeInfoWithStorage[127.0.0.1:45238,DS-0ccb095b-ea40-468b-a19d-57b723687e1d,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-ba810643-ce06-4c11-a722-71e10732c762,DISK]]; indices=[0, 1, 2, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1344910942-172.17.0.2-1596907283387:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35492,DS-a50b285c-da03-487c-8f1c-5fbf869b0417,DISK], DatanodeInfoWithStorage[127.0.0.1:42059,DS-e5ac213b-3702-473e-a98a-a42f443be4c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37221,DS-bec06cce-41b6-4ddd-abce-c3690d244457,DISK], DatanodeInfoWithStorage[127.0.0.1:36462,DS-19256942-c4cb-4ee8-a55f-aeb1236297ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-1e744e03-1564-4ac3-bf73-3056b578d853,DISK], DatanodeInfoWithStorage[127.0.0.1:45238,DS-0ccb095b-ea40-468b-a19d-57b723687e1d,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-ba810643-ce06-4c11-a722-71e10732c762,DISK]]; indices=[0, 1, 2, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1344910942-172.17.0.2-1596907283387:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35492,DS-a50b285c-da03-487c-8f1c-5fbf869b0417,DISK], DatanodeInfoWithStorage[127.0.0.1:42059,DS-e5ac213b-3702-473e-a98a-a42f443be4c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37221,DS-bec06cce-41b6-4ddd-abce-c3690d244457,DISK], DatanodeInfoWithStorage[127.0.0.1:36462,DS-19256942-c4cb-4ee8-a55f-aeb1236297ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-1e744e03-1564-4ac3-bf73-3056b578d853,DISK], DatanodeInfoWithStorage[127.0.0.1:45238,DS-0ccb095b-ea40-468b-a19d-57b723687e1d,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-ba810643-ce06-4c11-a722-71e10732c762,DISK]]; indices=[0, 1, 2, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-139974410-172.17.0.2-1596907416322:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37989,DS-48d04a13-4a1f-470d-a417-798acdb33a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45486,DS-53844766-1df7-41d6-b2ac-6a2d437eb5fd,DISK], DatanodeInfoWithStorage[127.0.0.1:38067,DS-e718b0cd-b6a4-449a-b546-84fd28f709ca,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-319fcf83-5e2a-45e5-ad01-608efe5220ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32934,DS-2f311bf8-536f-4e93-89fc-f167ce0e2536,DISK], DatanodeInfoWithStorage[127.0.0.1:44856,DS-3f5709e5-c940-4e06-92b0-b47aaaee9cbb,DISK], DatanodeInfoWithStorage[127.0.0.1:42025,DS-f73d9416-e49f-47d0-8a25-919bcbf710c7,DISK]]; indices=[1, 4, 5, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-139974410-172.17.0.2-1596907416322:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37989,DS-48d04a13-4a1f-470d-a417-798acdb33a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45486,DS-53844766-1df7-41d6-b2ac-6a2d437eb5fd,DISK], DatanodeInfoWithStorage[127.0.0.1:38067,DS-e718b0cd-b6a4-449a-b546-84fd28f709ca,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-319fcf83-5e2a-45e5-ad01-608efe5220ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32934,DS-2f311bf8-536f-4e93-89fc-f167ce0e2536,DISK], DatanodeInfoWithStorage[127.0.0.1:44856,DS-3f5709e5-c940-4e06-92b0-b47aaaee9cbb,DISK], DatanodeInfoWithStorage[127.0.0.1:42025,DS-f73d9416-e49f-47d0-8a25-919bcbf710c7,DISK]]; indices=[1, 4, 5, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-139974410-172.17.0.2-1596907416322:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37989,DS-48d04a13-4a1f-470d-a417-798acdb33a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45486,DS-53844766-1df7-41d6-b2ac-6a2d437eb5fd,DISK], DatanodeInfoWithStorage[127.0.0.1:38067,DS-e718b0cd-b6a4-449a-b546-84fd28f709ca,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-319fcf83-5e2a-45e5-ad01-608efe5220ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32934,DS-2f311bf8-536f-4e93-89fc-f167ce0e2536,DISK], DatanodeInfoWithStorage[127.0.0.1:44856,DS-3f5709e5-c940-4e06-92b0-b47aaaee9cbb,DISK], DatanodeInfoWithStorage[127.0.0.1:42025,DS-f73d9416-e49f-47d0-8a25-919bcbf710c7,DISK]]; indices=[1, 4, 5, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-139974410-172.17.0.2-1596907416322:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37989,DS-48d04a13-4a1f-470d-a417-798acdb33a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45486,DS-53844766-1df7-41d6-b2ac-6a2d437eb5fd,DISK], DatanodeInfoWithStorage[127.0.0.1:38067,DS-e718b0cd-b6a4-449a-b546-84fd28f709ca,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-319fcf83-5e2a-45e5-ad01-608efe5220ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32934,DS-2f311bf8-536f-4e93-89fc-f167ce0e2536,DISK], DatanodeInfoWithStorage[127.0.0.1:44856,DS-3f5709e5-c940-4e06-92b0-b47aaaee9cbb,DISK], DatanodeInfoWithStorage[127.0.0.1:42025,DS-f73d9416-e49f-47d0-8a25-919bcbf710c7,DISK]]; indices=[1, 4, 5, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-649852094-172.17.0.2-1596907653973:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40030,DS-85dbc098-6943-4dd4-8fdc-64e9a79c1fe4,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-f59d233e-0066-4e02-ac6d-db1cd7b3e341,DISK], DatanodeInfoWithStorage[127.0.0.1:36989,DS-49877e9b-8858-4b94-b637-767467dddf9b,DISK], DatanodeInfoWithStorage[127.0.0.1:40530,DS-ab6797ff-b1c8-4298-915e-5f717656db18,DISK], DatanodeInfoWithStorage[127.0.0.1:33982,DS-088171d0-bb8f-492f-83e3-00ed615900f7,DISK]]; indices=[0, 1, 2, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-649852094-172.17.0.2-1596907653973:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40030,DS-85dbc098-6943-4dd4-8fdc-64e9a79c1fe4,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-f59d233e-0066-4e02-ac6d-db1cd7b3e341,DISK], DatanodeInfoWithStorage[127.0.0.1:36989,DS-49877e9b-8858-4b94-b637-767467dddf9b,DISK], DatanodeInfoWithStorage[127.0.0.1:40530,DS-ab6797ff-b1c8-4298-915e-5f717656db18,DISK], DatanodeInfoWithStorage[127.0.0.1:33982,DS-088171d0-bb8f-492f-83e3-00ed615900f7,DISK]]; indices=[0, 1, 2, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-649852094-172.17.0.2-1596907653973:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40030,DS-85dbc098-6943-4dd4-8fdc-64e9a79c1fe4,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-f59d233e-0066-4e02-ac6d-db1cd7b3e341,DISK], DatanodeInfoWithStorage[127.0.0.1:36989,DS-49877e9b-8858-4b94-b637-767467dddf9b,DISK], DatanodeInfoWithStorage[127.0.0.1:40530,DS-ab6797ff-b1c8-4298-915e-5f717656db18,DISK], DatanodeInfoWithStorage[127.0.0.1:33982,DS-088171d0-bb8f-492f-83e3-00ed615900f7,DISK]]; indices=[0, 1, 2, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-649852094-172.17.0.2-1596907653973:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40030,DS-85dbc098-6943-4dd4-8fdc-64e9a79c1fe4,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-f59d233e-0066-4e02-ac6d-db1cd7b3e341,DISK], DatanodeInfoWithStorage[127.0.0.1:36989,DS-49877e9b-8858-4b94-b637-767467dddf9b,DISK], DatanodeInfoWithStorage[127.0.0.1:40530,DS-ab6797ff-b1c8-4298-915e-5f717656db18,DISK], DatanodeInfoWithStorage[127.0.0.1:33982,DS-088171d0-bb8f-492f-83e3-00ed615900f7,DISK]]; indices=[0, 1, 2, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2093145897-172.17.0.2-1596907735087:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42033,DS-710676d5-5f9a-4579-82f2-be5879ef0105,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-8f342843-fa12-4a20-8f11-b07851e44122,DISK], DatanodeInfoWithStorage[127.0.0.1:36387,DS-c372a6fc-c5b2-4532-bb71-154ec319390f,DISK], DatanodeInfoWithStorage[127.0.0.1:43560,DS-5c39d3f2-80c0-4a44-b6a9-a0b5bb1c61e6,DISK], DatanodeInfoWithStorage[127.0.0.1:33938,DS-8733c089-12d3-4d54-ba6a-a034c0a92ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:44563,DS-f8cfe29c-ac93-42ca-8306-4f9f69b9fe87,DISK], DatanodeInfoWithStorage[127.0.0.1:35969,DS-d0ede517-9836-4e3e-a88d-cfefe1b67748,DISK]]; indices=[1, 2, 3, 4, 5, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-2093145897-172.17.0.2-1596907735087:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42033,DS-710676d5-5f9a-4579-82f2-be5879ef0105,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-8f342843-fa12-4a20-8f11-b07851e44122,DISK], DatanodeInfoWithStorage[127.0.0.1:36387,DS-c372a6fc-c5b2-4532-bb71-154ec319390f,DISK], DatanodeInfoWithStorage[127.0.0.1:43560,DS-5c39d3f2-80c0-4a44-b6a9-a0b5bb1c61e6,DISK], DatanodeInfoWithStorage[127.0.0.1:33938,DS-8733c089-12d3-4d54-ba6a-a034c0a92ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:44563,DS-f8cfe29c-ac93-42ca-8306-4f9f69b9fe87,DISK], DatanodeInfoWithStorage[127.0.0.1:35969,DS-d0ede517-9836-4e3e-a88d-cfefe1b67748,DISK]]; indices=[1, 2, 3, 4, 5, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2093145897-172.17.0.2-1596907735087:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42033,DS-710676d5-5f9a-4579-82f2-be5879ef0105,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-8f342843-fa12-4a20-8f11-b07851e44122,DISK], DatanodeInfoWithStorage[127.0.0.1:36387,DS-c372a6fc-c5b2-4532-bb71-154ec319390f,DISK], DatanodeInfoWithStorage[127.0.0.1:43560,DS-5c39d3f2-80c0-4a44-b6a9-a0b5bb1c61e6,DISK], DatanodeInfoWithStorage[127.0.0.1:33938,DS-8733c089-12d3-4d54-ba6a-a034c0a92ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:44563,DS-f8cfe29c-ac93-42ca-8306-4f9f69b9fe87,DISK], DatanodeInfoWithStorage[127.0.0.1:35969,DS-d0ede517-9836-4e3e-a88d-cfefe1b67748,DISK]]; indices=[1, 2, 3, 4, 5, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-2093145897-172.17.0.2-1596907735087:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42033,DS-710676d5-5f9a-4579-82f2-be5879ef0105,DISK], DatanodeInfoWithStorage[127.0.0.1:34570,DS-8f342843-fa12-4a20-8f11-b07851e44122,DISK], DatanodeInfoWithStorage[127.0.0.1:36387,DS-c372a6fc-c5b2-4532-bb71-154ec319390f,DISK], DatanodeInfoWithStorage[127.0.0.1:43560,DS-5c39d3f2-80c0-4a44-b6a9-a0b5bb1c61e6,DISK], DatanodeInfoWithStorage[127.0.0.1:33938,DS-8733c089-12d3-4d54-ba6a-a034c0a92ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:44563,DS-f8cfe29c-ac93-42ca-8306-4f9f69b9fe87,DISK], DatanodeInfoWithStorage[127.0.0.1:35969,DS-d0ede517-9836-4e3e-a88d-cfefe1b67748,DISK]]; indices=[1, 2, 3, 4, 5, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-732264532-172.17.0.2-1596907813648:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-b22647b6-b3ab-436d-b4df-da3e56cdb765,DISK], DatanodeInfoWithStorage[127.0.0.1:35188,DS-0c5db385-8839-4f24-a93b-cac58afef283,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-2acb08d7-d83a-4fab-8160-b748ae6bd5f7,DISK], DatanodeInfoWithStorage[127.0.0.1:36213,DS-df9833b8-0531-4fa3-b122-ba9373512b76,DISK], DatanodeInfoWithStorage[127.0.0.1:37614,DS-8d3bb594-297d-4671-a986-aed30e33bcf4,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-2b2f8961-5d83-42d9-ad51-f87cfb4db431,DISK], DatanodeInfoWithStorage[127.0.0.1:38003,DS-bc8987ee-569a-441e-8950-e983344d7f5f,DISK]]; indices=[2, 3, 4, 5, 6, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-732264532-172.17.0.2-1596907813648:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-b22647b6-b3ab-436d-b4df-da3e56cdb765,DISK], DatanodeInfoWithStorage[127.0.0.1:35188,DS-0c5db385-8839-4f24-a93b-cac58afef283,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-2acb08d7-d83a-4fab-8160-b748ae6bd5f7,DISK], DatanodeInfoWithStorage[127.0.0.1:36213,DS-df9833b8-0531-4fa3-b122-ba9373512b76,DISK], DatanodeInfoWithStorage[127.0.0.1:37614,DS-8d3bb594-297d-4671-a986-aed30e33bcf4,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-2b2f8961-5d83-42d9-ad51-f87cfb4db431,DISK], DatanodeInfoWithStorage[127.0.0.1:38003,DS-bc8987ee-569a-441e-8950-e983344d7f5f,DISK]]; indices=[2, 3, 4, 5, 6, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-732264532-172.17.0.2-1596907813648:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-b22647b6-b3ab-436d-b4df-da3e56cdb765,DISK], DatanodeInfoWithStorage[127.0.0.1:35188,DS-0c5db385-8839-4f24-a93b-cac58afef283,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-2acb08d7-d83a-4fab-8160-b748ae6bd5f7,DISK], DatanodeInfoWithStorage[127.0.0.1:36213,DS-df9833b8-0531-4fa3-b122-ba9373512b76,DISK], DatanodeInfoWithStorage[127.0.0.1:37614,DS-8d3bb594-297d-4671-a986-aed30e33bcf4,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-2b2f8961-5d83-42d9-ad51-f87cfb4db431,DISK], DatanodeInfoWithStorage[127.0.0.1:38003,DS-bc8987ee-569a-441e-8950-e983344d7f5f,DISK]]; indices=[2, 3, 4, 5, 6, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-732264532-172.17.0.2-1596907813648:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-b22647b6-b3ab-436d-b4df-da3e56cdb765,DISK], DatanodeInfoWithStorage[127.0.0.1:35188,DS-0c5db385-8839-4f24-a93b-cac58afef283,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-2acb08d7-d83a-4fab-8160-b748ae6bd5f7,DISK], DatanodeInfoWithStorage[127.0.0.1:36213,DS-df9833b8-0531-4fa3-b122-ba9373512b76,DISK], DatanodeInfoWithStorage[127.0.0.1:37614,DS-8d3bb594-297d-4671-a986-aed30e33bcf4,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-2b2f8961-5d83-42d9-ad51-f87cfb4db431,DISK], DatanodeInfoWithStorage[127.0.0.1:38003,DS-bc8987ee-569a-441e-8950-e983344d7f5f,DISK]]; indices=[2, 3, 4, 5, 6, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1725899221-172.17.0.2-1596908112792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44073,DS-04bd0b8e-d601-44b0-9b27-0277af9701e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42199,DS-95e31ce1-2bdf-4e1e-9b1b-641a4b9700ce,DISK], DatanodeInfoWithStorage[127.0.0.1:39528,DS-9c057879-0555-4ca3-9de6-eb25bfe66978,DISK], DatanodeInfoWithStorage[127.0.0.1:45427,DS-71750bc7-ebe9-4997-bff9-b5c371303e3f,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-63507044-a94f-4246-a85c-e9a95bdb9fd8,DISK], DatanodeInfoWithStorage[127.0.0.1:38842,DS-5994a238-7da8-489b-947c-a1a42fd9edc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37441,DS-e156dea5-4eb0-4f11-8f56-2e9751b4e2d9,DISK]]; indices=[0, 2, 3, 5, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1725899221-172.17.0.2-1596908112792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44073,DS-04bd0b8e-d601-44b0-9b27-0277af9701e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42199,DS-95e31ce1-2bdf-4e1e-9b1b-641a4b9700ce,DISK], DatanodeInfoWithStorage[127.0.0.1:39528,DS-9c057879-0555-4ca3-9de6-eb25bfe66978,DISK], DatanodeInfoWithStorage[127.0.0.1:45427,DS-71750bc7-ebe9-4997-bff9-b5c371303e3f,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-63507044-a94f-4246-a85c-e9a95bdb9fd8,DISK], DatanodeInfoWithStorage[127.0.0.1:38842,DS-5994a238-7da8-489b-947c-a1a42fd9edc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37441,DS-e156dea5-4eb0-4f11-8f56-2e9751b4e2d9,DISK]]; indices=[0, 2, 3, 5, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1725899221-172.17.0.2-1596908112792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44073,DS-04bd0b8e-d601-44b0-9b27-0277af9701e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42199,DS-95e31ce1-2bdf-4e1e-9b1b-641a4b9700ce,DISK], DatanodeInfoWithStorage[127.0.0.1:39528,DS-9c057879-0555-4ca3-9de6-eb25bfe66978,DISK], DatanodeInfoWithStorage[127.0.0.1:45427,DS-71750bc7-ebe9-4997-bff9-b5c371303e3f,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-63507044-a94f-4246-a85c-e9a95bdb9fd8,DISK], DatanodeInfoWithStorage[127.0.0.1:38842,DS-5994a238-7da8-489b-947c-a1a42fd9edc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37441,DS-e156dea5-4eb0-4f11-8f56-2e9751b4e2d9,DISK]]; indices=[0, 2, 3, 5, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1725899221-172.17.0.2-1596908112792:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44073,DS-04bd0b8e-d601-44b0-9b27-0277af9701e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42199,DS-95e31ce1-2bdf-4e1e-9b1b-641a4b9700ce,DISK], DatanodeInfoWithStorage[127.0.0.1:39528,DS-9c057879-0555-4ca3-9de6-eb25bfe66978,DISK], DatanodeInfoWithStorage[127.0.0.1:45427,DS-71750bc7-ebe9-4997-bff9-b5c371303e3f,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-63507044-a94f-4246-a85c-e9a95bdb9fd8,DISK], DatanodeInfoWithStorage[127.0.0.1:38842,DS-5994a238-7da8-489b-947c-a1a42fd9edc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37441,DS-e156dea5-4eb0-4f11-8f56-2e9751b4e2d9,DISK]]; indices=[0, 2, 3, 5, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-768054348-172.17.0.2-1596908148997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36743,DS-7ff847da-3930-4662-bc4f-fe2504cb547e,DISK], DatanodeInfoWithStorage[127.0.0.1:39149,DS-1448d01e-f688-49b9-a760-06f2c03bb8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-2c8e93a0-dd60-4d7e-ae8b-0e7150c1fffe,DISK], DatanodeInfoWithStorage[127.0.0.1:45043,DS-4c14f17b-a5bc-4b8d-a18e-aaaf05085482,DISK], DatanodeInfoWithStorage[127.0.0.1:40154,DS-86a60c06-3289-48b6-829f-f1d7a696b894,DISK], DatanodeInfoWithStorage[127.0.0.1:41632,DS-dd2f42ad-4ff2-4bf6-b1a8-a31853c8a01a,DISK]]; indices=[1, 2, 3, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-768054348-172.17.0.2-1596908148997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36743,DS-7ff847da-3930-4662-bc4f-fe2504cb547e,DISK], DatanodeInfoWithStorage[127.0.0.1:39149,DS-1448d01e-f688-49b9-a760-06f2c03bb8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-2c8e93a0-dd60-4d7e-ae8b-0e7150c1fffe,DISK], DatanodeInfoWithStorage[127.0.0.1:45043,DS-4c14f17b-a5bc-4b8d-a18e-aaaf05085482,DISK], DatanodeInfoWithStorage[127.0.0.1:40154,DS-86a60c06-3289-48b6-829f-f1d7a696b894,DISK], DatanodeInfoWithStorage[127.0.0.1:41632,DS-dd2f42ad-4ff2-4bf6-b1a8-a31853c8a01a,DISK]]; indices=[1, 2, 3, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-768054348-172.17.0.2-1596908148997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36743,DS-7ff847da-3930-4662-bc4f-fe2504cb547e,DISK], DatanodeInfoWithStorage[127.0.0.1:39149,DS-1448d01e-f688-49b9-a760-06f2c03bb8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-2c8e93a0-dd60-4d7e-ae8b-0e7150c1fffe,DISK], DatanodeInfoWithStorage[127.0.0.1:45043,DS-4c14f17b-a5bc-4b8d-a18e-aaaf05085482,DISK], DatanodeInfoWithStorage[127.0.0.1:40154,DS-86a60c06-3289-48b6-829f-f1d7a696b894,DISK], DatanodeInfoWithStorage[127.0.0.1:41632,DS-dd2f42ad-4ff2-4bf6-b1a8-a31853c8a01a,DISK]]; indices=[1, 2, 3, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-768054348-172.17.0.2-1596908148997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36743,DS-7ff847da-3930-4662-bc4f-fe2504cb547e,DISK], DatanodeInfoWithStorage[127.0.0.1:39149,DS-1448d01e-f688-49b9-a760-06f2c03bb8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-2c8e93a0-dd60-4d7e-ae8b-0e7150c1fffe,DISK], DatanodeInfoWithStorage[127.0.0.1:45043,DS-4c14f17b-a5bc-4b8d-a18e-aaaf05085482,DISK], DatanodeInfoWithStorage[127.0.0.1:40154,DS-86a60c06-3289-48b6-829f-f1d7a696b894,DISK], DatanodeInfoWithStorage[127.0.0.1:41632,DS-dd2f42ad-4ff2-4bf6-b1a8-a31853c8a01a,DISK]]; indices=[1, 2, 3, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1746100568-172.17.0.2-1596908695902:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44480,DS-d57b2453-f11c-4640-ba4f-5f3e904b1669,DISK], DatanodeInfoWithStorage[127.0.0.1:40872,DS-daed3011-8678-4ea5-a63c-025bc4f13a68,DISK], DatanodeInfoWithStorage[127.0.0.1:42854,DS-2d8d8244-05b4-4778-8aba-89e890aa7743,DISK], DatanodeInfoWithStorage[127.0.0.1:45818,DS-2753d450-637a-4764-9f5d-1a512fc95174,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-a4d4301f-7a90-4454-9a31-5b69ce50b476,DISK], DatanodeInfoWithStorage[127.0.0.1:43034,DS-8136a148-fb68-4015-914b-fb55cb4999f7,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-bc902afb-91f0-4db4-be3d-3853925c2177,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1746100568-172.17.0.2-1596908695902:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44480,DS-d57b2453-f11c-4640-ba4f-5f3e904b1669,DISK], DatanodeInfoWithStorage[127.0.0.1:40872,DS-daed3011-8678-4ea5-a63c-025bc4f13a68,DISK], DatanodeInfoWithStorage[127.0.0.1:42854,DS-2d8d8244-05b4-4778-8aba-89e890aa7743,DISK], DatanodeInfoWithStorage[127.0.0.1:45818,DS-2753d450-637a-4764-9f5d-1a512fc95174,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-a4d4301f-7a90-4454-9a31-5b69ce50b476,DISK], DatanodeInfoWithStorage[127.0.0.1:43034,DS-8136a148-fb68-4015-914b-fb55cb4999f7,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-bc902afb-91f0-4db4-be3d-3853925c2177,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1746100568-172.17.0.2-1596908695902:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44480,DS-d57b2453-f11c-4640-ba4f-5f3e904b1669,DISK], DatanodeInfoWithStorage[127.0.0.1:40872,DS-daed3011-8678-4ea5-a63c-025bc4f13a68,DISK], DatanodeInfoWithStorage[127.0.0.1:42854,DS-2d8d8244-05b4-4778-8aba-89e890aa7743,DISK], DatanodeInfoWithStorage[127.0.0.1:45818,DS-2753d450-637a-4764-9f5d-1a512fc95174,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-a4d4301f-7a90-4454-9a31-5b69ce50b476,DISK], DatanodeInfoWithStorage[127.0.0.1:43034,DS-8136a148-fb68-4015-914b-fb55cb4999f7,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-bc902afb-91f0-4db4-be3d-3853925c2177,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1746100568-172.17.0.2-1596908695902:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44480,DS-d57b2453-f11c-4640-ba4f-5f3e904b1669,DISK], DatanodeInfoWithStorage[127.0.0.1:40872,DS-daed3011-8678-4ea5-a63c-025bc4f13a68,DISK], DatanodeInfoWithStorage[127.0.0.1:42854,DS-2d8d8244-05b4-4778-8aba-89e890aa7743,DISK], DatanodeInfoWithStorage[127.0.0.1:45818,DS-2753d450-637a-4764-9f5d-1a512fc95174,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-a4d4301f-7a90-4454-9a31-5b69ce50b476,DISK], DatanodeInfoWithStorage[127.0.0.1:43034,DS-8136a148-fb68-4015-914b-fb55cb4999f7,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-bc902afb-91f0-4db4-be3d-3853925c2177,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1718165713-172.17.0.2-1596908919260:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46670,DS-90f7283a-a76b-42a5-b8cc-cf44be667cfd,DISK], DatanodeInfoWithStorage[127.0.0.1:45750,DS-e88bc3da-2cc0-4bf0-8237-41114689b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:34128,DS-a9b912d9-6a77-452a-a4e3-b1bab225e219,DISK], DatanodeInfoWithStorage[127.0.0.1:45062,DS-4af568e0-38d0-415e-8d5c-141ece69db63,DISK], DatanodeInfoWithStorage[127.0.0.1:40587,DS-3b6dda1b-2574-4e53-85e1-f0254dfe7a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45376,DS-53be2729-9aeb-4840-8674-4f30e75eaa6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34127,DS-ec06852c-fe41-409c-a8db-b36dd84cfbca,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1718165713-172.17.0.2-1596908919260:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46670,DS-90f7283a-a76b-42a5-b8cc-cf44be667cfd,DISK], DatanodeInfoWithStorage[127.0.0.1:45750,DS-e88bc3da-2cc0-4bf0-8237-41114689b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:34128,DS-a9b912d9-6a77-452a-a4e3-b1bab225e219,DISK], DatanodeInfoWithStorage[127.0.0.1:45062,DS-4af568e0-38d0-415e-8d5c-141ece69db63,DISK], DatanodeInfoWithStorage[127.0.0.1:40587,DS-3b6dda1b-2574-4e53-85e1-f0254dfe7a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45376,DS-53be2729-9aeb-4840-8674-4f30e75eaa6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34127,DS-ec06852c-fe41-409c-a8db-b36dd84cfbca,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1718165713-172.17.0.2-1596908919260:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46670,DS-90f7283a-a76b-42a5-b8cc-cf44be667cfd,DISK], DatanodeInfoWithStorage[127.0.0.1:45750,DS-e88bc3da-2cc0-4bf0-8237-41114689b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:34128,DS-a9b912d9-6a77-452a-a4e3-b1bab225e219,DISK], DatanodeInfoWithStorage[127.0.0.1:45062,DS-4af568e0-38d0-415e-8d5c-141ece69db63,DISK], DatanodeInfoWithStorage[127.0.0.1:40587,DS-3b6dda1b-2574-4e53-85e1-f0254dfe7a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45376,DS-53be2729-9aeb-4840-8674-4f30e75eaa6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34127,DS-ec06852c-fe41-409c-a8db-b36dd84cfbca,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1718165713-172.17.0.2-1596908919260:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46670,DS-90f7283a-a76b-42a5-b8cc-cf44be667cfd,DISK], DatanodeInfoWithStorage[127.0.0.1:45750,DS-e88bc3da-2cc0-4bf0-8237-41114689b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:34128,DS-a9b912d9-6a77-452a-a4e3-b1bab225e219,DISK], DatanodeInfoWithStorage[127.0.0.1:45062,DS-4af568e0-38d0-415e-8d5c-141ece69db63,DISK], DatanodeInfoWithStorage[127.0.0.1:40587,DS-3b6dda1b-2574-4e53-85e1-f0254dfe7a4e,DISK], DatanodeInfoWithStorage[127.0.0.1:45376,DS-53be2729-9aeb-4840-8674-4f30e75eaa6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34127,DS-ec06852c-fe41-409c-a8db-b36dd84cfbca,DISK]]; indices=[0, 1, 5, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1929951162-172.17.0.2-1596909130979:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38641,DS-e549927c-0b5a-4fe1-bef2-fa2160be2695,DISK], DatanodeInfoWithStorage[127.0.0.1:34221,DS-9dd1d1e4-0870-40ad-92bf-9356a57f78a4,DISK], DatanodeInfoWithStorage[127.0.0.1:40389,DS-3be49ddc-bf96-4098-92ac-a8580be21aaa,DISK], DatanodeInfoWithStorage[127.0.0.1:41733,DS-54c6d3f9-7fca-449c-b3cc-05f5507d747a,DISK], DatanodeInfoWithStorage[127.0.0.1:38413,DS-19f7b56a-2f12-41f9-bd36-49949ed88b32,DISK], DatanodeInfoWithStorage[127.0.0.1:44899,DS-711a0ade-726c-4f9a-b677-720ca469ab61,DISK], DatanodeInfoWithStorage[127.0.0.1:46656,DS-36024c95-204c-42e5-9a63-6b630829b2e1,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1929951162-172.17.0.2-1596909130979:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38641,DS-e549927c-0b5a-4fe1-bef2-fa2160be2695,DISK], DatanodeInfoWithStorage[127.0.0.1:34221,DS-9dd1d1e4-0870-40ad-92bf-9356a57f78a4,DISK], DatanodeInfoWithStorage[127.0.0.1:40389,DS-3be49ddc-bf96-4098-92ac-a8580be21aaa,DISK], DatanodeInfoWithStorage[127.0.0.1:41733,DS-54c6d3f9-7fca-449c-b3cc-05f5507d747a,DISK], DatanodeInfoWithStorage[127.0.0.1:38413,DS-19f7b56a-2f12-41f9-bd36-49949ed88b32,DISK], DatanodeInfoWithStorage[127.0.0.1:44899,DS-711a0ade-726c-4f9a-b677-720ca469ab61,DISK], DatanodeInfoWithStorage[127.0.0.1:46656,DS-36024c95-204c-42e5-9a63-6b630829b2e1,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1929951162-172.17.0.2-1596909130979:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38641,DS-e549927c-0b5a-4fe1-bef2-fa2160be2695,DISK], DatanodeInfoWithStorage[127.0.0.1:34221,DS-9dd1d1e4-0870-40ad-92bf-9356a57f78a4,DISK], DatanodeInfoWithStorage[127.0.0.1:40389,DS-3be49ddc-bf96-4098-92ac-a8580be21aaa,DISK], DatanodeInfoWithStorage[127.0.0.1:41733,DS-54c6d3f9-7fca-449c-b3cc-05f5507d747a,DISK], DatanodeInfoWithStorage[127.0.0.1:38413,DS-19f7b56a-2f12-41f9-bd36-49949ed88b32,DISK], DatanodeInfoWithStorage[127.0.0.1:44899,DS-711a0ade-726c-4f9a-b677-720ca469ab61,DISK], DatanodeInfoWithStorage[127.0.0.1:46656,DS-36024c95-204c-42e5-9a63-6b630829b2e1,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1929951162-172.17.0.2-1596909130979:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38641,DS-e549927c-0b5a-4fe1-bef2-fa2160be2695,DISK], DatanodeInfoWithStorage[127.0.0.1:34221,DS-9dd1d1e4-0870-40ad-92bf-9356a57f78a4,DISK], DatanodeInfoWithStorage[127.0.0.1:40389,DS-3be49ddc-bf96-4098-92ac-a8580be21aaa,DISK], DatanodeInfoWithStorage[127.0.0.1:41733,DS-54c6d3f9-7fca-449c-b3cc-05f5507d747a,DISK], DatanodeInfoWithStorage[127.0.0.1:38413,DS-19f7b56a-2f12-41f9-bd36-49949ed88b32,DISK], DatanodeInfoWithStorage[127.0.0.1:44899,DS-711a0ade-726c-4f9a-b677-720ca469ab61,DISK], DatanodeInfoWithStorage[127.0.0.1:46656,DS-36024c95-204c-42e5-9a63-6b630829b2e1,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1747877194-172.17.0.2-1596909179288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43298,DS-a70cf50b-7aee-4387-8846-6af58bd23453,DISK], DatanodeInfoWithStorage[127.0.0.1:41319,DS-bacb9d76-9037-4cba-ac36-dd6b2b45390e,DISK], DatanodeInfoWithStorage[127.0.0.1:36644,DS-8829d93b-4839-4c65-ba63-1a485eee6e84,DISK], DatanodeInfoWithStorage[127.0.0.1:43282,DS-ec5291f2-4b89-4fb5-9540-33dde7744a06,DISK], DatanodeInfoWithStorage[127.0.0.1:45522,DS-af42542b-d88f-4cdb-8196-4148f3fb6aa7,DISK], DatanodeInfoWithStorage[127.0.0.1:46828,DS-39cb96ec-5d84-4b04-8fb3-abad1377cdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:40694,DS-7b49c82e-87ee-402f-9a52-3fbd56ecb48d,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1747877194-172.17.0.2-1596909179288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43298,DS-a70cf50b-7aee-4387-8846-6af58bd23453,DISK], DatanodeInfoWithStorage[127.0.0.1:41319,DS-bacb9d76-9037-4cba-ac36-dd6b2b45390e,DISK], DatanodeInfoWithStorage[127.0.0.1:36644,DS-8829d93b-4839-4c65-ba63-1a485eee6e84,DISK], DatanodeInfoWithStorage[127.0.0.1:43282,DS-ec5291f2-4b89-4fb5-9540-33dde7744a06,DISK], DatanodeInfoWithStorage[127.0.0.1:45522,DS-af42542b-d88f-4cdb-8196-4148f3fb6aa7,DISK], DatanodeInfoWithStorage[127.0.0.1:46828,DS-39cb96ec-5d84-4b04-8fb3-abad1377cdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:40694,DS-7b49c82e-87ee-402f-9a52-3fbd56ecb48d,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1747877194-172.17.0.2-1596909179288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43298,DS-a70cf50b-7aee-4387-8846-6af58bd23453,DISK], DatanodeInfoWithStorage[127.0.0.1:41319,DS-bacb9d76-9037-4cba-ac36-dd6b2b45390e,DISK], DatanodeInfoWithStorage[127.0.0.1:36644,DS-8829d93b-4839-4c65-ba63-1a485eee6e84,DISK], DatanodeInfoWithStorage[127.0.0.1:43282,DS-ec5291f2-4b89-4fb5-9540-33dde7744a06,DISK], DatanodeInfoWithStorage[127.0.0.1:45522,DS-af42542b-d88f-4cdb-8196-4148f3fb6aa7,DISK], DatanodeInfoWithStorage[127.0.0.1:46828,DS-39cb96ec-5d84-4b04-8fb3-abad1377cdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:40694,DS-7b49c82e-87ee-402f-9a52-3fbd56ecb48d,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1747877194-172.17.0.2-1596909179288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43298,DS-a70cf50b-7aee-4387-8846-6af58bd23453,DISK], DatanodeInfoWithStorage[127.0.0.1:41319,DS-bacb9d76-9037-4cba-ac36-dd6b2b45390e,DISK], DatanodeInfoWithStorage[127.0.0.1:36644,DS-8829d93b-4839-4c65-ba63-1a485eee6e84,DISK], DatanodeInfoWithStorage[127.0.0.1:43282,DS-ec5291f2-4b89-4fb5-9540-33dde7744a06,DISK], DatanodeInfoWithStorage[127.0.0.1:45522,DS-af42542b-d88f-4cdb-8196-4148f3fb6aa7,DISK], DatanodeInfoWithStorage[127.0.0.1:46828,DS-39cb96ec-5d84-4b04-8fb3-abad1377cdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:40694,DS-7b49c82e-87ee-402f-9a52-3fbd56ecb48d,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-710793914-172.17.0.2-1596909218761:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37104,DS-ea740c07-e315-453e-8185-6d6b6f612845,DISK], DatanodeInfoWithStorage[127.0.0.1:34169,DS-fc16adb3-c7cf-4163-93a8-1a3b92c4e513,DISK], DatanodeInfoWithStorage[127.0.0.1:43982,DS-7654726f-e1fc-4bdd-a6a1-fba536eb6ab8,DISK], DatanodeInfoWithStorage[127.0.0.1:46440,DS-34de89af-552c-42c6-88f2-292682c69613,DISK], DatanodeInfoWithStorage[127.0.0.1:45597,DS-ed805ed1-596d-46f2-853d-a64e69380a23,DISK], DatanodeInfoWithStorage[127.0.0.1:46252,DS-8924c1cf-1aa9-4e66-861f-8639c539d383,DISK], DatanodeInfoWithStorage[127.0.0.1:40597,DS-77a5b711-724f-439d-a283-aa8920c1d575,DISK]]; indices=[0, 3, 5, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-710793914-172.17.0.2-1596909218761:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37104,DS-ea740c07-e315-453e-8185-6d6b6f612845,DISK], DatanodeInfoWithStorage[127.0.0.1:34169,DS-fc16adb3-c7cf-4163-93a8-1a3b92c4e513,DISK], DatanodeInfoWithStorage[127.0.0.1:43982,DS-7654726f-e1fc-4bdd-a6a1-fba536eb6ab8,DISK], DatanodeInfoWithStorage[127.0.0.1:46440,DS-34de89af-552c-42c6-88f2-292682c69613,DISK], DatanodeInfoWithStorage[127.0.0.1:45597,DS-ed805ed1-596d-46f2-853d-a64e69380a23,DISK], DatanodeInfoWithStorage[127.0.0.1:46252,DS-8924c1cf-1aa9-4e66-861f-8639c539d383,DISK], DatanodeInfoWithStorage[127.0.0.1:40597,DS-77a5b711-724f-439d-a283-aa8920c1d575,DISK]]; indices=[0, 3, 5, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-710793914-172.17.0.2-1596909218761:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37104,DS-ea740c07-e315-453e-8185-6d6b6f612845,DISK], DatanodeInfoWithStorage[127.0.0.1:34169,DS-fc16adb3-c7cf-4163-93a8-1a3b92c4e513,DISK], DatanodeInfoWithStorage[127.0.0.1:43982,DS-7654726f-e1fc-4bdd-a6a1-fba536eb6ab8,DISK], DatanodeInfoWithStorage[127.0.0.1:46440,DS-34de89af-552c-42c6-88f2-292682c69613,DISK], DatanodeInfoWithStorage[127.0.0.1:45597,DS-ed805ed1-596d-46f2-853d-a64e69380a23,DISK], DatanodeInfoWithStorage[127.0.0.1:46252,DS-8924c1cf-1aa9-4e66-861f-8639c539d383,DISK], DatanodeInfoWithStorage[127.0.0.1:40597,DS-77a5b711-724f-439d-a283-aa8920c1d575,DISK]]; indices=[0, 3, 5, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-710793914-172.17.0.2-1596909218761:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37104,DS-ea740c07-e315-453e-8185-6d6b6f612845,DISK], DatanodeInfoWithStorage[127.0.0.1:34169,DS-fc16adb3-c7cf-4163-93a8-1a3b92c4e513,DISK], DatanodeInfoWithStorage[127.0.0.1:43982,DS-7654726f-e1fc-4bdd-a6a1-fba536eb6ab8,DISK], DatanodeInfoWithStorage[127.0.0.1:46440,DS-34de89af-552c-42c6-88f2-292682c69613,DISK], DatanodeInfoWithStorage[127.0.0.1:45597,DS-ed805ed1-596d-46f2-853d-a64e69380a23,DISK], DatanodeInfoWithStorage[127.0.0.1:46252,DS-8924c1cf-1aa9-4e66-861f-8639c539d383,DISK], DatanodeInfoWithStorage[127.0.0.1:40597,DS-77a5b711-724f-439d-a283-aa8920c1d575,DISK]]; indices=[0, 3, 5, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1430135246-172.17.0.2-1596909576631:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40934,DS-90b5445e-ce17-4709-9237-76ed154e365f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-ebee3615-99b7-4bd4-9d44-3d4e2f6bbe46,DISK], DatanodeInfoWithStorage[127.0.0.1:45950,DS-c5b76cae-862d-43e6-a542-3b62460a88b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41401,DS-f5cd9822-a9d3-4e90-8498-fee9bcd5e544,DISK], DatanodeInfoWithStorage[127.0.0.1:37954,DS-6d6c829c-6b52-431d-b4af-f3ee54661a71,DISK], DatanodeInfoWithStorage[127.0.0.1:35808,DS-6d16b41f-0da4-4938-a1b7-f6500c5e5730,DISK], DatanodeInfoWithStorage[127.0.0.1:37152,DS-c830ab8e-021a-4ebd-b905-556275bbe18a,DISK]]; indices=[0, 2, 4, 6, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1430135246-172.17.0.2-1596909576631:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40934,DS-90b5445e-ce17-4709-9237-76ed154e365f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-ebee3615-99b7-4bd4-9d44-3d4e2f6bbe46,DISK], DatanodeInfoWithStorage[127.0.0.1:45950,DS-c5b76cae-862d-43e6-a542-3b62460a88b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41401,DS-f5cd9822-a9d3-4e90-8498-fee9bcd5e544,DISK], DatanodeInfoWithStorage[127.0.0.1:37954,DS-6d6c829c-6b52-431d-b4af-f3ee54661a71,DISK], DatanodeInfoWithStorage[127.0.0.1:35808,DS-6d16b41f-0da4-4938-a1b7-f6500c5e5730,DISK], DatanodeInfoWithStorage[127.0.0.1:37152,DS-c830ab8e-021a-4ebd-b905-556275bbe18a,DISK]]; indices=[0, 2, 4, 6, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1430135246-172.17.0.2-1596909576631:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40934,DS-90b5445e-ce17-4709-9237-76ed154e365f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-ebee3615-99b7-4bd4-9d44-3d4e2f6bbe46,DISK], DatanodeInfoWithStorage[127.0.0.1:45950,DS-c5b76cae-862d-43e6-a542-3b62460a88b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41401,DS-f5cd9822-a9d3-4e90-8498-fee9bcd5e544,DISK], DatanodeInfoWithStorage[127.0.0.1:37954,DS-6d6c829c-6b52-431d-b4af-f3ee54661a71,DISK], DatanodeInfoWithStorage[127.0.0.1:35808,DS-6d16b41f-0da4-4938-a1b7-f6500c5e5730,DISK], DatanodeInfoWithStorage[127.0.0.1:37152,DS-c830ab8e-021a-4ebd-b905-556275bbe18a,DISK]]; indices=[0, 2, 4, 6, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1430135246-172.17.0.2-1596909576631:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40934,DS-90b5445e-ce17-4709-9237-76ed154e365f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-ebee3615-99b7-4bd4-9d44-3d4e2f6bbe46,DISK], DatanodeInfoWithStorage[127.0.0.1:45950,DS-c5b76cae-862d-43e6-a542-3b62460a88b8,DISK], DatanodeInfoWithStorage[127.0.0.1:41401,DS-f5cd9822-a9d3-4e90-8498-fee9bcd5e544,DISK], DatanodeInfoWithStorage[127.0.0.1:37954,DS-6d6c829c-6b52-431d-b4af-f3ee54661a71,DISK], DatanodeInfoWithStorage[127.0.0.1:35808,DS-6d16b41f-0da4-4938-a1b7-f6500c5e5730,DISK], DatanodeInfoWithStorage[127.0.0.1:37152,DS-c830ab8e-021a-4ebd-b905-556275bbe18a,DISK]]; indices=[0, 2, 4, 6, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1436743031-172.17.0.2-1596909714584:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38449,DS-c620a870-f987-428c-9df9-6fb84d057a69,DISK], DatanodeInfoWithStorage[127.0.0.1:43556,DS-09d06b54-8976-4c8c-9be2-2710d057bfbf,DISK], DatanodeInfoWithStorage[127.0.0.1:34775,DS-33c0e6e1-7001-40b6-b481-454c0e5297c7,DISK], DatanodeInfoWithStorage[127.0.0.1:36209,DS-15cdeb06-b101-4657-b147-8a69e9b8b804,DISK], DatanodeInfoWithStorage[127.0.0.1:41124,DS-b851c4b1-e2d9-4c98-aa79-c6e5b61fa371,DISK], DatanodeInfoWithStorage[127.0.0.1:42888,DS-d0617a31-c7cd-41e0-a40f-4fd4bfb31b59,DISK], DatanodeInfoWithStorage[127.0.0.1:46212,DS-88585570-211d-4b57-b134-28fe5e18f90b,DISK]]; indices=[0, 2, 4, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1436743031-172.17.0.2-1596909714584:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38449,DS-c620a870-f987-428c-9df9-6fb84d057a69,DISK], DatanodeInfoWithStorage[127.0.0.1:43556,DS-09d06b54-8976-4c8c-9be2-2710d057bfbf,DISK], DatanodeInfoWithStorage[127.0.0.1:34775,DS-33c0e6e1-7001-40b6-b481-454c0e5297c7,DISK], DatanodeInfoWithStorage[127.0.0.1:36209,DS-15cdeb06-b101-4657-b147-8a69e9b8b804,DISK], DatanodeInfoWithStorage[127.0.0.1:41124,DS-b851c4b1-e2d9-4c98-aa79-c6e5b61fa371,DISK], DatanodeInfoWithStorage[127.0.0.1:42888,DS-d0617a31-c7cd-41e0-a40f-4fd4bfb31b59,DISK], DatanodeInfoWithStorage[127.0.0.1:46212,DS-88585570-211d-4b57-b134-28fe5e18f90b,DISK]]; indices=[0, 2, 4, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1436743031-172.17.0.2-1596909714584:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38449,DS-c620a870-f987-428c-9df9-6fb84d057a69,DISK], DatanodeInfoWithStorage[127.0.0.1:43556,DS-09d06b54-8976-4c8c-9be2-2710d057bfbf,DISK], DatanodeInfoWithStorage[127.0.0.1:34775,DS-33c0e6e1-7001-40b6-b481-454c0e5297c7,DISK], DatanodeInfoWithStorage[127.0.0.1:36209,DS-15cdeb06-b101-4657-b147-8a69e9b8b804,DISK], DatanodeInfoWithStorage[127.0.0.1:41124,DS-b851c4b1-e2d9-4c98-aa79-c6e5b61fa371,DISK], DatanodeInfoWithStorage[127.0.0.1:42888,DS-d0617a31-c7cd-41e0-a40f-4fd4bfb31b59,DISK], DatanodeInfoWithStorage[127.0.0.1:46212,DS-88585570-211d-4b57-b134-28fe5e18f90b,DISK]]; indices=[0, 2, 4, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1436743031-172.17.0.2-1596909714584:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38449,DS-c620a870-f987-428c-9df9-6fb84d057a69,DISK], DatanodeInfoWithStorage[127.0.0.1:43556,DS-09d06b54-8976-4c8c-9be2-2710d057bfbf,DISK], DatanodeInfoWithStorage[127.0.0.1:34775,DS-33c0e6e1-7001-40b6-b481-454c0e5297c7,DISK], DatanodeInfoWithStorage[127.0.0.1:36209,DS-15cdeb06-b101-4657-b147-8a69e9b8b804,DISK], DatanodeInfoWithStorage[127.0.0.1:41124,DS-b851c4b1-e2d9-4c98-aa79-c6e5b61fa371,DISK], DatanodeInfoWithStorage[127.0.0.1:42888,DS-d0617a31-c7cd-41e0-a40f-4fd4bfb31b59,DISK], DatanodeInfoWithStorage[127.0.0.1:46212,DS-88585570-211d-4b57-b134-28fe5e18f90b,DISK]]; indices=[0, 2, 4, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-583413879-172.17.0.2-1596909836200:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44346,DS-f11ee6f4-4b7a-4e74-8186-2b3f853fae00,DISK], DatanodeInfoWithStorage[127.0.0.1:42296,DS-1cef0a90-3d07-4bc8-bf84-d3db8d4b7294,DISK], DatanodeInfoWithStorage[127.0.0.1:46152,DS-944dac73-4b24-4dfc-b85e-a4224f5fed61,DISK], DatanodeInfoWithStorage[127.0.0.1:43601,DS-af10b386-49c8-4c71-8ffc-6d598fe1586a,DISK], DatanodeInfoWithStorage[127.0.0.1:43612,DS-761e58fb-e72e-4bda-909e-7da08e22ccf9,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-2532c2ab-22c7-41a9-876c-4289229326bf,DISK], DatanodeInfoWithStorage[127.0.0.1:41953,DS-72111f7b-93cb-4e92-8ba0-dd26e2fde695,DISK]]; indices=[0, 1, 2, 3, 4, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-583413879-172.17.0.2-1596909836200:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44346,DS-f11ee6f4-4b7a-4e74-8186-2b3f853fae00,DISK], DatanodeInfoWithStorage[127.0.0.1:42296,DS-1cef0a90-3d07-4bc8-bf84-d3db8d4b7294,DISK], DatanodeInfoWithStorage[127.0.0.1:46152,DS-944dac73-4b24-4dfc-b85e-a4224f5fed61,DISK], DatanodeInfoWithStorage[127.0.0.1:43601,DS-af10b386-49c8-4c71-8ffc-6d598fe1586a,DISK], DatanodeInfoWithStorage[127.0.0.1:43612,DS-761e58fb-e72e-4bda-909e-7da08e22ccf9,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-2532c2ab-22c7-41a9-876c-4289229326bf,DISK], DatanodeInfoWithStorage[127.0.0.1:41953,DS-72111f7b-93cb-4e92-8ba0-dd26e2fde695,DISK]]; indices=[0, 1, 2, 3, 4, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-583413879-172.17.0.2-1596909836200:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44346,DS-f11ee6f4-4b7a-4e74-8186-2b3f853fae00,DISK], DatanodeInfoWithStorage[127.0.0.1:42296,DS-1cef0a90-3d07-4bc8-bf84-d3db8d4b7294,DISK], DatanodeInfoWithStorage[127.0.0.1:46152,DS-944dac73-4b24-4dfc-b85e-a4224f5fed61,DISK], DatanodeInfoWithStorage[127.0.0.1:43601,DS-af10b386-49c8-4c71-8ffc-6d598fe1586a,DISK], DatanodeInfoWithStorage[127.0.0.1:43612,DS-761e58fb-e72e-4bda-909e-7da08e22ccf9,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-2532c2ab-22c7-41a9-876c-4289229326bf,DISK], DatanodeInfoWithStorage[127.0.0.1:41953,DS-72111f7b-93cb-4e92-8ba0-dd26e2fde695,DISK]]; indices=[0, 1, 2, 3, 4, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-583413879-172.17.0.2-1596909836200:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44346,DS-f11ee6f4-4b7a-4e74-8186-2b3f853fae00,DISK], DatanodeInfoWithStorage[127.0.0.1:42296,DS-1cef0a90-3d07-4bc8-bf84-d3db8d4b7294,DISK], DatanodeInfoWithStorage[127.0.0.1:46152,DS-944dac73-4b24-4dfc-b85e-a4224f5fed61,DISK], DatanodeInfoWithStorage[127.0.0.1:43601,DS-af10b386-49c8-4c71-8ffc-6d598fe1586a,DISK], DatanodeInfoWithStorage[127.0.0.1:43612,DS-761e58fb-e72e-4bda-909e-7da08e22ccf9,DISK], DatanodeInfoWithStorage[127.0.0.1:42618,DS-2532c2ab-22c7-41a9-876c-4289229326bf,DISK], DatanodeInfoWithStorage[127.0.0.1:41953,DS-72111f7b-93cb-4e92-8ba0-dd26e2fde695,DISK]]; indices=[0, 1, 2, 3, 4, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.image.compress
component: hdfs:NameNode
v1: true
v2: false
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-230950930-172.17.0.2-1596910816379:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-040f0897-7108-4f3a-aaa0-2333d768f222,DISK], DatanodeInfoWithStorage[127.0.0.1:34756,DS-42e1f493-5302-46b4-940c-da4b745a8479,DISK], DatanodeInfoWithStorage[127.0.0.1:41578,DS-b4356c03-ffed-493a-9315-69a7c64f775e,DISK], DatanodeInfoWithStorage[127.0.0.1:36603,DS-fef0aceb-7d96-46fd-b47b-189f38dc5e18,DISK], DatanodeInfoWithStorage[127.0.0.1:44691,DS-0212b656-d469-46ee-b33b-ef9c54efb3b7,DISK], DatanodeInfoWithStorage[127.0.0.1:40817,DS-64209f10-0dc5-44ef-b34e-cabc7e5273af,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-dd1c6941-f0fd-4d40-b541-92b69cd5e03b,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-230950930-172.17.0.2-1596910816379:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-040f0897-7108-4f3a-aaa0-2333d768f222,DISK], DatanodeInfoWithStorage[127.0.0.1:34756,DS-42e1f493-5302-46b4-940c-da4b745a8479,DISK], DatanodeInfoWithStorage[127.0.0.1:41578,DS-b4356c03-ffed-493a-9315-69a7c64f775e,DISK], DatanodeInfoWithStorage[127.0.0.1:36603,DS-fef0aceb-7d96-46fd-b47b-189f38dc5e18,DISK], DatanodeInfoWithStorage[127.0.0.1:44691,DS-0212b656-d469-46ee-b33b-ef9c54efb3b7,DISK], DatanodeInfoWithStorage[127.0.0.1:40817,DS-64209f10-0dc5-44ef-b34e-cabc7e5273af,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-dd1c6941-f0fd-4d40-b541-92b69cd5e03b,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-230950930-172.17.0.2-1596910816379:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-040f0897-7108-4f3a-aaa0-2333d768f222,DISK], DatanodeInfoWithStorage[127.0.0.1:34756,DS-42e1f493-5302-46b4-940c-da4b745a8479,DISK], DatanodeInfoWithStorage[127.0.0.1:41578,DS-b4356c03-ffed-493a-9315-69a7c64f775e,DISK], DatanodeInfoWithStorage[127.0.0.1:36603,DS-fef0aceb-7d96-46fd-b47b-189f38dc5e18,DISK], DatanodeInfoWithStorage[127.0.0.1:44691,DS-0212b656-d469-46ee-b33b-ef9c54efb3b7,DISK], DatanodeInfoWithStorage[127.0.0.1:40817,DS-64209f10-0dc5-44ef-b34e-cabc7e5273af,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-dd1c6941-f0fd-4d40-b541-92b69cd5e03b,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-230950930-172.17.0.2-1596910816379:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-040f0897-7108-4f3a-aaa0-2333d768f222,DISK], DatanodeInfoWithStorage[127.0.0.1:34756,DS-42e1f493-5302-46b4-940c-da4b745a8479,DISK], DatanodeInfoWithStorage[127.0.0.1:41578,DS-b4356c03-ffed-493a-9315-69a7c64f775e,DISK], DatanodeInfoWithStorage[127.0.0.1:36603,DS-fef0aceb-7d96-46fd-b47b-189f38dc5e18,DISK], DatanodeInfoWithStorage[127.0.0.1:44691,DS-0212b656-d469-46ee-b33b-ef9c54efb3b7,DISK], DatanodeInfoWithStorage[127.0.0.1:40817,DS-64209f10-0dc5-44ef-b34e-cabc7e5273af,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-dd1c6941-f0fd-4d40-b541-92b69cd5e03b,DISK]]; indices=[0, 1, 3, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


v1v2 failed with probability 9 out of 50
v1v1v2v2 failed with probability 16 out of 50
result: false positive !!!
Total execution time in seconds : 6615
