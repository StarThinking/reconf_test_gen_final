reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-616482700-172.17.0.19-1596887604961:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37526,DS-1f67f35a-57be-401c-8fc0-c9fd6128a638,DISK], DatanodeInfoWithStorage[127.0.0.1:38335,DS-814f97e3-3baf-4e29-b726-56e2283f40d6,DISK], DatanodeInfoWithStorage[127.0.0.1:44964,DS-1925b470-0eff-4775-a22a-700bb1b16a09,DISK], DatanodeInfoWithStorage[127.0.0.1:33638,DS-e7e0608a-23b9-4820-acc0-d1528af073df,DISK], DatanodeInfoWithStorage[127.0.0.1:41804,DS-40271c91-a932-4df4-a260-aa5a1f3d2cba,DISK], DatanodeInfoWithStorage[127.0.0.1:39626,DS-549a0125-0cc9-4ddb-b985-23f8e6e07ecc,DISK], DatanodeInfoWithStorage[127.0.0.1:37467,DS-873d566f-0af6-4216-a38b-b481c5a3747e,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-616482700-172.17.0.19-1596887604961:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37526,DS-1f67f35a-57be-401c-8fc0-c9fd6128a638,DISK], DatanodeInfoWithStorage[127.0.0.1:38335,DS-814f97e3-3baf-4e29-b726-56e2283f40d6,DISK], DatanodeInfoWithStorage[127.0.0.1:44964,DS-1925b470-0eff-4775-a22a-700bb1b16a09,DISK], DatanodeInfoWithStorage[127.0.0.1:33638,DS-e7e0608a-23b9-4820-acc0-d1528af073df,DISK], DatanodeInfoWithStorage[127.0.0.1:41804,DS-40271c91-a932-4df4-a260-aa5a1f3d2cba,DISK], DatanodeInfoWithStorage[127.0.0.1:39626,DS-549a0125-0cc9-4ddb-b985-23f8e6e07ecc,DISK], DatanodeInfoWithStorage[127.0.0.1:37467,DS-873d566f-0af6-4216-a38b-b481c5a3747e,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-616482700-172.17.0.19-1596887604961:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37526,DS-1f67f35a-57be-401c-8fc0-c9fd6128a638,DISK], DatanodeInfoWithStorage[127.0.0.1:38335,DS-814f97e3-3baf-4e29-b726-56e2283f40d6,DISK], DatanodeInfoWithStorage[127.0.0.1:44964,DS-1925b470-0eff-4775-a22a-700bb1b16a09,DISK], DatanodeInfoWithStorage[127.0.0.1:33638,DS-e7e0608a-23b9-4820-acc0-d1528af073df,DISK], DatanodeInfoWithStorage[127.0.0.1:41804,DS-40271c91-a932-4df4-a260-aa5a1f3d2cba,DISK], DatanodeInfoWithStorage[127.0.0.1:39626,DS-549a0125-0cc9-4ddb-b985-23f8e6e07ecc,DISK], DatanodeInfoWithStorage[127.0.0.1:37467,DS-873d566f-0af6-4216-a38b-b481c5a3747e,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-616482700-172.17.0.19-1596887604961:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37526,DS-1f67f35a-57be-401c-8fc0-c9fd6128a638,DISK], DatanodeInfoWithStorage[127.0.0.1:38335,DS-814f97e3-3baf-4e29-b726-56e2283f40d6,DISK], DatanodeInfoWithStorage[127.0.0.1:44964,DS-1925b470-0eff-4775-a22a-700bb1b16a09,DISK], DatanodeInfoWithStorage[127.0.0.1:33638,DS-e7e0608a-23b9-4820-acc0-d1528af073df,DISK], DatanodeInfoWithStorage[127.0.0.1:41804,DS-40271c91-a932-4df4-a260-aa5a1f3d2cba,DISK], DatanodeInfoWithStorage[127.0.0.1:39626,DS-549a0125-0cc9-4ddb-b985-23f8e6e07ecc,DISK], DatanodeInfoWithStorage[127.0.0.1:37467,DS-873d566f-0af6-4216-a38b-b481c5a3747e,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1359843259-172.17.0.19-1596887682483:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44331,DS-bc3a1ab2-12e7-4622-aad8-e3a5fa38feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:41997,DS-2e9f98f4-6ca4-4c51-9a93-4b2b79760e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35092,DS-2ea897c9-fba3-47dc-9dcd-f597714d5c58,DISK], DatanodeInfoWithStorage[127.0.0.1:37129,DS-bd09f2b3-ff27-4ade-aafe-6bb050597928,DISK], DatanodeInfoWithStorage[127.0.0.1:38866,DS-5fbbd316-c123-4998-9a31-668b3947b00a,DISK], DatanodeInfoWithStorage[127.0.0.1:44082,DS-1bf98bfc-1922-47d3-b189-ae2d2f3bc13b,DISK], DatanodeInfoWithStorage[127.0.0.1:34322,DS-8f108c3a-42be-4763-9f68-7b86e4148695,DISK]]; indices=[0, 1, 3, 4, 6, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1359843259-172.17.0.19-1596887682483:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44331,DS-bc3a1ab2-12e7-4622-aad8-e3a5fa38feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:41997,DS-2e9f98f4-6ca4-4c51-9a93-4b2b79760e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35092,DS-2ea897c9-fba3-47dc-9dcd-f597714d5c58,DISK], DatanodeInfoWithStorage[127.0.0.1:37129,DS-bd09f2b3-ff27-4ade-aafe-6bb050597928,DISK], DatanodeInfoWithStorage[127.0.0.1:38866,DS-5fbbd316-c123-4998-9a31-668b3947b00a,DISK], DatanodeInfoWithStorage[127.0.0.1:44082,DS-1bf98bfc-1922-47d3-b189-ae2d2f3bc13b,DISK], DatanodeInfoWithStorage[127.0.0.1:34322,DS-8f108c3a-42be-4763-9f68-7b86e4148695,DISK]]; indices=[0, 1, 3, 4, 6, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1359843259-172.17.0.19-1596887682483:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44331,DS-bc3a1ab2-12e7-4622-aad8-e3a5fa38feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:41997,DS-2e9f98f4-6ca4-4c51-9a93-4b2b79760e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35092,DS-2ea897c9-fba3-47dc-9dcd-f597714d5c58,DISK], DatanodeInfoWithStorage[127.0.0.1:37129,DS-bd09f2b3-ff27-4ade-aafe-6bb050597928,DISK], DatanodeInfoWithStorage[127.0.0.1:38866,DS-5fbbd316-c123-4998-9a31-668b3947b00a,DISK], DatanodeInfoWithStorage[127.0.0.1:44082,DS-1bf98bfc-1922-47d3-b189-ae2d2f3bc13b,DISK], DatanodeInfoWithStorage[127.0.0.1:34322,DS-8f108c3a-42be-4763-9f68-7b86e4148695,DISK]]; indices=[0, 1, 3, 4, 6, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1359843259-172.17.0.19-1596887682483:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44331,DS-bc3a1ab2-12e7-4622-aad8-e3a5fa38feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:41997,DS-2e9f98f4-6ca4-4c51-9a93-4b2b79760e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35092,DS-2ea897c9-fba3-47dc-9dcd-f597714d5c58,DISK], DatanodeInfoWithStorage[127.0.0.1:37129,DS-bd09f2b3-ff27-4ade-aafe-6bb050597928,DISK], DatanodeInfoWithStorage[127.0.0.1:38866,DS-5fbbd316-c123-4998-9a31-668b3947b00a,DISK], DatanodeInfoWithStorage[127.0.0.1:44082,DS-1bf98bfc-1922-47d3-b189-ae2d2f3bc13b,DISK], DatanodeInfoWithStorage[127.0.0.1:34322,DS-8f108c3a-42be-4763-9f68-7b86e4148695,DISK]]; indices=[0, 1, 3, 4, 6, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1739668390-172.17.0.19-1596888513288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39677,DS-8ca07c34-31a2-4159-8c16-25dd9c53dc72,DISK], DatanodeInfoWithStorage[127.0.0.1:43515,DS-c20da92f-e36a-42ef-9f99-6ad2d089d7ed,DISK], DatanodeInfoWithStorage[127.0.0.1:46499,DS-53c0e527-4994-4f94-bff7-82eec9459527,DISK], DatanodeInfoWithStorage[127.0.0.1:34369,DS-7b4e5572-bf6b-41de-86a5-233d04d78468,DISK], DatanodeInfoWithStorage[127.0.0.1:34351,DS-2c2e4bae-9c37-4b13-9ad8-f64deaa1874c,DISK], DatanodeInfoWithStorage[127.0.0.1:34783,DS-4f1f4340-a5a7-4f24-9e75-2ebfe36e66e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39664,DS-9029d26c-a1fc-4f56-8e49-dd3ec0004120,DISK]]; indices=[0, 1, 4, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1739668390-172.17.0.19-1596888513288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39677,DS-8ca07c34-31a2-4159-8c16-25dd9c53dc72,DISK], DatanodeInfoWithStorage[127.0.0.1:43515,DS-c20da92f-e36a-42ef-9f99-6ad2d089d7ed,DISK], DatanodeInfoWithStorage[127.0.0.1:46499,DS-53c0e527-4994-4f94-bff7-82eec9459527,DISK], DatanodeInfoWithStorage[127.0.0.1:34369,DS-7b4e5572-bf6b-41de-86a5-233d04d78468,DISK], DatanodeInfoWithStorage[127.0.0.1:34351,DS-2c2e4bae-9c37-4b13-9ad8-f64deaa1874c,DISK], DatanodeInfoWithStorage[127.0.0.1:34783,DS-4f1f4340-a5a7-4f24-9e75-2ebfe36e66e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39664,DS-9029d26c-a1fc-4f56-8e49-dd3ec0004120,DISK]]; indices=[0, 1, 4, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1739668390-172.17.0.19-1596888513288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39677,DS-8ca07c34-31a2-4159-8c16-25dd9c53dc72,DISK], DatanodeInfoWithStorage[127.0.0.1:43515,DS-c20da92f-e36a-42ef-9f99-6ad2d089d7ed,DISK], DatanodeInfoWithStorage[127.0.0.1:46499,DS-53c0e527-4994-4f94-bff7-82eec9459527,DISK], DatanodeInfoWithStorage[127.0.0.1:34369,DS-7b4e5572-bf6b-41de-86a5-233d04d78468,DISK], DatanodeInfoWithStorage[127.0.0.1:34351,DS-2c2e4bae-9c37-4b13-9ad8-f64deaa1874c,DISK], DatanodeInfoWithStorage[127.0.0.1:34783,DS-4f1f4340-a5a7-4f24-9e75-2ebfe36e66e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39664,DS-9029d26c-a1fc-4f56-8e49-dd3ec0004120,DISK]]; indices=[0, 1, 4, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1739668390-172.17.0.19-1596888513288:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39677,DS-8ca07c34-31a2-4159-8c16-25dd9c53dc72,DISK], DatanodeInfoWithStorage[127.0.0.1:43515,DS-c20da92f-e36a-42ef-9f99-6ad2d089d7ed,DISK], DatanodeInfoWithStorage[127.0.0.1:46499,DS-53c0e527-4994-4f94-bff7-82eec9459527,DISK], DatanodeInfoWithStorage[127.0.0.1:34369,DS-7b4e5572-bf6b-41de-86a5-233d04d78468,DISK], DatanodeInfoWithStorage[127.0.0.1:34351,DS-2c2e4bae-9c37-4b13-9ad8-f64deaa1874c,DISK], DatanodeInfoWithStorage[127.0.0.1:34783,DS-4f1f4340-a5a7-4f24-9e75-2ebfe36e66e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39664,DS-9029d26c-a1fc-4f56-8e49-dd3ec0004120,DISK]]; indices=[0, 1, 4, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2090969176-172.17.0.19-1596888745317:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41746,DS-a0fe2ed6-fbd3-4dcc-971d-51dc2b84098f,DISK], DatanodeInfoWithStorage[127.0.0.1:39756,DS-2ce6be2f-d827-4c01-baa8-fb4bc6aa9a9e,DISK], DatanodeInfoWithStorage[127.0.0.1:40471,DS-5467fc62-3633-45d3-a9b1-68dc88c1cb03,DISK], DatanodeInfoWithStorage[127.0.0.1:39576,DS-909d3f1f-9c11-4bf1-aeeb-8251bfcf2eb8,DISK], DatanodeInfoWithStorage[127.0.0.1:45494,DS-55594a12-0101-43a4-bd49-12a1f57c9c8e,DISK]]; indices=[0, 2, 3, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2090969176-172.17.0.19-1596888745317:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41746,DS-a0fe2ed6-fbd3-4dcc-971d-51dc2b84098f,DISK], DatanodeInfoWithStorage[127.0.0.1:39756,DS-2ce6be2f-d827-4c01-baa8-fb4bc6aa9a9e,DISK], DatanodeInfoWithStorage[127.0.0.1:40471,DS-5467fc62-3633-45d3-a9b1-68dc88c1cb03,DISK], DatanodeInfoWithStorage[127.0.0.1:39576,DS-909d3f1f-9c11-4bf1-aeeb-8251bfcf2eb8,DISK], DatanodeInfoWithStorage[127.0.0.1:45494,DS-55594a12-0101-43a4-bd49-12a1f57c9c8e,DISK]]; indices=[0, 2, 3, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2090969176-172.17.0.19-1596888745317:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41746,DS-a0fe2ed6-fbd3-4dcc-971d-51dc2b84098f,DISK], DatanodeInfoWithStorage[127.0.0.1:39756,DS-2ce6be2f-d827-4c01-baa8-fb4bc6aa9a9e,DISK], DatanodeInfoWithStorage[127.0.0.1:40471,DS-5467fc62-3633-45d3-a9b1-68dc88c1cb03,DISK], DatanodeInfoWithStorage[127.0.0.1:39576,DS-909d3f1f-9c11-4bf1-aeeb-8251bfcf2eb8,DISK], DatanodeInfoWithStorage[127.0.0.1:45494,DS-55594a12-0101-43a4-bd49-12a1f57c9c8e,DISK]]; indices=[0, 2, 3, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2090969176-172.17.0.19-1596888745317:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41746,DS-a0fe2ed6-fbd3-4dcc-971d-51dc2b84098f,DISK], DatanodeInfoWithStorage[127.0.0.1:39756,DS-2ce6be2f-d827-4c01-baa8-fb4bc6aa9a9e,DISK], DatanodeInfoWithStorage[127.0.0.1:40471,DS-5467fc62-3633-45d3-a9b1-68dc88c1cb03,DISK], DatanodeInfoWithStorage[127.0.0.1:39576,DS-909d3f1f-9c11-4bf1-aeeb-8251bfcf2eb8,DISK], DatanodeInfoWithStorage[127.0.0.1:45494,DS-55594a12-0101-43a4-bd49-12a1f57c9c8e,DISK]]; indices=[0, 2, 3, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-217090869-172.17.0.19-1596889930195:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36509,DS-bc658a17-b038-4bfa-b583-67486447bee9,DISK], DatanodeInfoWithStorage[127.0.0.1:45892,DS-e3edc636-c516-4214-953f-893a9432f7e4,DISK], DatanodeInfoWithStorage[127.0.0.1:36835,DS-6c8c0180-9560-45ef-b3a0-e7df533c0b01,DISK], DatanodeInfoWithStorage[127.0.0.1:37754,DS-73586d78-3ecf-4ace-8252-bfee775be23a,DISK], DatanodeInfoWithStorage[127.0.0.1:40458,DS-0ab9dcd2-88ea-4f00-86c5-7bcf2e7d0493,DISK], DatanodeInfoWithStorage[127.0.0.1:36960,DS-de8a9b36-b9ac-4329-b580-308570e5772c,DISK]]; indices=[1, 3, 4, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-217090869-172.17.0.19-1596889930195:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36509,DS-bc658a17-b038-4bfa-b583-67486447bee9,DISK], DatanodeInfoWithStorage[127.0.0.1:45892,DS-e3edc636-c516-4214-953f-893a9432f7e4,DISK], DatanodeInfoWithStorage[127.0.0.1:36835,DS-6c8c0180-9560-45ef-b3a0-e7df533c0b01,DISK], DatanodeInfoWithStorage[127.0.0.1:37754,DS-73586d78-3ecf-4ace-8252-bfee775be23a,DISK], DatanodeInfoWithStorage[127.0.0.1:40458,DS-0ab9dcd2-88ea-4f00-86c5-7bcf2e7d0493,DISK], DatanodeInfoWithStorage[127.0.0.1:36960,DS-de8a9b36-b9ac-4329-b580-308570e5772c,DISK]]; indices=[1, 3, 4, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-217090869-172.17.0.19-1596889930195:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36509,DS-bc658a17-b038-4bfa-b583-67486447bee9,DISK], DatanodeInfoWithStorage[127.0.0.1:45892,DS-e3edc636-c516-4214-953f-893a9432f7e4,DISK], DatanodeInfoWithStorage[127.0.0.1:36835,DS-6c8c0180-9560-45ef-b3a0-e7df533c0b01,DISK], DatanodeInfoWithStorage[127.0.0.1:37754,DS-73586d78-3ecf-4ace-8252-bfee775be23a,DISK], DatanodeInfoWithStorage[127.0.0.1:40458,DS-0ab9dcd2-88ea-4f00-86c5-7bcf2e7d0493,DISK], DatanodeInfoWithStorage[127.0.0.1:36960,DS-de8a9b36-b9ac-4329-b580-308570e5772c,DISK]]; indices=[1, 3, 4, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-217090869-172.17.0.19-1596889930195:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36509,DS-bc658a17-b038-4bfa-b583-67486447bee9,DISK], DatanodeInfoWithStorage[127.0.0.1:45892,DS-e3edc636-c516-4214-953f-893a9432f7e4,DISK], DatanodeInfoWithStorage[127.0.0.1:36835,DS-6c8c0180-9560-45ef-b3a0-e7df533c0b01,DISK], DatanodeInfoWithStorage[127.0.0.1:37754,DS-73586d78-3ecf-4ace-8252-bfee775be23a,DISK], DatanodeInfoWithStorage[127.0.0.1:40458,DS-0ab9dcd2-88ea-4f00-86c5-7bcf2e7d0493,DISK], DatanodeInfoWithStorage[127.0.0.1:36960,DS-de8a9b36-b9ac-4329-b580-308570e5772c,DISK]]; indices=[1, 3, 4, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1802955116-172.17.0.19-1596890120180:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36573,DS-79213e79-dbba-4c40-b086-526be3a37887,DISK], DatanodeInfoWithStorage[127.0.0.1:44331,DS-cb5b81b4-6387-48b9-8f6d-f2e3168b74c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37730,DS-4cd03988-88f7-4e58-bd41-43b8ff683ace,DISK], DatanodeInfoWithStorage[127.0.0.1:34773,DS-38817ec2-20f7-44be-840f-08aad2cadddb,DISK], DatanodeInfoWithStorage[127.0.0.1:42355,DS-b78b65b8-f4fa-4af5-bee3-861c2bfee022,DISK]]; indices=[0, 2, 3, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1802955116-172.17.0.19-1596890120180:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36573,DS-79213e79-dbba-4c40-b086-526be3a37887,DISK], DatanodeInfoWithStorage[127.0.0.1:44331,DS-cb5b81b4-6387-48b9-8f6d-f2e3168b74c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37730,DS-4cd03988-88f7-4e58-bd41-43b8ff683ace,DISK], DatanodeInfoWithStorage[127.0.0.1:34773,DS-38817ec2-20f7-44be-840f-08aad2cadddb,DISK], DatanodeInfoWithStorage[127.0.0.1:42355,DS-b78b65b8-f4fa-4af5-bee3-861c2bfee022,DISK]]; indices=[0, 2, 3, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1802955116-172.17.0.19-1596890120180:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36573,DS-79213e79-dbba-4c40-b086-526be3a37887,DISK], DatanodeInfoWithStorage[127.0.0.1:44331,DS-cb5b81b4-6387-48b9-8f6d-f2e3168b74c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37730,DS-4cd03988-88f7-4e58-bd41-43b8ff683ace,DISK], DatanodeInfoWithStorage[127.0.0.1:34773,DS-38817ec2-20f7-44be-840f-08aad2cadddb,DISK], DatanodeInfoWithStorage[127.0.0.1:42355,DS-b78b65b8-f4fa-4af5-bee3-861c2bfee022,DISK]]; indices=[0, 2, 3, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1802955116-172.17.0.19-1596890120180:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36573,DS-79213e79-dbba-4c40-b086-526be3a37887,DISK], DatanodeInfoWithStorage[127.0.0.1:44331,DS-cb5b81b4-6387-48b9-8f6d-f2e3168b74c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37730,DS-4cd03988-88f7-4e58-bd41-43b8ff683ace,DISK], DatanodeInfoWithStorage[127.0.0.1:34773,DS-38817ec2-20f7-44be-840f-08aad2cadddb,DISK], DatanodeInfoWithStorage[127.0.0.1:42355,DS-b78b65b8-f4fa-4af5-bee3-861c2bfee022,DISK]]; indices=[0, 2, 3, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1999054693-172.17.0.19-1596890271514:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43650,DS-810891cd-cc26-46bd-99de-0ace2d5b89dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41950,DS-99364243-0d08-412b-8b64-066479a61794,DISK], DatanodeInfoWithStorage[127.0.0.1:34895,DS-0741a251-ec0b-488f-b5f2-96178d7e8d49,DISK], DatanodeInfoWithStorage[127.0.0.1:38621,DS-5c06cb4d-ec4d-450f-a6c8-ea88d0c9758b,DISK], DatanodeInfoWithStorage[127.0.0.1:36853,DS-18f25d9f-ade5-4766-8a38-4e27f3694158,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-244b1b91-e407-4834-a818-4f5424f792d7,DISK]]; indices=[0, 4, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1999054693-172.17.0.19-1596890271514:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43650,DS-810891cd-cc26-46bd-99de-0ace2d5b89dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41950,DS-99364243-0d08-412b-8b64-066479a61794,DISK], DatanodeInfoWithStorage[127.0.0.1:34895,DS-0741a251-ec0b-488f-b5f2-96178d7e8d49,DISK], DatanodeInfoWithStorage[127.0.0.1:38621,DS-5c06cb4d-ec4d-450f-a6c8-ea88d0c9758b,DISK], DatanodeInfoWithStorage[127.0.0.1:36853,DS-18f25d9f-ade5-4766-8a38-4e27f3694158,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-244b1b91-e407-4834-a818-4f5424f792d7,DISK]]; indices=[0, 4, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1999054693-172.17.0.19-1596890271514:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43650,DS-810891cd-cc26-46bd-99de-0ace2d5b89dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41950,DS-99364243-0d08-412b-8b64-066479a61794,DISK], DatanodeInfoWithStorage[127.0.0.1:34895,DS-0741a251-ec0b-488f-b5f2-96178d7e8d49,DISK], DatanodeInfoWithStorage[127.0.0.1:38621,DS-5c06cb4d-ec4d-450f-a6c8-ea88d0c9758b,DISK], DatanodeInfoWithStorage[127.0.0.1:36853,DS-18f25d9f-ade5-4766-8a38-4e27f3694158,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-244b1b91-e407-4834-a818-4f5424f792d7,DISK]]; indices=[0, 4, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1999054693-172.17.0.19-1596890271514:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43650,DS-810891cd-cc26-46bd-99de-0ace2d5b89dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41950,DS-99364243-0d08-412b-8b64-066479a61794,DISK], DatanodeInfoWithStorage[127.0.0.1:34895,DS-0741a251-ec0b-488f-b5f2-96178d7e8d49,DISK], DatanodeInfoWithStorage[127.0.0.1:38621,DS-5c06cb4d-ec4d-450f-a6c8-ea88d0c9758b,DISK], DatanodeInfoWithStorage[127.0.0.1:36853,DS-18f25d9f-ade5-4766-8a38-4e27f3694158,DISK], DatanodeInfoWithStorage[127.0.0.1:35583,DS-244b1b91-e407-4834-a818-4f5424f792d7,DISK]]; indices=[0, 4, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-375317232-172.17.0.19-1596890871780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33116,DS-70fa715e-e44a-40ae-a8b3-f7df3ab66818,DISK], DatanodeInfoWithStorage[127.0.0.1:36509,DS-e12d26b3-89d7-4a88-ba31-23346fcd4566,DISK], DatanodeInfoWithStorage[127.0.0.1:42303,DS-09cc530e-c28a-443b-be31-120941fd02a2,DISK], DatanodeInfoWithStorage[127.0.0.1:43234,DS-30d357cd-18a7-47b5-8817-fe225acadf46,DISK], DatanodeInfoWithStorage[127.0.0.1:38001,DS-87118183-c067-4c62-922a-c6494d81c798,DISK], DatanodeInfoWithStorage[127.0.0.1:40809,DS-8d6a1fc6-065a-416d-a245-5220b4441f87,DISK], DatanodeInfoWithStorage[127.0.0.1:41208,DS-674bdb78-8d72-4f18-a8cc-27e4355f8b78,DISK]]; indices=[1, 2, 4, 5, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-375317232-172.17.0.19-1596890871780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33116,DS-70fa715e-e44a-40ae-a8b3-f7df3ab66818,DISK], DatanodeInfoWithStorage[127.0.0.1:36509,DS-e12d26b3-89d7-4a88-ba31-23346fcd4566,DISK], DatanodeInfoWithStorage[127.0.0.1:42303,DS-09cc530e-c28a-443b-be31-120941fd02a2,DISK], DatanodeInfoWithStorage[127.0.0.1:43234,DS-30d357cd-18a7-47b5-8817-fe225acadf46,DISK], DatanodeInfoWithStorage[127.0.0.1:38001,DS-87118183-c067-4c62-922a-c6494d81c798,DISK], DatanodeInfoWithStorage[127.0.0.1:40809,DS-8d6a1fc6-065a-416d-a245-5220b4441f87,DISK], DatanodeInfoWithStorage[127.0.0.1:41208,DS-674bdb78-8d72-4f18-a8cc-27e4355f8b78,DISK]]; indices=[1, 2, 4, 5, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-375317232-172.17.0.19-1596890871780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33116,DS-70fa715e-e44a-40ae-a8b3-f7df3ab66818,DISK], DatanodeInfoWithStorage[127.0.0.1:36509,DS-e12d26b3-89d7-4a88-ba31-23346fcd4566,DISK], DatanodeInfoWithStorage[127.0.0.1:42303,DS-09cc530e-c28a-443b-be31-120941fd02a2,DISK], DatanodeInfoWithStorage[127.0.0.1:43234,DS-30d357cd-18a7-47b5-8817-fe225acadf46,DISK], DatanodeInfoWithStorage[127.0.0.1:38001,DS-87118183-c067-4c62-922a-c6494d81c798,DISK], DatanodeInfoWithStorage[127.0.0.1:40809,DS-8d6a1fc6-065a-416d-a245-5220b4441f87,DISK], DatanodeInfoWithStorage[127.0.0.1:41208,DS-674bdb78-8d72-4f18-a8cc-27e4355f8b78,DISK]]; indices=[1, 2, 4, 5, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-375317232-172.17.0.19-1596890871780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33116,DS-70fa715e-e44a-40ae-a8b3-f7df3ab66818,DISK], DatanodeInfoWithStorage[127.0.0.1:36509,DS-e12d26b3-89d7-4a88-ba31-23346fcd4566,DISK], DatanodeInfoWithStorage[127.0.0.1:42303,DS-09cc530e-c28a-443b-be31-120941fd02a2,DISK], DatanodeInfoWithStorage[127.0.0.1:43234,DS-30d357cd-18a7-47b5-8817-fe225acadf46,DISK], DatanodeInfoWithStorage[127.0.0.1:38001,DS-87118183-c067-4c62-922a-c6494d81c798,DISK], DatanodeInfoWithStorage[127.0.0.1:40809,DS-8d6a1fc6-065a-416d-a245-5220b4441f87,DISK], DatanodeInfoWithStorage[127.0.0.1:41208,DS-674bdb78-8d72-4f18-a8cc-27e4355f8b78,DISK]]; indices=[1, 2, 4, 5, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-310817291-172.17.0.19-1596891213777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45518,DS-e8613b0b-30db-4d4d-ac72-582408e118af,DISK], DatanodeInfoWithStorage[127.0.0.1:44524,DS-aaa186f4-a2b7-4e29-8218-c7a692099426,DISK], DatanodeInfoWithStorage[127.0.0.1:42383,DS-6371de6f-4841-464d-9fbe-9a256cc0134a,DISK], DatanodeInfoWithStorage[127.0.0.1:39934,DS-ba6c5758-320a-4e13-8d8e-4ca53472a95f,DISK], DatanodeInfoWithStorage[127.0.0.1:40148,DS-15a3c15d-0885-48f1-a2b7-897a227c59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:35282,DS-361b1d28-98e5-4efe-b487-e0fae0910885,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-6598ca42-5bf0-4148-a25c-fc7bf2134816,DISK]]; indices=[1, 4, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-310817291-172.17.0.19-1596891213777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45518,DS-e8613b0b-30db-4d4d-ac72-582408e118af,DISK], DatanodeInfoWithStorage[127.0.0.1:44524,DS-aaa186f4-a2b7-4e29-8218-c7a692099426,DISK], DatanodeInfoWithStorage[127.0.0.1:42383,DS-6371de6f-4841-464d-9fbe-9a256cc0134a,DISK], DatanodeInfoWithStorage[127.0.0.1:39934,DS-ba6c5758-320a-4e13-8d8e-4ca53472a95f,DISK], DatanodeInfoWithStorage[127.0.0.1:40148,DS-15a3c15d-0885-48f1-a2b7-897a227c59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:35282,DS-361b1d28-98e5-4efe-b487-e0fae0910885,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-6598ca42-5bf0-4148-a25c-fc7bf2134816,DISK]]; indices=[1, 4, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-310817291-172.17.0.19-1596891213777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45518,DS-e8613b0b-30db-4d4d-ac72-582408e118af,DISK], DatanodeInfoWithStorage[127.0.0.1:44524,DS-aaa186f4-a2b7-4e29-8218-c7a692099426,DISK], DatanodeInfoWithStorage[127.0.0.1:42383,DS-6371de6f-4841-464d-9fbe-9a256cc0134a,DISK], DatanodeInfoWithStorage[127.0.0.1:39934,DS-ba6c5758-320a-4e13-8d8e-4ca53472a95f,DISK], DatanodeInfoWithStorage[127.0.0.1:40148,DS-15a3c15d-0885-48f1-a2b7-897a227c59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:35282,DS-361b1d28-98e5-4efe-b487-e0fae0910885,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-6598ca42-5bf0-4148-a25c-fc7bf2134816,DISK]]; indices=[1, 4, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-310817291-172.17.0.19-1596891213777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45518,DS-e8613b0b-30db-4d4d-ac72-582408e118af,DISK], DatanodeInfoWithStorage[127.0.0.1:44524,DS-aaa186f4-a2b7-4e29-8218-c7a692099426,DISK], DatanodeInfoWithStorage[127.0.0.1:42383,DS-6371de6f-4841-464d-9fbe-9a256cc0134a,DISK], DatanodeInfoWithStorage[127.0.0.1:39934,DS-ba6c5758-320a-4e13-8d8e-4ca53472a95f,DISK], DatanodeInfoWithStorage[127.0.0.1:40148,DS-15a3c15d-0885-48f1-a2b7-897a227c59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:35282,DS-361b1d28-98e5-4efe-b487-e0fae0910885,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-6598ca42-5bf0-4148-a25c-fc7bf2134816,DISK]]; indices=[1, 4, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1852505156-172.17.0.19-1596891390956:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38756,DS-551c508a-03a0-4c7c-b404-7d904ca05b42,DISK], DatanodeInfoWithStorage[127.0.0.1:46448,DS-00fa783b-c4a9-44ab-8f4c-6c6a3e3193d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37463,DS-e0ed910f-0523-4dfc-b5d7-1ecd885f59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:36739,DS-647b1056-cd3c-463d-87b4-09c1e3bac39a,DISK], DatanodeInfoWithStorage[127.0.0.1:35839,DS-be4c322f-14ca-4624-bb10-2583561abdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-54607eec-8d4e-4e4c-a6c3-42908a37eb0e,DISK]]; indices=[0, 3, 5, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1852505156-172.17.0.19-1596891390956:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38756,DS-551c508a-03a0-4c7c-b404-7d904ca05b42,DISK], DatanodeInfoWithStorage[127.0.0.1:46448,DS-00fa783b-c4a9-44ab-8f4c-6c6a3e3193d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37463,DS-e0ed910f-0523-4dfc-b5d7-1ecd885f59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:36739,DS-647b1056-cd3c-463d-87b4-09c1e3bac39a,DISK], DatanodeInfoWithStorage[127.0.0.1:35839,DS-be4c322f-14ca-4624-bb10-2583561abdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-54607eec-8d4e-4e4c-a6c3-42908a37eb0e,DISK]]; indices=[0, 3, 5, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1852505156-172.17.0.19-1596891390956:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38756,DS-551c508a-03a0-4c7c-b404-7d904ca05b42,DISK], DatanodeInfoWithStorage[127.0.0.1:46448,DS-00fa783b-c4a9-44ab-8f4c-6c6a3e3193d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37463,DS-e0ed910f-0523-4dfc-b5d7-1ecd885f59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:36739,DS-647b1056-cd3c-463d-87b4-09c1e3bac39a,DISK], DatanodeInfoWithStorage[127.0.0.1:35839,DS-be4c322f-14ca-4624-bb10-2583561abdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-54607eec-8d4e-4e4c-a6c3-42908a37eb0e,DISK]]; indices=[0, 3, 5, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1852505156-172.17.0.19-1596891390956:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38756,DS-551c508a-03a0-4c7c-b404-7d904ca05b42,DISK], DatanodeInfoWithStorage[127.0.0.1:46448,DS-00fa783b-c4a9-44ab-8f4c-6c6a3e3193d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37463,DS-e0ed910f-0523-4dfc-b5d7-1ecd885f59e7,DISK], DatanodeInfoWithStorage[127.0.0.1:36739,DS-647b1056-cd3c-463d-87b4-09c1e3bac39a,DISK], DatanodeInfoWithStorage[127.0.0.1:35839,DS-be4c322f-14ca-4624-bb10-2583561abdaa,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-54607eec-8d4e-4e4c-a6c3-42908a37eb0e,DISK]]; indices=[0, 3, 5, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-599749691-172.17.0.19-1596891484939:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35596,DS-6c05ea4b-0ccc-400e-ae1a-51f9291cdd43,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-3d19494f-f6bf-4d02-9aea-be2381f726c8,DISK], DatanodeInfoWithStorage[127.0.0.1:44413,DS-e96f3dc5-3a81-43dd-9f6d-110ad83c5c46,DISK], DatanodeInfoWithStorage[127.0.0.1:37424,DS-5e8ce4c0-31d1-4ec5-a0c7-7be3249a1bef,DISK], DatanodeInfoWithStorage[127.0.0.1:35271,DS-b5cea831-1aad-4faf-9af5-daa3e44d3ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:40851,DS-8dce30fb-b9b5-4480-93e7-59208c01f1db,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-9f162e7f-548f-4af3-bf72-195d4969df30,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-599749691-172.17.0.19-1596891484939:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35596,DS-6c05ea4b-0ccc-400e-ae1a-51f9291cdd43,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-3d19494f-f6bf-4d02-9aea-be2381f726c8,DISK], DatanodeInfoWithStorage[127.0.0.1:44413,DS-e96f3dc5-3a81-43dd-9f6d-110ad83c5c46,DISK], DatanodeInfoWithStorage[127.0.0.1:37424,DS-5e8ce4c0-31d1-4ec5-a0c7-7be3249a1bef,DISK], DatanodeInfoWithStorage[127.0.0.1:35271,DS-b5cea831-1aad-4faf-9af5-daa3e44d3ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:40851,DS-8dce30fb-b9b5-4480-93e7-59208c01f1db,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-9f162e7f-548f-4af3-bf72-195d4969df30,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-599749691-172.17.0.19-1596891484939:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35596,DS-6c05ea4b-0ccc-400e-ae1a-51f9291cdd43,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-3d19494f-f6bf-4d02-9aea-be2381f726c8,DISK], DatanodeInfoWithStorage[127.0.0.1:44413,DS-e96f3dc5-3a81-43dd-9f6d-110ad83c5c46,DISK], DatanodeInfoWithStorage[127.0.0.1:37424,DS-5e8ce4c0-31d1-4ec5-a0c7-7be3249a1bef,DISK], DatanodeInfoWithStorage[127.0.0.1:35271,DS-b5cea831-1aad-4faf-9af5-daa3e44d3ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:40851,DS-8dce30fb-b9b5-4480-93e7-59208c01f1db,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-9f162e7f-548f-4af3-bf72-195d4969df30,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-599749691-172.17.0.19-1596891484939:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35596,DS-6c05ea4b-0ccc-400e-ae1a-51f9291cdd43,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-3d19494f-f6bf-4d02-9aea-be2381f726c8,DISK], DatanodeInfoWithStorage[127.0.0.1:44413,DS-e96f3dc5-3a81-43dd-9f6d-110ad83c5c46,DISK], DatanodeInfoWithStorage[127.0.0.1:37424,DS-5e8ce4c0-31d1-4ec5-a0c7-7be3249a1bef,DISK], DatanodeInfoWithStorage[127.0.0.1:35271,DS-b5cea831-1aad-4faf-9af5-daa3e44d3ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:40851,DS-8dce30fb-b9b5-4480-93e7-59208c01f1db,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-9f162e7f-548f-4af3-bf72-195d4969df30,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-442320568-172.17.0.19-1596892446361:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40782,DS-1405e6ed-731d-47c1-b222-c0444e91507c,DISK], DatanodeInfoWithStorage[127.0.0.1:45191,DS-64258d5f-2f42-4941-b2e7-4a649d431508,DISK], DatanodeInfoWithStorage[127.0.0.1:44400,DS-8ac04dd6-8377-4f0b-bf77-f13f0b1884d8,DISK], DatanodeInfoWithStorage[127.0.0.1:41045,DS-0bc443d6-f859-4c94-b1c8-e97308de8bee,DISK], DatanodeInfoWithStorage[127.0.0.1:46547,DS-6a9d6705-efd1-483a-94cb-58943cae8f33,DISK], DatanodeInfoWithStorage[127.0.0.1:42981,DS-ce0a0e67-890e-424d-bf4c-ced187a2c4dd,DISK]]; indices=[1, 2, 3, 5, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-442320568-172.17.0.19-1596892446361:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40782,DS-1405e6ed-731d-47c1-b222-c0444e91507c,DISK], DatanodeInfoWithStorage[127.0.0.1:45191,DS-64258d5f-2f42-4941-b2e7-4a649d431508,DISK], DatanodeInfoWithStorage[127.0.0.1:44400,DS-8ac04dd6-8377-4f0b-bf77-f13f0b1884d8,DISK], DatanodeInfoWithStorage[127.0.0.1:41045,DS-0bc443d6-f859-4c94-b1c8-e97308de8bee,DISK], DatanodeInfoWithStorage[127.0.0.1:46547,DS-6a9d6705-efd1-483a-94cb-58943cae8f33,DISK], DatanodeInfoWithStorage[127.0.0.1:42981,DS-ce0a0e67-890e-424d-bf4c-ced187a2c4dd,DISK]]; indices=[1, 2, 3, 5, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-442320568-172.17.0.19-1596892446361:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40782,DS-1405e6ed-731d-47c1-b222-c0444e91507c,DISK], DatanodeInfoWithStorage[127.0.0.1:45191,DS-64258d5f-2f42-4941-b2e7-4a649d431508,DISK], DatanodeInfoWithStorage[127.0.0.1:44400,DS-8ac04dd6-8377-4f0b-bf77-f13f0b1884d8,DISK], DatanodeInfoWithStorage[127.0.0.1:41045,DS-0bc443d6-f859-4c94-b1c8-e97308de8bee,DISK], DatanodeInfoWithStorage[127.0.0.1:46547,DS-6a9d6705-efd1-483a-94cb-58943cae8f33,DISK], DatanodeInfoWithStorage[127.0.0.1:42981,DS-ce0a0e67-890e-424d-bf4c-ced187a2c4dd,DISK]]; indices=[1, 2, 3, 5, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-442320568-172.17.0.19-1596892446361:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40782,DS-1405e6ed-731d-47c1-b222-c0444e91507c,DISK], DatanodeInfoWithStorage[127.0.0.1:45191,DS-64258d5f-2f42-4941-b2e7-4a649d431508,DISK], DatanodeInfoWithStorage[127.0.0.1:44400,DS-8ac04dd6-8377-4f0b-bf77-f13f0b1884d8,DISK], DatanodeInfoWithStorage[127.0.0.1:41045,DS-0bc443d6-f859-4c94-b1c8-e97308de8bee,DISK], DatanodeInfoWithStorage[127.0.0.1:46547,DS-6a9d6705-efd1-483a-94cb-58943cae8f33,DISK], DatanodeInfoWithStorage[127.0.0.1:42981,DS-ce0a0e67-890e-424d-bf4c-ced187a2c4dd,DISK]]; indices=[1, 2, 3, 5, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 3 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=3); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1869589186-172.17.0.19-1596892480290:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34258,DS-2d243efa-4cbe-4cf2-8156-bdfbd646cea8,DISK], DatanodeInfoWithStorage[127.0.0.1:37257,DS-d5e42c3f-4cf0-4c5e-a672-9df66a681332,DISK]]; indices=[0, 2]}];  lastLocatedBlock=LocatedStripedBlock{BP-1869589186-172.17.0.19-1596892480290:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34258,DS-2d243efa-4cbe-4cf2-8156-bdfbd646cea8,DISK], DatanodeInfoWithStorage[127.0.0.1:37257,DS-d5e42c3f-4cf0-4c5e-a672-9df66a681332,DISK]]; indices=[0, 2]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2]}
stackTrace: java.io.IOException: 3 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=3); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1869589186-172.17.0.19-1596892480290:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34258,DS-2d243efa-4cbe-4cf2-8156-bdfbd646cea8,DISK], DatanodeInfoWithStorage[127.0.0.1:37257,DS-d5e42c3f-4cf0-4c5e-a672-9df66a681332,DISK]]; indices=[0, 2]}];  lastLocatedBlock=LocatedStripedBlock{BP-1869589186-172.17.0.19-1596892480290:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34258,DS-2d243efa-4cbe-4cf2-8156-bdfbd646cea8,DISK], DatanodeInfoWithStorage[127.0.0.1:37257,DS-d5e42c3f-4cf0-4c5e-a672-9df66a681332,DISK]]; indices=[0, 2]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:550)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-570325591-172.17.0.19-1596892665993:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35445,DS-3a5d199e-7644-4bfa-959d-9c844d59cd78,DISK], DatanodeInfoWithStorage[127.0.0.1:43025,DS-55bf7b7f-1da7-42b8-848e-69200611e050,DISK], DatanodeInfoWithStorage[127.0.0.1:43844,DS-c58df995-3779-490c-8510-aaf9b7167108,DISK], DatanodeInfoWithStorage[127.0.0.1:44149,DS-255bb06d-dfc1-4b4e-b46d-9adbc09994f6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-3cad04d2-2c46-4017-9c4d-66136cc9fea8,DISK]]; indices=[0, 4, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-570325591-172.17.0.19-1596892665993:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35445,DS-3a5d199e-7644-4bfa-959d-9c844d59cd78,DISK], DatanodeInfoWithStorage[127.0.0.1:43025,DS-55bf7b7f-1da7-42b8-848e-69200611e050,DISK], DatanodeInfoWithStorage[127.0.0.1:43844,DS-c58df995-3779-490c-8510-aaf9b7167108,DISK], DatanodeInfoWithStorage[127.0.0.1:44149,DS-255bb06d-dfc1-4b4e-b46d-9adbc09994f6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-3cad04d2-2c46-4017-9c4d-66136cc9fea8,DISK]]; indices=[0, 4, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-570325591-172.17.0.19-1596892665993:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35445,DS-3a5d199e-7644-4bfa-959d-9c844d59cd78,DISK], DatanodeInfoWithStorage[127.0.0.1:43025,DS-55bf7b7f-1da7-42b8-848e-69200611e050,DISK], DatanodeInfoWithStorage[127.0.0.1:43844,DS-c58df995-3779-490c-8510-aaf9b7167108,DISK], DatanodeInfoWithStorage[127.0.0.1:44149,DS-255bb06d-dfc1-4b4e-b46d-9adbc09994f6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-3cad04d2-2c46-4017-9c4d-66136cc9fea8,DISK]]; indices=[0, 4, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-570325591-172.17.0.19-1596892665993:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35445,DS-3a5d199e-7644-4bfa-959d-9c844d59cd78,DISK], DatanodeInfoWithStorage[127.0.0.1:43025,DS-55bf7b7f-1da7-42b8-848e-69200611e050,DISK], DatanodeInfoWithStorage[127.0.0.1:43844,DS-c58df995-3779-490c-8510-aaf9b7167108,DISK], DatanodeInfoWithStorage[127.0.0.1:44149,DS-255bb06d-dfc1-4b4e-b46d-9adbc09994f6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-3cad04d2-2c46-4017-9c4d-66136cc9fea8,DISK]]; indices=[0, 4, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1864761748-172.17.0.19-1596892953933:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36008,DS-fbdddba1-452f-4059-a5e6-49a4f5761942,DISK], DatanodeInfoWithStorage[127.0.0.1:46219,DS-36ba330f-f1c9-4d1d-ba4b-67c9faa960d5,DISK], DatanodeInfoWithStorage[127.0.0.1:32797,DS-7057514c-0ccf-4e49-9510-7fa6b393b768,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-8550d89d-ea33-4138-bda5-b4e93863b3be,DISK], DatanodeInfoWithStorage[127.0.0.1:45020,DS-619cb673-4990-4814-97c7-d4eb49806d2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-7ae65081-4224-4b81-93d5-98722e84b3b0,DISK]]; indices=[1, 2, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1864761748-172.17.0.19-1596892953933:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36008,DS-fbdddba1-452f-4059-a5e6-49a4f5761942,DISK], DatanodeInfoWithStorage[127.0.0.1:46219,DS-36ba330f-f1c9-4d1d-ba4b-67c9faa960d5,DISK], DatanodeInfoWithStorage[127.0.0.1:32797,DS-7057514c-0ccf-4e49-9510-7fa6b393b768,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-8550d89d-ea33-4138-bda5-b4e93863b3be,DISK], DatanodeInfoWithStorage[127.0.0.1:45020,DS-619cb673-4990-4814-97c7-d4eb49806d2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-7ae65081-4224-4b81-93d5-98722e84b3b0,DISK]]; indices=[1, 2, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1864761748-172.17.0.19-1596892953933:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36008,DS-fbdddba1-452f-4059-a5e6-49a4f5761942,DISK], DatanodeInfoWithStorage[127.0.0.1:46219,DS-36ba330f-f1c9-4d1d-ba4b-67c9faa960d5,DISK], DatanodeInfoWithStorage[127.0.0.1:32797,DS-7057514c-0ccf-4e49-9510-7fa6b393b768,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-8550d89d-ea33-4138-bda5-b4e93863b3be,DISK], DatanodeInfoWithStorage[127.0.0.1:45020,DS-619cb673-4990-4814-97c7-d4eb49806d2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-7ae65081-4224-4b81-93d5-98722e84b3b0,DISK]]; indices=[1, 2, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1864761748-172.17.0.19-1596892953933:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36008,DS-fbdddba1-452f-4059-a5e6-49a4f5761942,DISK], DatanodeInfoWithStorage[127.0.0.1:46219,DS-36ba330f-f1c9-4d1d-ba4b-67c9faa960d5,DISK], DatanodeInfoWithStorage[127.0.0.1:32797,DS-7057514c-0ccf-4e49-9510-7fa6b393b768,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-8550d89d-ea33-4138-bda5-b4e93863b3be,DISK], DatanodeInfoWithStorage[127.0.0.1:45020,DS-619cb673-4990-4814-97c7-d4eb49806d2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-7ae65081-4224-4b81-93d5-98722e84b3b0,DISK]]; indices=[1, 2, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1611654878-172.17.0.19-1596893233486:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35559,DS-764ee40f-83fd-4cc4-af91-7b1f72b22bcf,DISK], DatanodeInfoWithStorage[127.0.0.1:35844,DS-50c28c58-1c15-4e8d-9265-30a17f15d7d4,DISK], DatanodeInfoWithStorage[127.0.0.1:33520,DS-6fb71fd7-a2cb-40dd-9584-369d913e8aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:40464,DS-62fa015a-75e9-4e79-b504-222df54f8770,DISK], DatanodeInfoWithStorage[127.0.0.1:35696,DS-7d318e39-8c27-4f14-b643-7ff9d2ab27d4,DISK], DatanodeInfoWithStorage[127.0.0.1:37750,DS-1b532ef0-8942-408d-9f04-9096e1df36ec,DISK]]; indices=[0, 3, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1611654878-172.17.0.19-1596893233486:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35559,DS-764ee40f-83fd-4cc4-af91-7b1f72b22bcf,DISK], DatanodeInfoWithStorage[127.0.0.1:35844,DS-50c28c58-1c15-4e8d-9265-30a17f15d7d4,DISK], DatanodeInfoWithStorage[127.0.0.1:33520,DS-6fb71fd7-a2cb-40dd-9584-369d913e8aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:40464,DS-62fa015a-75e9-4e79-b504-222df54f8770,DISK], DatanodeInfoWithStorage[127.0.0.1:35696,DS-7d318e39-8c27-4f14-b643-7ff9d2ab27d4,DISK], DatanodeInfoWithStorage[127.0.0.1:37750,DS-1b532ef0-8942-408d-9f04-9096e1df36ec,DISK]]; indices=[0, 3, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1611654878-172.17.0.19-1596893233486:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35559,DS-764ee40f-83fd-4cc4-af91-7b1f72b22bcf,DISK], DatanodeInfoWithStorage[127.0.0.1:35844,DS-50c28c58-1c15-4e8d-9265-30a17f15d7d4,DISK], DatanodeInfoWithStorage[127.0.0.1:33520,DS-6fb71fd7-a2cb-40dd-9584-369d913e8aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:40464,DS-62fa015a-75e9-4e79-b504-222df54f8770,DISK], DatanodeInfoWithStorage[127.0.0.1:35696,DS-7d318e39-8c27-4f14-b643-7ff9d2ab27d4,DISK], DatanodeInfoWithStorage[127.0.0.1:37750,DS-1b532ef0-8942-408d-9f04-9096e1df36ec,DISK]]; indices=[0, 3, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1611654878-172.17.0.19-1596893233486:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35559,DS-764ee40f-83fd-4cc4-af91-7b1f72b22bcf,DISK], DatanodeInfoWithStorage[127.0.0.1:35844,DS-50c28c58-1c15-4e8d-9265-30a17f15d7d4,DISK], DatanodeInfoWithStorage[127.0.0.1:33520,DS-6fb71fd7-a2cb-40dd-9584-369d913e8aeb,DISK], DatanodeInfoWithStorage[127.0.0.1:40464,DS-62fa015a-75e9-4e79-b504-222df54f8770,DISK], DatanodeInfoWithStorage[127.0.0.1:35696,DS-7d318e39-8c27-4f14-b643-7ff9d2ab27d4,DISK], DatanodeInfoWithStorage[127.0.0.1:37750,DS-1b532ef0-8942-408d-9f04-9096e1df36ec,DISK]]; indices=[0, 3, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.cache.drop.behind.writes
component: hdfs:NameNode
v1: null
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-308225242-172.17.0.19-1596893673210:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34181,DS-d8a071db-8495-4449-b259-b325072078fb,DISK], DatanodeInfoWithStorage[127.0.0.1:42414,DS-c362c067-9118-4db5-ba4a-4f456f612c73,DISK], DatanodeInfoWithStorage[127.0.0.1:45092,DS-fee7e35c-73df-4027-b127-49c49ccd4e16,DISK], DatanodeInfoWithStorage[127.0.0.1:35411,DS-64bc257a-0e0a-4747-8ca9-67df5ebba947,DISK], DatanodeInfoWithStorage[127.0.0.1:37892,DS-6542c99c-6376-4c8b-ba45-943016ba7e62,DISK], DatanodeInfoWithStorage[127.0.0.1:42828,DS-42e97a3a-5272-499d-aeaa-e5f99b8f806f,DISK]]; indices=[0, 1, 3, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-308225242-172.17.0.19-1596893673210:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34181,DS-d8a071db-8495-4449-b259-b325072078fb,DISK], DatanodeInfoWithStorage[127.0.0.1:42414,DS-c362c067-9118-4db5-ba4a-4f456f612c73,DISK], DatanodeInfoWithStorage[127.0.0.1:45092,DS-fee7e35c-73df-4027-b127-49c49ccd4e16,DISK], DatanodeInfoWithStorage[127.0.0.1:35411,DS-64bc257a-0e0a-4747-8ca9-67df5ebba947,DISK], DatanodeInfoWithStorage[127.0.0.1:37892,DS-6542c99c-6376-4c8b-ba45-943016ba7e62,DISK], DatanodeInfoWithStorage[127.0.0.1:42828,DS-42e97a3a-5272-499d-aeaa-e5f99b8f806f,DISK]]; indices=[0, 1, 3, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-308225242-172.17.0.19-1596893673210:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34181,DS-d8a071db-8495-4449-b259-b325072078fb,DISK], DatanodeInfoWithStorage[127.0.0.1:42414,DS-c362c067-9118-4db5-ba4a-4f456f612c73,DISK], DatanodeInfoWithStorage[127.0.0.1:45092,DS-fee7e35c-73df-4027-b127-49c49ccd4e16,DISK], DatanodeInfoWithStorage[127.0.0.1:35411,DS-64bc257a-0e0a-4747-8ca9-67df5ebba947,DISK], DatanodeInfoWithStorage[127.0.0.1:37892,DS-6542c99c-6376-4c8b-ba45-943016ba7e62,DISK], DatanodeInfoWithStorage[127.0.0.1:42828,DS-42e97a3a-5272-499d-aeaa-e5f99b8f806f,DISK]]; indices=[0, 1, 3, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-308225242-172.17.0.19-1596893673210:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34181,DS-d8a071db-8495-4449-b259-b325072078fb,DISK], DatanodeInfoWithStorage[127.0.0.1:42414,DS-c362c067-9118-4db5-ba4a-4f456f612c73,DISK], DatanodeInfoWithStorage[127.0.0.1:45092,DS-fee7e35c-73df-4027-b127-49c49ccd4e16,DISK], DatanodeInfoWithStorage[127.0.0.1:35411,DS-64bc257a-0e0a-4747-8ca9-67df5ebba947,DISK], DatanodeInfoWithStorage[127.0.0.1:37892,DS-6542c99c-6376-4c8b-ba45-943016ba7e62,DISK], DatanodeInfoWithStorage[127.0.0.1:42828,DS-42e97a3a-5272-499d-aeaa-e5f99b8f806f,DISK]]; indices=[0, 1, 3, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 3 out of 50
v1v1v2v2 failed with probability 14 out of 50
result: false positive !!!
Total execution time in seconds : 7059
