reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-585800994-172.17.0.8-1593472138437:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36998,DS-c2762953-0036-4035-88f4-5d8b5fff658f,DISK], DatanodeInfoWithStorage[127.0.0.1:32872,DS-2828aa97-84b0-4c08-8f24-a2cf46e4cfc6,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-3fd38bd9-dc1d-42cb-a26b-8b95e587e8d1,DISK], DatanodeInfoWithStorage[127.0.0.1:39074,DS-32824d9a-c473-4f1c-baf2-38c805bbe76d,DISK], DatanodeInfoWithStorage[127.0.0.1:35324,DS-557f31ee-834b-4e4b-9d5e-01dc0d900ebb,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-4bb1bb1a-5364-441f-aa8b-cd13c5dad0e4,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-585800994-172.17.0.8-1593472138437:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36998,DS-c2762953-0036-4035-88f4-5d8b5fff658f,DISK], DatanodeInfoWithStorage[127.0.0.1:32872,DS-2828aa97-84b0-4c08-8f24-a2cf46e4cfc6,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-3fd38bd9-dc1d-42cb-a26b-8b95e587e8d1,DISK], DatanodeInfoWithStorage[127.0.0.1:39074,DS-32824d9a-c473-4f1c-baf2-38c805bbe76d,DISK], DatanodeInfoWithStorage[127.0.0.1:35324,DS-557f31ee-834b-4e4b-9d5e-01dc0d900ebb,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-4bb1bb1a-5364-441f-aa8b-cd13c5dad0e4,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-585800994-172.17.0.8-1593472138437:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36998,DS-c2762953-0036-4035-88f4-5d8b5fff658f,DISK], DatanodeInfoWithStorage[127.0.0.1:32872,DS-2828aa97-84b0-4c08-8f24-a2cf46e4cfc6,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-3fd38bd9-dc1d-42cb-a26b-8b95e587e8d1,DISK], DatanodeInfoWithStorage[127.0.0.1:39074,DS-32824d9a-c473-4f1c-baf2-38c805bbe76d,DISK], DatanodeInfoWithStorage[127.0.0.1:35324,DS-557f31ee-834b-4e4b-9d5e-01dc0d900ebb,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-4bb1bb1a-5364-441f-aa8b-cd13c5dad0e4,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-585800994-172.17.0.8-1593472138437:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36998,DS-c2762953-0036-4035-88f4-5d8b5fff658f,DISK], DatanodeInfoWithStorage[127.0.0.1:32872,DS-2828aa97-84b0-4c08-8f24-a2cf46e4cfc6,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-3fd38bd9-dc1d-42cb-a26b-8b95e587e8d1,DISK], DatanodeInfoWithStorage[127.0.0.1:39074,DS-32824d9a-c473-4f1c-baf2-38c805bbe76d,DISK], DatanodeInfoWithStorage[127.0.0.1:35324,DS-557f31ee-834b-4e4b-9d5e-01dc0d900ebb,DISK], DatanodeInfoWithStorage[127.0.0.1:43516,DS-4bb1bb1a-5364-441f-aa8b-cd13c5dad0e4,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1342240201-172.17.0.8-1593473352056:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39335,DS-1b429134-307d-4320-8108-e61e5634367a,DISK], DatanodeInfoWithStorage[127.0.0.1:46508,DS-1e8284a4-ae4e-49dc-a3d4-f15cb2b1887b,DISK], DatanodeInfoWithStorage[127.0.0.1:43118,DS-d5e79c54-d405-4232-8856-fb82d1c1ed98,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-4ca8533a-70e5-468d-8a81-5c94e24b3605,DISK], DatanodeInfoWithStorage[127.0.0.1:42660,DS-431d09a9-02ff-4442-bc6c-2d8acbc96d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:43363,DS-e29de89f-6713-469c-b4d8-aa7a7f6de27f,DISK]]; indices=[0, 1, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1342240201-172.17.0.8-1593473352056:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39335,DS-1b429134-307d-4320-8108-e61e5634367a,DISK], DatanodeInfoWithStorage[127.0.0.1:46508,DS-1e8284a4-ae4e-49dc-a3d4-f15cb2b1887b,DISK], DatanodeInfoWithStorage[127.0.0.1:43118,DS-d5e79c54-d405-4232-8856-fb82d1c1ed98,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-4ca8533a-70e5-468d-8a81-5c94e24b3605,DISK], DatanodeInfoWithStorage[127.0.0.1:42660,DS-431d09a9-02ff-4442-bc6c-2d8acbc96d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:43363,DS-e29de89f-6713-469c-b4d8-aa7a7f6de27f,DISK]]; indices=[0, 1, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1342240201-172.17.0.8-1593473352056:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39335,DS-1b429134-307d-4320-8108-e61e5634367a,DISK], DatanodeInfoWithStorage[127.0.0.1:46508,DS-1e8284a4-ae4e-49dc-a3d4-f15cb2b1887b,DISK], DatanodeInfoWithStorage[127.0.0.1:43118,DS-d5e79c54-d405-4232-8856-fb82d1c1ed98,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-4ca8533a-70e5-468d-8a81-5c94e24b3605,DISK], DatanodeInfoWithStorage[127.0.0.1:42660,DS-431d09a9-02ff-4442-bc6c-2d8acbc96d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:43363,DS-e29de89f-6713-469c-b4d8-aa7a7f6de27f,DISK]]; indices=[0, 1, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1342240201-172.17.0.8-1593473352056:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39335,DS-1b429134-307d-4320-8108-e61e5634367a,DISK], DatanodeInfoWithStorage[127.0.0.1:46508,DS-1e8284a4-ae4e-49dc-a3d4-f15cb2b1887b,DISK], DatanodeInfoWithStorage[127.0.0.1:43118,DS-d5e79c54-d405-4232-8856-fb82d1c1ed98,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-4ca8533a-70e5-468d-8a81-5c94e24b3605,DISK], DatanodeInfoWithStorage[127.0.0.1:42660,DS-431d09a9-02ff-4442-bc6c-2d8acbc96d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:43363,DS-e29de89f-6713-469c-b4d8-aa7a7f6de27f,DISK]]; indices=[0, 1, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1999529949-172.17.0.8-1593476025403:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41817,DS-2279599e-2d15-465e-a004-59df578c464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33309,DS-8295f409-e6c9-4a9b-bbc1-95eaf568e45b,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-9c77fc2b-c845-44f2-a02e-3891930754a3,DISK], DatanodeInfoWithStorage[127.0.0.1:39559,DS-4eff4a3d-57bf-49b4-a8a6-56b4c9d14f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:46277,DS-9d81fb4f-9d73-4def-a0fc-5a4d8b2bc961,DISK], DatanodeInfoWithStorage[127.0.0.1:43753,DS-3b43b503-688f-405b-8d42-75648085329a,DISK]]; indices=[0, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1999529949-172.17.0.8-1593476025403:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41817,DS-2279599e-2d15-465e-a004-59df578c464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33309,DS-8295f409-e6c9-4a9b-bbc1-95eaf568e45b,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-9c77fc2b-c845-44f2-a02e-3891930754a3,DISK], DatanodeInfoWithStorage[127.0.0.1:39559,DS-4eff4a3d-57bf-49b4-a8a6-56b4c9d14f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:46277,DS-9d81fb4f-9d73-4def-a0fc-5a4d8b2bc961,DISK], DatanodeInfoWithStorage[127.0.0.1:43753,DS-3b43b503-688f-405b-8d42-75648085329a,DISK]]; indices=[0, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1999529949-172.17.0.8-1593476025403:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41817,DS-2279599e-2d15-465e-a004-59df578c464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33309,DS-8295f409-e6c9-4a9b-bbc1-95eaf568e45b,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-9c77fc2b-c845-44f2-a02e-3891930754a3,DISK], DatanodeInfoWithStorage[127.0.0.1:39559,DS-4eff4a3d-57bf-49b4-a8a6-56b4c9d14f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:46277,DS-9d81fb4f-9d73-4def-a0fc-5a4d8b2bc961,DISK], DatanodeInfoWithStorage[127.0.0.1:43753,DS-3b43b503-688f-405b-8d42-75648085329a,DISK]]; indices=[0, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1999529949-172.17.0.8-1593476025403:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41817,DS-2279599e-2d15-465e-a004-59df578c464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33309,DS-8295f409-e6c9-4a9b-bbc1-95eaf568e45b,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-9c77fc2b-c845-44f2-a02e-3891930754a3,DISK], DatanodeInfoWithStorage[127.0.0.1:39559,DS-4eff4a3d-57bf-49b4-a8a6-56b4c9d14f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:46277,DS-9d81fb4f-9d73-4def-a0fc-5a4d8b2bc961,DISK], DatanodeInfoWithStorage[127.0.0.1:43753,DS-3b43b503-688f-405b-8d42-75648085329a,DISK]]; indices=[0, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1459585897-172.17.0.8-1593479998688:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35395,DS-0073dc58-cb77-4a6e-8e98-1f0b5dcfc473,DISK], DatanodeInfoWithStorage[127.0.0.1:37276,DS-1e983ee9-a1f4-4622-b135-fe26814bae8f,DISK], DatanodeInfoWithStorage[127.0.0.1:36476,DS-1ad60c71-0d2a-47f8-9f4e-83a66d37e513,DISK], DatanodeInfoWithStorage[127.0.0.1:41713,DS-a2b47fa8-8578-477f-b8a7-e43eb7c3f011,DISK], DatanodeInfoWithStorage[127.0.0.1:37744,DS-160439cb-61e8-4ee6-adb4-c3174eff0dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:39186,DS-2deea3d3-9673-4f40-b6e0-7d845e6ea216,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1459585897-172.17.0.8-1593479998688:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35395,DS-0073dc58-cb77-4a6e-8e98-1f0b5dcfc473,DISK], DatanodeInfoWithStorage[127.0.0.1:37276,DS-1e983ee9-a1f4-4622-b135-fe26814bae8f,DISK], DatanodeInfoWithStorage[127.0.0.1:36476,DS-1ad60c71-0d2a-47f8-9f4e-83a66d37e513,DISK], DatanodeInfoWithStorage[127.0.0.1:41713,DS-a2b47fa8-8578-477f-b8a7-e43eb7c3f011,DISK], DatanodeInfoWithStorage[127.0.0.1:37744,DS-160439cb-61e8-4ee6-adb4-c3174eff0dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:39186,DS-2deea3d3-9673-4f40-b6e0-7d845e6ea216,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1459585897-172.17.0.8-1593479998688:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35395,DS-0073dc58-cb77-4a6e-8e98-1f0b5dcfc473,DISK], DatanodeInfoWithStorage[127.0.0.1:37276,DS-1e983ee9-a1f4-4622-b135-fe26814bae8f,DISK], DatanodeInfoWithStorage[127.0.0.1:36476,DS-1ad60c71-0d2a-47f8-9f4e-83a66d37e513,DISK], DatanodeInfoWithStorage[127.0.0.1:41713,DS-a2b47fa8-8578-477f-b8a7-e43eb7c3f011,DISK], DatanodeInfoWithStorage[127.0.0.1:37744,DS-160439cb-61e8-4ee6-adb4-c3174eff0dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:39186,DS-2deea3d3-9673-4f40-b6e0-7d845e6ea216,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1459585897-172.17.0.8-1593479998688:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35395,DS-0073dc58-cb77-4a6e-8e98-1f0b5dcfc473,DISK], DatanodeInfoWithStorage[127.0.0.1:37276,DS-1e983ee9-a1f4-4622-b135-fe26814bae8f,DISK], DatanodeInfoWithStorage[127.0.0.1:36476,DS-1ad60c71-0d2a-47f8-9f4e-83a66d37e513,DISK], DatanodeInfoWithStorage[127.0.0.1:41713,DS-a2b47fa8-8578-477f-b8a7-e43eb7c3f011,DISK], DatanodeInfoWithStorage[127.0.0.1:37744,DS-160439cb-61e8-4ee6-adb4-c3174eff0dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:39186,DS-2deea3d3-9673-4f40-b6e0-7d845e6ea216,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-175432825-172.17.0.8-1593480176755:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34758,DS-72ef2364-be60-4ee3-a2b5-338c2901604c,DISK], DatanodeInfoWithStorage[127.0.0.1:45271,DS-73e3d923-ff0e-4076-90d0-914c8199590b,DISK], DatanodeInfoWithStorage[127.0.0.1:45722,DS-b99c68a3-b519-46d1-aad4-e8be29a610b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-8b98b0c0-cf42-483c-b56d-087e9e28ef77,DISK], DatanodeInfoWithStorage[127.0.0.1:34388,DS-4ac122fb-0804-4525-a405-cc47d9e97504,DISK], DatanodeInfoWithStorage[127.0.0.1:36431,DS-1767a2e0-3713-4aea-a50f-a382177a195c,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-175432825-172.17.0.8-1593480176755:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34758,DS-72ef2364-be60-4ee3-a2b5-338c2901604c,DISK], DatanodeInfoWithStorage[127.0.0.1:45271,DS-73e3d923-ff0e-4076-90d0-914c8199590b,DISK], DatanodeInfoWithStorage[127.0.0.1:45722,DS-b99c68a3-b519-46d1-aad4-e8be29a610b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-8b98b0c0-cf42-483c-b56d-087e9e28ef77,DISK], DatanodeInfoWithStorage[127.0.0.1:34388,DS-4ac122fb-0804-4525-a405-cc47d9e97504,DISK], DatanodeInfoWithStorage[127.0.0.1:36431,DS-1767a2e0-3713-4aea-a50f-a382177a195c,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-175432825-172.17.0.8-1593480176755:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34758,DS-72ef2364-be60-4ee3-a2b5-338c2901604c,DISK], DatanodeInfoWithStorage[127.0.0.1:45271,DS-73e3d923-ff0e-4076-90d0-914c8199590b,DISK], DatanodeInfoWithStorage[127.0.0.1:45722,DS-b99c68a3-b519-46d1-aad4-e8be29a610b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-8b98b0c0-cf42-483c-b56d-087e9e28ef77,DISK], DatanodeInfoWithStorage[127.0.0.1:34388,DS-4ac122fb-0804-4525-a405-cc47d9e97504,DISK], DatanodeInfoWithStorage[127.0.0.1:36431,DS-1767a2e0-3713-4aea-a50f-a382177a195c,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-175432825-172.17.0.8-1593480176755:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34758,DS-72ef2364-be60-4ee3-a2b5-338c2901604c,DISK], DatanodeInfoWithStorage[127.0.0.1:45271,DS-73e3d923-ff0e-4076-90d0-914c8199590b,DISK], DatanodeInfoWithStorage[127.0.0.1:45722,DS-b99c68a3-b519-46d1-aad4-e8be29a610b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-8b98b0c0-cf42-483c-b56d-087e9e28ef77,DISK], DatanodeInfoWithStorage[127.0.0.1:34388,DS-4ac122fb-0804-4525-a405-cc47d9e97504,DISK], DatanodeInfoWithStorage[127.0.0.1:36431,DS-1767a2e0-3713-4aea-a50f-a382177a195c,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-939897043-172.17.0.8-1593480349227:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34933,DS-90a2dee0-9284-459f-bfed-e6a9d55f551f,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-0f11abfd-f73f-478b-8fa4-c1ca03d89fab,DISK], DatanodeInfoWithStorage[127.0.0.1:35479,DS-2e5d1f1e-2274-4eed-9869-cc1c414f30a6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-e300155d-6014-4be0-8cfe-8106b8a5f29d,DISK], DatanodeInfoWithStorage[127.0.0.1:36773,DS-cbde8e0d-fbd0-4fee-859a-42d50a51a728,DISK], DatanodeInfoWithStorage[127.0.0.1:46340,DS-dde9918a-041b-44fc-80fd-9ee8a836bf54,DISK]]; indices=[0, 2, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-939897043-172.17.0.8-1593480349227:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34933,DS-90a2dee0-9284-459f-bfed-e6a9d55f551f,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-0f11abfd-f73f-478b-8fa4-c1ca03d89fab,DISK], DatanodeInfoWithStorage[127.0.0.1:35479,DS-2e5d1f1e-2274-4eed-9869-cc1c414f30a6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-e300155d-6014-4be0-8cfe-8106b8a5f29d,DISK], DatanodeInfoWithStorage[127.0.0.1:36773,DS-cbde8e0d-fbd0-4fee-859a-42d50a51a728,DISK], DatanodeInfoWithStorage[127.0.0.1:46340,DS-dde9918a-041b-44fc-80fd-9ee8a836bf54,DISK]]; indices=[0, 2, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-939897043-172.17.0.8-1593480349227:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34933,DS-90a2dee0-9284-459f-bfed-e6a9d55f551f,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-0f11abfd-f73f-478b-8fa4-c1ca03d89fab,DISK], DatanodeInfoWithStorage[127.0.0.1:35479,DS-2e5d1f1e-2274-4eed-9869-cc1c414f30a6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-e300155d-6014-4be0-8cfe-8106b8a5f29d,DISK], DatanodeInfoWithStorage[127.0.0.1:36773,DS-cbde8e0d-fbd0-4fee-859a-42d50a51a728,DISK], DatanodeInfoWithStorage[127.0.0.1:46340,DS-dde9918a-041b-44fc-80fd-9ee8a836bf54,DISK]]; indices=[0, 2, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-939897043-172.17.0.8-1593480349227:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34933,DS-90a2dee0-9284-459f-bfed-e6a9d55f551f,DISK], DatanodeInfoWithStorage[127.0.0.1:41798,DS-0f11abfd-f73f-478b-8fa4-c1ca03d89fab,DISK], DatanodeInfoWithStorage[127.0.0.1:35479,DS-2e5d1f1e-2274-4eed-9869-cc1c414f30a6,DISK], DatanodeInfoWithStorage[127.0.0.1:40445,DS-e300155d-6014-4be0-8cfe-8106b8a5f29d,DISK], DatanodeInfoWithStorage[127.0.0.1:36773,DS-cbde8e0d-fbd0-4fee-859a-42d50a51a728,DISK], DatanodeInfoWithStorage[127.0.0.1:46340,DS-dde9918a-041b-44fc-80fd-9ee8a836bf54,DISK]]; indices=[0, 2, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1808675372-172.17.0.8-1593480728053:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37597,DS-3f1482bf-d0c4-479a-babc-c8c2b3060355,DISK], DatanodeInfoWithStorage[127.0.0.1:43252,DS-52cab9c6-f906-487a-9498-db6645bf7fac,DISK], DatanodeInfoWithStorage[127.0.0.1:46603,DS-48ea343a-b4a6-4764-b44a-bbc0693e69f2,DISK], DatanodeInfoWithStorage[127.0.0.1:33983,DS-5367f3dc-4c94-41b4-8451-1beda59cd878,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-530c546b-20d0-48a1-86ab-29a865931b12,DISK], DatanodeInfoWithStorage[127.0.0.1:32896,DS-91957356-b54e-42c2-8d25-c3344ca1a6ba,DISK]]; indices=[0, 1, 2, 3, 4, 5]}];  lastLocatedBlock=LocatedStripedBlock{BP-1808675372-172.17.0.8-1593480728053:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37597,DS-3f1482bf-d0c4-479a-babc-c8c2b3060355,DISK], DatanodeInfoWithStorage[127.0.0.1:43252,DS-52cab9c6-f906-487a-9498-db6645bf7fac,DISK], DatanodeInfoWithStorage[127.0.0.1:46603,DS-48ea343a-b4a6-4764-b44a-bbc0693e69f2,DISK], DatanodeInfoWithStorage[127.0.0.1:33983,DS-5367f3dc-4c94-41b4-8451-1beda59cd878,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-530c546b-20d0-48a1-86ab-29a865931b12,DISK], DatanodeInfoWithStorage[127.0.0.1:32896,DS-91957356-b54e-42c2-8d25-c3344ca1a6ba,DISK]]; indices=[0, 1, 2, 3, 4, 5]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1808675372-172.17.0.8-1593480728053:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37597,DS-3f1482bf-d0c4-479a-babc-c8c2b3060355,DISK], DatanodeInfoWithStorage[127.0.0.1:43252,DS-52cab9c6-f906-487a-9498-db6645bf7fac,DISK], DatanodeInfoWithStorage[127.0.0.1:46603,DS-48ea343a-b4a6-4764-b44a-bbc0693e69f2,DISK], DatanodeInfoWithStorage[127.0.0.1:33983,DS-5367f3dc-4c94-41b4-8451-1beda59cd878,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-530c546b-20d0-48a1-86ab-29a865931b12,DISK], DatanodeInfoWithStorage[127.0.0.1:32896,DS-91957356-b54e-42c2-8d25-c3344ca1a6ba,DISK]]; indices=[0, 1, 2, 3, 4, 5]}];  lastLocatedBlock=LocatedStripedBlock{BP-1808675372-172.17.0.8-1593480728053:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37597,DS-3f1482bf-d0c4-479a-babc-c8c2b3060355,DISK], DatanodeInfoWithStorage[127.0.0.1:43252,DS-52cab9c6-f906-487a-9498-db6645bf7fac,DISK], DatanodeInfoWithStorage[127.0.0.1:46603,DS-48ea343a-b4a6-4764-b44a-bbc0693e69f2,DISK], DatanodeInfoWithStorage[127.0.0.1:33983,DS-5367f3dc-4c94-41b4-8451-1beda59cd878,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-530c546b-20d0-48a1-86ab-29a865931b12,DISK], DatanodeInfoWithStorage[127.0.0.1:32896,DS-91957356-b54e-42c2-8d25-c3344ca1a6ba,DISK]]; indices=[0, 1, 2, 3, 4, 5]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[0]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1908458509-172.17.0.8-1593481757675:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40475,DS-ba614c2a-bc84-4573-adde-3c8750a5230a,DISK], DatanodeInfoWithStorage[127.0.0.1:35747,DS-2494412c-f5eb-4ad5-bc3e-b315e7a035a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35501,DS-26a92e1d-e828-4157-84ed-d2d24f3e8339,DISK], DatanodeInfoWithStorage[127.0.0.1:45463,DS-e50d4c91-39ee-4aba-b10a-7a9263a269d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33054,DS-aad686b3-bb34-4840-b182-c51b42dbe77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-af9cdcdb-90ad-4b23-8c83-d033309e1cb9,DISK]]; indices=[0, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1908458509-172.17.0.8-1593481757675:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40475,DS-ba614c2a-bc84-4573-adde-3c8750a5230a,DISK], DatanodeInfoWithStorage[127.0.0.1:35747,DS-2494412c-f5eb-4ad5-bc3e-b315e7a035a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35501,DS-26a92e1d-e828-4157-84ed-d2d24f3e8339,DISK], DatanodeInfoWithStorage[127.0.0.1:45463,DS-e50d4c91-39ee-4aba-b10a-7a9263a269d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33054,DS-aad686b3-bb34-4840-b182-c51b42dbe77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-af9cdcdb-90ad-4b23-8c83-d033309e1cb9,DISK]]; indices=[0, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1908458509-172.17.0.8-1593481757675:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40475,DS-ba614c2a-bc84-4573-adde-3c8750a5230a,DISK], DatanodeInfoWithStorage[127.0.0.1:35747,DS-2494412c-f5eb-4ad5-bc3e-b315e7a035a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35501,DS-26a92e1d-e828-4157-84ed-d2d24f3e8339,DISK], DatanodeInfoWithStorage[127.0.0.1:45463,DS-e50d4c91-39ee-4aba-b10a-7a9263a269d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33054,DS-aad686b3-bb34-4840-b182-c51b42dbe77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-af9cdcdb-90ad-4b23-8c83-d033309e1cb9,DISK]]; indices=[0, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1908458509-172.17.0.8-1593481757675:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40475,DS-ba614c2a-bc84-4573-adde-3c8750a5230a,DISK], DatanodeInfoWithStorage[127.0.0.1:35747,DS-2494412c-f5eb-4ad5-bc3e-b315e7a035a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35501,DS-26a92e1d-e828-4157-84ed-d2d24f3e8339,DISK], DatanodeInfoWithStorage[127.0.0.1:45463,DS-e50d4c91-39ee-4aba-b10a-7a9263a269d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33054,DS-aad686b3-bb34-4840-b182-c51b42dbe77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36929,DS-af9cdcdb-90ad-4b23-8c83-d033309e1cb9,DISK]]; indices=[0, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 0 out of 50
result: might be true error
Total execution time in seconds : 10198
