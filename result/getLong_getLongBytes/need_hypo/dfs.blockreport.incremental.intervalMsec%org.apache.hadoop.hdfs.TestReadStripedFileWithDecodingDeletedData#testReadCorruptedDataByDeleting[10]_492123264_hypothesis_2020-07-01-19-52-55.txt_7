reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-395714052-172.17.0.10-1593635108003:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45048,DS-a78893fc-128f-4e48-8161-75d526753fd5,DISK], DatanodeInfoWithStorage[127.0.0.1:33823,DS-8f6bfa34-d0c2-48c7-b6f9-7e00be3c98e5,DISK], DatanodeInfoWithStorage[127.0.0.1:45057,DS-c4316749-4864-4222-ae16-e3b94dd813d9,DISK], DatanodeInfoWithStorage[127.0.0.1:36160,DS-c1782d99-344b-463e-bdba-69c8d0476dd2,DISK], DatanodeInfoWithStorage[127.0.0.1:36125,DS-4116df8a-55ae-490d-8b27-047476d88afe,DISK], DatanodeInfoWithStorage[127.0.0.1:43135,DS-bc9631d0-1bd3-4e6c-86eb-9f0078f69287,DISK], DatanodeInfoWithStorage[127.0.0.1:32768,DS-23888dd6-ffce-416c-af8f-9ada58d112d1,DISK], DatanodeInfoWithStorage[127.0.0.1:45541,DS-ad4d20bd-5d6d-449f-b602-41dc0d3ad547,DISK], DatanodeInfoWithStorage[127.0.0.1:42703,DS-4aeb83ec-4930-42b7-879f-918e1e670d11,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-395714052-172.17.0.10-1593635108003:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36125,DS-7d725821-b2d4-4aed-b93d-2da83dc8af7f,DISK], DatanodeInfoWithStorage[127.0.0.1:43135,DS-581c251e-d706-4c2c-8211-a910afb9bfee,DISK], DatanodeInfoWithStorage[127.0.0.1:45048,DS-f247dd77-c0e5-400f-a177-2a5a484e73ac,DISK], DatanodeInfoWithStorage[127.0.0.1:33823,DS-d6dd63a6-5259-43c5-993a-e15801b664f3,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-395714052-172.17.0.10-1593635108003:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33823,DS-d6dd63a6-5259-43c5-993a-e15801b664f3,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-395714052-172.17.0.10-1593635108003:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45048,DS-a78893fc-128f-4e48-8161-75d526753fd5,DISK], DatanodeInfoWithStorage[127.0.0.1:33823,DS-8f6bfa34-d0c2-48c7-b6f9-7e00be3c98e5,DISK], DatanodeInfoWithStorage[127.0.0.1:45057,DS-c4316749-4864-4222-ae16-e3b94dd813d9,DISK], DatanodeInfoWithStorage[127.0.0.1:36160,DS-c1782d99-344b-463e-bdba-69c8d0476dd2,DISK], DatanodeInfoWithStorage[127.0.0.1:36125,DS-4116df8a-55ae-490d-8b27-047476d88afe,DISK], DatanodeInfoWithStorage[127.0.0.1:43135,DS-bc9631d0-1bd3-4e6c-86eb-9f0078f69287,DISK], DatanodeInfoWithStorage[127.0.0.1:32768,DS-23888dd6-ffce-416c-af8f-9ada58d112d1,DISK], DatanodeInfoWithStorage[127.0.0.1:45541,DS-ad4d20bd-5d6d-449f-b602-41dc0d3ad547,DISK], DatanodeInfoWithStorage[127.0.0.1:42703,DS-4aeb83ec-4930-42b7-879f-918e1e670d11,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-395714052-172.17.0.10-1593635108003:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36125,DS-7d725821-b2d4-4aed-b93d-2da83dc8af7f,DISK], DatanodeInfoWithStorage[127.0.0.1:43135,DS-581c251e-d706-4c2c-8211-a910afb9bfee,DISK], DatanodeInfoWithStorage[127.0.0.1:45048,DS-f247dd77-c0e5-400f-a177-2a5a484e73ac,DISK], DatanodeInfoWithStorage[127.0.0.1:33823,DS-d6dd63a6-5259-43c5-993a-e15801b664f3,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-395714052-172.17.0.10-1593635108003:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33823,DS-d6dd63a6-5259-43c5-993a-e15801b664f3,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-850251723-172.17.0.10-1593637162025:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38860,DS-46e9d4a0-eaae-4afe-af31-ec35f22f8a97,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-a79e0817-bec2-458b-8ca4-36597f56b2d4,DISK], DatanodeInfoWithStorage[127.0.0.1:43046,DS-aa035f92-ec2f-4b69-8c83-7c713df812a6,DISK], DatanodeInfoWithStorage[127.0.0.1:34295,DS-29ae3310-5ec4-44ea-91d6-2d8678afc102,DISK], DatanodeInfoWithStorage[127.0.0.1:37811,DS-2a801268-d4cf-4176-9030-6d0e59b8c179,DISK], DatanodeInfoWithStorage[127.0.0.1:44176,DS-40b5b5d1-6c45-4134-84ec-b4d25f034ee9,DISK], DatanodeInfoWithStorage[127.0.0.1:44365,DS-fb51c93a-37d4-4667-96ad-b1e539313a18,DISK], DatanodeInfoWithStorage[127.0.0.1:45565,DS-927f40b3-ee5a-4452-b3ca-bab0acf12df5,DISK], DatanodeInfoWithStorage[127.0.0.1:42696,DS-a4db26d0-e725-44ee-8c6d-0bbf84da7767,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-850251723-172.17.0.10-1593637162025:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-6ac639ef-116b-4f97-994b-49161c0e6885,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-850251723-172.17.0.10-1593637162025:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-6ac639ef-116b-4f97-994b-49161c0e6885,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-850251723-172.17.0.10-1593637162025:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38860,DS-46e9d4a0-eaae-4afe-af31-ec35f22f8a97,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-a79e0817-bec2-458b-8ca4-36597f56b2d4,DISK], DatanodeInfoWithStorage[127.0.0.1:43046,DS-aa035f92-ec2f-4b69-8c83-7c713df812a6,DISK], DatanodeInfoWithStorage[127.0.0.1:34295,DS-29ae3310-5ec4-44ea-91d6-2d8678afc102,DISK], DatanodeInfoWithStorage[127.0.0.1:37811,DS-2a801268-d4cf-4176-9030-6d0e59b8c179,DISK], DatanodeInfoWithStorage[127.0.0.1:44176,DS-40b5b5d1-6c45-4134-84ec-b4d25f034ee9,DISK], DatanodeInfoWithStorage[127.0.0.1:44365,DS-fb51c93a-37d4-4667-96ad-b1e539313a18,DISK], DatanodeInfoWithStorage[127.0.0.1:45565,DS-927f40b3-ee5a-4452-b3ca-bab0acf12df5,DISK], DatanodeInfoWithStorage[127.0.0.1:42696,DS-a4db26d0-e725-44ee-8c6d-0bbf84da7767,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-850251723-172.17.0.10-1593637162025:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-6ac639ef-116b-4f97-994b-49161c0e6885,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-850251723-172.17.0.10-1593637162025:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-6ac639ef-116b-4f97-994b-49161c0e6885,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2066018506-172.17.0.10-1593637538942:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36436,DS-f61783a1-1a6b-4a85-b728-38a751b18b19,DISK], DatanodeInfoWithStorage[127.0.0.1:35580,DS-0c68d5fe-8381-4a52-82ad-4c339a24b107,DISK], DatanodeInfoWithStorage[127.0.0.1:37752,DS-ee0f75bc-ac45-43c3-80e3-5cf72e0df580,DISK], DatanodeInfoWithStorage[127.0.0.1:35550,DS-a9454ce8-e463-404a-bcb6-9e56f5392ef1,DISK], DatanodeInfoWithStorage[127.0.0.1:32863,DS-c8d63501-617e-4042-9235-2b04f858f830,DISK], DatanodeInfoWithStorage[127.0.0.1:46263,DS-cf619479-acd0-4a40-9d8c-17501b23fa40,DISK], DatanodeInfoWithStorage[127.0.0.1:39674,DS-5514025f-cea8-402b-8722-f3d7c2f2c942,DISK], DatanodeInfoWithStorage[127.0.0.1:35804,DS-d02d22dd-a76d-4780-b0e9-dab8bdd524c0,DISK], DatanodeInfoWithStorage[127.0.0.1:37434,DS-79726820-076b-42f6-aa5c-16808163d36c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2066018506-172.17.0.10-1593637538942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36436,DS-074d91eb-4b2c-4156-8065-b0ee43458c4d,DISK], DatanodeInfoWithStorage[127.0.0.1:35550,DS-1b51a138-579a-4faf-83cc-457a050e8644,DISK], DatanodeInfoWithStorage[127.0.0.1:37434,DS-de6adb4d-62ca-4bdd-8522-7e0e3ee88607,DISK], DatanodeInfoWithStorage[127.0.0.1:37752,DS-42a1e895-1e5a-44a7-bbdb-7c9a8e63e784,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2066018506-172.17.0.10-1593637538942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37434,DS-de6adb4d-62ca-4bdd-8522-7e0e3ee88607,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2066018506-172.17.0.10-1593637538942:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36436,DS-f61783a1-1a6b-4a85-b728-38a751b18b19,DISK], DatanodeInfoWithStorage[127.0.0.1:35580,DS-0c68d5fe-8381-4a52-82ad-4c339a24b107,DISK], DatanodeInfoWithStorage[127.0.0.1:37752,DS-ee0f75bc-ac45-43c3-80e3-5cf72e0df580,DISK], DatanodeInfoWithStorage[127.0.0.1:35550,DS-a9454ce8-e463-404a-bcb6-9e56f5392ef1,DISK], DatanodeInfoWithStorage[127.0.0.1:32863,DS-c8d63501-617e-4042-9235-2b04f858f830,DISK], DatanodeInfoWithStorage[127.0.0.1:46263,DS-cf619479-acd0-4a40-9d8c-17501b23fa40,DISK], DatanodeInfoWithStorage[127.0.0.1:39674,DS-5514025f-cea8-402b-8722-f3d7c2f2c942,DISK], DatanodeInfoWithStorage[127.0.0.1:35804,DS-d02d22dd-a76d-4780-b0e9-dab8bdd524c0,DISK], DatanodeInfoWithStorage[127.0.0.1:37434,DS-79726820-076b-42f6-aa5c-16808163d36c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2066018506-172.17.0.10-1593637538942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36436,DS-074d91eb-4b2c-4156-8065-b0ee43458c4d,DISK], DatanodeInfoWithStorage[127.0.0.1:35550,DS-1b51a138-579a-4faf-83cc-457a050e8644,DISK], DatanodeInfoWithStorage[127.0.0.1:37434,DS-de6adb4d-62ca-4bdd-8522-7e0e3ee88607,DISK], DatanodeInfoWithStorage[127.0.0.1:37752,DS-42a1e895-1e5a-44a7-bbdb-7c9a8e63e784,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2066018506-172.17.0.10-1593637538942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37434,DS-de6adb4d-62ca-4bdd-8522-7e0e3ee88607,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1114740531-172.17.0.10-1593638745862:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37502,DS-0d704697-037d-4e31-87fc-fb6606ccb3dd,DISK], DatanodeInfoWithStorage[127.0.0.1:44365,DS-ca93b0ea-7e31-4aa8-8e4e-a0b9457fd009,DISK], DatanodeInfoWithStorage[127.0.0.1:43567,DS-2f45fc07-7095-4161-92a1-5a797494d52c,DISK], DatanodeInfoWithStorage[127.0.0.1:45029,DS-11d4dbef-c9db-43c9-93de-45106c4133b5,DISK], DatanodeInfoWithStorage[127.0.0.1:39388,DS-8c3d11e3-2d3e-4ee6-92fa-413e29e0c5ab,DISK], DatanodeInfoWithStorage[127.0.0.1:44125,DS-86569a66-2815-4ffa-bd00-6b50f558c7cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37161,DS-e045af35-5c00-4d62-9b88-356de503004a,DISK], DatanodeInfoWithStorage[127.0.0.1:33582,DS-f9ce4397-701b-4859-a81c-e267a9698fb8,DISK], DatanodeInfoWithStorage[127.0.0.1:45708,DS-e763dfd6-6909-4b4f-aa31-da83826fc5e0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1114740531-172.17.0.10-1593638745862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45708,DS-d67b31f4-b910-4cce-8c98-2fc1b776278c,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-1114740531-172.17.0.10-1593638745862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45708,DS-d67b31f4-b910-4cce-8c98-2fc1b776278c,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1114740531-172.17.0.10-1593638745862:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37502,DS-0d704697-037d-4e31-87fc-fb6606ccb3dd,DISK], DatanodeInfoWithStorage[127.0.0.1:44365,DS-ca93b0ea-7e31-4aa8-8e4e-a0b9457fd009,DISK], DatanodeInfoWithStorage[127.0.0.1:43567,DS-2f45fc07-7095-4161-92a1-5a797494d52c,DISK], DatanodeInfoWithStorage[127.0.0.1:45029,DS-11d4dbef-c9db-43c9-93de-45106c4133b5,DISK], DatanodeInfoWithStorage[127.0.0.1:39388,DS-8c3d11e3-2d3e-4ee6-92fa-413e29e0c5ab,DISK], DatanodeInfoWithStorage[127.0.0.1:44125,DS-86569a66-2815-4ffa-bd00-6b50f558c7cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37161,DS-e045af35-5c00-4d62-9b88-356de503004a,DISK], DatanodeInfoWithStorage[127.0.0.1:33582,DS-f9ce4397-701b-4859-a81c-e267a9698fb8,DISK], DatanodeInfoWithStorage[127.0.0.1:45708,DS-e763dfd6-6909-4b4f-aa31-da83826fc5e0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1114740531-172.17.0.10-1593638745862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45708,DS-d67b31f4-b910-4cce-8c98-2fc1b776278c,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-1114740531-172.17.0.10-1593638745862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45708,DS-d67b31f4-b910-4cce-8c98-2fc1b776278c,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-408502561-172.17.0.10-1593638905512:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46159,DS-59e3f06f-b83f-4d05-9b43-8ff1d7eb9d09,DISK], DatanodeInfoWithStorage[127.0.0.1:38127,DS-cdb4a91a-7aee-48e1-9d09-2e0a0427a5fb,DISK], DatanodeInfoWithStorage[127.0.0.1:45285,DS-c20518e7-4851-45cf-b5e9-49be366c9096,DISK], DatanodeInfoWithStorage[127.0.0.1:42448,DS-13d2a178-29d1-4afd-a7bc-b0e510dd1e6f,DISK], DatanodeInfoWithStorage[127.0.0.1:42112,DS-d1ce765f-6889-491b-8c01-dff9eaa0817b,DISK], DatanodeInfoWithStorage[127.0.0.1:45942,DS-16a4a4a9-409a-4dce-9d06-e88a721db825,DISK], DatanodeInfoWithStorage[127.0.0.1:44837,DS-a9757d69-a199-4dfa-ba6a-18ba4a7c6736,DISK], DatanodeInfoWithStorage[127.0.0.1:40811,DS-bff29485-7685-43c9-bc03-57d194e45728,DISK], DatanodeInfoWithStorage[127.0.0.1:43892,DS-cceba9c7-6ea4-4d2d-b383-e56117511272,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-408502561-172.17.0.10-1593638905512:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45942,DS-5ff9590d-1c5d-4b39-b974-d78fbeaba24e,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-408502561-172.17.0.10-1593638905512:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45942,DS-5ff9590d-1c5d-4b39-b974-d78fbeaba24e,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-408502561-172.17.0.10-1593638905512:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46159,DS-59e3f06f-b83f-4d05-9b43-8ff1d7eb9d09,DISK], DatanodeInfoWithStorage[127.0.0.1:38127,DS-cdb4a91a-7aee-48e1-9d09-2e0a0427a5fb,DISK], DatanodeInfoWithStorage[127.0.0.1:45285,DS-c20518e7-4851-45cf-b5e9-49be366c9096,DISK], DatanodeInfoWithStorage[127.0.0.1:42448,DS-13d2a178-29d1-4afd-a7bc-b0e510dd1e6f,DISK], DatanodeInfoWithStorage[127.0.0.1:42112,DS-d1ce765f-6889-491b-8c01-dff9eaa0817b,DISK], DatanodeInfoWithStorage[127.0.0.1:45942,DS-16a4a4a9-409a-4dce-9d06-e88a721db825,DISK], DatanodeInfoWithStorage[127.0.0.1:44837,DS-a9757d69-a199-4dfa-ba6a-18ba4a7c6736,DISK], DatanodeInfoWithStorage[127.0.0.1:40811,DS-bff29485-7685-43c9-bc03-57d194e45728,DISK], DatanodeInfoWithStorage[127.0.0.1:43892,DS-cceba9c7-6ea4-4d2d-b383-e56117511272,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-408502561-172.17.0.10-1593638905512:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45942,DS-5ff9590d-1c5d-4b39-b974-d78fbeaba24e,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-408502561-172.17.0.10-1593638905512:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45942,DS-5ff9590d-1c5d-4b39-b974-d78fbeaba24e,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-947162128-172.17.0.10-1593639713948:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45951,DS-af8c2b3d-0269-4053-a675-6d498e7493a1,DISK], DatanodeInfoWithStorage[127.0.0.1:38716,DS-e5160b53-96f3-4bec-ac37-0e7512cc29d0,DISK], DatanodeInfoWithStorage[127.0.0.1:43751,DS-c157c447-2e89-4d5d-8d01-1d1d02501705,DISK], DatanodeInfoWithStorage[127.0.0.1:33865,DS-f39bae90-943c-4331-959c-a0d7caa84dc0,DISK], DatanodeInfoWithStorage[127.0.0.1:36910,DS-03c776c5-eb61-4664-9dab-b8c3f4836e30,DISK], DatanodeInfoWithStorage[127.0.0.1:40575,DS-47314ab2-ef00-4b6d-bc06-ab7480eb30fe,DISK], DatanodeInfoWithStorage[127.0.0.1:46790,DS-838f207d-f896-4d69-ac3a-192bd0da2b6a,DISK], DatanodeInfoWithStorage[127.0.0.1:40831,DS-220620cf-0613-49d6-8814-5608f743df81,DISK], DatanodeInfoWithStorage[127.0.0.1:44899,DS-8b2a78a1-4d39-49aa-9905-10366c21a731,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-947162128-172.17.0.10-1593639713948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36910,DS-f9f5e94a-5e63-4fb3-bf43-94e2710a24df,DISK], DatanodeInfoWithStorage[127.0.0.1:40831,DS-c626adc6-1b81-436b-8e49-68ea39f27603,DISK], DatanodeInfoWithStorage[127.0.0.1:33865,DS-8ee92b1b-c5ea-4710-ad15-28bc7c15d47c,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-947162128-172.17.0.10-1593639713948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40831,DS-c626adc6-1b81-436b-8e49-68ea39f27603,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-947162128-172.17.0.10-1593639713948:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45951,DS-af8c2b3d-0269-4053-a675-6d498e7493a1,DISK], DatanodeInfoWithStorage[127.0.0.1:38716,DS-e5160b53-96f3-4bec-ac37-0e7512cc29d0,DISK], DatanodeInfoWithStorage[127.0.0.1:43751,DS-c157c447-2e89-4d5d-8d01-1d1d02501705,DISK], DatanodeInfoWithStorage[127.0.0.1:33865,DS-f39bae90-943c-4331-959c-a0d7caa84dc0,DISK], DatanodeInfoWithStorage[127.0.0.1:36910,DS-03c776c5-eb61-4664-9dab-b8c3f4836e30,DISK], DatanodeInfoWithStorage[127.0.0.1:40575,DS-47314ab2-ef00-4b6d-bc06-ab7480eb30fe,DISK], DatanodeInfoWithStorage[127.0.0.1:46790,DS-838f207d-f896-4d69-ac3a-192bd0da2b6a,DISK], DatanodeInfoWithStorage[127.0.0.1:40831,DS-220620cf-0613-49d6-8814-5608f743df81,DISK], DatanodeInfoWithStorage[127.0.0.1:44899,DS-8b2a78a1-4d39-49aa-9905-10366c21a731,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-947162128-172.17.0.10-1593639713948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36910,DS-f9f5e94a-5e63-4fb3-bf43-94e2710a24df,DISK], DatanodeInfoWithStorage[127.0.0.1:40831,DS-c626adc6-1b81-436b-8e49-68ea39f27603,DISK], DatanodeInfoWithStorage[127.0.0.1:33865,DS-8ee92b1b-c5ea-4710-ad15-28bc7c15d47c,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-947162128-172.17.0.10-1593639713948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40831,DS-c626adc6-1b81-436b-8e49-68ea39f27603,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1940899700-172.17.0.10-1593641166814:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37962,DS-ee896048-4b62-4403-ba5b-aedb7149cac4,DISK], DatanodeInfoWithStorage[127.0.0.1:39075,DS-25ce49ae-9cee-44b4-bf70-f73014f2827a,DISK], DatanodeInfoWithStorage[127.0.0.1:46754,DS-fa8795b3-83a0-4192-a7a0-1e88e05bc1ce,DISK], DatanodeInfoWithStorage[127.0.0.1:35589,DS-aff52d7d-a1e4-47e7-a1d0-93cb0b7757e7,DISK], DatanodeInfoWithStorage[127.0.0.1:45434,DS-7c9f0d31-684c-43ae-84f2-2e4e86383667,DISK], DatanodeInfoWithStorage[127.0.0.1:39081,DS-85a63250-6ce9-4722-9742-67d2333cb63c,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-b4c9a75e-b67d-41fe-9fe8-b99dbd408dba,DISK], DatanodeInfoWithStorage[127.0.0.1:40501,DS-836131e4-d70f-4f4c-a292-090c99812243,DISK], DatanodeInfoWithStorage[127.0.0.1:43594,DS-4c4195ff-cb1c-40a4-a458-20b97cb829ec,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1940899700-172.17.0.10-1593641166814:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40653,DS-d6aff230-2bb9-4431-8323-7c3c8740893e,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-1940899700-172.17.0.10-1593641166814:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40653,DS-d6aff230-2bb9-4431-8323-7c3c8740893e,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1940899700-172.17.0.10-1593641166814:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37962,DS-ee896048-4b62-4403-ba5b-aedb7149cac4,DISK], DatanodeInfoWithStorage[127.0.0.1:39075,DS-25ce49ae-9cee-44b4-bf70-f73014f2827a,DISK], DatanodeInfoWithStorage[127.0.0.1:46754,DS-fa8795b3-83a0-4192-a7a0-1e88e05bc1ce,DISK], DatanodeInfoWithStorage[127.0.0.1:35589,DS-aff52d7d-a1e4-47e7-a1d0-93cb0b7757e7,DISK], DatanodeInfoWithStorage[127.0.0.1:45434,DS-7c9f0d31-684c-43ae-84f2-2e4e86383667,DISK], DatanodeInfoWithStorage[127.0.0.1:39081,DS-85a63250-6ce9-4722-9742-67d2333cb63c,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-b4c9a75e-b67d-41fe-9fe8-b99dbd408dba,DISK], DatanodeInfoWithStorage[127.0.0.1:40501,DS-836131e4-d70f-4f4c-a292-090c99812243,DISK], DatanodeInfoWithStorage[127.0.0.1:43594,DS-4c4195ff-cb1c-40a4-a458-20b97cb829ec,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1940899700-172.17.0.10-1593641166814:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40653,DS-d6aff230-2bb9-4431-8323-7c3c8740893e,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-1940899700-172.17.0.10-1593641166814:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40653,DS-d6aff230-2bb9-4431-8323-7c3c8740893e,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1246162760-172.17.0.10-1593641339668:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34853,DS-55cb137d-5231-4472-a820-8a53be6f5b30,DISK], DatanodeInfoWithStorage[127.0.0.1:42489,DS-5a6fff87-3a0a-4ed5-a701-b2360c4d2500,DISK], DatanodeInfoWithStorage[127.0.0.1:35114,DS-690a245d-1264-4051-b3f1-f9f234028199,DISK], DatanodeInfoWithStorage[127.0.0.1:44242,DS-0d5f3c89-749d-4ef1-92ff-7955260673b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42768,DS-8b31dadb-5ed3-4214-8810-e73f0a79462b,DISK], DatanodeInfoWithStorage[127.0.0.1:37562,DS-55186756-692f-4f06-84a1-a188e1972e2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-5e46e42c-d4d7-4835-b9f6-dfd02b5c7253,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1246162760-172.17.0.10-1593641339668:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34853,DS-bf566865-fe67-493e-823c-5ece4963a578,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-ae03fd83-340e-4815-8c1a-01637aeabec7,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1246162760-172.17.0.10-1593641339668:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34088,DS-ae03fd83-340e-4815-8c1a-01637aeabec7,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1246162760-172.17.0.10-1593641339668:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34853,DS-55cb137d-5231-4472-a820-8a53be6f5b30,DISK], DatanodeInfoWithStorage[127.0.0.1:42489,DS-5a6fff87-3a0a-4ed5-a701-b2360c4d2500,DISK], DatanodeInfoWithStorage[127.0.0.1:35114,DS-690a245d-1264-4051-b3f1-f9f234028199,DISK], DatanodeInfoWithStorage[127.0.0.1:44242,DS-0d5f3c89-749d-4ef1-92ff-7955260673b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42768,DS-8b31dadb-5ed3-4214-8810-e73f0a79462b,DISK], DatanodeInfoWithStorage[127.0.0.1:37562,DS-55186756-692f-4f06-84a1-a188e1972e2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-5e46e42c-d4d7-4835-b9f6-dfd02b5c7253,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1246162760-172.17.0.10-1593641339668:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34853,DS-bf566865-fe67-493e-823c-5ece4963a578,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-ae03fd83-340e-4815-8c1a-01637aeabec7,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1246162760-172.17.0.10-1593641339668:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34088,DS-ae03fd83-340e-4815-8c1a-01637aeabec7,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-253661753-172.17.0.10-1593642760617:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46235,DS-a83b7f7e-2566-4bf8-aa55-1cbc6777dc81,DISK], DatanodeInfoWithStorage[127.0.0.1:38341,DS-5f6dd232-d860-4698-bf2a-65af3a5cbcbe,DISK], DatanodeInfoWithStorage[127.0.0.1:39835,DS-72e3a70d-1592-403e-bf35-25afbe0d19c3,DISK], DatanodeInfoWithStorage[127.0.0.1:37557,DS-cfa75c63-5c24-479f-90c0-c5ee25667c4d,DISK], DatanodeInfoWithStorage[127.0.0.1:35976,DS-5997fa0f-ae27-4caf-bf6c-e987eb03983f,DISK], DatanodeInfoWithStorage[127.0.0.1:45598,DS-c0ed2098-f02e-4fbc-881a-ba28c39f78ad,DISK], DatanodeInfoWithStorage[127.0.0.1:37955,DS-88ce1ced-0e82-4cf7-87e6-0aea40311e45,DISK], DatanodeInfoWithStorage[127.0.0.1:38049,DS-57fb8686-6b0a-41fb-95c3-f5ff82faafd4,DISK], DatanodeInfoWithStorage[127.0.0.1:36982,DS-7f10bb42-9d2d-4027-8a8d-c8e5505548f2,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-253661753-172.17.0.10-1593642760617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38049,DS-622eb668-4511-4f25-b4ea-06e2f4397e55,DISK], DatanodeInfoWithStorage[127.0.0.1:36982,DS-fae16b96-1b69-4ba1-a99a-ab07bf1f0bf8,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-253661753-172.17.0.10-1593642760617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38049,DS-622eb668-4511-4f25-b4ea-06e2f4397e55,DISK], DatanodeInfoWithStorage[127.0.0.1:36982,DS-fae16b96-1b69-4ba1-a99a-ab07bf1f0bf8,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-253661753-172.17.0.10-1593642760617:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46235,DS-a83b7f7e-2566-4bf8-aa55-1cbc6777dc81,DISK], DatanodeInfoWithStorage[127.0.0.1:38341,DS-5f6dd232-d860-4698-bf2a-65af3a5cbcbe,DISK], DatanodeInfoWithStorage[127.0.0.1:39835,DS-72e3a70d-1592-403e-bf35-25afbe0d19c3,DISK], DatanodeInfoWithStorage[127.0.0.1:37557,DS-cfa75c63-5c24-479f-90c0-c5ee25667c4d,DISK], DatanodeInfoWithStorage[127.0.0.1:35976,DS-5997fa0f-ae27-4caf-bf6c-e987eb03983f,DISK], DatanodeInfoWithStorage[127.0.0.1:45598,DS-c0ed2098-f02e-4fbc-881a-ba28c39f78ad,DISK], DatanodeInfoWithStorage[127.0.0.1:37955,DS-88ce1ced-0e82-4cf7-87e6-0aea40311e45,DISK], DatanodeInfoWithStorage[127.0.0.1:38049,DS-57fb8686-6b0a-41fb-95c3-f5ff82faafd4,DISK], DatanodeInfoWithStorage[127.0.0.1:36982,DS-7f10bb42-9d2d-4027-8a8d-c8e5505548f2,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-253661753-172.17.0.10-1593642760617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38049,DS-622eb668-4511-4f25-b4ea-06e2f4397e55,DISK], DatanodeInfoWithStorage[127.0.0.1:36982,DS-fae16b96-1b69-4ba1-a99a-ab07bf1f0bf8,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-253661753-172.17.0.10-1593642760617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38049,DS-622eb668-4511-4f25-b4ea-06e2f4397e55,DISK], DatanodeInfoWithStorage[127.0.0.1:36982,DS-fae16b96-1b69-4ba1-a99a-ab07bf1f0bf8,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[10]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1964284705-172.17.0.10-1593642938651:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37457,DS-c7986110-0ad6-4e67-b2e2-916724721528,DISK], DatanodeInfoWithStorage[127.0.0.1:40272,DS-c3a52493-4bc1-4529-add4-e7ae5ea6bc5a,DISK], DatanodeInfoWithStorage[127.0.0.1:34612,DS-ac0bf228-f101-4142-b337-16d5647057d2,DISK], DatanodeInfoWithStorage[127.0.0.1:45939,DS-b358ba69-bb07-4329-9edf-4133857fac87,DISK], DatanodeInfoWithStorage[127.0.0.1:32939,DS-770bd367-bdca-4ff7-998b-4c6d2c0875fa,DISK], DatanodeInfoWithStorage[127.0.0.1:42865,DS-d8e1f7ed-a309-445d-83a6-a40751a5ba7f,DISK], DatanodeInfoWithStorage[127.0.0.1:41024,DS-311cf3c6-ff6e-42e6-b3c8-218e8954269e,DISK], DatanodeInfoWithStorage[127.0.0.1:41089,DS-836f9e69-9092-4ab6-8958-c41a246bd7cb,DISK], DatanodeInfoWithStorage[127.0.0.1:39960,DS-b41d956e-fbdb-4483-b300-1d05d8dd58c5,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1964284705-172.17.0.10-1593642938651:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39960,DS-6c7c30cf-28d2-4006-88a5-f7563a4190f6,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1964284705-172.17.0.10-1593642938651:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39960,DS-6c7c30cf-28d2-4006-88a5-f7563a4190f6,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1964284705-172.17.0.10-1593642938651:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37457,DS-c7986110-0ad6-4e67-b2e2-916724721528,DISK], DatanodeInfoWithStorage[127.0.0.1:40272,DS-c3a52493-4bc1-4529-add4-e7ae5ea6bc5a,DISK], DatanodeInfoWithStorage[127.0.0.1:34612,DS-ac0bf228-f101-4142-b337-16d5647057d2,DISK], DatanodeInfoWithStorage[127.0.0.1:45939,DS-b358ba69-bb07-4329-9edf-4133857fac87,DISK], DatanodeInfoWithStorage[127.0.0.1:32939,DS-770bd367-bdca-4ff7-998b-4c6d2c0875fa,DISK], DatanodeInfoWithStorage[127.0.0.1:42865,DS-d8e1f7ed-a309-445d-83a6-a40751a5ba7f,DISK], DatanodeInfoWithStorage[127.0.0.1:41024,DS-311cf3c6-ff6e-42e6-b3c8-218e8954269e,DISK], DatanodeInfoWithStorage[127.0.0.1:41089,DS-836f9e69-9092-4ab6-8958-c41a246bd7cb,DISK], DatanodeInfoWithStorage[127.0.0.1:39960,DS-b41d956e-fbdb-4483-b300-1d05d8dd58c5,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1964284705-172.17.0.10-1593642938651:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39960,DS-6c7c30cf-28d2-4006-88a5-f7563a4190f6,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1964284705-172.17.0.10-1593642938651:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39960,DS-6c7c30cf-28d2-4006-88a5-f7563a4190f6,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
early stop after 10 is satisfied
v1v2 failed with probability 10 out of 50
v1v1v2v2 failed with probability 0 out of 50
result: might be true error
Total execution time in seconds : 9918
