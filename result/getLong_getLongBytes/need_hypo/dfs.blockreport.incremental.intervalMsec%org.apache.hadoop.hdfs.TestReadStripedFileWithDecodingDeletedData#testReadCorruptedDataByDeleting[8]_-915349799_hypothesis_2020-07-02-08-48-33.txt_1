reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-518882484-172.17.0.18-1593680146462:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38869,DS-f00ea0f7-b822-420c-b034-5e89fd6aa116,DISK], DatanodeInfoWithStorage[127.0.0.1:37088,DS-4178ddcd-35c1-4ec9-a2ec-aa1f7a624f7f,DISK], DatanodeInfoWithStorage[127.0.0.1:33410,DS-28f9dd71-dde4-4071-877c-b82486a65cd1,DISK], DatanodeInfoWithStorage[127.0.0.1:39258,DS-0200e4d0-d30c-4ba4-9d35-18b414c8b8fd,DISK], DatanodeInfoWithStorage[127.0.0.1:36530,DS-a7adc6e2-3ce7-4974-ba77-a22f2a1b2861,DISK], DatanodeInfoWithStorage[127.0.0.1:37915,DS-402262b1-409c-4c70-83e8-59215517b9ae,DISK], DatanodeInfoWithStorage[127.0.0.1:46298,DS-7e81bcd8-a68e-4219-beea-e10b134fd8fb,DISK], DatanodeInfoWithStorage[127.0.0.1:36268,DS-668ccd73-74d0-4707-9db7-23bbc8c27160,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-518882484-172.17.0.18-1593680146462:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39258,DS-dd32f47a-76f9-43ba-a952-3f4ab52112e7,DISK], DatanodeInfoWithStorage[127.0.0.1:37915,DS-64ae271a-6f38-4094-a147-803863268a38,DISK], DatanodeInfoWithStorage[127.0.0.1:33410,DS-ea3813d2-a6f0-4725-b2ae-3a50d721fba5,DISK], DatanodeInfoWithStorage[127.0.0.1:37088,DS-4cdd6556-58d0-47ff-b808-e836204f6ca5,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-518882484-172.17.0.18-1593680146462:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33410,DS-ea3813d2-a6f0-4725-b2ae-3a50d721fba5,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-518882484-172.17.0.18-1593680146462:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38869,DS-f00ea0f7-b822-420c-b034-5e89fd6aa116,DISK], DatanodeInfoWithStorage[127.0.0.1:37088,DS-4178ddcd-35c1-4ec9-a2ec-aa1f7a624f7f,DISK], DatanodeInfoWithStorage[127.0.0.1:33410,DS-28f9dd71-dde4-4071-877c-b82486a65cd1,DISK], DatanodeInfoWithStorage[127.0.0.1:39258,DS-0200e4d0-d30c-4ba4-9d35-18b414c8b8fd,DISK], DatanodeInfoWithStorage[127.0.0.1:36530,DS-a7adc6e2-3ce7-4974-ba77-a22f2a1b2861,DISK], DatanodeInfoWithStorage[127.0.0.1:37915,DS-402262b1-409c-4c70-83e8-59215517b9ae,DISK], DatanodeInfoWithStorage[127.0.0.1:46298,DS-7e81bcd8-a68e-4219-beea-e10b134fd8fb,DISK], DatanodeInfoWithStorage[127.0.0.1:36268,DS-668ccd73-74d0-4707-9db7-23bbc8c27160,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-518882484-172.17.0.18-1593680146462:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39258,DS-dd32f47a-76f9-43ba-a952-3f4ab52112e7,DISK], DatanodeInfoWithStorage[127.0.0.1:37915,DS-64ae271a-6f38-4094-a147-803863268a38,DISK], DatanodeInfoWithStorage[127.0.0.1:33410,DS-ea3813d2-a6f0-4725-b2ae-3a50d721fba5,DISK], DatanodeInfoWithStorage[127.0.0.1:37088,DS-4cdd6556-58d0-47ff-b808-e836204f6ca5,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-518882484-172.17.0.18-1593680146462:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33410,DS-ea3813d2-a6f0-4725-b2ae-3a50d721fba5,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1712928754-172.17.0.18-1593680520620:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37911,DS-3220ca08-348e-4d25-b91a-5a0456274e4c,DISK], DatanodeInfoWithStorage[127.0.0.1:44181,DS-e81658b7-bbd6-4a0c-8265-af529843c749,DISK], DatanodeInfoWithStorage[127.0.0.1:33468,DS-c9beb4c1-95d2-41e7-850a-f3ae60682196,DISK], DatanodeInfoWithStorage[127.0.0.1:37417,DS-c6f34ad9-5ef8-46d0-bdac-2c54e3c8e455,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-53280c1c-cf05-4322-868a-05626b5f8aff,DISK], DatanodeInfoWithStorage[127.0.0.1:37469,DS-9d0888aa-a9bd-42d4-bf84-2b5a4446b46b,DISK], DatanodeInfoWithStorage[127.0.0.1:44021,DS-e3580b2b-7fe5-47c4-8080-b7d0b9ac803a,DISK], DatanodeInfoWithStorage[127.0.0.1:45130,DS-74999ea1-adb2-4323-8f0f-80610163b4bb,DISK], DatanodeInfoWithStorage[127.0.0.1:39891,DS-2dec6500-0457-4f21-9de1-83fa96f09ba3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1712928754-172.17.0.18-1593680520620:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-c8e3f8dc-9baf-41ad-ac40-89ff4bec485e,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-27141ea9-1fbe-4f52-a64b-5da4e769c9d4,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1712928754-172.17.0.18-1593680520620:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-c8e3f8dc-9baf-41ad-ac40-89ff4bec485e,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-27141ea9-1fbe-4f52-a64b-5da4e769c9d4,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1712928754-172.17.0.18-1593680520620:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37911,DS-3220ca08-348e-4d25-b91a-5a0456274e4c,DISK], DatanodeInfoWithStorage[127.0.0.1:44181,DS-e81658b7-bbd6-4a0c-8265-af529843c749,DISK], DatanodeInfoWithStorage[127.0.0.1:33468,DS-c9beb4c1-95d2-41e7-850a-f3ae60682196,DISK], DatanodeInfoWithStorage[127.0.0.1:37417,DS-c6f34ad9-5ef8-46d0-bdac-2c54e3c8e455,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-53280c1c-cf05-4322-868a-05626b5f8aff,DISK], DatanodeInfoWithStorage[127.0.0.1:37469,DS-9d0888aa-a9bd-42d4-bf84-2b5a4446b46b,DISK], DatanodeInfoWithStorage[127.0.0.1:44021,DS-e3580b2b-7fe5-47c4-8080-b7d0b9ac803a,DISK], DatanodeInfoWithStorage[127.0.0.1:45130,DS-74999ea1-adb2-4323-8f0f-80610163b4bb,DISK], DatanodeInfoWithStorage[127.0.0.1:39891,DS-2dec6500-0457-4f21-9de1-83fa96f09ba3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1712928754-172.17.0.18-1593680520620:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-c8e3f8dc-9baf-41ad-ac40-89ff4bec485e,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-27141ea9-1fbe-4f52-a64b-5da4e769c9d4,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1712928754-172.17.0.18-1593680520620:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45130,DS-c8e3f8dc-9baf-41ad-ac40-89ff4bec485e,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-27141ea9-1fbe-4f52-a64b-5da4e769c9d4,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1276821076-172.17.0.18-1593680688998:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42539,DS-363d30df-5fe0-4c05-bc77-0413be8073bd,DISK], DatanodeInfoWithStorage[127.0.0.1:34018,DS-76db6c92-9564-40e3-95f0-4638c2f07b45,DISK], DatanodeInfoWithStorage[127.0.0.1:42260,DS-150d0680-c78e-4d57-9537-a5c5e9fc56a7,DISK], DatanodeInfoWithStorage[127.0.0.1:33160,DS-6ed119be-1829-41be-88fa-8de1d0d223cb,DISK], DatanodeInfoWithStorage[127.0.0.1:40197,DS-3bc60894-f060-49cb-97af-92c0a582da2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34157,DS-68789405-bea6-4c16-a0e1-a149c939e82b,DISK], DatanodeInfoWithStorage[127.0.0.1:46480,DS-e97b3262-908e-458a-a14d-2291f1cad5b3,DISK]]; indices=[1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1276821076-172.17.0.18-1593680688998:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-a5524208-dcd5-4a90-b96c-309c5bbefc8f,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1276821076-172.17.0.18-1593680688998:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-a5524208-dcd5-4a90-b96c-309c5bbefc8f,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1276821076-172.17.0.18-1593680688998:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42539,DS-363d30df-5fe0-4c05-bc77-0413be8073bd,DISK], DatanodeInfoWithStorage[127.0.0.1:34018,DS-76db6c92-9564-40e3-95f0-4638c2f07b45,DISK], DatanodeInfoWithStorage[127.0.0.1:42260,DS-150d0680-c78e-4d57-9537-a5c5e9fc56a7,DISK], DatanodeInfoWithStorage[127.0.0.1:33160,DS-6ed119be-1829-41be-88fa-8de1d0d223cb,DISK], DatanodeInfoWithStorage[127.0.0.1:40197,DS-3bc60894-f060-49cb-97af-92c0a582da2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34157,DS-68789405-bea6-4c16-a0e1-a149c939e82b,DISK], DatanodeInfoWithStorage[127.0.0.1:46480,DS-e97b3262-908e-458a-a14d-2291f1cad5b3,DISK]]; indices=[1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1276821076-172.17.0.18-1593680688998:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-a5524208-dcd5-4a90-b96c-309c5bbefc8f,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1276821076-172.17.0.18-1593680688998:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-a5524208-dcd5-4a90-b96c-309c5bbefc8f,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1418973381-172.17.0.18-1593682104985:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34933,DS-83febf6e-1f32-404e-9657-4f01e5066abb,DISK], DatanodeInfoWithStorage[127.0.0.1:40321,DS-780c6eef-b2a0-4da8-9dee-408f613832f5,DISK], DatanodeInfoWithStorage[127.0.0.1:40721,DS-24f7a2dc-49a4-4812-8070-f588d13b8045,DISK], DatanodeInfoWithStorage[127.0.0.1:41277,DS-d71e311d-6c42-4c2e-a1a1-91d2d5683185,DISK], DatanodeInfoWithStorage[127.0.0.1:42553,DS-e1163375-a576-4dde-8263-0b6870ae9f3a,DISK], DatanodeInfoWithStorage[127.0.0.1:39191,DS-8d16f13f-4f95-49bb-b42c-451f669c3b0a,DISK], DatanodeInfoWithStorage[127.0.0.1:38914,DS-43ba5efb-263c-4db1-96e8-15a8155a3240,DISK], DatanodeInfoWithStorage[127.0.0.1:41463,DS-e5477f45-b046-4a19-a68f-3d90bffe3288,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-1418973381-172.17.0.18-1593682104985:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41463,DS-47952584-587f-45c9-8336-92421787f17d,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1418973381-172.17.0.18-1593682104985:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41463,DS-47952584-587f-45c9-8336-92421787f17d,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1418973381-172.17.0.18-1593682104985:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34933,DS-83febf6e-1f32-404e-9657-4f01e5066abb,DISK], DatanodeInfoWithStorage[127.0.0.1:40321,DS-780c6eef-b2a0-4da8-9dee-408f613832f5,DISK], DatanodeInfoWithStorage[127.0.0.1:40721,DS-24f7a2dc-49a4-4812-8070-f588d13b8045,DISK], DatanodeInfoWithStorage[127.0.0.1:41277,DS-d71e311d-6c42-4c2e-a1a1-91d2d5683185,DISK], DatanodeInfoWithStorage[127.0.0.1:42553,DS-e1163375-a576-4dde-8263-0b6870ae9f3a,DISK], DatanodeInfoWithStorage[127.0.0.1:39191,DS-8d16f13f-4f95-49bb-b42c-451f669c3b0a,DISK], DatanodeInfoWithStorage[127.0.0.1:38914,DS-43ba5efb-263c-4db1-96e8-15a8155a3240,DISK], DatanodeInfoWithStorage[127.0.0.1:41463,DS-e5477f45-b046-4a19-a68f-3d90bffe3288,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-1418973381-172.17.0.18-1593682104985:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41463,DS-47952584-587f-45c9-8336-92421787f17d,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1418973381-172.17.0.18-1593682104985:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41463,DS-47952584-587f-45c9-8336-92421787f17d,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1004825066-172.17.0.18-1593682904768:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38684,DS-c7b258a9-3dc7-4d80-b404-91b635420bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:44493,DS-938acbc9-2662-4d54-9168-5397677a4bd1,DISK], DatanodeInfoWithStorage[127.0.0.1:33139,DS-b3330eb7-a6c5-405d-ae79-fb3b3ff6b96c,DISK], DatanodeInfoWithStorage[127.0.0.1:46238,DS-62b5bfad-0ea0-4d23-b59f-ee748f3a96e2,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-aede1ba8-1c90-40ce-a5ef-4a34c05b1f0f,DISK], DatanodeInfoWithStorage[127.0.0.1:44900,DS-a0b5722f-af1c-48d1-aea5-1327afc0a049,DISK]]; indices=[0, 1, 2, 3, 5, 6]}, LocatedStripedBlock{BP-1004825066-172.17.0.18-1593682904768:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38791,DS-12de3ca1-040a-482c-b22c-b3e9d8e28970,DISK], DatanodeInfoWithStorage[127.0.0.1:43242,DS-6a60cf3e-86e6-48d0-bac5-b7101a757702,DISK], DatanodeInfoWithStorage[127.0.0.1:46238,DS-c6971dc7-6f71-4a3b-bd86-2a32610efa85,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-a237a668-e990-402e-b276-196094004553,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1004825066-172.17.0.18-1593682904768:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-c6971dc7-6f71-4a3b-bd86-2a32610efa85,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-a237a668-e990-402e-b276-196094004553,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1004825066-172.17.0.18-1593682904768:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38684,DS-c7b258a9-3dc7-4d80-b404-91b635420bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:44493,DS-938acbc9-2662-4d54-9168-5397677a4bd1,DISK], DatanodeInfoWithStorage[127.0.0.1:33139,DS-b3330eb7-a6c5-405d-ae79-fb3b3ff6b96c,DISK], DatanodeInfoWithStorage[127.0.0.1:46238,DS-62b5bfad-0ea0-4d23-b59f-ee748f3a96e2,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-aede1ba8-1c90-40ce-a5ef-4a34c05b1f0f,DISK], DatanodeInfoWithStorage[127.0.0.1:44900,DS-a0b5722f-af1c-48d1-aea5-1327afc0a049,DISK]]; indices=[0, 1, 2, 3, 5, 6]}, LocatedStripedBlock{BP-1004825066-172.17.0.18-1593682904768:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38791,DS-12de3ca1-040a-482c-b22c-b3e9d8e28970,DISK], DatanodeInfoWithStorage[127.0.0.1:43242,DS-6a60cf3e-86e6-48d0-bac5-b7101a757702,DISK], DatanodeInfoWithStorage[127.0.0.1:46238,DS-c6971dc7-6f71-4a3b-bd86-2a32610efa85,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-a237a668-e990-402e-b276-196094004553,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1004825066-172.17.0.18-1593682904768:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-c6971dc7-6f71-4a3b-bd86-2a32610efa85,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-a237a668-e990-402e-b276-196094004553,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2106596765-172.17.0.18-1593683150212:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41710,DS-dc953cff-660e-4094-91d5-a93532d3dd87,DISK], DatanodeInfoWithStorage[127.0.0.1:34093,DS-08f9cc81-0b81-4d9f-a429-cf4074a12410,DISK], DatanodeInfoWithStorage[127.0.0.1:37909,DS-52c67dea-6d27-4b38-89b9-631241db970c,DISK], DatanodeInfoWithStorage[127.0.0.1:39298,DS-d1a0fb22-1053-4125-8d71-d78763e44055,DISK], DatanodeInfoWithStorage[127.0.0.1:38722,DS-3a43544a-b540-463f-b767-e40a5a57276d,DISK], DatanodeInfoWithStorage[127.0.0.1:38402,DS-48c7e152-f72e-4efe-b437-f8820000cb50,DISK], DatanodeInfoWithStorage[127.0.0.1:37682,DS-8357c8ff-00db-4719-82c1-e176d9f7b587,DISK], DatanodeInfoWithStorage[127.0.0.1:39778,DS-bb0e5640-7765-4a72-912e-8bfbe5b1fe1c,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2106596765-172.17.0.18-1593683150212:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37682,DS-9cea22c9-828c-47ad-8485-16d17e03ae13,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2106596765-172.17.0.18-1593683150212:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37682,DS-9cea22c9-828c-47ad-8485-16d17e03ae13,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2106596765-172.17.0.18-1593683150212:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41710,DS-dc953cff-660e-4094-91d5-a93532d3dd87,DISK], DatanodeInfoWithStorage[127.0.0.1:34093,DS-08f9cc81-0b81-4d9f-a429-cf4074a12410,DISK], DatanodeInfoWithStorage[127.0.0.1:37909,DS-52c67dea-6d27-4b38-89b9-631241db970c,DISK], DatanodeInfoWithStorage[127.0.0.1:39298,DS-d1a0fb22-1053-4125-8d71-d78763e44055,DISK], DatanodeInfoWithStorage[127.0.0.1:38722,DS-3a43544a-b540-463f-b767-e40a5a57276d,DISK], DatanodeInfoWithStorage[127.0.0.1:38402,DS-48c7e152-f72e-4efe-b437-f8820000cb50,DISK], DatanodeInfoWithStorage[127.0.0.1:37682,DS-8357c8ff-00db-4719-82c1-e176d9f7b587,DISK], DatanodeInfoWithStorage[127.0.0.1:39778,DS-bb0e5640-7765-4a72-912e-8bfbe5b1fe1c,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2106596765-172.17.0.18-1593683150212:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37682,DS-9cea22c9-828c-47ad-8485-16d17e03ae13,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2106596765-172.17.0.18-1593683150212:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37682,DS-9cea22c9-828c-47ad-8485-16d17e03ae13,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-972981045-172.17.0.18-1593683247511:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36365,DS-b872bd49-4081-4b49-8db4-cbf659800586,DISK], DatanodeInfoWithStorage[127.0.0.1:38063,DS-dddb1d2b-b287-4267-9303-496e4b59edee,DISK], DatanodeInfoWithStorage[127.0.0.1:45797,DS-40776cc0-95c7-45d6-acd9-4fd012ee1761,DISK], DatanodeInfoWithStorage[127.0.0.1:39002,DS-d1df539a-d14b-4a08-963d-27c116f3a55d,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-5c0f2d49-7cb0-4775-be3b-9f01935dbf45,DISK], DatanodeInfoWithStorage[127.0.0.1:42241,DS-846e6974-d430-4bfb-b2b0-341d80d7acc6,DISK]]; indices=[1, 2, 3, 5, 6, 7]}, LocatedStripedBlock{BP-972981045-172.17.0.18-1593683247511:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41430,DS-46cdcc0d-fc26-4617-ac7e-247301a5e60d,DISK], DatanodeInfoWithStorage[127.0.0.1:38063,DS-b98770a1-c5ff-491e-9a8b-35265803bed0,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-972981045-172.17.0.18-1593683247511:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41430,DS-46cdcc0d-fc26-4617-ac7e-247301a5e60d,DISK], DatanodeInfoWithStorage[127.0.0.1:38063,DS-b98770a1-c5ff-491e-9a8b-35265803bed0,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-972981045-172.17.0.18-1593683247511:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36365,DS-b872bd49-4081-4b49-8db4-cbf659800586,DISK], DatanodeInfoWithStorage[127.0.0.1:38063,DS-dddb1d2b-b287-4267-9303-496e4b59edee,DISK], DatanodeInfoWithStorage[127.0.0.1:45797,DS-40776cc0-95c7-45d6-acd9-4fd012ee1761,DISK], DatanodeInfoWithStorage[127.0.0.1:39002,DS-d1df539a-d14b-4a08-963d-27c116f3a55d,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-5c0f2d49-7cb0-4775-be3b-9f01935dbf45,DISK], DatanodeInfoWithStorage[127.0.0.1:42241,DS-846e6974-d430-4bfb-b2b0-341d80d7acc6,DISK]]; indices=[1, 2, 3, 5, 6, 7]}, LocatedStripedBlock{BP-972981045-172.17.0.18-1593683247511:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41430,DS-46cdcc0d-fc26-4617-ac7e-247301a5e60d,DISK], DatanodeInfoWithStorage[127.0.0.1:38063,DS-b98770a1-c5ff-491e-9a8b-35265803bed0,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-972981045-172.17.0.18-1593683247511:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41430,DS-46cdcc0d-fc26-4617-ac7e-247301a5e60d,DISK], DatanodeInfoWithStorage[127.0.0.1:38063,DS-b98770a1-c5ff-491e-9a8b-35265803bed0,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1007999810-172.17.0.18-1593684080291:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42049,DS-11622b65-2646-4023-ab52-88ef1bff1ee5,DISK], DatanodeInfoWithStorage[127.0.0.1:43518,DS-56794a56-7340-42d2-8388-26a3557f79ec,DISK], DatanodeInfoWithStorage[127.0.0.1:39104,DS-c9e0c442-feb3-434b-a536-6aa1389e252d,DISK], DatanodeInfoWithStorage[127.0.0.1:41782,DS-8313c04e-5bde-4011-bcb8-012b171e6de0,DISK], DatanodeInfoWithStorage[127.0.0.1:35097,DS-d4aa66c4-c40a-4e42-9aba-cd49f1cc1678,DISK], DatanodeInfoWithStorage[127.0.0.1:33469,DS-0f8b12c9-481b-4458-91d5-68f565aa5ace,DISK], DatanodeInfoWithStorage[127.0.0.1:34294,DS-a31e2bc6-bcee-4c23-86fe-517d6a4e7d17,DISK], DatanodeInfoWithStorage[127.0.0.1:39628,DS-51919391-a252-4e0b-a6a8-c3de44e87ac9,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1007999810-172.17.0.18-1593684080291:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42049,DS-4bd23d15-3a24-4fed-99f6-aae159f5de91,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1007999810-172.17.0.18-1593684080291:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42049,DS-4bd23d15-3a24-4fed-99f6-aae159f5de91,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1007999810-172.17.0.18-1593684080291:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42049,DS-11622b65-2646-4023-ab52-88ef1bff1ee5,DISK], DatanodeInfoWithStorage[127.0.0.1:43518,DS-56794a56-7340-42d2-8388-26a3557f79ec,DISK], DatanodeInfoWithStorage[127.0.0.1:39104,DS-c9e0c442-feb3-434b-a536-6aa1389e252d,DISK], DatanodeInfoWithStorage[127.0.0.1:41782,DS-8313c04e-5bde-4011-bcb8-012b171e6de0,DISK], DatanodeInfoWithStorage[127.0.0.1:35097,DS-d4aa66c4-c40a-4e42-9aba-cd49f1cc1678,DISK], DatanodeInfoWithStorage[127.0.0.1:33469,DS-0f8b12c9-481b-4458-91d5-68f565aa5ace,DISK], DatanodeInfoWithStorage[127.0.0.1:34294,DS-a31e2bc6-bcee-4c23-86fe-517d6a4e7d17,DISK], DatanodeInfoWithStorage[127.0.0.1:39628,DS-51919391-a252-4e0b-a6a8-c3de44e87ac9,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1007999810-172.17.0.18-1593684080291:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42049,DS-4bd23d15-3a24-4fed-99f6-aae159f5de91,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1007999810-172.17.0.18-1593684080291:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42049,DS-4bd23d15-3a24-4fed-99f6-aae159f5de91,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-564299058-172.17.0.18-1593685178914:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36982,DS-60e5de2c-d053-49c6-85ca-c191dd54e682,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-52848ea0-83b5-4746-904f-3efbd00dd0ba,DISK], DatanodeInfoWithStorage[127.0.0.1:32862,DS-bd7c51dd-91ed-41f5-9ddf-f647f336263a,DISK], DatanodeInfoWithStorage[127.0.0.1:35366,DS-0daa7cb0-3b28-41d6-a455-7ab59bbb945a,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-8efc04bf-b9a5-4a1d-aff6-61a952765937,DISK], DatanodeInfoWithStorage[127.0.0.1:33820,DS-a5f2aa0c-fd0a-4aaa-b23f-ed8c8858ba1f,DISK], DatanodeInfoWithStorage[127.0.0.1:41073,DS-98d8f401-541d-4a83-8fe0-e3d96625a06d,DISK], DatanodeInfoWithStorage[127.0.0.1:39228,DS-04736198-6761-4ef1-8789-c96620bf7486,DISK], DatanodeInfoWithStorage[127.0.0.1:42353,DS-a9026586-a993-4e4c-afd1-93d4a8954e10,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-564299058-172.17.0.18-1593685178914:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37975,DS-e0526cc1-0f5f-4a0a-beaf-f4faca113f51,DISK], DatanodeInfoWithStorage[127.0.0.1:35366,DS-7d0e91eb-d535-45c6-b046-4331730d9407,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-7ccafb2f-29c9-4223-a4fa-d4ebd32f5324,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-564299058-172.17.0.18-1593685178914:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37975,DS-e0526cc1-0f5f-4a0a-beaf-f4faca113f51,DISK], DatanodeInfoWithStorage[127.0.0.1:35366,DS-7d0e91eb-d535-45c6-b046-4331730d9407,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-7ccafb2f-29c9-4223-a4fa-d4ebd32f5324,DISK]]; indices=[0, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-564299058-172.17.0.18-1593685178914:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36982,DS-60e5de2c-d053-49c6-85ca-c191dd54e682,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-52848ea0-83b5-4746-904f-3efbd00dd0ba,DISK], DatanodeInfoWithStorage[127.0.0.1:32862,DS-bd7c51dd-91ed-41f5-9ddf-f647f336263a,DISK], DatanodeInfoWithStorage[127.0.0.1:35366,DS-0daa7cb0-3b28-41d6-a455-7ab59bbb945a,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-8efc04bf-b9a5-4a1d-aff6-61a952765937,DISK], DatanodeInfoWithStorage[127.0.0.1:33820,DS-a5f2aa0c-fd0a-4aaa-b23f-ed8c8858ba1f,DISK], DatanodeInfoWithStorage[127.0.0.1:41073,DS-98d8f401-541d-4a83-8fe0-e3d96625a06d,DISK], DatanodeInfoWithStorage[127.0.0.1:39228,DS-04736198-6761-4ef1-8789-c96620bf7486,DISK], DatanodeInfoWithStorage[127.0.0.1:42353,DS-a9026586-a993-4e4c-afd1-93d4a8954e10,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-564299058-172.17.0.18-1593685178914:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37975,DS-e0526cc1-0f5f-4a0a-beaf-f4faca113f51,DISK], DatanodeInfoWithStorage[127.0.0.1:35366,DS-7d0e91eb-d535-45c6-b046-4331730d9407,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-7ccafb2f-29c9-4223-a4fa-d4ebd32f5324,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-564299058-172.17.0.18-1593685178914:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37975,DS-e0526cc1-0f5f-4a0a-beaf-f4faca113f51,DISK], DatanodeInfoWithStorage[127.0.0.1:35366,DS-7d0e91eb-d535-45c6-b046-4331730d9407,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-7ccafb2f-29c9-4223-a4fa-d4ebd32f5324,DISK]]; indices=[0, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-568240526-172.17.0.18-1593685635977:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43863,DS-1d846aae-a0fd-4028-bf41-944737a9375a,DISK], DatanodeInfoWithStorage[127.0.0.1:39455,DS-a3f65bba-1c89-45b9-a9c0-ee54329faee4,DISK], DatanodeInfoWithStorage[127.0.0.1:44384,DS-91912679-a89f-4496-a581-d05fe090e2fe,DISK], DatanodeInfoWithStorage[127.0.0.1:44194,DS-db72e083-7605-457c-9908-2186f42d779b,DISK], DatanodeInfoWithStorage[127.0.0.1:46142,DS-34e0acb3-aa57-4319-b17c-f9ce15f15782,DISK], DatanodeInfoWithStorage[127.0.0.1:46533,DS-e7754944-d07d-491d-9054-6867e1695ed4,DISK], DatanodeInfoWithStorage[127.0.0.1:45075,DS-15a1f632-9378-43cd-b14c-46331d0d54e6,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-568240526-172.17.0.18-1593685635977:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46533,DS-3b26b66d-aa13-4401-98fd-80e26a01db2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45075,DS-f0444a3c-36f1-4e89-aa61-d96e8b9e4150,DISK], DatanodeInfoWithStorage[127.0.0.1:43863,DS-3934446e-0bfc-4018-b8a2-2c4989d988cc,DISK], DatanodeInfoWithStorage[127.0.0.1:46142,DS-f38c39ff-140e-4832-960d-871beccff496,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-568240526-172.17.0.18-1593685635977:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46533,DS-3b26b66d-aa13-4401-98fd-80e26a01db2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45075,DS-f0444a3c-36f1-4e89-aa61-d96e8b9e4150,DISK], DatanodeInfoWithStorage[127.0.0.1:43863,DS-3934446e-0bfc-4018-b8a2-2c4989d988cc,DISK], DatanodeInfoWithStorage[127.0.0.1:46142,DS-f38c39ff-140e-4832-960d-871beccff496,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-568240526-172.17.0.18-1593685635977:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43863,DS-1d846aae-a0fd-4028-bf41-944737a9375a,DISK], DatanodeInfoWithStorage[127.0.0.1:39455,DS-a3f65bba-1c89-45b9-a9c0-ee54329faee4,DISK], DatanodeInfoWithStorage[127.0.0.1:44384,DS-91912679-a89f-4496-a581-d05fe090e2fe,DISK], DatanodeInfoWithStorage[127.0.0.1:44194,DS-db72e083-7605-457c-9908-2186f42d779b,DISK], DatanodeInfoWithStorage[127.0.0.1:46142,DS-34e0acb3-aa57-4319-b17c-f9ce15f15782,DISK], DatanodeInfoWithStorage[127.0.0.1:46533,DS-e7754944-d07d-491d-9054-6867e1695ed4,DISK], DatanodeInfoWithStorage[127.0.0.1:45075,DS-15a1f632-9378-43cd-b14c-46331d0d54e6,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-568240526-172.17.0.18-1593685635977:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46533,DS-3b26b66d-aa13-4401-98fd-80e26a01db2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45075,DS-f0444a3c-36f1-4e89-aa61-d96e8b9e4150,DISK], DatanodeInfoWithStorage[127.0.0.1:43863,DS-3934446e-0bfc-4018-b8a2-2c4989d988cc,DISK], DatanodeInfoWithStorage[127.0.0.1:46142,DS-f38c39ff-140e-4832-960d-871beccff496,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-568240526-172.17.0.18-1593685635977:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46533,DS-3b26b66d-aa13-4401-98fd-80e26a01db2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45075,DS-f0444a3c-36f1-4e89-aa61-d96e8b9e4150,DISK], DatanodeInfoWithStorage[127.0.0.1:43863,DS-3934446e-0bfc-4018-b8a2-2c4989d988cc,DISK], DatanodeInfoWithStorage[127.0.0.1:46142,DS-f38c39ff-140e-4832-960d-871beccff496,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-304530375-172.17.0.18-1593686783442:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36504,DS-ab209c75-8fc1-48d2-88b4-69cf8b47f5af,DISK], DatanodeInfoWithStorage[127.0.0.1:42320,DS-ef64ecda-8906-4ebf-9c1d-30dd23e6ec7c,DISK], DatanodeInfoWithStorage[127.0.0.1:38412,DS-a397a2c9-86c0-44aa-bc7d-a567288ec119,DISK], DatanodeInfoWithStorage[127.0.0.1:35522,DS-a834df31-376c-4788-97be-8ef8e1e0de10,DISK], DatanodeInfoWithStorage[127.0.0.1:46062,DS-6a101457-010a-4e5f-9bd9-851a6b42ad70,DISK], DatanodeInfoWithStorage[127.0.0.1:38640,DS-d8a9f67a-35c1-4b70-81ba-d638a78326ca,DISK], DatanodeInfoWithStorage[127.0.0.1:39601,DS-b4036ecc-f644-4ff9-84d0-5b1bb3e46387,DISK], DatanodeInfoWithStorage[127.0.0.1:44861,DS-432f6a20-c479-4d0d-be49-d781df2692d0,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-304530375-172.17.0.18-1593686783442:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35522,DS-81269f30-5761-4e24-94ea-ed9bcf321b73,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-304530375-172.17.0.18-1593686783442:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35522,DS-81269f30-5761-4e24-94ea-ed9bcf321b73,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-304530375-172.17.0.18-1593686783442:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36504,DS-ab209c75-8fc1-48d2-88b4-69cf8b47f5af,DISK], DatanodeInfoWithStorage[127.0.0.1:42320,DS-ef64ecda-8906-4ebf-9c1d-30dd23e6ec7c,DISK], DatanodeInfoWithStorage[127.0.0.1:38412,DS-a397a2c9-86c0-44aa-bc7d-a567288ec119,DISK], DatanodeInfoWithStorage[127.0.0.1:35522,DS-a834df31-376c-4788-97be-8ef8e1e0de10,DISK], DatanodeInfoWithStorage[127.0.0.1:46062,DS-6a101457-010a-4e5f-9bd9-851a6b42ad70,DISK], DatanodeInfoWithStorage[127.0.0.1:38640,DS-d8a9f67a-35c1-4b70-81ba-d638a78326ca,DISK], DatanodeInfoWithStorage[127.0.0.1:39601,DS-b4036ecc-f644-4ff9-84d0-5b1bb3e46387,DISK], DatanodeInfoWithStorage[127.0.0.1:44861,DS-432f6a20-c479-4d0d-be49-d781df2692d0,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-304530375-172.17.0.18-1593686783442:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35522,DS-81269f30-5761-4e24-94ea-ed9bcf321b73,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-304530375-172.17.0.18-1593686783442:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35522,DS-81269f30-5761-4e24-94ea-ed9bcf321b73,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1569041048-172.17.0.18-1593687371608:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44515,DS-96df962d-5f92-42ad-b077-c8bbcc421bd9,DISK], DatanodeInfoWithStorage[127.0.0.1:43110,DS-717a4c39-6093-422e-8d5a-f3147632d16a,DISK], DatanodeInfoWithStorage[127.0.0.1:36947,DS-6215f2cd-ea98-437e-a94e-7d97d864798f,DISK], DatanodeInfoWithStorage[127.0.0.1:38037,DS-e28becd3-a769-465a-b002-476287c3b051,DISK], DatanodeInfoWithStorage[127.0.0.1:38372,DS-7752285f-cc87-45da-b484-6dbb7f947f0c,DISK], DatanodeInfoWithStorage[127.0.0.1:46521,DS-b0916fc2-35cc-40ae-b345-b869b96f4824,DISK], DatanodeInfoWithStorage[127.0.0.1:40573,DS-c00ab677-851d-438d-b223-80938a9c1ee2,DISK], DatanodeInfoWithStorage[127.0.0.1:35248,DS-29b0bf86-1c7f-45e6-9e65-432a729d74da,DISK], DatanodeInfoWithStorage[127.0.0.1:43482,DS-ca4c6d0c-380e-4e27-a009-834bca5e2178,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1569041048-172.17.0.18-1593687371608:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38037,DS-28a4edb8-c191-455c-85c9-b2e1ae19fd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:43482,DS-080ab183-e5c1-4569-a98e-26744f61674a,DISK]]; indices=[0, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1569041048-172.17.0.18-1593687371608:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38037,DS-28a4edb8-c191-455c-85c9-b2e1ae19fd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:43482,DS-080ab183-e5c1-4569-a98e-26744f61674a,DISK]]; indices=[0, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1569041048-172.17.0.18-1593687371608:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44515,DS-96df962d-5f92-42ad-b077-c8bbcc421bd9,DISK], DatanodeInfoWithStorage[127.0.0.1:43110,DS-717a4c39-6093-422e-8d5a-f3147632d16a,DISK], DatanodeInfoWithStorage[127.0.0.1:36947,DS-6215f2cd-ea98-437e-a94e-7d97d864798f,DISK], DatanodeInfoWithStorage[127.0.0.1:38037,DS-e28becd3-a769-465a-b002-476287c3b051,DISK], DatanodeInfoWithStorage[127.0.0.1:38372,DS-7752285f-cc87-45da-b484-6dbb7f947f0c,DISK], DatanodeInfoWithStorage[127.0.0.1:46521,DS-b0916fc2-35cc-40ae-b345-b869b96f4824,DISK], DatanodeInfoWithStorage[127.0.0.1:40573,DS-c00ab677-851d-438d-b223-80938a9c1ee2,DISK], DatanodeInfoWithStorage[127.0.0.1:35248,DS-29b0bf86-1c7f-45e6-9e65-432a729d74da,DISK], DatanodeInfoWithStorage[127.0.0.1:43482,DS-ca4c6d0c-380e-4e27-a009-834bca5e2178,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1569041048-172.17.0.18-1593687371608:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38037,DS-28a4edb8-c191-455c-85c9-b2e1ae19fd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:43482,DS-080ab183-e5c1-4569-a98e-26744f61674a,DISK]]; indices=[0, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1569041048-172.17.0.18-1593687371608:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38037,DS-28a4edb8-c191-455c-85c9-b2e1ae19fd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:43482,DS-080ab183-e5c1-4569-a98e-26744f61674a,DISK]]; indices=[0, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-425051861-172.17.0.18-1593687946322:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45514,DS-7f7b0e64-e6bb-4f4f-8398-fd79a31f5f3d,DISK], DatanodeInfoWithStorage[127.0.0.1:42297,DS-250c8048-78e2-46a3-9f1e-818923c53543,DISK], DatanodeInfoWithStorage[127.0.0.1:41372,DS-f4a7e7eb-96d5-4369-8edb-ddfbc4abe67b,DISK], DatanodeInfoWithStorage[127.0.0.1:43307,DS-63909860-9838-49f6-8ce3-474753b3e413,DISK], DatanodeInfoWithStorage[127.0.0.1:39882,DS-298a7284-121e-46da-99a6-99a108772806,DISK], DatanodeInfoWithStorage[127.0.0.1:40492,DS-3539cc3b-4a8c-47b6-8938-e73ccffa8359,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-528efcbc-3b02-45c6-8789-1029b30b5bd6,DISK], DatanodeInfoWithStorage[127.0.0.1:45446,DS-ce90791d-d606-4891-b0dc-2c8061c95a75,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-425051861-172.17.0.18-1593687946322:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35261,DS-4e7c30e3-17f2-46aa-a8c2-c154e8700cef,DISK], DatanodeInfoWithStorage[127.0.0.1:40492,DS-fce76d4c-b449-4ffc-819c-f7db612a1e41,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-3e455973-2917-4040-9e3b-23f27747eda3,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-425051861-172.17.0.18-1593687946322:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40492,DS-fce76d4c-b449-4ffc-819c-f7db612a1e41,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-3e455973-2917-4040-9e3b-23f27747eda3,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-425051861-172.17.0.18-1593687946322:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45514,DS-7f7b0e64-e6bb-4f4f-8398-fd79a31f5f3d,DISK], DatanodeInfoWithStorage[127.0.0.1:42297,DS-250c8048-78e2-46a3-9f1e-818923c53543,DISK], DatanodeInfoWithStorage[127.0.0.1:41372,DS-f4a7e7eb-96d5-4369-8edb-ddfbc4abe67b,DISK], DatanodeInfoWithStorage[127.0.0.1:43307,DS-63909860-9838-49f6-8ce3-474753b3e413,DISK], DatanodeInfoWithStorage[127.0.0.1:39882,DS-298a7284-121e-46da-99a6-99a108772806,DISK], DatanodeInfoWithStorage[127.0.0.1:40492,DS-3539cc3b-4a8c-47b6-8938-e73ccffa8359,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-528efcbc-3b02-45c6-8789-1029b30b5bd6,DISK], DatanodeInfoWithStorage[127.0.0.1:45446,DS-ce90791d-d606-4891-b0dc-2c8061c95a75,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-425051861-172.17.0.18-1593687946322:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35261,DS-4e7c30e3-17f2-46aa-a8c2-c154e8700cef,DISK], DatanodeInfoWithStorage[127.0.0.1:40492,DS-fce76d4c-b449-4ffc-819c-f7db612a1e41,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-3e455973-2917-4040-9e3b-23f27747eda3,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-425051861-172.17.0.18-1593687946322:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40492,DS-fce76d4c-b449-4ffc-819c-f7db612a1e41,DISK], DatanodeInfoWithStorage[127.0.0.1:37975,DS-3e455973-2917-4040-9e3b-23f27747eda3,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 10 out of 50
v1v1v2v2 failed with probability 3 out of 50
result: might be true error
Total execution time in seconds : 9787
