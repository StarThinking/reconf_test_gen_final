reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-594979997-172.17.0.17-1593700336866:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44554,DS-95eca351-5170-4ae3-a925-7b6efea215e1,DISK], DatanodeInfoWithStorage[127.0.0.1:40229,DS-f22710cd-8fe6-4c7d-83b3-9c1606228f52,DISK], DatanodeInfoWithStorage[127.0.0.1:35760,DS-73156058-cefc-46b2-8462-57bc6f70503a,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-64a5c303-05a6-4aa7-a08c-b3b08a60fb6d,DISK], DatanodeInfoWithStorage[127.0.0.1:46090,DS-2095a8f9-921b-41e1-863e-925865adb53c,DISK], DatanodeInfoWithStorage[127.0.0.1:37146,DS-1a8164aa-7c7d-41e0-933c-5b58cb6536ed,DISK]]; indices=[1, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-594979997-172.17.0.17-1593700336866:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44554,DS-95eca351-5170-4ae3-a925-7b6efea215e1,DISK], DatanodeInfoWithStorage[127.0.0.1:40229,DS-f22710cd-8fe6-4c7d-83b3-9c1606228f52,DISK], DatanodeInfoWithStorage[127.0.0.1:35760,DS-73156058-cefc-46b2-8462-57bc6f70503a,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-64a5c303-05a6-4aa7-a08c-b3b08a60fb6d,DISK], DatanodeInfoWithStorage[127.0.0.1:46090,DS-2095a8f9-921b-41e1-863e-925865adb53c,DISK], DatanodeInfoWithStorage[127.0.0.1:37146,DS-1a8164aa-7c7d-41e0-933c-5b58cb6536ed,DISK]]; indices=[1, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-594979997-172.17.0.17-1593700336866:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44554,DS-95eca351-5170-4ae3-a925-7b6efea215e1,DISK], DatanodeInfoWithStorage[127.0.0.1:40229,DS-f22710cd-8fe6-4c7d-83b3-9c1606228f52,DISK], DatanodeInfoWithStorage[127.0.0.1:35760,DS-73156058-cefc-46b2-8462-57bc6f70503a,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-64a5c303-05a6-4aa7-a08c-b3b08a60fb6d,DISK], DatanodeInfoWithStorage[127.0.0.1:46090,DS-2095a8f9-921b-41e1-863e-925865adb53c,DISK], DatanodeInfoWithStorage[127.0.0.1:37146,DS-1a8164aa-7c7d-41e0-933c-5b58cb6536ed,DISK]]; indices=[1, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-594979997-172.17.0.17-1593700336866:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44554,DS-95eca351-5170-4ae3-a925-7b6efea215e1,DISK], DatanodeInfoWithStorage[127.0.0.1:40229,DS-f22710cd-8fe6-4c7d-83b3-9c1606228f52,DISK], DatanodeInfoWithStorage[127.0.0.1:35760,DS-73156058-cefc-46b2-8462-57bc6f70503a,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-64a5c303-05a6-4aa7-a08c-b3b08a60fb6d,DISK], DatanodeInfoWithStorage[127.0.0.1:46090,DS-2095a8f9-921b-41e1-863e-925865adb53c,DISK], DatanodeInfoWithStorage[127.0.0.1:37146,DS-1a8164aa-7c7d-41e0-933c-5b58cb6536ed,DISK]]; indices=[1, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1854526690-172.17.0.17-1593700487557:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37543,DS-2c2758af-41ee-425c-a19c-9b1b2786b4f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41711,DS-4a347279-c983-4786-80b7-88263c090bc9,DISK], DatanodeInfoWithStorage[127.0.0.1:42262,DS-f0c02279-038c-4b5b-88db-5f301ea2986e,DISK], DatanodeInfoWithStorage[127.0.0.1:33107,DS-c13d9097-4e61-401a-979d-62760d9178ba,DISK], DatanodeInfoWithStorage[127.0.0.1:41382,DS-6983ff8c-b796-4fa4-aa1d-e2c53d2183cf,DISK], DatanodeInfoWithStorage[127.0.0.1:34560,DS-07e35797-6dc9-473c-adc6-a4072e748577,DISK]]; indices=[3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1854526690-172.17.0.17-1593700487557:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37543,DS-2c2758af-41ee-425c-a19c-9b1b2786b4f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41711,DS-4a347279-c983-4786-80b7-88263c090bc9,DISK], DatanodeInfoWithStorage[127.0.0.1:42262,DS-f0c02279-038c-4b5b-88db-5f301ea2986e,DISK], DatanodeInfoWithStorage[127.0.0.1:33107,DS-c13d9097-4e61-401a-979d-62760d9178ba,DISK], DatanodeInfoWithStorage[127.0.0.1:41382,DS-6983ff8c-b796-4fa4-aa1d-e2c53d2183cf,DISK], DatanodeInfoWithStorage[127.0.0.1:34560,DS-07e35797-6dc9-473c-adc6-a4072e748577,DISK]]; indices=[3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1854526690-172.17.0.17-1593700487557:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37543,DS-2c2758af-41ee-425c-a19c-9b1b2786b4f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41711,DS-4a347279-c983-4786-80b7-88263c090bc9,DISK], DatanodeInfoWithStorage[127.0.0.1:42262,DS-f0c02279-038c-4b5b-88db-5f301ea2986e,DISK], DatanodeInfoWithStorage[127.0.0.1:33107,DS-c13d9097-4e61-401a-979d-62760d9178ba,DISK], DatanodeInfoWithStorage[127.0.0.1:41382,DS-6983ff8c-b796-4fa4-aa1d-e2c53d2183cf,DISK], DatanodeInfoWithStorage[127.0.0.1:34560,DS-07e35797-6dc9-473c-adc6-a4072e748577,DISK]]; indices=[3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1854526690-172.17.0.17-1593700487557:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37543,DS-2c2758af-41ee-425c-a19c-9b1b2786b4f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41711,DS-4a347279-c983-4786-80b7-88263c090bc9,DISK], DatanodeInfoWithStorage[127.0.0.1:42262,DS-f0c02279-038c-4b5b-88db-5f301ea2986e,DISK], DatanodeInfoWithStorage[127.0.0.1:33107,DS-c13d9097-4e61-401a-979d-62760d9178ba,DISK], DatanodeInfoWithStorage[127.0.0.1:41382,DS-6983ff8c-b796-4fa4-aa1d-e2c53d2183cf,DISK], DatanodeInfoWithStorage[127.0.0.1:34560,DS-07e35797-6dc9-473c-adc6-a4072e748577,DISK]]; indices=[3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-444561914-172.17.0.17-1593700592379:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45421,DS-98410199-5b57-44c0-9134-0c099b6b8821,DISK], DatanodeInfoWithStorage[127.0.0.1:40968,DS-ff986849-581b-480a-9d06-4058683d63cc,DISK], DatanodeInfoWithStorage[127.0.0.1:42132,DS-d8a3c5d5-1dc4-45d7-a73d-70e55f153b09,DISK], DatanodeInfoWithStorage[127.0.0.1:45038,DS-6f89049b-ddc3-4dca-b080-729e5fb99201,DISK], DatanodeInfoWithStorage[127.0.0.1:45572,DS-71a90d42-4a95-4a51-a467-c370bf3e83c0,DISK], DatanodeInfoWithStorage[127.0.0.1:35268,DS-07cf166a-3a6e-466b-99f8-44737afbb27f,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-444561914-172.17.0.17-1593700592379:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45421,DS-98410199-5b57-44c0-9134-0c099b6b8821,DISK], DatanodeInfoWithStorage[127.0.0.1:40968,DS-ff986849-581b-480a-9d06-4058683d63cc,DISK], DatanodeInfoWithStorage[127.0.0.1:42132,DS-d8a3c5d5-1dc4-45d7-a73d-70e55f153b09,DISK], DatanodeInfoWithStorage[127.0.0.1:45038,DS-6f89049b-ddc3-4dca-b080-729e5fb99201,DISK], DatanodeInfoWithStorage[127.0.0.1:45572,DS-71a90d42-4a95-4a51-a467-c370bf3e83c0,DISK], DatanodeInfoWithStorage[127.0.0.1:35268,DS-07cf166a-3a6e-466b-99f8-44737afbb27f,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-444561914-172.17.0.17-1593700592379:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45421,DS-98410199-5b57-44c0-9134-0c099b6b8821,DISK], DatanodeInfoWithStorage[127.0.0.1:40968,DS-ff986849-581b-480a-9d06-4058683d63cc,DISK], DatanodeInfoWithStorage[127.0.0.1:42132,DS-d8a3c5d5-1dc4-45d7-a73d-70e55f153b09,DISK], DatanodeInfoWithStorage[127.0.0.1:45038,DS-6f89049b-ddc3-4dca-b080-729e5fb99201,DISK], DatanodeInfoWithStorage[127.0.0.1:45572,DS-71a90d42-4a95-4a51-a467-c370bf3e83c0,DISK], DatanodeInfoWithStorage[127.0.0.1:35268,DS-07cf166a-3a6e-466b-99f8-44737afbb27f,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-444561914-172.17.0.17-1593700592379:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45421,DS-98410199-5b57-44c0-9134-0c099b6b8821,DISK], DatanodeInfoWithStorage[127.0.0.1:40968,DS-ff986849-581b-480a-9d06-4058683d63cc,DISK], DatanodeInfoWithStorage[127.0.0.1:42132,DS-d8a3c5d5-1dc4-45d7-a73d-70e55f153b09,DISK], DatanodeInfoWithStorage[127.0.0.1:45038,DS-6f89049b-ddc3-4dca-b080-729e5fb99201,DISK], DatanodeInfoWithStorage[127.0.0.1:45572,DS-71a90d42-4a95-4a51-a467-c370bf3e83c0,DISK], DatanodeInfoWithStorage[127.0.0.1:35268,DS-07cf166a-3a6e-466b-99f8-44737afbb27f,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-551161743-172.17.0.17-1593700618652:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46656,DS-966d9ef9-635c-4c4c-bfa5-638c5380f64a,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-0c125ebe-2e4a-48ee-a466-9b356c3dd41b,DISK], DatanodeInfoWithStorage[127.0.0.1:38747,DS-3f25f8ee-351b-4f95-8f23-c28dcb8e941d,DISK], DatanodeInfoWithStorage[127.0.0.1:34435,DS-469938b5-33f5-489f-8358-4b02d911b835,DISK], DatanodeInfoWithStorage[127.0.0.1:40252,DS-ec4b1b23-2d06-4640-b323-a67c5af83303,DISK], DatanodeInfoWithStorage[127.0.0.1:44913,DS-1f8d221a-bd36-41d9-ade4-a3123286774d,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-551161743-172.17.0.17-1593700618652:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46656,DS-966d9ef9-635c-4c4c-bfa5-638c5380f64a,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-0c125ebe-2e4a-48ee-a466-9b356c3dd41b,DISK], DatanodeInfoWithStorage[127.0.0.1:38747,DS-3f25f8ee-351b-4f95-8f23-c28dcb8e941d,DISK], DatanodeInfoWithStorage[127.0.0.1:34435,DS-469938b5-33f5-489f-8358-4b02d911b835,DISK], DatanodeInfoWithStorage[127.0.0.1:40252,DS-ec4b1b23-2d06-4640-b323-a67c5af83303,DISK], DatanodeInfoWithStorage[127.0.0.1:44913,DS-1f8d221a-bd36-41d9-ade4-a3123286774d,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-551161743-172.17.0.17-1593700618652:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46656,DS-966d9ef9-635c-4c4c-bfa5-638c5380f64a,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-0c125ebe-2e4a-48ee-a466-9b356c3dd41b,DISK], DatanodeInfoWithStorage[127.0.0.1:38747,DS-3f25f8ee-351b-4f95-8f23-c28dcb8e941d,DISK], DatanodeInfoWithStorage[127.0.0.1:34435,DS-469938b5-33f5-489f-8358-4b02d911b835,DISK], DatanodeInfoWithStorage[127.0.0.1:40252,DS-ec4b1b23-2d06-4640-b323-a67c5af83303,DISK], DatanodeInfoWithStorage[127.0.0.1:44913,DS-1f8d221a-bd36-41d9-ade4-a3123286774d,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-551161743-172.17.0.17-1593700618652:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46656,DS-966d9ef9-635c-4c4c-bfa5-638c5380f64a,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-0c125ebe-2e4a-48ee-a466-9b356c3dd41b,DISK], DatanodeInfoWithStorage[127.0.0.1:38747,DS-3f25f8ee-351b-4f95-8f23-c28dcb8e941d,DISK], DatanodeInfoWithStorage[127.0.0.1:34435,DS-469938b5-33f5-489f-8358-4b02d911b835,DISK], DatanodeInfoWithStorage[127.0.0.1:40252,DS-ec4b1b23-2d06-4640-b323-a67c5af83303,DISK], DatanodeInfoWithStorage[127.0.0.1:44913,DS-1f8d221a-bd36-41d9-ade4-a3123286774d,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1205579066-172.17.0.17-1593700923311:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39093,DS-8d48be2b-25ba-4389-aff4-aa30034eab2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34586,DS-e50761de-a5f8-4b25-b620-d453363f7712,DISK], DatanodeInfoWithStorage[127.0.0.1:34593,DS-b03b2dab-5831-46cc-93da-f6a02ac8d13d,DISK], DatanodeInfoWithStorage[127.0.0.1:44003,DS-f165daf6-a300-4f86-b8eb-af0e5c3a92c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-15861662-2490-47a0-9e4a-15e81162162b,DISK], DatanodeInfoWithStorage[127.0.0.1:41642,DS-bf01a843-5266-4029-b302-3ae9c1df7901,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1205579066-172.17.0.17-1593700923311:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39093,DS-8d48be2b-25ba-4389-aff4-aa30034eab2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34586,DS-e50761de-a5f8-4b25-b620-d453363f7712,DISK], DatanodeInfoWithStorage[127.0.0.1:34593,DS-b03b2dab-5831-46cc-93da-f6a02ac8d13d,DISK], DatanodeInfoWithStorage[127.0.0.1:44003,DS-f165daf6-a300-4f86-b8eb-af0e5c3a92c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-15861662-2490-47a0-9e4a-15e81162162b,DISK], DatanodeInfoWithStorage[127.0.0.1:41642,DS-bf01a843-5266-4029-b302-3ae9c1df7901,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1205579066-172.17.0.17-1593700923311:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39093,DS-8d48be2b-25ba-4389-aff4-aa30034eab2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34586,DS-e50761de-a5f8-4b25-b620-d453363f7712,DISK], DatanodeInfoWithStorage[127.0.0.1:34593,DS-b03b2dab-5831-46cc-93da-f6a02ac8d13d,DISK], DatanodeInfoWithStorage[127.0.0.1:44003,DS-f165daf6-a300-4f86-b8eb-af0e5c3a92c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-15861662-2490-47a0-9e4a-15e81162162b,DISK], DatanodeInfoWithStorage[127.0.0.1:41642,DS-bf01a843-5266-4029-b302-3ae9c1df7901,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1205579066-172.17.0.17-1593700923311:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39093,DS-8d48be2b-25ba-4389-aff4-aa30034eab2f,DISK], DatanodeInfoWithStorage[127.0.0.1:34586,DS-e50761de-a5f8-4b25-b620-d453363f7712,DISK], DatanodeInfoWithStorage[127.0.0.1:34593,DS-b03b2dab-5831-46cc-93da-f6a02ac8d13d,DISK], DatanodeInfoWithStorage[127.0.0.1:44003,DS-f165daf6-a300-4f86-b8eb-af0e5c3a92c4,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-15861662-2490-47a0-9e4a-15e81162162b,DISK], DatanodeInfoWithStorage[127.0.0.1:41642,DS-bf01a843-5266-4029-b302-3ae9c1df7901,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1368359247-172.17.0.17-1593701012963:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36477,DS-8e735f9c-7435-42aa-af54-35cec33e137e,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-cdfba2d9-10eb-44a4-90ab-12fa5931db21,DISK], DatanodeInfoWithStorage[127.0.0.1:46113,DS-5ec9b54c-3749-4e69-a1de-ad712a3b4174,DISK], DatanodeInfoWithStorage[127.0.0.1:40899,DS-12829310-8cbd-4e4f-8066-2f8cd725ef6d,DISK], DatanodeInfoWithStorage[127.0.0.1:38637,DS-a255b504-5dbf-4fb8-beaf-a24e5cd99181,DISK], DatanodeInfoWithStorage[127.0.0.1:39432,DS-bd199380-a38c-4cf8-be97-366ae2cb12c5,DISK]]; indices=[0, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1368359247-172.17.0.17-1593701012963:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36477,DS-8e735f9c-7435-42aa-af54-35cec33e137e,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-cdfba2d9-10eb-44a4-90ab-12fa5931db21,DISK], DatanodeInfoWithStorage[127.0.0.1:46113,DS-5ec9b54c-3749-4e69-a1de-ad712a3b4174,DISK], DatanodeInfoWithStorage[127.0.0.1:40899,DS-12829310-8cbd-4e4f-8066-2f8cd725ef6d,DISK], DatanodeInfoWithStorage[127.0.0.1:38637,DS-a255b504-5dbf-4fb8-beaf-a24e5cd99181,DISK], DatanodeInfoWithStorage[127.0.0.1:39432,DS-bd199380-a38c-4cf8-be97-366ae2cb12c5,DISK]]; indices=[0, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1368359247-172.17.0.17-1593701012963:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36477,DS-8e735f9c-7435-42aa-af54-35cec33e137e,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-cdfba2d9-10eb-44a4-90ab-12fa5931db21,DISK], DatanodeInfoWithStorage[127.0.0.1:46113,DS-5ec9b54c-3749-4e69-a1de-ad712a3b4174,DISK], DatanodeInfoWithStorage[127.0.0.1:40899,DS-12829310-8cbd-4e4f-8066-2f8cd725ef6d,DISK], DatanodeInfoWithStorage[127.0.0.1:38637,DS-a255b504-5dbf-4fb8-beaf-a24e5cd99181,DISK], DatanodeInfoWithStorage[127.0.0.1:39432,DS-bd199380-a38c-4cf8-be97-366ae2cb12c5,DISK]]; indices=[0, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1368359247-172.17.0.17-1593701012963:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36477,DS-8e735f9c-7435-42aa-af54-35cec33e137e,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-cdfba2d9-10eb-44a4-90ab-12fa5931db21,DISK], DatanodeInfoWithStorage[127.0.0.1:46113,DS-5ec9b54c-3749-4e69-a1de-ad712a3b4174,DISK], DatanodeInfoWithStorage[127.0.0.1:40899,DS-12829310-8cbd-4e4f-8066-2f8cd725ef6d,DISK], DatanodeInfoWithStorage[127.0.0.1:38637,DS-a255b504-5dbf-4fb8-beaf-a24e5cd99181,DISK], DatanodeInfoWithStorage[127.0.0.1:39432,DS-bd199380-a38c-4cf8-be97-366ae2cb12c5,DISK]]; indices=[0, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-192873240-172.17.0.17-1593701352822:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34892,DS-99df5a9c-c815-476c-a63a-b57f5741e5d8,DISK], DatanodeInfoWithStorage[127.0.0.1:40228,DS-ab6124eb-a475-4e17-964e-74f8eaa439bc,DISK], DatanodeInfoWithStorage[127.0.0.1:46866,DS-8f3ff6e8-74e0-4f13-9b48-2759c9226aed,DISK], DatanodeInfoWithStorage[127.0.0.1:44067,DS-9c39a7ba-0659-4eb9-9f8a-24c5086b5871,DISK], DatanodeInfoWithStorage[127.0.0.1:38815,DS-776721fa-15a1-4ff2-a259-bfce443f9696,DISK], DatanodeInfoWithStorage[127.0.0.1:36815,DS-5c74c083-0a00-4692-a354-fb4b7c2b26f5,DISK]]; indices=[0, 1, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-192873240-172.17.0.17-1593701352822:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34892,DS-99df5a9c-c815-476c-a63a-b57f5741e5d8,DISK], DatanodeInfoWithStorage[127.0.0.1:40228,DS-ab6124eb-a475-4e17-964e-74f8eaa439bc,DISK], DatanodeInfoWithStorage[127.0.0.1:46866,DS-8f3ff6e8-74e0-4f13-9b48-2759c9226aed,DISK], DatanodeInfoWithStorage[127.0.0.1:44067,DS-9c39a7ba-0659-4eb9-9f8a-24c5086b5871,DISK], DatanodeInfoWithStorage[127.0.0.1:38815,DS-776721fa-15a1-4ff2-a259-bfce443f9696,DISK], DatanodeInfoWithStorage[127.0.0.1:36815,DS-5c74c083-0a00-4692-a354-fb4b7c2b26f5,DISK]]; indices=[0, 1, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-192873240-172.17.0.17-1593701352822:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34892,DS-99df5a9c-c815-476c-a63a-b57f5741e5d8,DISK], DatanodeInfoWithStorage[127.0.0.1:40228,DS-ab6124eb-a475-4e17-964e-74f8eaa439bc,DISK], DatanodeInfoWithStorage[127.0.0.1:46866,DS-8f3ff6e8-74e0-4f13-9b48-2759c9226aed,DISK], DatanodeInfoWithStorage[127.0.0.1:44067,DS-9c39a7ba-0659-4eb9-9f8a-24c5086b5871,DISK], DatanodeInfoWithStorage[127.0.0.1:38815,DS-776721fa-15a1-4ff2-a259-bfce443f9696,DISK], DatanodeInfoWithStorage[127.0.0.1:36815,DS-5c74c083-0a00-4692-a354-fb4b7c2b26f5,DISK]]; indices=[0, 1, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-192873240-172.17.0.17-1593701352822:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34892,DS-99df5a9c-c815-476c-a63a-b57f5741e5d8,DISK], DatanodeInfoWithStorage[127.0.0.1:40228,DS-ab6124eb-a475-4e17-964e-74f8eaa439bc,DISK], DatanodeInfoWithStorage[127.0.0.1:46866,DS-8f3ff6e8-74e0-4f13-9b48-2759c9226aed,DISK], DatanodeInfoWithStorage[127.0.0.1:44067,DS-9c39a7ba-0659-4eb9-9f8a-24c5086b5871,DISK], DatanodeInfoWithStorage[127.0.0.1:38815,DS-776721fa-15a1-4ff2-a259-bfce443f9696,DISK], DatanodeInfoWithStorage[127.0.0.1:36815,DS-5c74c083-0a00-4692-a354-fb4b7c2b26f5,DISK]]; indices=[0, 1, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-960124486-172.17.0.17-1593701629654:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41306,DS-0cbbbe23-2280-47e0-b620-233d2ea54e82,DISK], DatanodeInfoWithStorage[127.0.0.1:44317,DS-e0b4c601-0085-4839-b6ff-74b4ea56008d,DISK], DatanodeInfoWithStorage[127.0.0.1:39187,DS-b9d21ed0-46dc-449c-8464-f80802ffe69e,DISK], DatanodeInfoWithStorage[127.0.0.1:46873,DS-210d948e-00dc-47c4-8ab9-c05cd2f083aa,DISK], DatanodeInfoWithStorage[127.0.0.1:35519,DS-6c998280-61a8-4f14-9c13-c45bcb44e667,DISK], DatanodeInfoWithStorage[127.0.0.1:41866,DS-210c57e5-5320-4d0b-b81e-786cfac43f3c,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-960124486-172.17.0.17-1593701629654:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41306,DS-0cbbbe23-2280-47e0-b620-233d2ea54e82,DISK], DatanodeInfoWithStorage[127.0.0.1:44317,DS-e0b4c601-0085-4839-b6ff-74b4ea56008d,DISK], DatanodeInfoWithStorage[127.0.0.1:39187,DS-b9d21ed0-46dc-449c-8464-f80802ffe69e,DISK], DatanodeInfoWithStorage[127.0.0.1:46873,DS-210d948e-00dc-47c4-8ab9-c05cd2f083aa,DISK], DatanodeInfoWithStorage[127.0.0.1:35519,DS-6c998280-61a8-4f14-9c13-c45bcb44e667,DISK], DatanodeInfoWithStorage[127.0.0.1:41866,DS-210c57e5-5320-4d0b-b81e-786cfac43f3c,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-960124486-172.17.0.17-1593701629654:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41306,DS-0cbbbe23-2280-47e0-b620-233d2ea54e82,DISK], DatanodeInfoWithStorage[127.0.0.1:44317,DS-e0b4c601-0085-4839-b6ff-74b4ea56008d,DISK], DatanodeInfoWithStorage[127.0.0.1:39187,DS-b9d21ed0-46dc-449c-8464-f80802ffe69e,DISK], DatanodeInfoWithStorage[127.0.0.1:46873,DS-210d948e-00dc-47c4-8ab9-c05cd2f083aa,DISK], DatanodeInfoWithStorage[127.0.0.1:35519,DS-6c998280-61a8-4f14-9c13-c45bcb44e667,DISK], DatanodeInfoWithStorage[127.0.0.1:41866,DS-210c57e5-5320-4d0b-b81e-786cfac43f3c,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-960124486-172.17.0.17-1593701629654:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41306,DS-0cbbbe23-2280-47e0-b620-233d2ea54e82,DISK], DatanodeInfoWithStorage[127.0.0.1:44317,DS-e0b4c601-0085-4839-b6ff-74b4ea56008d,DISK], DatanodeInfoWithStorage[127.0.0.1:39187,DS-b9d21ed0-46dc-449c-8464-f80802ffe69e,DISK], DatanodeInfoWithStorage[127.0.0.1:46873,DS-210d948e-00dc-47c4-8ab9-c05cd2f083aa,DISK], DatanodeInfoWithStorage[127.0.0.1:35519,DS-6c998280-61a8-4f14-9c13-c45bcb44e667,DISK], DatanodeInfoWithStorage[127.0.0.1:41866,DS-210c57e5-5320-4d0b-b81e-786cfac43f3c,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-903950998-172.17.0.17-1593701729340:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37567,DS-2347b2d1-c9ab-496d-a773-7a9773474b68,DISK], DatanodeInfoWithStorage[127.0.0.1:44811,DS-1cdd950e-bee8-4e8d-9f63-b98ada47d6cf,DISK], DatanodeInfoWithStorage[127.0.0.1:46548,DS-7f73209a-b3d9-4e2a-974d-014b68396a07,DISK], DatanodeInfoWithStorage[127.0.0.1:37300,DS-16ecc700-1e46-4e09-b568-9f02f9b5f06b,DISK], DatanodeInfoWithStorage[127.0.0.1:39112,DS-3111d41d-d758-4c90-8f6e-20667de6bcf1,DISK], DatanodeInfoWithStorage[127.0.0.1:36465,DS-1a4680ac-d6f1-4d8d-b6dc-abb0b0122382,DISK]]; indices=[2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-903950998-172.17.0.17-1593701729340:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37567,DS-2347b2d1-c9ab-496d-a773-7a9773474b68,DISK], DatanodeInfoWithStorage[127.0.0.1:44811,DS-1cdd950e-bee8-4e8d-9f63-b98ada47d6cf,DISK], DatanodeInfoWithStorage[127.0.0.1:46548,DS-7f73209a-b3d9-4e2a-974d-014b68396a07,DISK], DatanodeInfoWithStorage[127.0.0.1:37300,DS-16ecc700-1e46-4e09-b568-9f02f9b5f06b,DISK], DatanodeInfoWithStorage[127.0.0.1:39112,DS-3111d41d-d758-4c90-8f6e-20667de6bcf1,DISK], DatanodeInfoWithStorage[127.0.0.1:36465,DS-1a4680ac-d6f1-4d8d-b6dc-abb0b0122382,DISK]]; indices=[2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-903950998-172.17.0.17-1593701729340:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37567,DS-2347b2d1-c9ab-496d-a773-7a9773474b68,DISK], DatanodeInfoWithStorage[127.0.0.1:44811,DS-1cdd950e-bee8-4e8d-9f63-b98ada47d6cf,DISK], DatanodeInfoWithStorage[127.0.0.1:46548,DS-7f73209a-b3d9-4e2a-974d-014b68396a07,DISK], DatanodeInfoWithStorage[127.0.0.1:37300,DS-16ecc700-1e46-4e09-b568-9f02f9b5f06b,DISK], DatanodeInfoWithStorage[127.0.0.1:39112,DS-3111d41d-d758-4c90-8f6e-20667de6bcf1,DISK], DatanodeInfoWithStorage[127.0.0.1:36465,DS-1a4680ac-d6f1-4d8d-b6dc-abb0b0122382,DISK]]; indices=[2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-903950998-172.17.0.17-1593701729340:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37567,DS-2347b2d1-c9ab-496d-a773-7a9773474b68,DISK], DatanodeInfoWithStorage[127.0.0.1:44811,DS-1cdd950e-bee8-4e8d-9f63-b98ada47d6cf,DISK], DatanodeInfoWithStorage[127.0.0.1:46548,DS-7f73209a-b3d9-4e2a-974d-014b68396a07,DISK], DatanodeInfoWithStorage[127.0.0.1:37300,DS-16ecc700-1e46-4e09-b568-9f02f9b5f06b,DISK], DatanodeInfoWithStorage[127.0.0.1:39112,DS-3111d41d-d758-4c90-8f6e-20667de6bcf1,DISK], DatanodeInfoWithStorage[127.0.0.1:36465,DS-1a4680ac-d6f1-4d8d-b6dc-abb0b0122382,DISK]]; indices=[2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1488670273-172.17.0.17-1593701762812:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45346,DS-289c7d2f-8388-4324-bb64-8f818c52a7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:37415,DS-7e2c57e6-49e3-43e1-b2ac-3ae786cede77,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-42598e47-1889-4d07-b668-d64cf12c7da8,DISK], DatanodeInfoWithStorage[127.0.0.1:44657,DS-e39e52cf-7d28-4d69-8f62-989f9d9cde11,DISK], DatanodeInfoWithStorage[127.0.0.1:42703,DS-d9c99f2e-b1bd-469c-9ae8-5d97cc8b4379,DISK], DatanodeInfoWithStorage[127.0.0.1:36221,DS-84e3f2c3-3646-46eb-92a8-ad67c053c02a,DISK]]; indices=[3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1488670273-172.17.0.17-1593701762812:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45346,DS-289c7d2f-8388-4324-bb64-8f818c52a7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:37415,DS-7e2c57e6-49e3-43e1-b2ac-3ae786cede77,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-42598e47-1889-4d07-b668-d64cf12c7da8,DISK], DatanodeInfoWithStorage[127.0.0.1:44657,DS-e39e52cf-7d28-4d69-8f62-989f9d9cde11,DISK], DatanodeInfoWithStorage[127.0.0.1:42703,DS-d9c99f2e-b1bd-469c-9ae8-5d97cc8b4379,DISK], DatanodeInfoWithStorage[127.0.0.1:36221,DS-84e3f2c3-3646-46eb-92a8-ad67c053c02a,DISK]]; indices=[3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1488670273-172.17.0.17-1593701762812:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45346,DS-289c7d2f-8388-4324-bb64-8f818c52a7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:37415,DS-7e2c57e6-49e3-43e1-b2ac-3ae786cede77,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-42598e47-1889-4d07-b668-d64cf12c7da8,DISK], DatanodeInfoWithStorage[127.0.0.1:44657,DS-e39e52cf-7d28-4d69-8f62-989f9d9cde11,DISK], DatanodeInfoWithStorage[127.0.0.1:42703,DS-d9c99f2e-b1bd-469c-9ae8-5d97cc8b4379,DISK], DatanodeInfoWithStorage[127.0.0.1:36221,DS-84e3f2c3-3646-46eb-92a8-ad67c053c02a,DISK]]; indices=[3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1488670273-172.17.0.17-1593701762812:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45346,DS-289c7d2f-8388-4324-bb64-8f818c52a7c3,DISK], DatanodeInfoWithStorage[127.0.0.1:37415,DS-7e2c57e6-49e3-43e1-b2ac-3ae786cede77,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-42598e47-1889-4d07-b668-d64cf12c7da8,DISK], DatanodeInfoWithStorage[127.0.0.1:44657,DS-e39e52cf-7d28-4d69-8f62-989f9d9cde11,DISK], DatanodeInfoWithStorage[127.0.0.1:42703,DS-d9c99f2e-b1bd-469c-9ae8-5d97cc8b4379,DISK], DatanodeInfoWithStorage[127.0.0.1:36221,DS-84e3f2c3-3646-46eb-92a8-ad67c053c02a,DISK]]; indices=[3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1052072210-172.17.0.17-1593701816237:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43712,DS-83f1727a-a177-42eb-8b0b-284dc19d2fbd,DISK], DatanodeInfoWithStorage[127.0.0.1:35648,DS-5741dfe4-38cf-4132-9ea9-91ec870d7981,DISK], DatanodeInfoWithStorage[127.0.0.1:43414,DS-182a050a-6498-4642-b493-4fb7e29eedf6,DISK], DatanodeInfoWithStorage[127.0.0.1:45715,DS-083d0500-96c7-423f-ad8b-f9e1761fc258,DISK], DatanodeInfoWithStorage[127.0.0.1:44574,DS-055793ee-1a0e-446a-bcdd-bd7c90f3f7ba,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-4184ec8d-5230-4e37-b26b-0bfcae6d184c,DISK]]; indices=[0, 1, 2, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1052072210-172.17.0.17-1593701816237:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43712,DS-83f1727a-a177-42eb-8b0b-284dc19d2fbd,DISK], DatanodeInfoWithStorage[127.0.0.1:35648,DS-5741dfe4-38cf-4132-9ea9-91ec870d7981,DISK], DatanodeInfoWithStorage[127.0.0.1:43414,DS-182a050a-6498-4642-b493-4fb7e29eedf6,DISK], DatanodeInfoWithStorage[127.0.0.1:45715,DS-083d0500-96c7-423f-ad8b-f9e1761fc258,DISK], DatanodeInfoWithStorage[127.0.0.1:44574,DS-055793ee-1a0e-446a-bcdd-bd7c90f3f7ba,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-4184ec8d-5230-4e37-b26b-0bfcae6d184c,DISK]]; indices=[0, 1, 2, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1052072210-172.17.0.17-1593701816237:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43712,DS-83f1727a-a177-42eb-8b0b-284dc19d2fbd,DISK], DatanodeInfoWithStorage[127.0.0.1:35648,DS-5741dfe4-38cf-4132-9ea9-91ec870d7981,DISK], DatanodeInfoWithStorage[127.0.0.1:43414,DS-182a050a-6498-4642-b493-4fb7e29eedf6,DISK], DatanodeInfoWithStorage[127.0.0.1:45715,DS-083d0500-96c7-423f-ad8b-f9e1761fc258,DISK], DatanodeInfoWithStorage[127.0.0.1:44574,DS-055793ee-1a0e-446a-bcdd-bd7c90f3f7ba,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-4184ec8d-5230-4e37-b26b-0bfcae6d184c,DISK]]; indices=[0, 1, 2, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1052072210-172.17.0.17-1593701816237:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43712,DS-83f1727a-a177-42eb-8b0b-284dc19d2fbd,DISK], DatanodeInfoWithStorage[127.0.0.1:35648,DS-5741dfe4-38cf-4132-9ea9-91ec870d7981,DISK], DatanodeInfoWithStorage[127.0.0.1:43414,DS-182a050a-6498-4642-b493-4fb7e29eedf6,DISK], DatanodeInfoWithStorage[127.0.0.1:45715,DS-083d0500-96c7-423f-ad8b-f9e1761fc258,DISK], DatanodeInfoWithStorage[127.0.0.1:44574,DS-055793ee-1a0e-446a-bcdd-bd7c90f3f7ba,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-4184ec8d-5230-4e37-b26b-0bfcae6d184c,DISK]]; indices=[0, 1, 2, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-640390735-172.17.0.17-1593701993399:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38180,DS-74a87e27-ea5a-4016-9811-82ee12963f5d,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-3b6f4fa0-62ca-4a7e-b022-8874bfd06cbe,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-2a58abcd-85f1-45fd-8f1f-22f3effd183e,DISK], DatanodeInfoWithStorage[127.0.0.1:41811,DS-de2a7cc9-bf8a-45a6-9e3f-2acf65ae5ec9,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-55869e6a-4d7d-4329-9297-20da5341a1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45926,DS-fee967bb-b91f-4ed0-877a-b134d2466873,DISK]]; indices=[1, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-640390735-172.17.0.17-1593701993399:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38180,DS-74a87e27-ea5a-4016-9811-82ee12963f5d,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-3b6f4fa0-62ca-4a7e-b022-8874bfd06cbe,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-2a58abcd-85f1-45fd-8f1f-22f3effd183e,DISK], DatanodeInfoWithStorage[127.0.0.1:41811,DS-de2a7cc9-bf8a-45a6-9e3f-2acf65ae5ec9,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-55869e6a-4d7d-4329-9297-20da5341a1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45926,DS-fee967bb-b91f-4ed0-877a-b134d2466873,DISK]]; indices=[1, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-640390735-172.17.0.17-1593701993399:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38180,DS-74a87e27-ea5a-4016-9811-82ee12963f5d,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-3b6f4fa0-62ca-4a7e-b022-8874bfd06cbe,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-2a58abcd-85f1-45fd-8f1f-22f3effd183e,DISK], DatanodeInfoWithStorage[127.0.0.1:41811,DS-de2a7cc9-bf8a-45a6-9e3f-2acf65ae5ec9,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-55869e6a-4d7d-4329-9297-20da5341a1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45926,DS-fee967bb-b91f-4ed0-877a-b134d2466873,DISK]]; indices=[1, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-640390735-172.17.0.17-1593701993399:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38180,DS-74a87e27-ea5a-4016-9811-82ee12963f5d,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-3b6f4fa0-62ca-4a7e-b022-8874bfd06cbe,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-2a58abcd-85f1-45fd-8f1f-22f3effd183e,DISK], DatanodeInfoWithStorage[127.0.0.1:41811,DS-de2a7cc9-bf8a-45a6-9e3f-2acf65ae5ec9,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-55869e6a-4d7d-4329-9297-20da5341a1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45926,DS-fee967bb-b91f-4ed0-877a-b134d2466873,DISK]]; indices=[1, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1155694743-172.17.0.17-1593702183440:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45938,DS-90dc3ed3-2caf-4421-b0bd-09ea21dd113f,DISK], DatanodeInfoWithStorage[127.0.0.1:40349,DS-49e596ae-5410-4752-b01e-8b326f94f421,DISK], DatanodeInfoWithStorage[127.0.0.1:45972,DS-65404680-7e7e-49e3-8d7d-33e917c9730f,DISK], DatanodeInfoWithStorage[127.0.0.1:43364,DS-95014d82-0ad2-4033-b92f-755b67b4e245,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-edaa2268-51ad-47b2-b9b5-0ed78e269ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:33059,DS-d4533cc3-d54d-4e87-a5d4-101e7cb79c69,DISK]]; indices=[2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1155694743-172.17.0.17-1593702183440:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45938,DS-90dc3ed3-2caf-4421-b0bd-09ea21dd113f,DISK], DatanodeInfoWithStorage[127.0.0.1:40349,DS-49e596ae-5410-4752-b01e-8b326f94f421,DISK], DatanodeInfoWithStorage[127.0.0.1:45972,DS-65404680-7e7e-49e3-8d7d-33e917c9730f,DISK], DatanodeInfoWithStorage[127.0.0.1:43364,DS-95014d82-0ad2-4033-b92f-755b67b4e245,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-edaa2268-51ad-47b2-b9b5-0ed78e269ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:33059,DS-d4533cc3-d54d-4e87-a5d4-101e7cb79c69,DISK]]; indices=[2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1155694743-172.17.0.17-1593702183440:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45938,DS-90dc3ed3-2caf-4421-b0bd-09ea21dd113f,DISK], DatanodeInfoWithStorage[127.0.0.1:40349,DS-49e596ae-5410-4752-b01e-8b326f94f421,DISK], DatanodeInfoWithStorage[127.0.0.1:45972,DS-65404680-7e7e-49e3-8d7d-33e917c9730f,DISK], DatanodeInfoWithStorage[127.0.0.1:43364,DS-95014d82-0ad2-4033-b92f-755b67b4e245,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-edaa2268-51ad-47b2-b9b5-0ed78e269ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:33059,DS-d4533cc3-d54d-4e87-a5d4-101e7cb79c69,DISK]]; indices=[2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1155694743-172.17.0.17-1593702183440:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45938,DS-90dc3ed3-2caf-4421-b0bd-09ea21dd113f,DISK], DatanodeInfoWithStorage[127.0.0.1:40349,DS-49e596ae-5410-4752-b01e-8b326f94f421,DISK], DatanodeInfoWithStorage[127.0.0.1:45972,DS-65404680-7e7e-49e3-8d7d-33e917c9730f,DISK], DatanodeInfoWithStorage[127.0.0.1:43364,DS-95014d82-0ad2-4033-b92f-755b67b4e245,DISK], DatanodeInfoWithStorage[127.0.0.1:42512,DS-edaa2268-51ad-47b2-b9b5-0ed78e269ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:33059,DS-d4533cc3-d54d-4e87-a5d4-101e7cb79c69,DISK]]; indices=[2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-545668765-172.17.0.17-1593702374433:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34365,DS-9de89eb1-2f31-4cda-9df8-c61c2b7afd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38753,DS-b86ca0e4-bf9d-4d02-864f-779bbc512f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38168,DS-90efe9ac-6ae1-4e00-a5f8-0569da4c852b,DISK], DatanodeInfoWithStorage[127.0.0.1:35594,DS-b609271c-e9a0-4bfe-91c7-30ee9e163d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44412,DS-85c5f5c8-c44a-4fe4-bf7c-d5c8fb4d776b,DISK], DatanodeInfoWithStorage[127.0.0.1:39862,DS-5b586a16-dfe3-4203-aa8a-4a273604cd32,DISK]]; indices=[0, 1, 2, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-545668765-172.17.0.17-1593702374433:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34365,DS-9de89eb1-2f31-4cda-9df8-c61c2b7afd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38753,DS-b86ca0e4-bf9d-4d02-864f-779bbc512f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38168,DS-90efe9ac-6ae1-4e00-a5f8-0569da4c852b,DISK], DatanodeInfoWithStorage[127.0.0.1:35594,DS-b609271c-e9a0-4bfe-91c7-30ee9e163d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44412,DS-85c5f5c8-c44a-4fe4-bf7c-d5c8fb4d776b,DISK], DatanodeInfoWithStorage[127.0.0.1:39862,DS-5b586a16-dfe3-4203-aa8a-4a273604cd32,DISK]]; indices=[0, 1, 2, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-545668765-172.17.0.17-1593702374433:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34365,DS-9de89eb1-2f31-4cda-9df8-c61c2b7afd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38753,DS-b86ca0e4-bf9d-4d02-864f-779bbc512f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38168,DS-90efe9ac-6ae1-4e00-a5f8-0569da4c852b,DISK], DatanodeInfoWithStorage[127.0.0.1:35594,DS-b609271c-e9a0-4bfe-91c7-30ee9e163d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44412,DS-85c5f5c8-c44a-4fe4-bf7c-d5c8fb4d776b,DISK], DatanodeInfoWithStorage[127.0.0.1:39862,DS-5b586a16-dfe3-4203-aa8a-4a273604cd32,DISK]]; indices=[0, 1, 2, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-545668765-172.17.0.17-1593702374433:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34365,DS-9de89eb1-2f31-4cda-9df8-c61c2b7afd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38753,DS-b86ca0e4-bf9d-4d02-864f-779bbc512f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38168,DS-90efe9ac-6ae1-4e00-a5f8-0569da4c852b,DISK], DatanodeInfoWithStorage[127.0.0.1:35594,DS-b609271c-e9a0-4bfe-91c7-30ee9e163d6e,DISK], DatanodeInfoWithStorage[127.0.0.1:44412,DS-85c5f5c8-c44a-4fe4-bf7c-d5c8fb4d776b,DISK], DatanodeInfoWithStorage[127.0.0.1:39862,DS-5b586a16-dfe3-4203-aa8a-4a273604cd32,DISK]]; indices=[0, 1, 2, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1240527936-172.17.0.17-1593702403800:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36870,DS-a8c42153-682d-40ac-bc29-500acb4ac8c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34688,DS-73489161-a1a4-4d00-af39-a1b4365ebab2,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-ab5d18b4-59e1-407d-b38e-d335146b74f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36005,DS-096d0109-82b0-4365-a472-e9d75ee08a67,DISK], DatanodeInfoWithStorage[127.0.0.1:38732,DS-c50354ec-5f02-4659-8eb9-379cd2327243,DISK], DatanodeInfoWithStorage[127.0.0.1:40991,DS-a4f0ba9c-98bb-4369-904b-5d4f0edf3f81,DISK]]; indices=[0, 1, 2, 3, 4, 5]}];  lastLocatedBlock=LocatedStripedBlock{BP-1240527936-172.17.0.17-1593702403800:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36870,DS-a8c42153-682d-40ac-bc29-500acb4ac8c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34688,DS-73489161-a1a4-4d00-af39-a1b4365ebab2,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-ab5d18b4-59e1-407d-b38e-d335146b74f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36005,DS-096d0109-82b0-4365-a472-e9d75ee08a67,DISK], DatanodeInfoWithStorage[127.0.0.1:38732,DS-c50354ec-5f02-4659-8eb9-379cd2327243,DISK], DatanodeInfoWithStorage[127.0.0.1:40991,DS-a4f0ba9c-98bb-4369-904b-5d4f0edf3f81,DISK]]; indices=[0, 1, 2, 3, 4, 5]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1240527936-172.17.0.17-1593702403800:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36870,DS-a8c42153-682d-40ac-bc29-500acb4ac8c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34688,DS-73489161-a1a4-4d00-af39-a1b4365ebab2,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-ab5d18b4-59e1-407d-b38e-d335146b74f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36005,DS-096d0109-82b0-4365-a472-e9d75ee08a67,DISK], DatanodeInfoWithStorage[127.0.0.1:38732,DS-c50354ec-5f02-4659-8eb9-379cd2327243,DISK], DatanodeInfoWithStorage[127.0.0.1:40991,DS-a4f0ba9c-98bb-4369-904b-5d4f0edf3f81,DISK]]; indices=[0, 1, 2, 3, 4, 5]}];  lastLocatedBlock=LocatedStripedBlock{BP-1240527936-172.17.0.17-1593702403800:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36870,DS-a8c42153-682d-40ac-bc29-500acb4ac8c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34688,DS-73489161-a1a4-4d00-af39-a1b4365ebab2,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-ab5d18b4-59e1-407d-b38e-d335146b74f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36005,DS-096d0109-82b0-4365-a472-e9d75ee08a67,DISK], DatanodeInfoWithStorage[127.0.0.1:38732,DS-c50354ec-5f02-4659-8eb9-379cd2327243,DISK], DatanodeInfoWithStorage[127.0.0.1:40991,DS-a4f0ba9c-98bb-4369-904b-5d4f0edf3f81,DISK]]; indices=[0, 1, 2, 3, 4, 5]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2034494207-172.17.0.17-1593702918029:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39633,DS-e7dea547-f224-4d42-a2c4-1d5e0e049880,DISK], DatanodeInfoWithStorage[127.0.0.1:37074,DS-40263b5d-9d35-4fd2-9f70-6166d7a2c916,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-d364d3a0-8fe6-4fa2-a0eb-ffd611d54a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:39625,DS-f8c0cab0-ecc6-4da7-9975-a3ddfaf46926,DISK], DatanodeInfoWithStorage[127.0.0.1:37060,DS-a3c9b61a-2ee6-4e53-833b-b71b521117cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43391,DS-b2db6018-fc51-4b08-92ee-9e949fb8b6ad,DISK]]; indices=[0, 1, 2, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2034494207-172.17.0.17-1593702918029:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39633,DS-e7dea547-f224-4d42-a2c4-1d5e0e049880,DISK], DatanodeInfoWithStorage[127.0.0.1:37074,DS-40263b5d-9d35-4fd2-9f70-6166d7a2c916,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-d364d3a0-8fe6-4fa2-a0eb-ffd611d54a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:39625,DS-f8c0cab0-ecc6-4da7-9975-a3ddfaf46926,DISK], DatanodeInfoWithStorage[127.0.0.1:37060,DS-a3c9b61a-2ee6-4e53-833b-b71b521117cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43391,DS-b2db6018-fc51-4b08-92ee-9e949fb8b6ad,DISK]]; indices=[0, 1, 2, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2034494207-172.17.0.17-1593702918029:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39633,DS-e7dea547-f224-4d42-a2c4-1d5e0e049880,DISK], DatanodeInfoWithStorage[127.0.0.1:37074,DS-40263b5d-9d35-4fd2-9f70-6166d7a2c916,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-d364d3a0-8fe6-4fa2-a0eb-ffd611d54a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:39625,DS-f8c0cab0-ecc6-4da7-9975-a3ddfaf46926,DISK], DatanodeInfoWithStorage[127.0.0.1:37060,DS-a3c9b61a-2ee6-4e53-833b-b71b521117cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43391,DS-b2db6018-fc51-4b08-92ee-9e949fb8b6ad,DISK]]; indices=[0, 1, 2, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2034494207-172.17.0.17-1593702918029:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39633,DS-e7dea547-f224-4d42-a2c4-1d5e0e049880,DISK], DatanodeInfoWithStorage[127.0.0.1:37074,DS-40263b5d-9d35-4fd2-9f70-6166d7a2c916,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-d364d3a0-8fe6-4fa2-a0eb-ffd611d54a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:39625,DS-f8c0cab0-ecc6-4da7-9975-a3ddfaf46926,DISK], DatanodeInfoWithStorage[127.0.0.1:37060,DS-a3c9b61a-2ee6-4e53-833b-b71b521117cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43391,DS-b2db6018-fc51-4b08-92ee-9e949fb8b6ad,DISK]]; indices=[0, 1, 2, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-3435773-172.17.0.17-1593702947655:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-149328dd-8709-4c7e-b126-10437f40142f,DISK], DatanodeInfoWithStorage[127.0.0.1:32985,DS-821ffee6-73c3-48ae-8c7c-088426515cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:36033,DS-be84b54b-5c83-4cbf-908a-c5e2c12c0b72,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-8f561f46-783c-44ac-8d40-e67043655ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:44605,DS-1bbef09e-576b-4da4-91cb-d721873398f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42089,DS-1508184c-39ea-470b-9cd1-cad49d81cff0,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-3435773-172.17.0.17-1593702947655:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-149328dd-8709-4c7e-b126-10437f40142f,DISK], DatanodeInfoWithStorage[127.0.0.1:32985,DS-821ffee6-73c3-48ae-8c7c-088426515cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:36033,DS-be84b54b-5c83-4cbf-908a-c5e2c12c0b72,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-8f561f46-783c-44ac-8d40-e67043655ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:44605,DS-1bbef09e-576b-4da4-91cb-d721873398f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42089,DS-1508184c-39ea-470b-9cd1-cad49d81cff0,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-3435773-172.17.0.17-1593702947655:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-149328dd-8709-4c7e-b126-10437f40142f,DISK], DatanodeInfoWithStorage[127.0.0.1:32985,DS-821ffee6-73c3-48ae-8c7c-088426515cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:36033,DS-be84b54b-5c83-4cbf-908a-c5e2c12c0b72,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-8f561f46-783c-44ac-8d40-e67043655ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:44605,DS-1bbef09e-576b-4da4-91cb-d721873398f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42089,DS-1508184c-39ea-470b-9cd1-cad49d81cff0,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-3435773-172.17.0.17-1593702947655:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-149328dd-8709-4c7e-b126-10437f40142f,DISK], DatanodeInfoWithStorage[127.0.0.1:32985,DS-821ffee6-73c3-48ae-8c7c-088426515cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:36033,DS-be84b54b-5c83-4cbf-908a-c5e2c12c0b72,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-8f561f46-783c-44ac-8d40-e67043655ec3,DISK], DatanodeInfoWithStorage[127.0.0.1:44605,DS-1bbef09e-576b-4da4-91cb-d721873398f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42089,DS-1508184c-39ea-470b-9cd1-cad49d81cff0,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1427455356-172.17.0.17-1593703008424:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35168,DS-b84c14d1-21d7-425a-9605-35bfe5b1d716,DISK], DatanodeInfoWithStorage[127.0.0.1:35900,DS-794dce77-0c95-4457-930a-cc209fcf5247,DISK], DatanodeInfoWithStorage[127.0.0.1:43843,DS-a0a32cdf-e1e8-4950-97eb-bcb7367086b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39521,DS-ba5d8252-f59e-4641-a516-41ade38b66b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42525,DS-aff7eca4-115a-474c-babe-58d5585f77d5,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-f85c00e3-ec53-4c0f-8fbd-b05c882d0264,DISK]]; indices=[0, 1, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1427455356-172.17.0.17-1593703008424:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35168,DS-b84c14d1-21d7-425a-9605-35bfe5b1d716,DISK], DatanodeInfoWithStorage[127.0.0.1:35900,DS-794dce77-0c95-4457-930a-cc209fcf5247,DISK], DatanodeInfoWithStorage[127.0.0.1:43843,DS-a0a32cdf-e1e8-4950-97eb-bcb7367086b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39521,DS-ba5d8252-f59e-4641-a516-41ade38b66b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42525,DS-aff7eca4-115a-474c-babe-58d5585f77d5,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-f85c00e3-ec53-4c0f-8fbd-b05c882d0264,DISK]]; indices=[0, 1, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1427455356-172.17.0.17-1593703008424:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35168,DS-b84c14d1-21d7-425a-9605-35bfe5b1d716,DISK], DatanodeInfoWithStorage[127.0.0.1:35900,DS-794dce77-0c95-4457-930a-cc209fcf5247,DISK], DatanodeInfoWithStorage[127.0.0.1:43843,DS-a0a32cdf-e1e8-4950-97eb-bcb7367086b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39521,DS-ba5d8252-f59e-4641-a516-41ade38b66b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42525,DS-aff7eca4-115a-474c-babe-58d5585f77d5,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-f85c00e3-ec53-4c0f-8fbd-b05c882d0264,DISK]]; indices=[0, 1, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1427455356-172.17.0.17-1593703008424:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35168,DS-b84c14d1-21d7-425a-9605-35bfe5b1d716,DISK], DatanodeInfoWithStorage[127.0.0.1:35900,DS-794dce77-0c95-4457-930a-cc209fcf5247,DISK], DatanodeInfoWithStorage[127.0.0.1:43843,DS-a0a32cdf-e1e8-4950-97eb-bcb7367086b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39521,DS-ba5d8252-f59e-4641-a516-41ade38b66b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42525,DS-aff7eca4-115a-474c-babe-58d5585f77d5,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-f85c00e3-ec53-4c0f-8fbd-b05c882d0264,DISK]]; indices=[0, 1, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1754579053-172.17.0.17-1593703133152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43110,DS-d4d67752-7f6e-4e62-ae54-1902b72f261d,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-cccd268b-c7ac-4a64-9699-a94e5b57e337,DISK], DatanodeInfoWithStorage[127.0.0.1:34648,DS-b3dd26f8-696d-4c35-bac6-4b4615be313e,DISK], DatanodeInfoWithStorage[127.0.0.1:40628,DS-187911a3-5389-477a-9010-83f959b2e4b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41650,DS-627ba5d6-3d96-4340-9a9c-aaec7a64f764,DISK], DatanodeInfoWithStorage[127.0.0.1:44033,DS-3dad3d86-b651-4d24-b908-5a3a1cba6ee2,DISK]]; indices=[0, 1, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1754579053-172.17.0.17-1593703133152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43110,DS-d4d67752-7f6e-4e62-ae54-1902b72f261d,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-cccd268b-c7ac-4a64-9699-a94e5b57e337,DISK], DatanodeInfoWithStorage[127.0.0.1:34648,DS-b3dd26f8-696d-4c35-bac6-4b4615be313e,DISK], DatanodeInfoWithStorage[127.0.0.1:40628,DS-187911a3-5389-477a-9010-83f959b2e4b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41650,DS-627ba5d6-3d96-4340-9a9c-aaec7a64f764,DISK], DatanodeInfoWithStorage[127.0.0.1:44033,DS-3dad3d86-b651-4d24-b908-5a3a1cba6ee2,DISK]]; indices=[0, 1, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1754579053-172.17.0.17-1593703133152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43110,DS-d4d67752-7f6e-4e62-ae54-1902b72f261d,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-cccd268b-c7ac-4a64-9699-a94e5b57e337,DISK], DatanodeInfoWithStorage[127.0.0.1:34648,DS-b3dd26f8-696d-4c35-bac6-4b4615be313e,DISK], DatanodeInfoWithStorage[127.0.0.1:40628,DS-187911a3-5389-477a-9010-83f959b2e4b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41650,DS-627ba5d6-3d96-4340-9a9c-aaec7a64f764,DISK], DatanodeInfoWithStorage[127.0.0.1:44033,DS-3dad3d86-b651-4d24-b908-5a3a1cba6ee2,DISK]]; indices=[0, 1, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1754579053-172.17.0.17-1593703133152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43110,DS-d4d67752-7f6e-4e62-ae54-1902b72f261d,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-cccd268b-c7ac-4a64-9699-a94e5b57e337,DISK], DatanodeInfoWithStorage[127.0.0.1:34648,DS-b3dd26f8-696d-4c35-bac6-4b4615be313e,DISK], DatanodeInfoWithStorage[127.0.0.1:40628,DS-187911a3-5389-477a-9010-83f959b2e4b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41650,DS-627ba5d6-3d96-4340-9a9c-aaec7a64f764,DISK], DatanodeInfoWithStorage[127.0.0.1:44033,DS-3dad3d86-b651-4d24-b908-5a3a1cba6ee2,DISK]]; indices=[0, 1, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1931234530-172.17.0.17-1593703196314:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46554,DS-1f4642bd-214a-482d-80f4-73c2f0fca125,DISK], DatanodeInfoWithStorage[127.0.0.1:39327,DS-f9e5a4e5-6cc5-476a-9a16-6efb1b2500c0,DISK], DatanodeInfoWithStorage[127.0.0.1:46159,DS-d7f2e592-2960-4c68-bfbc-bffee70a2624,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-6d052266-b818-47d6-a5b6-349559ad81a8,DISK], DatanodeInfoWithStorage[127.0.0.1:46341,DS-74fb9175-adb2-4356-88f5-2ed34f472f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-9b415d69-5482-4ed3-b8d6-ae5fef9a64fc,DISK]]; indices=[1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1931234530-172.17.0.17-1593703196314:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46554,DS-1f4642bd-214a-482d-80f4-73c2f0fca125,DISK], DatanodeInfoWithStorage[127.0.0.1:39327,DS-f9e5a4e5-6cc5-476a-9a16-6efb1b2500c0,DISK], DatanodeInfoWithStorage[127.0.0.1:46159,DS-d7f2e592-2960-4c68-bfbc-bffee70a2624,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-6d052266-b818-47d6-a5b6-349559ad81a8,DISK], DatanodeInfoWithStorage[127.0.0.1:46341,DS-74fb9175-adb2-4356-88f5-2ed34f472f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-9b415d69-5482-4ed3-b8d6-ae5fef9a64fc,DISK]]; indices=[1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1931234530-172.17.0.17-1593703196314:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46554,DS-1f4642bd-214a-482d-80f4-73c2f0fca125,DISK], DatanodeInfoWithStorage[127.0.0.1:39327,DS-f9e5a4e5-6cc5-476a-9a16-6efb1b2500c0,DISK], DatanodeInfoWithStorage[127.0.0.1:46159,DS-d7f2e592-2960-4c68-bfbc-bffee70a2624,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-6d052266-b818-47d6-a5b6-349559ad81a8,DISK], DatanodeInfoWithStorage[127.0.0.1:46341,DS-74fb9175-adb2-4356-88f5-2ed34f472f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-9b415d69-5482-4ed3-b8d6-ae5fef9a64fc,DISK]]; indices=[1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1931234530-172.17.0.17-1593703196314:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46554,DS-1f4642bd-214a-482d-80f4-73c2f0fca125,DISK], DatanodeInfoWithStorage[127.0.0.1:39327,DS-f9e5a4e5-6cc5-476a-9a16-6efb1b2500c0,DISK], DatanodeInfoWithStorage[127.0.0.1:46159,DS-d7f2e592-2960-4c68-bfbc-bffee70a2624,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-6d052266-b818-47d6-a5b6-349559ad81a8,DISK], DatanodeInfoWithStorage[127.0.0.1:46341,DS-74fb9175-adb2-4356-88f5-2ed34f472f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-9b415d69-5482-4ed3-b8d6-ae5fef9a64fc,DISK]]; indices=[1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-555416810-172.17.0.17-1593703227573:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40841,DS-3c79b301-9fff-4e29-ab16-4ec945875ea4,DISK], DatanodeInfoWithStorage[127.0.0.1:40242,DS-18c12687-0005-41fe-9b9c-d792f5dfe5be,DISK], DatanodeInfoWithStorage[127.0.0.1:45215,DS-08168fc8-4379-4ad6-ae9c-80d94e7bd61f,DISK], DatanodeInfoWithStorage[127.0.0.1:34195,DS-a8b7aaa7-6ba3-476d-b400-e6ba7f2e0961,DISK], DatanodeInfoWithStorage[127.0.0.1:41514,DS-78d9b9f4-72b2-4cbf-8d15-e41f3c85014f,DISK], DatanodeInfoWithStorage[127.0.0.1:44754,DS-6d8490b7-9bd6-4f0d-849a-d20b1619b514,DISK]]; indices=[2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-555416810-172.17.0.17-1593703227573:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40841,DS-3c79b301-9fff-4e29-ab16-4ec945875ea4,DISK], DatanodeInfoWithStorage[127.0.0.1:40242,DS-18c12687-0005-41fe-9b9c-d792f5dfe5be,DISK], DatanodeInfoWithStorage[127.0.0.1:45215,DS-08168fc8-4379-4ad6-ae9c-80d94e7bd61f,DISK], DatanodeInfoWithStorage[127.0.0.1:34195,DS-a8b7aaa7-6ba3-476d-b400-e6ba7f2e0961,DISK], DatanodeInfoWithStorage[127.0.0.1:41514,DS-78d9b9f4-72b2-4cbf-8d15-e41f3c85014f,DISK], DatanodeInfoWithStorage[127.0.0.1:44754,DS-6d8490b7-9bd6-4f0d-849a-d20b1619b514,DISK]]; indices=[2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-555416810-172.17.0.17-1593703227573:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40841,DS-3c79b301-9fff-4e29-ab16-4ec945875ea4,DISK], DatanodeInfoWithStorage[127.0.0.1:40242,DS-18c12687-0005-41fe-9b9c-d792f5dfe5be,DISK], DatanodeInfoWithStorage[127.0.0.1:45215,DS-08168fc8-4379-4ad6-ae9c-80d94e7bd61f,DISK], DatanodeInfoWithStorage[127.0.0.1:34195,DS-a8b7aaa7-6ba3-476d-b400-e6ba7f2e0961,DISK], DatanodeInfoWithStorage[127.0.0.1:41514,DS-78d9b9f4-72b2-4cbf-8d15-e41f3c85014f,DISK], DatanodeInfoWithStorage[127.0.0.1:44754,DS-6d8490b7-9bd6-4f0d-849a-d20b1619b514,DISK]]; indices=[2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-555416810-172.17.0.17-1593703227573:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40841,DS-3c79b301-9fff-4e29-ab16-4ec945875ea4,DISK], DatanodeInfoWithStorage[127.0.0.1:40242,DS-18c12687-0005-41fe-9b9c-d792f5dfe5be,DISK], DatanodeInfoWithStorage[127.0.0.1:45215,DS-08168fc8-4379-4ad6-ae9c-80d94e7bd61f,DISK], DatanodeInfoWithStorage[127.0.0.1:34195,DS-a8b7aaa7-6ba3-476d-b400-e6ba7f2e0961,DISK], DatanodeInfoWithStorage[127.0.0.1:41514,DS-78d9b9f4-72b2-4cbf-8d15-e41f3c85014f,DISK], DatanodeInfoWithStorage[127.0.0.1:44754,DS-6d8490b7-9bd6-4f0d-849a-d20b1619b514,DISK]]; indices=[2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2008285001-172.17.0.17-1593703289545:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38883,DS-a7d351f4-cd67-4bb7-96db-142c6d8a68f7,DISK], DatanodeInfoWithStorage[127.0.0.1:43442,DS-b719a709-b5f3-4687-b5d2-a16ff277d194,DISK], DatanodeInfoWithStorage[127.0.0.1:36203,DS-feccd11b-ee1f-4412-967c-5b1c096fe533,DISK], DatanodeInfoWithStorage[127.0.0.1:33155,DS-b3d1c634-90f0-4591-b9aa-ae76a8a422ee,DISK], DatanodeInfoWithStorage[127.0.0.1:33732,DS-ee414bf4-f2b4-453b-b9b9-5329ab7834e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-f684b18d-6d39-48ec-9e3f-6ddd2997ce9d,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2008285001-172.17.0.17-1593703289545:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38883,DS-a7d351f4-cd67-4bb7-96db-142c6d8a68f7,DISK], DatanodeInfoWithStorage[127.0.0.1:43442,DS-b719a709-b5f3-4687-b5d2-a16ff277d194,DISK], DatanodeInfoWithStorage[127.0.0.1:36203,DS-feccd11b-ee1f-4412-967c-5b1c096fe533,DISK], DatanodeInfoWithStorage[127.0.0.1:33155,DS-b3d1c634-90f0-4591-b9aa-ae76a8a422ee,DISK], DatanodeInfoWithStorage[127.0.0.1:33732,DS-ee414bf4-f2b4-453b-b9b9-5329ab7834e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-f684b18d-6d39-48ec-9e3f-6ddd2997ce9d,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2008285001-172.17.0.17-1593703289545:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38883,DS-a7d351f4-cd67-4bb7-96db-142c6d8a68f7,DISK], DatanodeInfoWithStorage[127.0.0.1:43442,DS-b719a709-b5f3-4687-b5d2-a16ff277d194,DISK], DatanodeInfoWithStorage[127.0.0.1:36203,DS-feccd11b-ee1f-4412-967c-5b1c096fe533,DISK], DatanodeInfoWithStorage[127.0.0.1:33155,DS-b3d1c634-90f0-4591-b9aa-ae76a8a422ee,DISK], DatanodeInfoWithStorage[127.0.0.1:33732,DS-ee414bf4-f2b4-453b-b9b9-5329ab7834e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-f684b18d-6d39-48ec-9e3f-6ddd2997ce9d,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2008285001-172.17.0.17-1593703289545:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38883,DS-a7d351f4-cd67-4bb7-96db-142c6d8a68f7,DISK], DatanodeInfoWithStorage[127.0.0.1:43442,DS-b719a709-b5f3-4687-b5d2-a16ff277d194,DISK], DatanodeInfoWithStorage[127.0.0.1:36203,DS-feccd11b-ee1f-4412-967c-5b1c096fe533,DISK], DatanodeInfoWithStorage[127.0.0.1:33155,DS-b3d1c634-90f0-4591-b9aa-ae76a8a422ee,DISK], DatanodeInfoWithStorage[127.0.0.1:33732,DS-ee414bf4-f2b4-453b-b9b9-5329ab7834e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44555,DS-f684b18d-6d39-48ec-9e3f-6ddd2997ce9d,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1958260069-172.17.0.17-1593703483540:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43003,DS-9e003bfa-b820-4548-8ab7-80137ff9b43a,DISK], DatanodeInfoWithStorage[127.0.0.1:45944,DS-444bce2f-839b-4dc5-bc99-028712269698,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-805b8323-2498-439c-b201-4309f7f64e7e,DISK], DatanodeInfoWithStorage[127.0.0.1:41892,DS-0dd05914-4c6c-4772-8077-87b5d7b9a5f3,DISK], DatanodeInfoWithStorage[127.0.0.1:32856,DS-5e3235a4-3304-4cbc-8e5a-27dd9273ac8d,DISK], DatanodeInfoWithStorage[127.0.0.1:44044,DS-808e9157-70ed-4cf8-87c9-ed039ed0a96e,DISK]]; indices=[1, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1958260069-172.17.0.17-1593703483540:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43003,DS-9e003bfa-b820-4548-8ab7-80137ff9b43a,DISK], DatanodeInfoWithStorage[127.0.0.1:45944,DS-444bce2f-839b-4dc5-bc99-028712269698,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-805b8323-2498-439c-b201-4309f7f64e7e,DISK], DatanodeInfoWithStorage[127.0.0.1:41892,DS-0dd05914-4c6c-4772-8077-87b5d7b9a5f3,DISK], DatanodeInfoWithStorage[127.0.0.1:32856,DS-5e3235a4-3304-4cbc-8e5a-27dd9273ac8d,DISK], DatanodeInfoWithStorage[127.0.0.1:44044,DS-808e9157-70ed-4cf8-87c9-ed039ed0a96e,DISK]]; indices=[1, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1958260069-172.17.0.17-1593703483540:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43003,DS-9e003bfa-b820-4548-8ab7-80137ff9b43a,DISK], DatanodeInfoWithStorage[127.0.0.1:45944,DS-444bce2f-839b-4dc5-bc99-028712269698,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-805b8323-2498-439c-b201-4309f7f64e7e,DISK], DatanodeInfoWithStorage[127.0.0.1:41892,DS-0dd05914-4c6c-4772-8077-87b5d7b9a5f3,DISK], DatanodeInfoWithStorage[127.0.0.1:32856,DS-5e3235a4-3304-4cbc-8e5a-27dd9273ac8d,DISK], DatanodeInfoWithStorage[127.0.0.1:44044,DS-808e9157-70ed-4cf8-87c9-ed039ed0a96e,DISK]]; indices=[1, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1958260069-172.17.0.17-1593703483540:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43003,DS-9e003bfa-b820-4548-8ab7-80137ff9b43a,DISK], DatanodeInfoWithStorage[127.0.0.1:45944,DS-444bce2f-839b-4dc5-bc99-028712269698,DISK], DatanodeInfoWithStorage[127.0.0.1:42073,DS-805b8323-2498-439c-b201-4309f7f64e7e,DISK], DatanodeInfoWithStorage[127.0.0.1:41892,DS-0dd05914-4c6c-4772-8077-87b5d7b9a5f3,DISK], DatanodeInfoWithStorage[127.0.0.1:32856,DS-5e3235a4-3304-4cbc-8e5a-27dd9273ac8d,DISK], DatanodeInfoWithStorage[127.0.0.1:44044,DS-808e9157-70ed-4cf8-87c9-ed039ed0a96e,DISK]]; indices=[1, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1889855737-172.17.0.17-1593703963360:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41908,DS-81f1263b-0784-4272-abe5-a8e6a276e919,DISK], DatanodeInfoWithStorage[127.0.0.1:42183,DS-6c8c14d3-cc11-4de1-a31c-527541afa3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-b0d9847b-932e-4be2-9a0c-315b40ab0ca7,DISK], DatanodeInfoWithStorage[127.0.0.1:33503,DS-b9ddcb90-5260-4d95-9753-6176338c7a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:44776,DS-ff6750cd-99de-4365-9509-140b303ed6e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34101,DS-82663ab0-4194-4cb0-a53c-5950c0478ffe,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1889855737-172.17.0.17-1593703963360:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41908,DS-81f1263b-0784-4272-abe5-a8e6a276e919,DISK], DatanodeInfoWithStorage[127.0.0.1:42183,DS-6c8c14d3-cc11-4de1-a31c-527541afa3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-b0d9847b-932e-4be2-9a0c-315b40ab0ca7,DISK], DatanodeInfoWithStorage[127.0.0.1:33503,DS-b9ddcb90-5260-4d95-9753-6176338c7a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:44776,DS-ff6750cd-99de-4365-9509-140b303ed6e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34101,DS-82663ab0-4194-4cb0-a53c-5950c0478ffe,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1889855737-172.17.0.17-1593703963360:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41908,DS-81f1263b-0784-4272-abe5-a8e6a276e919,DISK], DatanodeInfoWithStorage[127.0.0.1:42183,DS-6c8c14d3-cc11-4de1-a31c-527541afa3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-b0d9847b-932e-4be2-9a0c-315b40ab0ca7,DISK], DatanodeInfoWithStorage[127.0.0.1:33503,DS-b9ddcb90-5260-4d95-9753-6176338c7a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:44776,DS-ff6750cd-99de-4365-9509-140b303ed6e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34101,DS-82663ab0-4194-4cb0-a53c-5950c0478ffe,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1889855737-172.17.0.17-1593703963360:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41908,DS-81f1263b-0784-4272-abe5-a8e6a276e919,DISK], DatanodeInfoWithStorage[127.0.0.1:42183,DS-6c8c14d3-cc11-4de1-a31c-527541afa3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-b0d9847b-932e-4be2-9a0c-315b40ab0ca7,DISK], DatanodeInfoWithStorage[127.0.0.1:33503,DS-b9ddcb90-5260-4d95-9753-6176338c7a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:44776,DS-ff6750cd-99de-4365-9509-140b303ed6e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34101,DS-82663ab0-4194-4cb0-a53c-5950c0478ffe,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-696432387-172.17.0.17-1593704229862:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43725,DS-bf0f9d74-7375-4c22-bc88-d629d9fd7e65,DISK], DatanodeInfoWithStorage[127.0.0.1:37214,DS-45e0354c-db12-4884-9eac-f90064774a6f,DISK], DatanodeInfoWithStorage[127.0.0.1:34555,DS-7c382eab-e797-4e0b-b025-8d3d7065ea21,DISK], DatanodeInfoWithStorage[127.0.0.1:36170,DS-c1f2aa61-269f-4373-b08d-eecb31fe176f,DISK], DatanodeInfoWithStorage[127.0.0.1:39729,DS-8a57b2a3-37bf-41ab-917e-85bcaff6feeb,DISK], DatanodeInfoWithStorage[127.0.0.1:45729,DS-72e6b4c7-2525-402a-bc26-2f43480a290c,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-696432387-172.17.0.17-1593704229862:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43725,DS-bf0f9d74-7375-4c22-bc88-d629d9fd7e65,DISK], DatanodeInfoWithStorage[127.0.0.1:37214,DS-45e0354c-db12-4884-9eac-f90064774a6f,DISK], DatanodeInfoWithStorage[127.0.0.1:34555,DS-7c382eab-e797-4e0b-b025-8d3d7065ea21,DISK], DatanodeInfoWithStorage[127.0.0.1:36170,DS-c1f2aa61-269f-4373-b08d-eecb31fe176f,DISK], DatanodeInfoWithStorage[127.0.0.1:39729,DS-8a57b2a3-37bf-41ab-917e-85bcaff6feeb,DISK], DatanodeInfoWithStorage[127.0.0.1:45729,DS-72e6b4c7-2525-402a-bc26-2f43480a290c,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-696432387-172.17.0.17-1593704229862:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43725,DS-bf0f9d74-7375-4c22-bc88-d629d9fd7e65,DISK], DatanodeInfoWithStorage[127.0.0.1:37214,DS-45e0354c-db12-4884-9eac-f90064774a6f,DISK], DatanodeInfoWithStorage[127.0.0.1:34555,DS-7c382eab-e797-4e0b-b025-8d3d7065ea21,DISK], DatanodeInfoWithStorage[127.0.0.1:36170,DS-c1f2aa61-269f-4373-b08d-eecb31fe176f,DISK], DatanodeInfoWithStorage[127.0.0.1:39729,DS-8a57b2a3-37bf-41ab-917e-85bcaff6feeb,DISK], DatanodeInfoWithStorage[127.0.0.1:45729,DS-72e6b4c7-2525-402a-bc26-2f43480a290c,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-696432387-172.17.0.17-1593704229862:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43725,DS-bf0f9d74-7375-4c22-bc88-d629d9fd7e65,DISK], DatanodeInfoWithStorage[127.0.0.1:37214,DS-45e0354c-db12-4884-9eac-f90064774a6f,DISK], DatanodeInfoWithStorage[127.0.0.1:34555,DS-7c382eab-e797-4e0b-b025-8d3d7065ea21,DISK], DatanodeInfoWithStorage[127.0.0.1:36170,DS-c1f2aa61-269f-4373-b08d-eecb31fe176f,DISK], DatanodeInfoWithStorage[127.0.0.1:39729,DS-8a57b2a3-37bf-41ab-917e-85bcaff6feeb,DISK], DatanodeInfoWithStorage[127.0.0.1:45729,DS-72e6b4c7-2525-402a-bc26-2f43480a290c,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1651890337-172.17.0.17-1593704505816:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36701,DS-f0a94546-7cf2-4612-84be-4ad729e01489,DISK], DatanodeInfoWithStorage[127.0.0.1:45779,DS-caa7cb1f-0aef-4a4f-8d72-15707317d794,DISK], DatanodeInfoWithStorage[127.0.0.1:38600,DS-b34b4848-a99a-4701-99ce-f9eaba11d107,DISK], DatanodeInfoWithStorage[127.0.0.1:46261,DS-659ba151-d2f0-4ce0-b7f5-12e1ac36c109,DISK], DatanodeInfoWithStorage[127.0.0.1:34671,DS-d016c014-ae0c-4458-8d7e-52d5b2b6694c,DISK], DatanodeInfoWithStorage[127.0.0.1:42240,DS-6b1d6b75-5dd6-4fd1-ab6a-b1ce59758d32,DISK]]; indices=[0, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1651890337-172.17.0.17-1593704505816:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36701,DS-f0a94546-7cf2-4612-84be-4ad729e01489,DISK], DatanodeInfoWithStorage[127.0.0.1:45779,DS-caa7cb1f-0aef-4a4f-8d72-15707317d794,DISK], DatanodeInfoWithStorage[127.0.0.1:38600,DS-b34b4848-a99a-4701-99ce-f9eaba11d107,DISK], DatanodeInfoWithStorage[127.0.0.1:46261,DS-659ba151-d2f0-4ce0-b7f5-12e1ac36c109,DISK], DatanodeInfoWithStorage[127.0.0.1:34671,DS-d016c014-ae0c-4458-8d7e-52d5b2b6694c,DISK], DatanodeInfoWithStorage[127.0.0.1:42240,DS-6b1d6b75-5dd6-4fd1-ab6a-b1ce59758d32,DISK]]; indices=[0, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1651890337-172.17.0.17-1593704505816:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36701,DS-f0a94546-7cf2-4612-84be-4ad729e01489,DISK], DatanodeInfoWithStorage[127.0.0.1:45779,DS-caa7cb1f-0aef-4a4f-8d72-15707317d794,DISK], DatanodeInfoWithStorage[127.0.0.1:38600,DS-b34b4848-a99a-4701-99ce-f9eaba11d107,DISK], DatanodeInfoWithStorage[127.0.0.1:46261,DS-659ba151-d2f0-4ce0-b7f5-12e1ac36c109,DISK], DatanodeInfoWithStorage[127.0.0.1:34671,DS-d016c014-ae0c-4458-8d7e-52d5b2b6694c,DISK], DatanodeInfoWithStorage[127.0.0.1:42240,DS-6b1d6b75-5dd6-4fd1-ab6a-b1ce59758d32,DISK]]; indices=[0, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1651890337-172.17.0.17-1593704505816:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36701,DS-f0a94546-7cf2-4612-84be-4ad729e01489,DISK], DatanodeInfoWithStorage[127.0.0.1:45779,DS-caa7cb1f-0aef-4a4f-8d72-15707317d794,DISK], DatanodeInfoWithStorage[127.0.0.1:38600,DS-b34b4848-a99a-4701-99ce-f9eaba11d107,DISK], DatanodeInfoWithStorage[127.0.0.1:46261,DS-659ba151-d2f0-4ce0-b7f5-12e1ac36c109,DISK], DatanodeInfoWithStorage[127.0.0.1:34671,DS-d016c014-ae0c-4458-8d7e-52d5b2b6694c,DISK], DatanodeInfoWithStorage[127.0.0.1:42240,DS-6b1d6b75-5dd6-4fd1-ab6a-b1ce59758d32,DISK]]; indices=[0, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 17 out of 50
v1v1v2v2 failed with probability 9 out of 50
result: might be true error
Total execution time in seconds : 4672
