reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1686865106-172.17.0.8-1593732144742:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-c77a1b39-ec3d-41ea-84ab-036938d06314,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-45140ea8-2dd9-43ea-9c2e-6403e8fbb811,DISK], DatanodeInfoWithStorage[127.0.0.1:38931,DS-510e3bca-38c1-4af4-a4a5-3c13b4c1c371,DISK], DatanodeInfoWithStorage[127.0.0.1:36326,DS-6a75c2b6-66e2-4789-81fe-f78183900545,DISK], DatanodeInfoWithStorage[127.0.0.1:38018,DS-0c68fee0-14d7-4a18-85e1-55eac9136f25,DISK], DatanodeInfoWithStorage[127.0.0.1:38016,DS-0abc6b01-c1b8-4302-9880-c5bbee7b2efa,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1686865106-172.17.0.8-1593732144742:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-c77a1b39-ec3d-41ea-84ab-036938d06314,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-45140ea8-2dd9-43ea-9c2e-6403e8fbb811,DISK], DatanodeInfoWithStorage[127.0.0.1:38931,DS-510e3bca-38c1-4af4-a4a5-3c13b4c1c371,DISK], DatanodeInfoWithStorage[127.0.0.1:36326,DS-6a75c2b6-66e2-4789-81fe-f78183900545,DISK], DatanodeInfoWithStorage[127.0.0.1:38018,DS-0c68fee0-14d7-4a18-85e1-55eac9136f25,DISK], DatanodeInfoWithStorage[127.0.0.1:38016,DS-0abc6b01-c1b8-4302-9880-c5bbee7b2efa,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1686865106-172.17.0.8-1593732144742:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-c77a1b39-ec3d-41ea-84ab-036938d06314,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-45140ea8-2dd9-43ea-9c2e-6403e8fbb811,DISK], DatanodeInfoWithStorage[127.0.0.1:38931,DS-510e3bca-38c1-4af4-a4a5-3c13b4c1c371,DISK], DatanodeInfoWithStorage[127.0.0.1:36326,DS-6a75c2b6-66e2-4789-81fe-f78183900545,DISK], DatanodeInfoWithStorage[127.0.0.1:38018,DS-0c68fee0-14d7-4a18-85e1-55eac9136f25,DISK], DatanodeInfoWithStorage[127.0.0.1:38016,DS-0abc6b01-c1b8-4302-9880-c5bbee7b2efa,DISK]]; indices=[1, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1686865106-172.17.0.8-1593732144742:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-c77a1b39-ec3d-41ea-84ab-036938d06314,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-45140ea8-2dd9-43ea-9c2e-6403e8fbb811,DISK], DatanodeInfoWithStorage[127.0.0.1:38931,DS-510e3bca-38c1-4af4-a4a5-3c13b4c1c371,DISK], DatanodeInfoWithStorage[127.0.0.1:36326,DS-6a75c2b6-66e2-4789-81fe-f78183900545,DISK], DatanodeInfoWithStorage[127.0.0.1:38018,DS-0c68fee0-14d7-4a18-85e1-55eac9136f25,DISK], DatanodeInfoWithStorage[127.0.0.1:38016,DS-0abc6b01-c1b8-4302-9880-c5bbee7b2efa,DISK]]; indices=[1, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1227971085-172.17.0.8-1593733551080:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41906,DS-65d5937a-7369-4a7b-9d0c-75d95f9b0453,DISK], DatanodeInfoWithStorage[127.0.0.1:32829,DS-0fc65ccf-64ef-4960-aa15-5c74229912ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-5c379885-373b-476e-9c37-668910250a8c,DISK], DatanodeInfoWithStorage[127.0.0.1:42087,DS-b2f2cc0b-a01d-48a2-b673-9d19141d73f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33060,DS-2f7886a4-8920-41fd-8268-58e762ee2ab9,DISK], DatanodeInfoWithStorage[127.0.0.1:43543,DS-a7bf3f02-059b-4d09-be13-7c13873c5fb5,DISK], DatanodeInfoWithStorage[127.0.0.1:42244,DS-d88bc69b-158f-4a9f-93cf-4dfb30d86dad,DISK]]; indices=[2, 3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1227971085-172.17.0.8-1593733551080:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41906,DS-65d5937a-7369-4a7b-9d0c-75d95f9b0453,DISK], DatanodeInfoWithStorage[127.0.0.1:32829,DS-0fc65ccf-64ef-4960-aa15-5c74229912ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-5c379885-373b-476e-9c37-668910250a8c,DISK], DatanodeInfoWithStorage[127.0.0.1:42087,DS-b2f2cc0b-a01d-48a2-b673-9d19141d73f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33060,DS-2f7886a4-8920-41fd-8268-58e762ee2ab9,DISK], DatanodeInfoWithStorage[127.0.0.1:43543,DS-a7bf3f02-059b-4d09-be13-7c13873c5fb5,DISK], DatanodeInfoWithStorage[127.0.0.1:42244,DS-d88bc69b-158f-4a9f-93cf-4dfb30d86dad,DISK]]; indices=[2, 3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1227971085-172.17.0.8-1593733551080:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41906,DS-65d5937a-7369-4a7b-9d0c-75d95f9b0453,DISK], DatanodeInfoWithStorage[127.0.0.1:32829,DS-0fc65ccf-64ef-4960-aa15-5c74229912ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-5c379885-373b-476e-9c37-668910250a8c,DISK], DatanodeInfoWithStorage[127.0.0.1:42087,DS-b2f2cc0b-a01d-48a2-b673-9d19141d73f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33060,DS-2f7886a4-8920-41fd-8268-58e762ee2ab9,DISK], DatanodeInfoWithStorage[127.0.0.1:43543,DS-a7bf3f02-059b-4d09-be13-7c13873c5fb5,DISK], DatanodeInfoWithStorage[127.0.0.1:42244,DS-d88bc69b-158f-4a9f-93cf-4dfb30d86dad,DISK]]; indices=[2, 3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1227971085-172.17.0.8-1593733551080:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41906,DS-65d5937a-7369-4a7b-9d0c-75d95f9b0453,DISK], DatanodeInfoWithStorage[127.0.0.1:32829,DS-0fc65ccf-64ef-4960-aa15-5c74229912ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-5c379885-373b-476e-9c37-668910250a8c,DISK], DatanodeInfoWithStorage[127.0.0.1:42087,DS-b2f2cc0b-a01d-48a2-b673-9d19141d73f1,DISK], DatanodeInfoWithStorage[127.0.0.1:33060,DS-2f7886a4-8920-41fd-8268-58e762ee2ab9,DISK], DatanodeInfoWithStorage[127.0.0.1:43543,DS-a7bf3f02-059b-4d09-be13-7c13873c5fb5,DISK], DatanodeInfoWithStorage[127.0.0.1:42244,DS-d88bc69b-158f-4a9f-93cf-4dfb30d86dad,DISK]]; indices=[2, 3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1379667883-172.17.0.8-1593733716643:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35789,DS-83f4f383-6e2f-4dc3-9c52-cbe1f9321be2,DISK], DatanodeInfoWithStorage[127.0.0.1:33928,DS-a336e373-e1ef-4970-acb8-083f345689a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34408,DS-8080c81a-5d93-48d7-b359-0ea2078550b3,DISK], DatanodeInfoWithStorage[127.0.0.1:44283,DS-5ce3ff22-30f1-402b-9bbc-aac3629b5d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:41236,DS-3e8961c6-ee5b-410d-b1d6-042f2f27137d,DISK], DatanodeInfoWithStorage[127.0.0.1:45796,DS-779b6607-d132-4924-a3cd-0a196eb3fa93,DISK]]; indices=[0, 2, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1379667883-172.17.0.8-1593733716643:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35789,DS-83f4f383-6e2f-4dc3-9c52-cbe1f9321be2,DISK], DatanodeInfoWithStorage[127.0.0.1:33928,DS-a336e373-e1ef-4970-acb8-083f345689a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34408,DS-8080c81a-5d93-48d7-b359-0ea2078550b3,DISK], DatanodeInfoWithStorage[127.0.0.1:44283,DS-5ce3ff22-30f1-402b-9bbc-aac3629b5d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:41236,DS-3e8961c6-ee5b-410d-b1d6-042f2f27137d,DISK], DatanodeInfoWithStorage[127.0.0.1:45796,DS-779b6607-d132-4924-a3cd-0a196eb3fa93,DISK]]; indices=[0, 2, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1379667883-172.17.0.8-1593733716643:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35789,DS-83f4f383-6e2f-4dc3-9c52-cbe1f9321be2,DISK], DatanodeInfoWithStorage[127.0.0.1:33928,DS-a336e373-e1ef-4970-acb8-083f345689a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34408,DS-8080c81a-5d93-48d7-b359-0ea2078550b3,DISK], DatanodeInfoWithStorage[127.0.0.1:44283,DS-5ce3ff22-30f1-402b-9bbc-aac3629b5d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:41236,DS-3e8961c6-ee5b-410d-b1d6-042f2f27137d,DISK], DatanodeInfoWithStorage[127.0.0.1:45796,DS-779b6607-d132-4924-a3cd-0a196eb3fa93,DISK]]; indices=[0, 2, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1379667883-172.17.0.8-1593733716643:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35789,DS-83f4f383-6e2f-4dc3-9c52-cbe1f9321be2,DISK], DatanodeInfoWithStorage[127.0.0.1:33928,DS-a336e373-e1ef-4970-acb8-083f345689a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34408,DS-8080c81a-5d93-48d7-b359-0ea2078550b3,DISK], DatanodeInfoWithStorage[127.0.0.1:44283,DS-5ce3ff22-30f1-402b-9bbc-aac3629b5d9a,DISK], DatanodeInfoWithStorage[127.0.0.1:41236,DS-3e8961c6-ee5b-410d-b1d6-042f2f27137d,DISK], DatanodeInfoWithStorage[127.0.0.1:45796,DS-779b6607-d132-4924-a3cd-0a196eb3fa93,DISK]]; indices=[0, 2, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-866369791-172.17.0.8-1593733746859:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33286,DS-2eb50fa3-b5da-4f73-a90e-30d293d89463,DISK], DatanodeInfoWithStorage[127.0.0.1:37249,DS-ec1b46a0-ca25-4979-a169-e9602565b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:42840,DS-6efed3dc-c189-46c7-82dc-052b8e5ebb16,DISK], DatanodeInfoWithStorage[127.0.0.1:33077,DS-93ca9573-f8dc-456b-805e-f9493bd6724c,DISK], DatanodeInfoWithStorage[127.0.0.1:38049,DS-1fb08577-3e69-4793-96c9-c2f87109334a,DISK], DatanodeInfoWithStorage[127.0.0.1:41604,DS-67310b2a-ef25-4ddf-b9fa-79f37961f5b7,DISK], DatanodeInfoWithStorage[127.0.0.1:44670,DS-4492fcbc-8567-4bc5-94f1-937d1587f311,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-866369791-172.17.0.8-1593733746859:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33286,DS-2eb50fa3-b5da-4f73-a90e-30d293d89463,DISK], DatanodeInfoWithStorage[127.0.0.1:37249,DS-ec1b46a0-ca25-4979-a169-e9602565b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:42840,DS-6efed3dc-c189-46c7-82dc-052b8e5ebb16,DISK], DatanodeInfoWithStorage[127.0.0.1:33077,DS-93ca9573-f8dc-456b-805e-f9493bd6724c,DISK], DatanodeInfoWithStorage[127.0.0.1:38049,DS-1fb08577-3e69-4793-96c9-c2f87109334a,DISK], DatanodeInfoWithStorage[127.0.0.1:41604,DS-67310b2a-ef25-4ddf-b9fa-79f37961f5b7,DISK], DatanodeInfoWithStorage[127.0.0.1:44670,DS-4492fcbc-8567-4bc5-94f1-937d1587f311,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-866369791-172.17.0.8-1593733746859:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33286,DS-2eb50fa3-b5da-4f73-a90e-30d293d89463,DISK], DatanodeInfoWithStorage[127.0.0.1:37249,DS-ec1b46a0-ca25-4979-a169-e9602565b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:42840,DS-6efed3dc-c189-46c7-82dc-052b8e5ebb16,DISK], DatanodeInfoWithStorage[127.0.0.1:33077,DS-93ca9573-f8dc-456b-805e-f9493bd6724c,DISK], DatanodeInfoWithStorage[127.0.0.1:38049,DS-1fb08577-3e69-4793-96c9-c2f87109334a,DISK], DatanodeInfoWithStorage[127.0.0.1:41604,DS-67310b2a-ef25-4ddf-b9fa-79f37961f5b7,DISK], DatanodeInfoWithStorage[127.0.0.1:44670,DS-4492fcbc-8567-4bc5-94f1-937d1587f311,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-866369791-172.17.0.8-1593733746859:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33286,DS-2eb50fa3-b5da-4f73-a90e-30d293d89463,DISK], DatanodeInfoWithStorage[127.0.0.1:37249,DS-ec1b46a0-ca25-4979-a169-e9602565b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:42840,DS-6efed3dc-c189-46c7-82dc-052b8e5ebb16,DISK], DatanodeInfoWithStorage[127.0.0.1:33077,DS-93ca9573-f8dc-456b-805e-f9493bd6724c,DISK], DatanodeInfoWithStorage[127.0.0.1:38049,DS-1fb08577-3e69-4793-96c9-c2f87109334a,DISK], DatanodeInfoWithStorage[127.0.0.1:41604,DS-67310b2a-ef25-4ddf-b9fa-79f37961f5b7,DISK], DatanodeInfoWithStorage[127.0.0.1:44670,DS-4492fcbc-8567-4bc5-94f1-937d1587f311,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-270493181-172.17.0.8-1593733853399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33579,DS-2520599f-4fc2-47ef-abd9-a05b5e6badd9,DISK], DatanodeInfoWithStorage[127.0.0.1:33543,DS-b85559c7-3029-448a-b612-e64d4fa70240,DISK], DatanodeInfoWithStorage[127.0.0.1:37258,DS-0946b82b-c9c4-463f-a45a-06202a96dcb1,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-ba9bdb4b-4f9c-41f3-917c-ba36d514e29f,DISK], DatanodeInfoWithStorage[127.0.0.1:35744,DS-48873ea3-526f-4100-897c-2767118deac2,DISK], DatanodeInfoWithStorage[127.0.0.1:41391,DS-f2aaae32-e997-4090-9122-cf5443bcf120,DISK]]; indices=[0, 1, 2, 3, 4, 5]}];  lastLocatedBlock=LocatedStripedBlock{BP-270493181-172.17.0.8-1593733853399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33579,DS-2520599f-4fc2-47ef-abd9-a05b5e6badd9,DISK], DatanodeInfoWithStorage[127.0.0.1:33543,DS-b85559c7-3029-448a-b612-e64d4fa70240,DISK], DatanodeInfoWithStorage[127.0.0.1:37258,DS-0946b82b-c9c4-463f-a45a-06202a96dcb1,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-ba9bdb4b-4f9c-41f3-917c-ba36d514e29f,DISK], DatanodeInfoWithStorage[127.0.0.1:35744,DS-48873ea3-526f-4100-897c-2767118deac2,DISK], DatanodeInfoWithStorage[127.0.0.1:41391,DS-f2aaae32-e997-4090-9122-cf5443bcf120,DISK]]; indices=[0, 1, 2, 3, 4, 5]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-270493181-172.17.0.8-1593733853399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33579,DS-2520599f-4fc2-47ef-abd9-a05b5e6badd9,DISK], DatanodeInfoWithStorage[127.0.0.1:33543,DS-b85559c7-3029-448a-b612-e64d4fa70240,DISK], DatanodeInfoWithStorage[127.0.0.1:37258,DS-0946b82b-c9c4-463f-a45a-06202a96dcb1,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-ba9bdb4b-4f9c-41f3-917c-ba36d514e29f,DISK], DatanodeInfoWithStorage[127.0.0.1:35744,DS-48873ea3-526f-4100-897c-2767118deac2,DISK], DatanodeInfoWithStorage[127.0.0.1:41391,DS-f2aaae32-e997-4090-9122-cf5443bcf120,DISK]]; indices=[0, 1, 2, 3, 4, 5]}];  lastLocatedBlock=LocatedStripedBlock{BP-270493181-172.17.0.8-1593733853399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33579,DS-2520599f-4fc2-47ef-abd9-a05b5e6badd9,DISK], DatanodeInfoWithStorage[127.0.0.1:33543,DS-b85559c7-3029-448a-b612-e64d4fa70240,DISK], DatanodeInfoWithStorage[127.0.0.1:37258,DS-0946b82b-c9c4-463f-a45a-06202a96dcb1,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-ba9bdb4b-4f9c-41f3-917c-ba36d514e29f,DISK], DatanodeInfoWithStorage[127.0.0.1:35744,DS-48873ea3-526f-4100-897c-2767118deac2,DISK], DatanodeInfoWithStorage[127.0.0.1:41391,DS-f2aaae32-e997-4090-9122-cf5443bcf120,DISK]]; indices=[0, 1, 2, 3, 4, 5]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1144706605-172.17.0.8-1593733885894:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40655,DS-637bdea1-b7a9-4086-833a-b792940916a6,DISK], DatanodeInfoWithStorage[127.0.0.1:43072,DS-73efbd84-77b9-4ae5-905e-7165190e9d1b,DISK], DatanodeInfoWithStorage[127.0.0.1:36041,DS-e2bc2126-eb8a-484e-a33f-f869862faf68,DISK], DatanodeInfoWithStorage[127.0.0.1:41013,DS-121827c9-067a-4a20-ba1e-3d61a050b4f6,DISK], DatanodeInfoWithStorage[127.0.0.1:44829,DS-d9084fe0-2210-4051-87c4-d88f01d43d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36062,DS-15c7883a-12fe-4aff-808c-1b6e3a2e7eec,DISK]]; indices=[0, 1, 2, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1144706605-172.17.0.8-1593733885894:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40655,DS-637bdea1-b7a9-4086-833a-b792940916a6,DISK], DatanodeInfoWithStorage[127.0.0.1:43072,DS-73efbd84-77b9-4ae5-905e-7165190e9d1b,DISK], DatanodeInfoWithStorage[127.0.0.1:36041,DS-e2bc2126-eb8a-484e-a33f-f869862faf68,DISK], DatanodeInfoWithStorage[127.0.0.1:41013,DS-121827c9-067a-4a20-ba1e-3d61a050b4f6,DISK], DatanodeInfoWithStorage[127.0.0.1:44829,DS-d9084fe0-2210-4051-87c4-d88f01d43d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36062,DS-15c7883a-12fe-4aff-808c-1b6e3a2e7eec,DISK]]; indices=[0, 1, 2, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1144706605-172.17.0.8-1593733885894:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40655,DS-637bdea1-b7a9-4086-833a-b792940916a6,DISK], DatanodeInfoWithStorage[127.0.0.1:43072,DS-73efbd84-77b9-4ae5-905e-7165190e9d1b,DISK], DatanodeInfoWithStorage[127.0.0.1:36041,DS-e2bc2126-eb8a-484e-a33f-f869862faf68,DISK], DatanodeInfoWithStorage[127.0.0.1:41013,DS-121827c9-067a-4a20-ba1e-3d61a050b4f6,DISK], DatanodeInfoWithStorage[127.0.0.1:44829,DS-d9084fe0-2210-4051-87c4-d88f01d43d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36062,DS-15c7883a-12fe-4aff-808c-1b6e3a2e7eec,DISK]]; indices=[0, 1, 2, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1144706605-172.17.0.8-1593733885894:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40655,DS-637bdea1-b7a9-4086-833a-b792940916a6,DISK], DatanodeInfoWithStorage[127.0.0.1:43072,DS-73efbd84-77b9-4ae5-905e-7165190e9d1b,DISK], DatanodeInfoWithStorage[127.0.0.1:36041,DS-e2bc2126-eb8a-484e-a33f-f869862faf68,DISK], DatanodeInfoWithStorage[127.0.0.1:41013,DS-121827c9-067a-4a20-ba1e-3d61a050b4f6,DISK], DatanodeInfoWithStorage[127.0.0.1:44829,DS-d9084fe0-2210-4051-87c4-d88f01d43d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36062,DS-15c7883a-12fe-4aff-808c-1b6e3a2e7eec,DISK]]; indices=[0, 1, 2, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-385387566-172.17.0.8-1593735258950:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41262,DS-0c644b28-7bda-4857-987e-339d36865225,DISK], DatanodeInfoWithStorage[127.0.0.1:37544,DS-2037a827-e7eb-4b5f-81ca-7d551b4c5a79,DISK], DatanodeInfoWithStorage[127.0.0.1:35813,DS-0e648c81-d383-48d6-bdc8-e290b4402c29,DISK], DatanodeInfoWithStorage[127.0.0.1:39348,DS-955eeed8-2192-48af-80fe-6c39991cf4e2,DISK], DatanodeInfoWithStorage[127.0.0.1:35490,DS-41a845e0-f977-400a-881e-ff01c77bb5ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-597ca6fa-bc85-414e-bd44-fc1bf88ed376,DISK]]; indices=[0, 1, 2, 3, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-385387566-172.17.0.8-1593735258950:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41262,DS-0c644b28-7bda-4857-987e-339d36865225,DISK], DatanodeInfoWithStorage[127.0.0.1:37544,DS-2037a827-e7eb-4b5f-81ca-7d551b4c5a79,DISK], DatanodeInfoWithStorage[127.0.0.1:35813,DS-0e648c81-d383-48d6-bdc8-e290b4402c29,DISK], DatanodeInfoWithStorage[127.0.0.1:39348,DS-955eeed8-2192-48af-80fe-6c39991cf4e2,DISK], DatanodeInfoWithStorage[127.0.0.1:35490,DS-41a845e0-f977-400a-881e-ff01c77bb5ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-597ca6fa-bc85-414e-bd44-fc1bf88ed376,DISK]]; indices=[0, 1, 2, 3, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-385387566-172.17.0.8-1593735258950:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41262,DS-0c644b28-7bda-4857-987e-339d36865225,DISK], DatanodeInfoWithStorage[127.0.0.1:37544,DS-2037a827-e7eb-4b5f-81ca-7d551b4c5a79,DISK], DatanodeInfoWithStorage[127.0.0.1:35813,DS-0e648c81-d383-48d6-bdc8-e290b4402c29,DISK], DatanodeInfoWithStorage[127.0.0.1:39348,DS-955eeed8-2192-48af-80fe-6c39991cf4e2,DISK], DatanodeInfoWithStorage[127.0.0.1:35490,DS-41a845e0-f977-400a-881e-ff01c77bb5ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-597ca6fa-bc85-414e-bd44-fc1bf88ed376,DISK]]; indices=[0, 1, 2, 3, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-385387566-172.17.0.8-1593735258950:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41262,DS-0c644b28-7bda-4857-987e-339d36865225,DISK], DatanodeInfoWithStorage[127.0.0.1:37544,DS-2037a827-e7eb-4b5f-81ca-7d551b4c5a79,DISK], DatanodeInfoWithStorage[127.0.0.1:35813,DS-0e648c81-d383-48d6-bdc8-e290b4402c29,DISK], DatanodeInfoWithStorage[127.0.0.1:39348,DS-955eeed8-2192-48af-80fe-6c39991cf4e2,DISK], DatanodeInfoWithStorage[127.0.0.1:35490,DS-41a845e0-f977-400a-881e-ff01c77bb5ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-597ca6fa-bc85-414e-bd44-fc1bf88ed376,DISK]]; indices=[0, 1, 2, 3, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-834498109-172.17.0.8-1593735833348:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42553,DS-e01f9cb3-c209-4f72-8aa5-ed26f1d85b3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-610ca1b6-c89f-427f-a347-807041248bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:44244,DS-bcd131f5-5999-4a77-bfc8-f978005f9ada,DISK], DatanodeInfoWithStorage[127.0.0.1:33742,DS-5e5ac97d-2cc0-481b-8349-19eb0bca4c7a,DISK], DatanodeInfoWithStorage[127.0.0.1:44529,DS-a8e8a8a3-b2f0-4ea9-9f94-4eb21ef23c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:44051,DS-3ec5e086-4dd6-4660-947f-c3b7d4f341cf,DISK]]; indices=[1, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-834498109-172.17.0.8-1593735833348:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42553,DS-e01f9cb3-c209-4f72-8aa5-ed26f1d85b3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-610ca1b6-c89f-427f-a347-807041248bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:44244,DS-bcd131f5-5999-4a77-bfc8-f978005f9ada,DISK], DatanodeInfoWithStorage[127.0.0.1:33742,DS-5e5ac97d-2cc0-481b-8349-19eb0bca4c7a,DISK], DatanodeInfoWithStorage[127.0.0.1:44529,DS-a8e8a8a3-b2f0-4ea9-9f94-4eb21ef23c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:44051,DS-3ec5e086-4dd6-4660-947f-c3b7d4f341cf,DISK]]; indices=[1, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-834498109-172.17.0.8-1593735833348:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42553,DS-e01f9cb3-c209-4f72-8aa5-ed26f1d85b3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-610ca1b6-c89f-427f-a347-807041248bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:44244,DS-bcd131f5-5999-4a77-bfc8-f978005f9ada,DISK], DatanodeInfoWithStorage[127.0.0.1:33742,DS-5e5ac97d-2cc0-481b-8349-19eb0bca4c7a,DISK], DatanodeInfoWithStorage[127.0.0.1:44529,DS-a8e8a8a3-b2f0-4ea9-9f94-4eb21ef23c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:44051,DS-3ec5e086-4dd6-4660-947f-c3b7d4f341cf,DISK]]; indices=[1, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-834498109-172.17.0.8-1593735833348:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42553,DS-e01f9cb3-c209-4f72-8aa5-ed26f1d85b3e,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-610ca1b6-c89f-427f-a347-807041248bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:44244,DS-bcd131f5-5999-4a77-bfc8-f978005f9ada,DISK], DatanodeInfoWithStorage[127.0.0.1:33742,DS-5e5ac97d-2cc0-481b-8349-19eb0bca4c7a,DISK], DatanodeInfoWithStorage[127.0.0.1:44529,DS-a8e8a8a3-b2f0-4ea9-9f94-4eb21ef23c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:44051,DS-3ec5e086-4dd6-4660-947f-c3b7d4f341cf,DISK]]; indices=[1, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-72199541-172.17.0.8-1593736221225:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35195,DS-28e0969d-3029-40c4-a6fa-0ed360180887,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-ceb0be34-1577-4783-9393-b1a455aa92b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46143,DS-a45e8dac-fe06-4863-b077-60596c55a137,DISK], DatanodeInfoWithStorage[127.0.0.1:46504,DS-11102e55-9be8-46e2-9e40-f83e792df28a,DISK], DatanodeInfoWithStorage[127.0.0.1:36073,DS-c6dba859-12c5-43df-bffa-0aef51bfeacd,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-7cc29a6a-04bc-45ea-921e-3eb17d032e06,DISK]]; indices=[0, 1, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-72199541-172.17.0.8-1593736221225:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35195,DS-28e0969d-3029-40c4-a6fa-0ed360180887,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-ceb0be34-1577-4783-9393-b1a455aa92b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46143,DS-a45e8dac-fe06-4863-b077-60596c55a137,DISK], DatanodeInfoWithStorage[127.0.0.1:46504,DS-11102e55-9be8-46e2-9e40-f83e792df28a,DISK], DatanodeInfoWithStorage[127.0.0.1:36073,DS-c6dba859-12c5-43df-bffa-0aef51bfeacd,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-7cc29a6a-04bc-45ea-921e-3eb17d032e06,DISK]]; indices=[0, 1, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-72199541-172.17.0.8-1593736221225:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35195,DS-28e0969d-3029-40c4-a6fa-0ed360180887,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-ceb0be34-1577-4783-9393-b1a455aa92b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46143,DS-a45e8dac-fe06-4863-b077-60596c55a137,DISK], DatanodeInfoWithStorage[127.0.0.1:46504,DS-11102e55-9be8-46e2-9e40-f83e792df28a,DISK], DatanodeInfoWithStorage[127.0.0.1:36073,DS-c6dba859-12c5-43df-bffa-0aef51bfeacd,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-7cc29a6a-04bc-45ea-921e-3eb17d032e06,DISK]]; indices=[0, 1, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-72199541-172.17.0.8-1593736221225:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35195,DS-28e0969d-3029-40c4-a6fa-0ed360180887,DISK], DatanodeInfoWithStorage[127.0.0.1:41684,DS-ceb0be34-1577-4783-9393-b1a455aa92b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46143,DS-a45e8dac-fe06-4863-b077-60596c55a137,DISK], DatanodeInfoWithStorage[127.0.0.1:46504,DS-11102e55-9be8-46e2-9e40-f83e792df28a,DISK], DatanodeInfoWithStorage[127.0.0.1:36073,DS-c6dba859-12c5-43df-bffa-0aef51bfeacd,DISK], DatanodeInfoWithStorage[127.0.0.1:43910,DS-7cc29a6a-04bc-45ea-921e-3eb17d032e06,DISK]]; indices=[0, 1, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-634251126-172.17.0.8-1593736386885:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37680,DS-892b2b22-7e15-443d-a116-1c1b316b7aec,DISK], DatanodeInfoWithStorage[127.0.0.1:43545,DS-5607b3de-d268-4f59-89ec-aae90222a0f6,DISK], DatanodeInfoWithStorage[127.0.0.1:39130,DS-94a1f59c-b617-4d81-b1f1-2b3842e1cbc3,DISK], DatanodeInfoWithStorage[127.0.0.1:39201,DS-fa850226-12b3-4c13-ae01-4ed011a0cf9a,DISK], DatanodeInfoWithStorage[127.0.0.1:33641,DS-8f94193f-baed-4b85-b90f-2aca0e0b9340,DISK], DatanodeInfoWithStorage[127.0.0.1:39012,DS-692dd85d-08dc-43bf-90a9-971731cb5796,DISK]]; indices=[0, 1, 2, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-634251126-172.17.0.8-1593736386885:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37680,DS-892b2b22-7e15-443d-a116-1c1b316b7aec,DISK], DatanodeInfoWithStorage[127.0.0.1:43545,DS-5607b3de-d268-4f59-89ec-aae90222a0f6,DISK], DatanodeInfoWithStorage[127.0.0.1:39130,DS-94a1f59c-b617-4d81-b1f1-2b3842e1cbc3,DISK], DatanodeInfoWithStorage[127.0.0.1:39201,DS-fa850226-12b3-4c13-ae01-4ed011a0cf9a,DISK], DatanodeInfoWithStorage[127.0.0.1:33641,DS-8f94193f-baed-4b85-b90f-2aca0e0b9340,DISK], DatanodeInfoWithStorage[127.0.0.1:39012,DS-692dd85d-08dc-43bf-90a9-971731cb5796,DISK]]; indices=[0, 1, 2, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-634251126-172.17.0.8-1593736386885:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37680,DS-892b2b22-7e15-443d-a116-1c1b316b7aec,DISK], DatanodeInfoWithStorage[127.0.0.1:43545,DS-5607b3de-d268-4f59-89ec-aae90222a0f6,DISK], DatanodeInfoWithStorage[127.0.0.1:39130,DS-94a1f59c-b617-4d81-b1f1-2b3842e1cbc3,DISK], DatanodeInfoWithStorage[127.0.0.1:39201,DS-fa850226-12b3-4c13-ae01-4ed011a0cf9a,DISK], DatanodeInfoWithStorage[127.0.0.1:33641,DS-8f94193f-baed-4b85-b90f-2aca0e0b9340,DISK], DatanodeInfoWithStorage[127.0.0.1:39012,DS-692dd85d-08dc-43bf-90a9-971731cb5796,DISK]]; indices=[0, 1, 2, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-634251126-172.17.0.8-1593736386885:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37680,DS-892b2b22-7e15-443d-a116-1c1b316b7aec,DISK], DatanodeInfoWithStorage[127.0.0.1:43545,DS-5607b3de-d268-4f59-89ec-aae90222a0f6,DISK], DatanodeInfoWithStorage[127.0.0.1:39130,DS-94a1f59c-b617-4d81-b1f1-2b3842e1cbc3,DISK], DatanodeInfoWithStorage[127.0.0.1:39201,DS-fa850226-12b3-4c13-ae01-4ed011a0cf9a,DISK], DatanodeInfoWithStorage[127.0.0.1:33641,DS-8f94193f-baed-4b85-b90f-2aca0e0b9340,DISK], DatanodeInfoWithStorage[127.0.0.1:39012,DS-692dd85d-08dc-43bf-90a9-971731cb5796,DISK]]; indices=[0, 1, 2, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1592814454-172.17.0.8-1593737589360:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42576,DS-4a743e68-7099-4046-8db7-4b1c68da214b,DISK], DatanodeInfoWithStorage[127.0.0.1:42125,DS-eaaf4500-ec13-420d-ab5e-08d7c25cfd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38987,DS-8459d54a-4e09-43fd-834c-9cf30b8dfabc,DISK], DatanodeInfoWithStorage[127.0.0.1:42812,DS-60de2a13-7f8a-49e5-939c-43c2637596da,DISK], DatanodeInfoWithStorage[127.0.0.1:43267,DS-6a141c7d-22f8-473b-92e6-1a4162188bdf,DISK], DatanodeInfoWithStorage[127.0.0.1:33505,DS-c72871c5-d753-4437-9d58-0c2a99094e85,DISK]]; indices=[0, 2, 3, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1592814454-172.17.0.8-1593737589360:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42576,DS-4a743e68-7099-4046-8db7-4b1c68da214b,DISK], DatanodeInfoWithStorage[127.0.0.1:42125,DS-eaaf4500-ec13-420d-ab5e-08d7c25cfd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38987,DS-8459d54a-4e09-43fd-834c-9cf30b8dfabc,DISK], DatanodeInfoWithStorage[127.0.0.1:42812,DS-60de2a13-7f8a-49e5-939c-43c2637596da,DISK], DatanodeInfoWithStorage[127.0.0.1:43267,DS-6a141c7d-22f8-473b-92e6-1a4162188bdf,DISK], DatanodeInfoWithStorage[127.0.0.1:33505,DS-c72871c5-d753-4437-9d58-0c2a99094e85,DISK]]; indices=[0, 2, 3, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1592814454-172.17.0.8-1593737589360:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42576,DS-4a743e68-7099-4046-8db7-4b1c68da214b,DISK], DatanodeInfoWithStorage[127.0.0.1:42125,DS-eaaf4500-ec13-420d-ab5e-08d7c25cfd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38987,DS-8459d54a-4e09-43fd-834c-9cf30b8dfabc,DISK], DatanodeInfoWithStorage[127.0.0.1:42812,DS-60de2a13-7f8a-49e5-939c-43c2637596da,DISK], DatanodeInfoWithStorage[127.0.0.1:43267,DS-6a141c7d-22f8-473b-92e6-1a4162188bdf,DISK], DatanodeInfoWithStorage[127.0.0.1:33505,DS-c72871c5-d753-4437-9d58-0c2a99094e85,DISK]]; indices=[0, 2, 3, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1592814454-172.17.0.8-1593737589360:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42576,DS-4a743e68-7099-4046-8db7-4b1c68da214b,DISK], DatanodeInfoWithStorage[127.0.0.1:42125,DS-eaaf4500-ec13-420d-ab5e-08d7c25cfd41,DISK], DatanodeInfoWithStorage[127.0.0.1:38987,DS-8459d54a-4e09-43fd-834c-9cf30b8dfabc,DISK], DatanodeInfoWithStorage[127.0.0.1:42812,DS-60de2a13-7f8a-49e5-939c-43c2637596da,DISK], DatanodeInfoWithStorage[127.0.0.1:43267,DS-6a141c7d-22f8-473b-92e6-1a4162188bdf,DISK], DatanodeInfoWithStorage[127.0.0.1:33505,DS-c72871c5-d753-4437-9d58-0c2a99094e85,DISK]]; indices=[0, 2, 3, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-263169412-172.17.0.8-1593738621025:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46289,DS-f5433183-de36-4e23-8b34-80583d2f48a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-908e71f3-95a1-4e97-83c9-ac3f5939ae00,DISK], DatanodeInfoWithStorage[127.0.0.1:37359,DS-51fe4f10-83e6-4665-932f-2460ff91fdc1,DISK], DatanodeInfoWithStorage[127.0.0.1:39846,DS-d6dfc98b-9271-48f6-8d0a-936fd0b83772,DISK], DatanodeInfoWithStorage[127.0.0.1:42094,DS-9510df91-7089-40d6-9f22-73c7fdf4ff36,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-732f9a02-f221-42dc-be72-e32fba71b44e,DISK]]; indices=[0, 1, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-263169412-172.17.0.8-1593738621025:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46289,DS-f5433183-de36-4e23-8b34-80583d2f48a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-908e71f3-95a1-4e97-83c9-ac3f5939ae00,DISK], DatanodeInfoWithStorage[127.0.0.1:37359,DS-51fe4f10-83e6-4665-932f-2460ff91fdc1,DISK], DatanodeInfoWithStorage[127.0.0.1:39846,DS-d6dfc98b-9271-48f6-8d0a-936fd0b83772,DISK], DatanodeInfoWithStorage[127.0.0.1:42094,DS-9510df91-7089-40d6-9f22-73c7fdf4ff36,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-732f9a02-f221-42dc-be72-e32fba71b44e,DISK]]; indices=[0, 1, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-263169412-172.17.0.8-1593738621025:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46289,DS-f5433183-de36-4e23-8b34-80583d2f48a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-908e71f3-95a1-4e97-83c9-ac3f5939ae00,DISK], DatanodeInfoWithStorage[127.0.0.1:37359,DS-51fe4f10-83e6-4665-932f-2460ff91fdc1,DISK], DatanodeInfoWithStorage[127.0.0.1:39846,DS-d6dfc98b-9271-48f6-8d0a-936fd0b83772,DISK], DatanodeInfoWithStorage[127.0.0.1:42094,DS-9510df91-7089-40d6-9f22-73c7fdf4ff36,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-732f9a02-f221-42dc-be72-e32fba71b44e,DISK]]; indices=[0, 1, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-263169412-172.17.0.8-1593738621025:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46289,DS-f5433183-de36-4e23-8b34-80583d2f48a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-908e71f3-95a1-4e97-83c9-ac3f5939ae00,DISK], DatanodeInfoWithStorage[127.0.0.1:37359,DS-51fe4f10-83e6-4665-932f-2460ff91fdc1,DISK], DatanodeInfoWithStorage[127.0.0.1:39846,DS-d6dfc98b-9271-48f6-8d0a-936fd0b83772,DISK], DatanodeInfoWithStorage[127.0.0.1:42094,DS-9510df91-7089-40d6-9f22-73c7fdf4ff36,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-732f9a02-f221-42dc-be72-e32fba71b44e,DISK]]; indices=[0, 1, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-159932333-172.17.0.8-1593739053089:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40739,DS-f487ea09-6d8b-43d0-b5ba-2d2448da6c8c,DISK], DatanodeInfoWithStorage[127.0.0.1:33662,DS-b01a29f2-1df8-4d99-ba8d-f9e45fa2777c,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-0572951b-4f57-491f-9f81-81368f65db0e,DISK], DatanodeInfoWithStorage[127.0.0.1:38681,DS-38f15224-f867-4707-a204-a376aa4d379c,DISK], DatanodeInfoWithStorage[127.0.0.1:32920,DS-ea92804c-5b34-4ffd-8807-804b4847374b,DISK], DatanodeInfoWithStorage[127.0.0.1:33947,DS-97f0ab55-592d-4ac4-b68b-1453820c93c8,DISK], DatanodeInfoWithStorage[127.0.0.1:43182,DS-2bb4abbd-b0be-4175-b0f3-e4dcdd275129,DISK], DatanodeInfoWithStorage[127.0.0.1:36786,DS-853d04c2-442a-4e94-9fc6-ae4f000ecda6,DISK]]; indices=[0, 1, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-159932333-172.17.0.8-1593739053089:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40739,DS-f487ea09-6d8b-43d0-b5ba-2d2448da6c8c,DISK], DatanodeInfoWithStorage[127.0.0.1:33662,DS-b01a29f2-1df8-4d99-ba8d-f9e45fa2777c,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-0572951b-4f57-491f-9f81-81368f65db0e,DISK], DatanodeInfoWithStorage[127.0.0.1:38681,DS-38f15224-f867-4707-a204-a376aa4d379c,DISK], DatanodeInfoWithStorage[127.0.0.1:32920,DS-ea92804c-5b34-4ffd-8807-804b4847374b,DISK], DatanodeInfoWithStorage[127.0.0.1:33947,DS-97f0ab55-592d-4ac4-b68b-1453820c93c8,DISK], DatanodeInfoWithStorage[127.0.0.1:43182,DS-2bb4abbd-b0be-4175-b0f3-e4dcdd275129,DISK], DatanodeInfoWithStorage[127.0.0.1:36786,DS-853d04c2-442a-4e94-9fc6-ae4f000ecda6,DISK]]; indices=[0, 1, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-159932333-172.17.0.8-1593739053089:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40739,DS-f487ea09-6d8b-43d0-b5ba-2d2448da6c8c,DISK], DatanodeInfoWithStorage[127.0.0.1:33662,DS-b01a29f2-1df8-4d99-ba8d-f9e45fa2777c,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-0572951b-4f57-491f-9f81-81368f65db0e,DISK], DatanodeInfoWithStorage[127.0.0.1:38681,DS-38f15224-f867-4707-a204-a376aa4d379c,DISK], DatanodeInfoWithStorage[127.0.0.1:32920,DS-ea92804c-5b34-4ffd-8807-804b4847374b,DISK], DatanodeInfoWithStorage[127.0.0.1:33947,DS-97f0ab55-592d-4ac4-b68b-1453820c93c8,DISK], DatanodeInfoWithStorage[127.0.0.1:43182,DS-2bb4abbd-b0be-4175-b0f3-e4dcdd275129,DISK], DatanodeInfoWithStorage[127.0.0.1:36786,DS-853d04c2-442a-4e94-9fc6-ae4f000ecda6,DISK]]; indices=[0, 1, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-159932333-172.17.0.8-1593739053089:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40739,DS-f487ea09-6d8b-43d0-b5ba-2d2448da6c8c,DISK], DatanodeInfoWithStorage[127.0.0.1:33662,DS-b01a29f2-1df8-4d99-ba8d-f9e45fa2777c,DISK], DatanodeInfoWithStorage[127.0.0.1:35513,DS-0572951b-4f57-491f-9f81-81368f65db0e,DISK], DatanodeInfoWithStorage[127.0.0.1:38681,DS-38f15224-f867-4707-a204-a376aa4d379c,DISK], DatanodeInfoWithStorage[127.0.0.1:32920,DS-ea92804c-5b34-4ffd-8807-804b4847374b,DISK], DatanodeInfoWithStorage[127.0.0.1:33947,DS-97f0ab55-592d-4ac4-b68b-1453820c93c8,DISK], DatanodeInfoWithStorage[127.0.0.1:43182,DS-2bb4abbd-b0be-4175-b0f3-e4dcdd275129,DISK], DatanodeInfoWithStorage[127.0.0.1:36786,DS-853d04c2-442a-4e94-9fc6-ae4f000ecda6,DISK]]; indices=[0, 1, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1896482493-172.17.0.8-1593739155432:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37952,DS-e1e83686-4991-4be2-86cf-993804557add,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-50da9f76-6a1f-4df3-a03a-c23c73703424,DISK], DatanodeInfoWithStorage[127.0.0.1:35356,DS-d5bfcfe0-9759-4418-91bb-cc04aac1a953,DISK], DatanodeInfoWithStorage[127.0.0.1:36881,DS-1708300f-0b76-4b8f-85ad-7d8a727aef50,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-75cd0d75-dca4-4a73-b2b2-ba27d8561a24,DISK], DatanodeInfoWithStorage[127.0.0.1:37669,DS-37aaeac7-ed6b-4807-8817-595b0d0cf169,DISK], DatanodeInfoWithStorage[127.0.0.1:42485,DS-8c80bbcb-4d56-4e8d-8320-29c676a9c756,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1896482493-172.17.0.8-1593739155432:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37952,DS-e1e83686-4991-4be2-86cf-993804557add,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-50da9f76-6a1f-4df3-a03a-c23c73703424,DISK], DatanodeInfoWithStorage[127.0.0.1:35356,DS-d5bfcfe0-9759-4418-91bb-cc04aac1a953,DISK], DatanodeInfoWithStorage[127.0.0.1:36881,DS-1708300f-0b76-4b8f-85ad-7d8a727aef50,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-75cd0d75-dca4-4a73-b2b2-ba27d8561a24,DISK], DatanodeInfoWithStorage[127.0.0.1:37669,DS-37aaeac7-ed6b-4807-8817-595b0d0cf169,DISK], DatanodeInfoWithStorage[127.0.0.1:42485,DS-8c80bbcb-4d56-4e8d-8320-29c676a9c756,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1896482493-172.17.0.8-1593739155432:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37952,DS-e1e83686-4991-4be2-86cf-993804557add,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-50da9f76-6a1f-4df3-a03a-c23c73703424,DISK], DatanodeInfoWithStorage[127.0.0.1:35356,DS-d5bfcfe0-9759-4418-91bb-cc04aac1a953,DISK], DatanodeInfoWithStorage[127.0.0.1:36881,DS-1708300f-0b76-4b8f-85ad-7d8a727aef50,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-75cd0d75-dca4-4a73-b2b2-ba27d8561a24,DISK], DatanodeInfoWithStorage[127.0.0.1:37669,DS-37aaeac7-ed6b-4807-8817-595b0d0cf169,DISK], DatanodeInfoWithStorage[127.0.0.1:42485,DS-8c80bbcb-4d56-4e8d-8320-29c676a9c756,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1896482493-172.17.0.8-1593739155432:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37952,DS-e1e83686-4991-4be2-86cf-993804557add,DISK], DatanodeInfoWithStorage[127.0.0.1:38437,DS-50da9f76-6a1f-4df3-a03a-c23c73703424,DISK], DatanodeInfoWithStorage[127.0.0.1:35356,DS-d5bfcfe0-9759-4418-91bb-cc04aac1a953,DISK], DatanodeInfoWithStorage[127.0.0.1:36881,DS-1708300f-0b76-4b8f-85ad-7d8a727aef50,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-75cd0d75-dca4-4a73-b2b2-ba27d8561a24,DISK], DatanodeInfoWithStorage[127.0.0.1:37669,DS-37aaeac7-ed6b-4807-8817-595b0d0cf169,DISK], DatanodeInfoWithStorage[127.0.0.1:42485,DS-8c80bbcb-4d56-4e8d-8320-29c676a9c756,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-481668758-172.17.0.8-1593739550554:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41397,DS-f334fa2a-67b9-4e82-aa57-31d3f3c30d33,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-1f664932-6435-4bfa-8dbc-e60f40b3eac3,DISK], DatanodeInfoWithStorage[127.0.0.1:35027,DS-9bfe21ec-2f83-4230-8191-383350cad2ff,DISK], DatanodeInfoWithStorage[127.0.0.1:32842,DS-289d213b-95c9-4fe4-b02e-4c5befc15d7c,DISK], DatanodeInfoWithStorage[127.0.0.1:36428,DS-56e0132a-c34c-47fe-a306-09da715c0a90,DISK], DatanodeInfoWithStorage[127.0.0.1:39053,DS-a890e7cc-6691-4034-94fc-fd2da5d1b379,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-481668758-172.17.0.8-1593739550554:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41397,DS-f334fa2a-67b9-4e82-aa57-31d3f3c30d33,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-1f664932-6435-4bfa-8dbc-e60f40b3eac3,DISK], DatanodeInfoWithStorage[127.0.0.1:35027,DS-9bfe21ec-2f83-4230-8191-383350cad2ff,DISK], DatanodeInfoWithStorage[127.0.0.1:32842,DS-289d213b-95c9-4fe4-b02e-4c5befc15d7c,DISK], DatanodeInfoWithStorage[127.0.0.1:36428,DS-56e0132a-c34c-47fe-a306-09da715c0a90,DISK], DatanodeInfoWithStorage[127.0.0.1:39053,DS-a890e7cc-6691-4034-94fc-fd2da5d1b379,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-481668758-172.17.0.8-1593739550554:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41397,DS-f334fa2a-67b9-4e82-aa57-31d3f3c30d33,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-1f664932-6435-4bfa-8dbc-e60f40b3eac3,DISK], DatanodeInfoWithStorage[127.0.0.1:35027,DS-9bfe21ec-2f83-4230-8191-383350cad2ff,DISK], DatanodeInfoWithStorage[127.0.0.1:32842,DS-289d213b-95c9-4fe4-b02e-4c5befc15d7c,DISK], DatanodeInfoWithStorage[127.0.0.1:36428,DS-56e0132a-c34c-47fe-a306-09da715c0a90,DISK], DatanodeInfoWithStorage[127.0.0.1:39053,DS-a890e7cc-6691-4034-94fc-fd2da5d1b379,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-481668758-172.17.0.8-1593739550554:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41397,DS-f334fa2a-67b9-4e82-aa57-31d3f3c30d33,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-1f664932-6435-4bfa-8dbc-e60f40b3eac3,DISK], DatanodeInfoWithStorage[127.0.0.1:35027,DS-9bfe21ec-2f83-4230-8191-383350cad2ff,DISK], DatanodeInfoWithStorage[127.0.0.1:32842,DS-289d213b-95c9-4fe4-b02e-4c5befc15d7c,DISK], DatanodeInfoWithStorage[127.0.0.1:36428,DS-56e0132a-c34c-47fe-a306-09da715c0a90,DISK], DatanodeInfoWithStorage[127.0.0.1:39053,DS-a890e7cc-6691-4034-94fc-fd2da5d1b379,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1605592006-172.17.0.8-1593739912461:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36335,DS-79c6327f-f97e-4a3c-a19a-f4b80d7f4561,DISK], DatanodeInfoWithStorage[127.0.0.1:33926,DS-5f7c41b1-ac23-4bba-aec7-5f096a3ce25c,DISK], DatanodeInfoWithStorage[127.0.0.1:37770,DS-5d0a01e5-f686-42dc-9775-b5be349f1fe0,DISK], DatanodeInfoWithStorage[127.0.0.1:34670,DS-5ccf67f0-3b95-490a-92dd-bae34c7b94c1,DISK], DatanodeInfoWithStorage[127.0.0.1:46182,DS-7f456988-f30d-4e07-a706-ee445d7bb785,DISK], DatanodeInfoWithStorage[127.0.0.1:35072,DS-de7c9629-fad4-473f-adff-4e8756a100c2,DISK]]; indices=[0, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1605592006-172.17.0.8-1593739912461:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36335,DS-79c6327f-f97e-4a3c-a19a-f4b80d7f4561,DISK], DatanodeInfoWithStorage[127.0.0.1:33926,DS-5f7c41b1-ac23-4bba-aec7-5f096a3ce25c,DISK], DatanodeInfoWithStorage[127.0.0.1:37770,DS-5d0a01e5-f686-42dc-9775-b5be349f1fe0,DISK], DatanodeInfoWithStorage[127.0.0.1:34670,DS-5ccf67f0-3b95-490a-92dd-bae34c7b94c1,DISK], DatanodeInfoWithStorage[127.0.0.1:46182,DS-7f456988-f30d-4e07-a706-ee445d7bb785,DISK], DatanodeInfoWithStorage[127.0.0.1:35072,DS-de7c9629-fad4-473f-adff-4e8756a100c2,DISK]]; indices=[0, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1605592006-172.17.0.8-1593739912461:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36335,DS-79c6327f-f97e-4a3c-a19a-f4b80d7f4561,DISK], DatanodeInfoWithStorage[127.0.0.1:33926,DS-5f7c41b1-ac23-4bba-aec7-5f096a3ce25c,DISK], DatanodeInfoWithStorage[127.0.0.1:37770,DS-5d0a01e5-f686-42dc-9775-b5be349f1fe0,DISK], DatanodeInfoWithStorage[127.0.0.1:34670,DS-5ccf67f0-3b95-490a-92dd-bae34c7b94c1,DISK], DatanodeInfoWithStorage[127.0.0.1:46182,DS-7f456988-f30d-4e07-a706-ee445d7bb785,DISK], DatanodeInfoWithStorage[127.0.0.1:35072,DS-de7c9629-fad4-473f-adff-4e8756a100c2,DISK]]; indices=[0, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1605592006-172.17.0.8-1593739912461:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36335,DS-79c6327f-f97e-4a3c-a19a-f4b80d7f4561,DISK], DatanodeInfoWithStorage[127.0.0.1:33926,DS-5f7c41b1-ac23-4bba-aec7-5f096a3ce25c,DISK], DatanodeInfoWithStorage[127.0.0.1:37770,DS-5d0a01e5-f686-42dc-9775-b5be349f1fe0,DISK], DatanodeInfoWithStorage[127.0.0.1:34670,DS-5ccf67f0-3b95-490a-92dd-bae34c7b94c1,DISK], DatanodeInfoWithStorage[127.0.0.1:46182,DS-7f456988-f30d-4e07-a706-ee445d7bb785,DISK], DatanodeInfoWithStorage[127.0.0.1:35072,DS-de7c9629-fad4-473f-adff-4e8756a100c2,DISK]]; indices=[0, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-105967059-172.17.0.8-1593740081780:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35355,DS-73d9c6d7-5bb2-45ff-8999-f12e146ae099,DISK], DatanodeInfoWithStorage[127.0.0.1:43578,DS-c7bee01e-c3f3-4d30-8a27-6ac6d8e1c959,DISK], DatanodeInfoWithStorage[127.0.0.1:41480,DS-23d93137-a877-46a6-b365-79b0493e7776,DISK], DatanodeInfoWithStorage[127.0.0.1:42460,DS-a7acd34a-3229-47bc-896a-317f7e4022ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34826,DS-2a84dda2-df81-44d2-9b4f-ef16a66668d4,DISK], DatanodeInfoWithStorage[127.0.0.1:41732,DS-fff272f4-d44c-4718-8af9-71549253734d,DISK]]; indices=[2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-105967059-172.17.0.8-1593740081780:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35355,DS-73d9c6d7-5bb2-45ff-8999-f12e146ae099,DISK], DatanodeInfoWithStorage[127.0.0.1:43578,DS-c7bee01e-c3f3-4d30-8a27-6ac6d8e1c959,DISK], DatanodeInfoWithStorage[127.0.0.1:41480,DS-23d93137-a877-46a6-b365-79b0493e7776,DISK], DatanodeInfoWithStorage[127.0.0.1:42460,DS-a7acd34a-3229-47bc-896a-317f7e4022ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34826,DS-2a84dda2-df81-44d2-9b4f-ef16a66668d4,DISK], DatanodeInfoWithStorage[127.0.0.1:41732,DS-fff272f4-d44c-4718-8af9-71549253734d,DISK]]; indices=[2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-105967059-172.17.0.8-1593740081780:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35355,DS-73d9c6d7-5bb2-45ff-8999-f12e146ae099,DISK], DatanodeInfoWithStorage[127.0.0.1:43578,DS-c7bee01e-c3f3-4d30-8a27-6ac6d8e1c959,DISK], DatanodeInfoWithStorage[127.0.0.1:41480,DS-23d93137-a877-46a6-b365-79b0493e7776,DISK], DatanodeInfoWithStorage[127.0.0.1:42460,DS-a7acd34a-3229-47bc-896a-317f7e4022ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34826,DS-2a84dda2-df81-44d2-9b4f-ef16a66668d4,DISK], DatanodeInfoWithStorage[127.0.0.1:41732,DS-fff272f4-d44c-4718-8af9-71549253734d,DISK]]; indices=[2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-105967059-172.17.0.8-1593740081780:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35355,DS-73d9c6d7-5bb2-45ff-8999-f12e146ae099,DISK], DatanodeInfoWithStorage[127.0.0.1:43578,DS-c7bee01e-c3f3-4d30-8a27-6ac6d8e1c959,DISK], DatanodeInfoWithStorage[127.0.0.1:41480,DS-23d93137-a877-46a6-b365-79b0493e7776,DISK], DatanodeInfoWithStorage[127.0.0.1:42460,DS-a7acd34a-3229-47bc-896a-317f7e4022ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34826,DS-2a84dda2-df81-44d2-9b4f-ef16a66668d4,DISK], DatanodeInfoWithStorage[127.0.0.1:41732,DS-fff272f4-d44c-4718-8af9-71549253734d,DISK]]; indices=[2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-360549089-172.17.0.8-1593740251616:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44579,DS-0bb89be5-1427-46a6-ba4a-c7c7f2a1db84,DISK], DatanodeInfoWithStorage[127.0.0.1:33384,DS-031fa4ba-4c54-4c6c-855d-743bb829b696,DISK], DatanodeInfoWithStorage[127.0.0.1:35485,DS-d0ba2e20-1aff-4a92-b210-0e18410495c7,DISK], DatanodeInfoWithStorage[127.0.0.1:44028,DS-7f959202-9c74-4a2f-baf1-25c4cbe9888b,DISK], DatanodeInfoWithStorage[127.0.0.1:33179,DS-e6bd32dc-6b61-45a8-aee4-3a9c3bc7dddf,DISK], DatanodeInfoWithStorage[127.0.0.1:45539,DS-13688042-e59f-444b-870d-429efb7863e9,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-896e2026-3436-4eb8-96b9-668b540439a1,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-360549089-172.17.0.8-1593740251616:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44579,DS-0bb89be5-1427-46a6-ba4a-c7c7f2a1db84,DISK], DatanodeInfoWithStorage[127.0.0.1:33384,DS-031fa4ba-4c54-4c6c-855d-743bb829b696,DISK], DatanodeInfoWithStorage[127.0.0.1:35485,DS-d0ba2e20-1aff-4a92-b210-0e18410495c7,DISK], DatanodeInfoWithStorage[127.0.0.1:44028,DS-7f959202-9c74-4a2f-baf1-25c4cbe9888b,DISK], DatanodeInfoWithStorage[127.0.0.1:33179,DS-e6bd32dc-6b61-45a8-aee4-3a9c3bc7dddf,DISK], DatanodeInfoWithStorage[127.0.0.1:45539,DS-13688042-e59f-444b-870d-429efb7863e9,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-896e2026-3436-4eb8-96b9-668b540439a1,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-360549089-172.17.0.8-1593740251616:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44579,DS-0bb89be5-1427-46a6-ba4a-c7c7f2a1db84,DISK], DatanodeInfoWithStorage[127.0.0.1:33384,DS-031fa4ba-4c54-4c6c-855d-743bb829b696,DISK], DatanodeInfoWithStorage[127.0.0.1:35485,DS-d0ba2e20-1aff-4a92-b210-0e18410495c7,DISK], DatanodeInfoWithStorage[127.0.0.1:44028,DS-7f959202-9c74-4a2f-baf1-25c4cbe9888b,DISK], DatanodeInfoWithStorage[127.0.0.1:33179,DS-e6bd32dc-6b61-45a8-aee4-3a9c3bc7dddf,DISK], DatanodeInfoWithStorage[127.0.0.1:45539,DS-13688042-e59f-444b-870d-429efb7863e9,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-896e2026-3436-4eb8-96b9-668b540439a1,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-360549089-172.17.0.8-1593740251616:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44579,DS-0bb89be5-1427-46a6-ba4a-c7c7f2a1db84,DISK], DatanodeInfoWithStorage[127.0.0.1:33384,DS-031fa4ba-4c54-4c6c-855d-743bb829b696,DISK], DatanodeInfoWithStorage[127.0.0.1:35485,DS-d0ba2e20-1aff-4a92-b210-0e18410495c7,DISK], DatanodeInfoWithStorage[127.0.0.1:44028,DS-7f959202-9c74-4a2f-baf1-25c4cbe9888b,DISK], DatanodeInfoWithStorage[127.0.0.1:33179,DS-e6bd32dc-6b61-45a8-aee4-3a9c3bc7dddf,DISK], DatanodeInfoWithStorage[127.0.0.1:45539,DS-13688042-e59f-444b-870d-429efb7863e9,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-896e2026-3436-4eb8-96b9-668b540439a1,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-304057322-172.17.0.8-1593740414091:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40492,DS-f82a5bb3-715c-4dac-95b4-002d6763244f,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-29555e6f-51da-4298-a996-560690e84fb7,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-5f17925e-026d-48da-9b2e-3ab3d8ccbfdc,DISK], DatanodeInfoWithStorage[127.0.0.1:40695,DS-70d4c2cc-d2a1-4e27-b82c-2af2f5a62f5a,DISK], DatanodeInfoWithStorage[127.0.0.1:34075,DS-44ade19b-1a8d-47b3-b700-63ad4ae8badd,DISK], DatanodeInfoWithStorage[127.0.0.1:34658,DS-8cc9c3a5-65c0-464f-a29f-0db388dbf9a2,DISK]]; indices=[0, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-304057322-172.17.0.8-1593740414091:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40492,DS-f82a5bb3-715c-4dac-95b4-002d6763244f,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-29555e6f-51da-4298-a996-560690e84fb7,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-5f17925e-026d-48da-9b2e-3ab3d8ccbfdc,DISK], DatanodeInfoWithStorage[127.0.0.1:40695,DS-70d4c2cc-d2a1-4e27-b82c-2af2f5a62f5a,DISK], DatanodeInfoWithStorage[127.0.0.1:34075,DS-44ade19b-1a8d-47b3-b700-63ad4ae8badd,DISK], DatanodeInfoWithStorage[127.0.0.1:34658,DS-8cc9c3a5-65c0-464f-a29f-0db388dbf9a2,DISK]]; indices=[0, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-304057322-172.17.0.8-1593740414091:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40492,DS-f82a5bb3-715c-4dac-95b4-002d6763244f,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-29555e6f-51da-4298-a996-560690e84fb7,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-5f17925e-026d-48da-9b2e-3ab3d8ccbfdc,DISK], DatanodeInfoWithStorage[127.0.0.1:40695,DS-70d4c2cc-d2a1-4e27-b82c-2af2f5a62f5a,DISK], DatanodeInfoWithStorage[127.0.0.1:34075,DS-44ade19b-1a8d-47b3-b700-63ad4ae8badd,DISK], DatanodeInfoWithStorage[127.0.0.1:34658,DS-8cc9c3a5-65c0-464f-a29f-0db388dbf9a2,DISK]]; indices=[0, 2, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-304057322-172.17.0.8-1593740414091:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40492,DS-f82a5bb3-715c-4dac-95b4-002d6763244f,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-29555e6f-51da-4298-a996-560690e84fb7,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-5f17925e-026d-48da-9b2e-3ab3d8ccbfdc,DISK], DatanodeInfoWithStorage[127.0.0.1:40695,DS-70d4c2cc-d2a1-4e27-b82c-2af2f5a62f5a,DISK], DatanodeInfoWithStorage[127.0.0.1:34075,DS-44ade19b-1a8d-47b3-b700-63ad4ae8badd,DISK], DatanodeInfoWithStorage[127.0.0.1:34658,DS-8cc9c3a5-65c0-464f-a29f-0db388dbf9a2,DISK]]; indices=[0, 2, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1688731553-172.17.0.8-1593740585140:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43844,DS-08e3bd55-f051-487a-98ad-ac17ff5e9a7d,DISK], DatanodeInfoWithStorage[127.0.0.1:35511,DS-541a4215-6d45-4276-8f8f-2a03827bc290,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-7e3da782-5034-4a9f-999e-f401d962d1ae,DISK], DatanodeInfoWithStorage[127.0.0.1:40233,DS-9b9df575-d0e0-4d8b-83f6-ef5450b30ee0,DISK], DatanodeInfoWithStorage[127.0.0.1:41690,DS-c8eff8a7-b63d-4ddb-aee3-7750ce728118,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-7887f1d4-1b2f-4145-b919-b5e5b8b2cfa0,DISK], DatanodeInfoWithStorage[127.0.0.1:46362,DS-194f66d6-6d84-487a-913d-b6f42635924e,DISK], DatanodeInfoWithStorage[127.0.0.1:35445,DS-7791f9a1-b0de-4f7b-b955-f1ae3b6bcedb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1688731553-172.17.0.8-1593740585140:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43844,DS-08e3bd55-f051-487a-98ad-ac17ff5e9a7d,DISK], DatanodeInfoWithStorage[127.0.0.1:35511,DS-541a4215-6d45-4276-8f8f-2a03827bc290,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-7e3da782-5034-4a9f-999e-f401d962d1ae,DISK], DatanodeInfoWithStorage[127.0.0.1:40233,DS-9b9df575-d0e0-4d8b-83f6-ef5450b30ee0,DISK], DatanodeInfoWithStorage[127.0.0.1:41690,DS-c8eff8a7-b63d-4ddb-aee3-7750ce728118,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-7887f1d4-1b2f-4145-b919-b5e5b8b2cfa0,DISK], DatanodeInfoWithStorage[127.0.0.1:46362,DS-194f66d6-6d84-487a-913d-b6f42635924e,DISK], DatanodeInfoWithStorage[127.0.0.1:35445,DS-7791f9a1-b0de-4f7b-b955-f1ae3b6bcedb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1688731553-172.17.0.8-1593740585140:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43844,DS-08e3bd55-f051-487a-98ad-ac17ff5e9a7d,DISK], DatanodeInfoWithStorage[127.0.0.1:35511,DS-541a4215-6d45-4276-8f8f-2a03827bc290,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-7e3da782-5034-4a9f-999e-f401d962d1ae,DISK], DatanodeInfoWithStorage[127.0.0.1:40233,DS-9b9df575-d0e0-4d8b-83f6-ef5450b30ee0,DISK], DatanodeInfoWithStorage[127.0.0.1:41690,DS-c8eff8a7-b63d-4ddb-aee3-7750ce728118,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-7887f1d4-1b2f-4145-b919-b5e5b8b2cfa0,DISK], DatanodeInfoWithStorage[127.0.0.1:46362,DS-194f66d6-6d84-487a-913d-b6f42635924e,DISK], DatanodeInfoWithStorage[127.0.0.1:35445,DS-7791f9a1-b0de-4f7b-b955-f1ae3b6bcedb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1688731553-172.17.0.8-1593740585140:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43844,DS-08e3bd55-f051-487a-98ad-ac17ff5e9a7d,DISK], DatanodeInfoWithStorage[127.0.0.1:35511,DS-541a4215-6d45-4276-8f8f-2a03827bc290,DISK], DatanodeInfoWithStorage[127.0.0.1:42794,DS-7e3da782-5034-4a9f-999e-f401d962d1ae,DISK], DatanodeInfoWithStorage[127.0.0.1:40233,DS-9b9df575-d0e0-4d8b-83f6-ef5450b30ee0,DISK], DatanodeInfoWithStorage[127.0.0.1:41690,DS-c8eff8a7-b63d-4ddb-aee3-7750ce728118,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-7887f1d4-1b2f-4145-b919-b5e5b8b2cfa0,DISK], DatanodeInfoWithStorage[127.0.0.1:46362,DS-194f66d6-6d84-487a-913d-b6f42635924e,DISK], DatanodeInfoWithStorage[127.0.0.1:35445,DS-7791f9a1-b0de-4f7b-b955-f1ae3b6bcedb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-226132061-172.17.0.8-1593741385294:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38027,DS-850fb4d2-ccb6-4955-8027-0b2679402f7e,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-9acd8bad-eda1-484f-8785-4b7b21878bba,DISK], DatanodeInfoWithStorage[127.0.0.1:40142,DS-7dbf4f42-e4c4-46cc-bf40-65f7192e2afc,DISK], DatanodeInfoWithStorage[127.0.0.1:46322,DS-91fdf339-3c23-49db-a40b-59b67485e8e4,DISK], DatanodeInfoWithStorage[127.0.0.1:38202,DS-ab5aa64f-052f-4cb9-9c00-ff518df877f4,DISK], DatanodeInfoWithStorage[127.0.0.1:34786,DS-09065a46-8edf-49c5-a028-839e0edd6581,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-0cc91e42-307c-4970-a549-eb558f8cab9a,DISK], DatanodeInfoWithStorage[127.0.0.1:46726,DS-11fb1004-0193-4f5c-bd00-1caa8ee12d3d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-226132061-172.17.0.8-1593741385294:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38027,DS-850fb4d2-ccb6-4955-8027-0b2679402f7e,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-9acd8bad-eda1-484f-8785-4b7b21878bba,DISK], DatanodeInfoWithStorage[127.0.0.1:40142,DS-7dbf4f42-e4c4-46cc-bf40-65f7192e2afc,DISK], DatanodeInfoWithStorage[127.0.0.1:46322,DS-91fdf339-3c23-49db-a40b-59b67485e8e4,DISK], DatanodeInfoWithStorage[127.0.0.1:38202,DS-ab5aa64f-052f-4cb9-9c00-ff518df877f4,DISK], DatanodeInfoWithStorage[127.0.0.1:34786,DS-09065a46-8edf-49c5-a028-839e0edd6581,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-0cc91e42-307c-4970-a549-eb558f8cab9a,DISK], DatanodeInfoWithStorage[127.0.0.1:46726,DS-11fb1004-0193-4f5c-bd00-1caa8ee12d3d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-226132061-172.17.0.8-1593741385294:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38027,DS-850fb4d2-ccb6-4955-8027-0b2679402f7e,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-9acd8bad-eda1-484f-8785-4b7b21878bba,DISK], DatanodeInfoWithStorage[127.0.0.1:40142,DS-7dbf4f42-e4c4-46cc-bf40-65f7192e2afc,DISK], DatanodeInfoWithStorage[127.0.0.1:46322,DS-91fdf339-3c23-49db-a40b-59b67485e8e4,DISK], DatanodeInfoWithStorage[127.0.0.1:38202,DS-ab5aa64f-052f-4cb9-9c00-ff518df877f4,DISK], DatanodeInfoWithStorage[127.0.0.1:34786,DS-09065a46-8edf-49c5-a028-839e0edd6581,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-0cc91e42-307c-4970-a549-eb558f8cab9a,DISK], DatanodeInfoWithStorage[127.0.0.1:46726,DS-11fb1004-0193-4f5c-bd00-1caa8ee12d3d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-226132061-172.17.0.8-1593741385294:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38027,DS-850fb4d2-ccb6-4955-8027-0b2679402f7e,DISK], DatanodeInfoWithStorage[127.0.0.1:42088,DS-9acd8bad-eda1-484f-8785-4b7b21878bba,DISK], DatanodeInfoWithStorage[127.0.0.1:40142,DS-7dbf4f42-e4c4-46cc-bf40-65f7192e2afc,DISK], DatanodeInfoWithStorage[127.0.0.1:46322,DS-91fdf339-3c23-49db-a40b-59b67485e8e4,DISK], DatanodeInfoWithStorage[127.0.0.1:38202,DS-ab5aa64f-052f-4cb9-9c00-ff518df877f4,DISK], DatanodeInfoWithStorage[127.0.0.1:34786,DS-09065a46-8edf-49c5-a028-839e0edd6581,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-0cc91e42-307c-4970-a549-eb558f8cab9a,DISK], DatanodeInfoWithStorage[127.0.0.1:46726,DS-11fb1004-0193-4f5c-bd00-1caa8ee12d3d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 18 out of 50
v1v1v2v2 failed with probability 3 out of 50
result: might be true error
Total execution time in seconds : 9631
