reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-350069534-172.17.0.8-1596981271754:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35829,DS-b9437d9e-97c3-4270-ac1a-4deb650d5d98,DISK], DatanodeInfoWithStorage[127.0.0.1:39087,DS-826f8088-dcdd-4cba-8686-bd5b5e2e42a1,DISK], DatanodeInfoWithStorage[127.0.0.1:40002,DS-68c111ab-fb33-425a-a8fb-a77cfc9847e5,DISK], DatanodeInfoWithStorage[127.0.0.1:40692,DS-17832cec-58fb-4cba-8bbb-42cfd9ba24ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45089,DS-11a2900f-4077-4dee-992c-f9292e3507cc,DISK], DatanodeInfoWithStorage[127.0.0.1:36753,DS-30990ad6-817a-4f78-9dc6-a7411ddf2119,DISK]]; indices=[1, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-350069534-172.17.0.8-1596981271754:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35829,DS-b9437d9e-97c3-4270-ac1a-4deb650d5d98,DISK], DatanodeInfoWithStorage[127.0.0.1:39087,DS-826f8088-dcdd-4cba-8686-bd5b5e2e42a1,DISK], DatanodeInfoWithStorage[127.0.0.1:40002,DS-68c111ab-fb33-425a-a8fb-a77cfc9847e5,DISK], DatanodeInfoWithStorage[127.0.0.1:40692,DS-17832cec-58fb-4cba-8bbb-42cfd9ba24ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45089,DS-11a2900f-4077-4dee-992c-f9292e3507cc,DISK], DatanodeInfoWithStorage[127.0.0.1:36753,DS-30990ad6-817a-4f78-9dc6-a7411ddf2119,DISK]]; indices=[1, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-350069534-172.17.0.8-1596981271754:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35829,DS-b9437d9e-97c3-4270-ac1a-4deb650d5d98,DISK], DatanodeInfoWithStorage[127.0.0.1:39087,DS-826f8088-dcdd-4cba-8686-bd5b5e2e42a1,DISK], DatanodeInfoWithStorage[127.0.0.1:40002,DS-68c111ab-fb33-425a-a8fb-a77cfc9847e5,DISK], DatanodeInfoWithStorage[127.0.0.1:40692,DS-17832cec-58fb-4cba-8bbb-42cfd9ba24ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45089,DS-11a2900f-4077-4dee-992c-f9292e3507cc,DISK], DatanodeInfoWithStorage[127.0.0.1:36753,DS-30990ad6-817a-4f78-9dc6-a7411ddf2119,DISK]]; indices=[1, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-350069534-172.17.0.8-1596981271754:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35829,DS-b9437d9e-97c3-4270-ac1a-4deb650d5d98,DISK], DatanodeInfoWithStorage[127.0.0.1:39087,DS-826f8088-dcdd-4cba-8686-bd5b5e2e42a1,DISK], DatanodeInfoWithStorage[127.0.0.1:40002,DS-68c111ab-fb33-425a-a8fb-a77cfc9847e5,DISK], DatanodeInfoWithStorage[127.0.0.1:40692,DS-17832cec-58fb-4cba-8bbb-42cfd9ba24ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45089,DS-11a2900f-4077-4dee-992c-f9292e3507cc,DISK], DatanodeInfoWithStorage[127.0.0.1:36753,DS-30990ad6-817a-4f78-9dc6-a7411ddf2119,DISK]]; indices=[1, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1759166173-172.17.0.8-1596981349771:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-e34ff092-8790-42dc-98aa-ed821f4e2b44,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-b53d3255-d746-4573-87cc-d085b8645e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35620,DS-66ba8c56-b72c-435f-a381-c18f49169b89,DISK], DatanodeInfoWithStorage[127.0.0.1:40758,DS-176e33de-2d1c-43cf-9aa0-c153b412a5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45192,DS-505f05af-95c5-4de6-961e-53548d65afd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44223,DS-99ff2f69-5573-4622-9c1f-321b23f137e7,DISK], DatanodeInfoWithStorage[127.0.0.1:37157,DS-8787231c-bb5f-4d60-9678-cd73f57a0d49,DISK]]; indices=[0, 1, 2, 3, 4, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1759166173-172.17.0.8-1596981349771:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-e34ff092-8790-42dc-98aa-ed821f4e2b44,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-b53d3255-d746-4573-87cc-d085b8645e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35620,DS-66ba8c56-b72c-435f-a381-c18f49169b89,DISK], DatanodeInfoWithStorage[127.0.0.1:40758,DS-176e33de-2d1c-43cf-9aa0-c153b412a5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45192,DS-505f05af-95c5-4de6-961e-53548d65afd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44223,DS-99ff2f69-5573-4622-9c1f-321b23f137e7,DISK], DatanodeInfoWithStorage[127.0.0.1:37157,DS-8787231c-bb5f-4d60-9678-cd73f57a0d49,DISK]]; indices=[0, 1, 2, 3, 4, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1759166173-172.17.0.8-1596981349771:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-e34ff092-8790-42dc-98aa-ed821f4e2b44,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-b53d3255-d746-4573-87cc-d085b8645e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35620,DS-66ba8c56-b72c-435f-a381-c18f49169b89,DISK], DatanodeInfoWithStorage[127.0.0.1:40758,DS-176e33de-2d1c-43cf-9aa0-c153b412a5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45192,DS-505f05af-95c5-4de6-961e-53548d65afd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44223,DS-99ff2f69-5573-4622-9c1f-321b23f137e7,DISK], DatanodeInfoWithStorage[127.0.0.1:37157,DS-8787231c-bb5f-4d60-9678-cd73f57a0d49,DISK]]; indices=[0, 1, 2, 3, 4, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1759166173-172.17.0.8-1596981349771:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44947,DS-e34ff092-8790-42dc-98aa-ed821f4e2b44,DISK], DatanodeInfoWithStorage[127.0.0.1:45163,DS-b53d3255-d746-4573-87cc-d085b8645e69,DISK], DatanodeInfoWithStorage[127.0.0.1:35620,DS-66ba8c56-b72c-435f-a381-c18f49169b89,DISK], DatanodeInfoWithStorage[127.0.0.1:40758,DS-176e33de-2d1c-43cf-9aa0-c153b412a5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45192,DS-505f05af-95c5-4de6-961e-53548d65afd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44223,DS-99ff2f69-5573-4622-9c1f-321b23f137e7,DISK], DatanodeInfoWithStorage[127.0.0.1:37157,DS-8787231c-bb5f-4d60-9678-cd73f57a0d49,DISK]]; indices=[0, 1, 2, 3, 4, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1244791271-172.17.0.8-1596981485682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37978,DS-c0462d0f-d096-4149-a24f-2006423f48dc,DISK], DatanodeInfoWithStorage[127.0.0.1:35483,DS-e21d51a1-b16a-4fa4-981a-4de55a006472,DISK], DatanodeInfoWithStorage[127.0.0.1:41264,DS-a2bfd9dc-82f9-4343-859d-4e99bddf9b34,DISK], DatanodeInfoWithStorage[127.0.0.1:34880,DS-a1f8669b-4cc9-4013-87db-2f052fc82a30,DISK], DatanodeInfoWithStorage[127.0.0.1:38809,DS-fe7bd453-956e-4147-b718-fd58b3b055ff,DISK], DatanodeInfoWithStorage[127.0.0.1:34742,DS-8cba5127-0307-475c-9ab5-25f73a2c4083,DISK], DatanodeInfoWithStorage[127.0.0.1:44405,DS-7a99a661-1649-416d-af81-d0497b20c1e0,DISK]]; indices=[0, 2, 5, 6, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1244791271-172.17.0.8-1596981485682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37978,DS-c0462d0f-d096-4149-a24f-2006423f48dc,DISK], DatanodeInfoWithStorage[127.0.0.1:35483,DS-e21d51a1-b16a-4fa4-981a-4de55a006472,DISK], DatanodeInfoWithStorage[127.0.0.1:41264,DS-a2bfd9dc-82f9-4343-859d-4e99bddf9b34,DISK], DatanodeInfoWithStorage[127.0.0.1:34880,DS-a1f8669b-4cc9-4013-87db-2f052fc82a30,DISK], DatanodeInfoWithStorage[127.0.0.1:38809,DS-fe7bd453-956e-4147-b718-fd58b3b055ff,DISK], DatanodeInfoWithStorage[127.0.0.1:34742,DS-8cba5127-0307-475c-9ab5-25f73a2c4083,DISK], DatanodeInfoWithStorage[127.0.0.1:44405,DS-7a99a661-1649-416d-af81-d0497b20c1e0,DISK]]; indices=[0, 2, 5, 6, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1244791271-172.17.0.8-1596981485682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37978,DS-c0462d0f-d096-4149-a24f-2006423f48dc,DISK], DatanodeInfoWithStorage[127.0.0.1:35483,DS-e21d51a1-b16a-4fa4-981a-4de55a006472,DISK], DatanodeInfoWithStorage[127.0.0.1:41264,DS-a2bfd9dc-82f9-4343-859d-4e99bddf9b34,DISK], DatanodeInfoWithStorage[127.0.0.1:34880,DS-a1f8669b-4cc9-4013-87db-2f052fc82a30,DISK], DatanodeInfoWithStorage[127.0.0.1:38809,DS-fe7bd453-956e-4147-b718-fd58b3b055ff,DISK], DatanodeInfoWithStorage[127.0.0.1:34742,DS-8cba5127-0307-475c-9ab5-25f73a2c4083,DISK], DatanodeInfoWithStorage[127.0.0.1:44405,DS-7a99a661-1649-416d-af81-d0497b20c1e0,DISK]]; indices=[0, 2, 5, 6, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1244791271-172.17.0.8-1596981485682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37978,DS-c0462d0f-d096-4149-a24f-2006423f48dc,DISK], DatanodeInfoWithStorage[127.0.0.1:35483,DS-e21d51a1-b16a-4fa4-981a-4de55a006472,DISK], DatanodeInfoWithStorage[127.0.0.1:41264,DS-a2bfd9dc-82f9-4343-859d-4e99bddf9b34,DISK], DatanodeInfoWithStorage[127.0.0.1:34880,DS-a1f8669b-4cc9-4013-87db-2f052fc82a30,DISK], DatanodeInfoWithStorage[127.0.0.1:38809,DS-fe7bd453-956e-4147-b718-fd58b3b055ff,DISK], DatanodeInfoWithStorage[127.0.0.1:34742,DS-8cba5127-0307-475c-9ab5-25f73a2c4083,DISK], DatanodeInfoWithStorage[127.0.0.1:44405,DS-7a99a661-1649-416d-af81-d0497b20c1e0,DISK]]; indices=[0, 2, 5, 6, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1964961342-172.17.0.8-1596981524881:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34451,DS-f1444aff-37d8-4f76-9332-c3ed9fdea05f,DISK], DatanodeInfoWithStorage[127.0.0.1:36458,DS-d17b18b5-59b5-4034-8482-e0bfbc9f4f0a,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-5360d7cc-12fa-489b-8582-f6a9c252d24f,DISK], DatanodeInfoWithStorage[127.0.0.1:42423,DS-6379d464-f9cb-4a70-af01-976a6f2f2c9f,DISK], DatanodeInfoWithStorage[127.0.0.1:39775,DS-eafd8711-3190-4e4c-b7b9-cf6873d513e2,DISK], DatanodeInfoWithStorage[127.0.0.1:37006,DS-c1b13d0c-d1ac-454f-8e4a-08d1c3b2ef3d,DISK]]; indices=[0, 1, 4, 5, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1964961342-172.17.0.8-1596981524881:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34451,DS-f1444aff-37d8-4f76-9332-c3ed9fdea05f,DISK], DatanodeInfoWithStorage[127.0.0.1:36458,DS-d17b18b5-59b5-4034-8482-e0bfbc9f4f0a,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-5360d7cc-12fa-489b-8582-f6a9c252d24f,DISK], DatanodeInfoWithStorage[127.0.0.1:42423,DS-6379d464-f9cb-4a70-af01-976a6f2f2c9f,DISK], DatanodeInfoWithStorage[127.0.0.1:39775,DS-eafd8711-3190-4e4c-b7b9-cf6873d513e2,DISK], DatanodeInfoWithStorage[127.0.0.1:37006,DS-c1b13d0c-d1ac-454f-8e4a-08d1c3b2ef3d,DISK]]; indices=[0, 1, 4, 5, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1964961342-172.17.0.8-1596981524881:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34451,DS-f1444aff-37d8-4f76-9332-c3ed9fdea05f,DISK], DatanodeInfoWithStorage[127.0.0.1:36458,DS-d17b18b5-59b5-4034-8482-e0bfbc9f4f0a,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-5360d7cc-12fa-489b-8582-f6a9c252d24f,DISK], DatanodeInfoWithStorage[127.0.0.1:42423,DS-6379d464-f9cb-4a70-af01-976a6f2f2c9f,DISK], DatanodeInfoWithStorage[127.0.0.1:39775,DS-eafd8711-3190-4e4c-b7b9-cf6873d513e2,DISK], DatanodeInfoWithStorage[127.0.0.1:37006,DS-c1b13d0c-d1ac-454f-8e4a-08d1c3b2ef3d,DISK]]; indices=[0, 1, 4, 5, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1964961342-172.17.0.8-1596981524881:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34451,DS-f1444aff-37d8-4f76-9332-c3ed9fdea05f,DISK], DatanodeInfoWithStorage[127.0.0.1:36458,DS-d17b18b5-59b5-4034-8482-e0bfbc9f4f0a,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-5360d7cc-12fa-489b-8582-f6a9c252d24f,DISK], DatanodeInfoWithStorage[127.0.0.1:42423,DS-6379d464-f9cb-4a70-af01-976a6f2f2c9f,DISK], DatanodeInfoWithStorage[127.0.0.1:39775,DS-eafd8711-3190-4e4c-b7b9-cf6873d513e2,DISK], DatanodeInfoWithStorage[127.0.0.1:37006,DS-c1b13d0c-d1ac-454f-8e4a-08d1c3b2ef3d,DISK]]; indices=[0, 1, 4, 5, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1741127200-172.17.0.8-1596981959045:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38367,DS-bf13817b-33ec-4c4e-a23b-3b7d4b8bdfbd,DISK], DatanodeInfoWithStorage[127.0.0.1:38582,DS-7e5ff855-0a72-4929-9381-3cc878dd0eca,DISK], DatanodeInfoWithStorage[127.0.0.1:34669,DS-5d64cffc-7bdb-4a43-ac9e-63cc2b305dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-ccc77fd6-a7b1-4bf6-bc0a-86bacb0299d9,DISK], DatanodeInfoWithStorage[127.0.0.1:46465,DS-22a105b7-dba9-44df-8f2a-adfa420c9df0,DISK]]; indices=[1, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1741127200-172.17.0.8-1596981959045:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38367,DS-bf13817b-33ec-4c4e-a23b-3b7d4b8bdfbd,DISK], DatanodeInfoWithStorage[127.0.0.1:38582,DS-7e5ff855-0a72-4929-9381-3cc878dd0eca,DISK], DatanodeInfoWithStorage[127.0.0.1:34669,DS-5d64cffc-7bdb-4a43-ac9e-63cc2b305dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-ccc77fd6-a7b1-4bf6-bc0a-86bacb0299d9,DISK], DatanodeInfoWithStorage[127.0.0.1:46465,DS-22a105b7-dba9-44df-8f2a-adfa420c9df0,DISK]]; indices=[1, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1741127200-172.17.0.8-1596981959045:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38367,DS-bf13817b-33ec-4c4e-a23b-3b7d4b8bdfbd,DISK], DatanodeInfoWithStorage[127.0.0.1:38582,DS-7e5ff855-0a72-4929-9381-3cc878dd0eca,DISK], DatanodeInfoWithStorage[127.0.0.1:34669,DS-5d64cffc-7bdb-4a43-ac9e-63cc2b305dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-ccc77fd6-a7b1-4bf6-bc0a-86bacb0299d9,DISK], DatanodeInfoWithStorage[127.0.0.1:46465,DS-22a105b7-dba9-44df-8f2a-adfa420c9df0,DISK]]; indices=[1, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1741127200-172.17.0.8-1596981959045:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38367,DS-bf13817b-33ec-4c4e-a23b-3b7d4b8bdfbd,DISK], DatanodeInfoWithStorage[127.0.0.1:38582,DS-7e5ff855-0a72-4929-9381-3cc878dd0eca,DISK], DatanodeInfoWithStorage[127.0.0.1:34669,DS-5d64cffc-7bdb-4a43-ac9e-63cc2b305dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-ccc77fd6-a7b1-4bf6-bc0a-86bacb0299d9,DISK], DatanodeInfoWithStorage[127.0.0.1:46465,DS-22a105b7-dba9-44df-8f2a-adfa420c9df0,DISK]]; indices=[1, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-380500998-172.17.0.8-1596982127726:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44294,DS-c7cbe075-9864-4789-abf9-5de4c2eca900,DISK], DatanodeInfoWithStorage[127.0.0.1:40934,DS-49451743-f0e1-4c31-a61e-fefc717e1ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-ed223251-1a29-4dfb-a536-0ae0567c3fac,DISK], DatanodeInfoWithStorage[127.0.0.1:45411,DS-0f625396-824c-4953-b377-f8fcdddf0a4b,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-5695c0d5-a536-419e-ac1a-78d71a2e292d,DISK], DatanodeInfoWithStorage[127.0.0.1:36499,DS-f2c2398c-23f4-46b3-9548-0201606c6e59,DISK]]; indices=[1, 2, 5, 6, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-380500998-172.17.0.8-1596982127726:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44294,DS-c7cbe075-9864-4789-abf9-5de4c2eca900,DISK], DatanodeInfoWithStorage[127.0.0.1:40934,DS-49451743-f0e1-4c31-a61e-fefc717e1ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-ed223251-1a29-4dfb-a536-0ae0567c3fac,DISK], DatanodeInfoWithStorage[127.0.0.1:45411,DS-0f625396-824c-4953-b377-f8fcdddf0a4b,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-5695c0d5-a536-419e-ac1a-78d71a2e292d,DISK], DatanodeInfoWithStorage[127.0.0.1:36499,DS-f2c2398c-23f4-46b3-9548-0201606c6e59,DISK]]; indices=[1, 2, 5, 6, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-380500998-172.17.0.8-1596982127726:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44294,DS-c7cbe075-9864-4789-abf9-5de4c2eca900,DISK], DatanodeInfoWithStorage[127.0.0.1:40934,DS-49451743-f0e1-4c31-a61e-fefc717e1ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-ed223251-1a29-4dfb-a536-0ae0567c3fac,DISK], DatanodeInfoWithStorage[127.0.0.1:45411,DS-0f625396-824c-4953-b377-f8fcdddf0a4b,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-5695c0d5-a536-419e-ac1a-78d71a2e292d,DISK], DatanodeInfoWithStorage[127.0.0.1:36499,DS-f2c2398c-23f4-46b3-9548-0201606c6e59,DISK]]; indices=[1, 2, 5, 6, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-380500998-172.17.0.8-1596982127726:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44294,DS-c7cbe075-9864-4789-abf9-5de4c2eca900,DISK], DatanodeInfoWithStorage[127.0.0.1:40934,DS-49451743-f0e1-4c31-a61e-fefc717e1ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-ed223251-1a29-4dfb-a536-0ae0567c3fac,DISK], DatanodeInfoWithStorage[127.0.0.1:45411,DS-0f625396-824c-4953-b377-f8fcdddf0a4b,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-5695c0d5-a536-419e-ac1a-78d71a2e292d,DISK], DatanodeInfoWithStorage[127.0.0.1:36499,DS-f2c2398c-23f4-46b3-9548-0201606c6e59,DISK]]; indices=[1, 2, 5, 6, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-441139254-172.17.0.8-1596982250712:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44332,DS-462cef4b-1948-4424-bb5a-790061923047,DISK], DatanodeInfoWithStorage[127.0.0.1:44321,DS-5c455e00-8e58-438e-825e-06313406bcf8,DISK], DatanodeInfoWithStorage[127.0.0.1:46827,DS-89822d6a-918d-41f2-885b-8bb18ba3a712,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-69bb6d1c-f576-49fd-816d-eeac33f2da35,DISK], DatanodeInfoWithStorage[127.0.0.1:43128,DS-485ab36a-57e4-4b41-8907-d17dd300f0e5,DISK], DatanodeInfoWithStorage[127.0.0.1:44714,DS-470f58cd-9aac-4d66-8991-1a30cabf69aa,DISK]]; indices=[0, 1, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-441139254-172.17.0.8-1596982250712:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44332,DS-462cef4b-1948-4424-bb5a-790061923047,DISK], DatanodeInfoWithStorage[127.0.0.1:44321,DS-5c455e00-8e58-438e-825e-06313406bcf8,DISK], DatanodeInfoWithStorage[127.0.0.1:46827,DS-89822d6a-918d-41f2-885b-8bb18ba3a712,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-69bb6d1c-f576-49fd-816d-eeac33f2da35,DISK], DatanodeInfoWithStorage[127.0.0.1:43128,DS-485ab36a-57e4-4b41-8907-d17dd300f0e5,DISK], DatanodeInfoWithStorage[127.0.0.1:44714,DS-470f58cd-9aac-4d66-8991-1a30cabf69aa,DISK]]; indices=[0, 1, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-441139254-172.17.0.8-1596982250712:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44332,DS-462cef4b-1948-4424-bb5a-790061923047,DISK], DatanodeInfoWithStorage[127.0.0.1:44321,DS-5c455e00-8e58-438e-825e-06313406bcf8,DISK], DatanodeInfoWithStorage[127.0.0.1:46827,DS-89822d6a-918d-41f2-885b-8bb18ba3a712,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-69bb6d1c-f576-49fd-816d-eeac33f2da35,DISK], DatanodeInfoWithStorage[127.0.0.1:43128,DS-485ab36a-57e4-4b41-8907-d17dd300f0e5,DISK], DatanodeInfoWithStorage[127.0.0.1:44714,DS-470f58cd-9aac-4d66-8991-1a30cabf69aa,DISK]]; indices=[0, 1, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-441139254-172.17.0.8-1596982250712:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44332,DS-462cef4b-1948-4424-bb5a-790061923047,DISK], DatanodeInfoWithStorage[127.0.0.1:44321,DS-5c455e00-8e58-438e-825e-06313406bcf8,DISK], DatanodeInfoWithStorage[127.0.0.1:46827,DS-89822d6a-918d-41f2-885b-8bb18ba3a712,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-69bb6d1c-f576-49fd-816d-eeac33f2da35,DISK], DatanodeInfoWithStorage[127.0.0.1:43128,DS-485ab36a-57e4-4b41-8907-d17dd300f0e5,DISK], DatanodeInfoWithStorage[127.0.0.1:44714,DS-470f58cd-9aac-4d66-8991-1a30cabf69aa,DISK]]; indices=[0, 1, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1854664433-172.17.0.8-1596982321831:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42014,DS-58064ed1-cb15-48e6-9d63-0c4c839b4b99,DISK], DatanodeInfoWithStorage[127.0.0.1:42796,DS-dca57cde-241b-44c7-835b-25918591cde9,DISK], DatanodeInfoWithStorage[127.0.0.1:33760,DS-7d504cb7-f1ad-4228-af27-eef15866dda2,DISK], DatanodeInfoWithStorage[127.0.0.1:43661,DS-75e5f1e3-1fad-4b02-963e-75105e79db65,DISK], DatanodeInfoWithStorage[127.0.0.1:41222,DS-1bc18de7-535f-4bb8-87f0-b3a222f7e1ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44616,DS-8f58bfc4-27fe-432f-984a-5cdb9468ea13,DISK]]; indices=[0, 2, 4, 5, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1854664433-172.17.0.8-1596982321831:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42014,DS-58064ed1-cb15-48e6-9d63-0c4c839b4b99,DISK], DatanodeInfoWithStorage[127.0.0.1:42796,DS-dca57cde-241b-44c7-835b-25918591cde9,DISK], DatanodeInfoWithStorage[127.0.0.1:33760,DS-7d504cb7-f1ad-4228-af27-eef15866dda2,DISK], DatanodeInfoWithStorage[127.0.0.1:43661,DS-75e5f1e3-1fad-4b02-963e-75105e79db65,DISK], DatanodeInfoWithStorage[127.0.0.1:41222,DS-1bc18de7-535f-4bb8-87f0-b3a222f7e1ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44616,DS-8f58bfc4-27fe-432f-984a-5cdb9468ea13,DISK]]; indices=[0, 2, 4, 5, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1854664433-172.17.0.8-1596982321831:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42014,DS-58064ed1-cb15-48e6-9d63-0c4c839b4b99,DISK], DatanodeInfoWithStorage[127.0.0.1:42796,DS-dca57cde-241b-44c7-835b-25918591cde9,DISK], DatanodeInfoWithStorage[127.0.0.1:33760,DS-7d504cb7-f1ad-4228-af27-eef15866dda2,DISK], DatanodeInfoWithStorage[127.0.0.1:43661,DS-75e5f1e3-1fad-4b02-963e-75105e79db65,DISK], DatanodeInfoWithStorage[127.0.0.1:41222,DS-1bc18de7-535f-4bb8-87f0-b3a222f7e1ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44616,DS-8f58bfc4-27fe-432f-984a-5cdb9468ea13,DISK]]; indices=[0, 2, 4, 5, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1854664433-172.17.0.8-1596982321831:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42014,DS-58064ed1-cb15-48e6-9d63-0c4c839b4b99,DISK], DatanodeInfoWithStorage[127.0.0.1:42796,DS-dca57cde-241b-44c7-835b-25918591cde9,DISK], DatanodeInfoWithStorage[127.0.0.1:33760,DS-7d504cb7-f1ad-4228-af27-eef15866dda2,DISK], DatanodeInfoWithStorage[127.0.0.1:43661,DS-75e5f1e3-1fad-4b02-963e-75105e79db65,DISK], DatanodeInfoWithStorage[127.0.0.1:41222,DS-1bc18de7-535f-4bb8-87f0-b3a222f7e1ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44616,DS-8f58bfc4-27fe-432f-984a-5cdb9468ea13,DISK]]; indices=[0, 2, 4, 5, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-718747486-172.17.0.8-1596982401717:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39196,DS-25c8a6c5-e755-43b9-858f-68204c919e79,DISK], DatanodeInfoWithStorage[127.0.0.1:42704,DS-8a690b9c-65fc-489e-9b56-9267714da6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:46293,DS-66c7f22b-b70b-4eb5-9150-a028d1c166df,DISK], DatanodeInfoWithStorage[127.0.0.1:42521,DS-4dbe7552-53c2-4b4a-b3df-b5f9c68650b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42475,DS-dbebfa13-d788-4771-b45e-5aaf064c6744,DISK], DatanodeInfoWithStorage[127.0.0.1:43771,DS-118b108d-91fa-4c94-ae34-570c0c147d26,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-c523c3d8-dc6d-4437-8173-f65a99cd2dcb,DISK]]; indices=[0, 1, 2, 6, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-718747486-172.17.0.8-1596982401717:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39196,DS-25c8a6c5-e755-43b9-858f-68204c919e79,DISK], DatanodeInfoWithStorage[127.0.0.1:42704,DS-8a690b9c-65fc-489e-9b56-9267714da6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:46293,DS-66c7f22b-b70b-4eb5-9150-a028d1c166df,DISK], DatanodeInfoWithStorage[127.0.0.1:42521,DS-4dbe7552-53c2-4b4a-b3df-b5f9c68650b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42475,DS-dbebfa13-d788-4771-b45e-5aaf064c6744,DISK], DatanodeInfoWithStorage[127.0.0.1:43771,DS-118b108d-91fa-4c94-ae34-570c0c147d26,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-c523c3d8-dc6d-4437-8173-f65a99cd2dcb,DISK]]; indices=[0, 1, 2, 6, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-718747486-172.17.0.8-1596982401717:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39196,DS-25c8a6c5-e755-43b9-858f-68204c919e79,DISK], DatanodeInfoWithStorage[127.0.0.1:42704,DS-8a690b9c-65fc-489e-9b56-9267714da6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:46293,DS-66c7f22b-b70b-4eb5-9150-a028d1c166df,DISK], DatanodeInfoWithStorage[127.0.0.1:42521,DS-4dbe7552-53c2-4b4a-b3df-b5f9c68650b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42475,DS-dbebfa13-d788-4771-b45e-5aaf064c6744,DISK], DatanodeInfoWithStorage[127.0.0.1:43771,DS-118b108d-91fa-4c94-ae34-570c0c147d26,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-c523c3d8-dc6d-4437-8173-f65a99cd2dcb,DISK]]; indices=[0, 1, 2, 6, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-718747486-172.17.0.8-1596982401717:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39196,DS-25c8a6c5-e755-43b9-858f-68204c919e79,DISK], DatanodeInfoWithStorage[127.0.0.1:42704,DS-8a690b9c-65fc-489e-9b56-9267714da6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:46293,DS-66c7f22b-b70b-4eb5-9150-a028d1c166df,DISK], DatanodeInfoWithStorage[127.0.0.1:42521,DS-4dbe7552-53c2-4b4a-b3df-b5f9c68650b9,DISK], DatanodeInfoWithStorage[127.0.0.1:42475,DS-dbebfa13-d788-4771-b45e-5aaf064c6744,DISK], DatanodeInfoWithStorage[127.0.0.1:43771,DS-118b108d-91fa-4c94-ae34-570c0c147d26,DISK], DatanodeInfoWithStorage[127.0.0.1:32916,DS-c523c3d8-dc6d-4437-8173-f65a99cd2dcb,DISK]]; indices=[0, 1, 2, 6, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1584983775-172.17.0.8-1596983470777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42346,DS-752da817-bbf4-4843-94c5-d4e475230d6b,DISK], DatanodeInfoWithStorage[127.0.0.1:40325,DS-be78fc0e-ef51-45ca-99b4-fdd611adf0d9,DISK], DatanodeInfoWithStorage[127.0.0.1:42304,DS-26194ee7-a8e9-4770-a3c2-1af197b147e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39052,DS-e1127040-b458-4571-a06b-c1b5bdcc0061,DISK], DatanodeInfoWithStorage[127.0.0.1:44306,DS-c12e6468-35df-4208-8acf-93aa09527f9b,DISK], DatanodeInfoWithStorage[127.0.0.1:38424,DS-844f60ba-0189-4dca-8e3e-ac8701949a7f,DISK]]; indices=[0, 1, 2, 5, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1584983775-172.17.0.8-1596983470777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42346,DS-752da817-bbf4-4843-94c5-d4e475230d6b,DISK], DatanodeInfoWithStorage[127.0.0.1:40325,DS-be78fc0e-ef51-45ca-99b4-fdd611adf0d9,DISK], DatanodeInfoWithStorage[127.0.0.1:42304,DS-26194ee7-a8e9-4770-a3c2-1af197b147e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39052,DS-e1127040-b458-4571-a06b-c1b5bdcc0061,DISK], DatanodeInfoWithStorage[127.0.0.1:44306,DS-c12e6468-35df-4208-8acf-93aa09527f9b,DISK], DatanodeInfoWithStorage[127.0.0.1:38424,DS-844f60ba-0189-4dca-8e3e-ac8701949a7f,DISK]]; indices=[0, 1, 2, 5, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1584983775-172.17.0.8-1596983470777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42346,DS-752da817-bbf4-4843-94c5-d4e475230d6b,DISK], DatanodeInfoWithStorage[127.0.0.1:40325,DS-be78fc0e-ef51-45ca-99b4-fdd611adf0d9,DISK], DatanodeInfoWithStorage[127.0.0.1:42304,DS-26194ee7-a8e9-4770-a3c2-1af197b147e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39052,DS-e1127040-b458-4571-a06b-c1b5bdcc0061,DISK], DatanodeInfoWithStorage[127.0.0.1:44306,DS-c12e6468-35df-4208-8acf-93aa09527f9b,DISK], DatanodeInfoWithStorage[127.0.0.1:38424,DS-844f60ba-0189-4dca-8e3e-ac8701949a7f,DISK]]; indices=[0, 1, 2, 5, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1584983775-172.17.0.8-1596983470777:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42346,DS-752da817-bbf4-4843-94c5-d4e475230d6b,DISK], DatanodeInfoWithStorage[127.0.0.1:40325,DS-be78fc0e-ef51-45ca-99b4-fdd611adf0d9,DISK], DatanodeInfoWithStorage[127.0.0.1:42304,DS-26194ee7-a8e9-4770-a3c2-1af197b147e1,DISK], DatanodeInfoWithStorage[127.0.0.1:39052,DS-e1127040-b458-4571-a06b-c1b5bdcc0061,DISK], DatanodeInfoWithStorage[127.0.0.1:44306,DS-c12e6468-35df-4208-8acf-93aa09527f9b,DISK], DatanodeInfoWithStorage[127.0.0.1:38424,DS-844f60ba-0189-4dca-8e3e-ac8701949a7f,DISK]]; indices=[0, 1, 2, 5, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-78146273-172.17.0.8-1596983517982:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46448,DS-27e5e963-671a-429f-b25e-011286a088c9,DISK], DatanodeInfoWithStorage[127.0.0.1:40959,DS-fd0c3805-5d6c-4017-96c2-b11d0832b7d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39204,DS-8a18a30f-6767-40dd-8c0e-a30415bbb89e,DISK], DatanodeInfoWithStorage[127.0.0.1:45775,DS-2471f0be-74ec-4254-96e4-efbca6327cd8,DISK], DatanodeInfoWithStorage[127.0.0.1:36337,DS-37f632dd-8102-4f63-ba1e-be247c8a5795,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-affd43f0-8ccf-465b-a7aa-5ebd7e456a84,DISK], DatanodeInfoWithStorage[127.0.0.1:39479,DS-575cf305-3532-4eab-9a06-4f2c648f31e7,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-78146273-172.17.0.8-1596983517982:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46448,DS-27e5e963-671a-429f-b25e-011286a088c9,DISK], DatanodeInfoWithStorage[127.0.0.1:40959,DS-fd0c3805-5d6c-4017-96c2-b11d0832b7d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39204,DS-8a18a30f-6767-40dd-8c0e-a30415bbb89e,DISK], DatanodeInfoWithStorage[127.0.0.1:45775,DS-2471f0be-74ec-4254-96e4-efbca6327cd8,DISK], DatanodeInfoWithStorage[127.0.0.1:36337,DS-37f632dd-8102-4f63-ba1e-be247c8a5795,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-affd43f0-8ccf-465b-a7aa-5ebd7e456a84,DISK], DatanodeInfoWithStorage[127.0.0.1:39479,DS-575cf305-3532-4eab-9a06-4f2c648f31e7,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-78146273-172.17.0.8-1596983517982:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46448,DS-27e5e963-671a-429f-b25e-011286a088c9,DISK], DatanodeInfoWithStorage[127.0.0.1:40959,DS-fd0c3805-5d6c-4017-96c2-b11d0832b7d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39204,DS-8a18a30f-6767-40dd-8c0e-a30415bbb89e,DISK], DatanodeInfoWithStorage[127.0.0.1:45775,DS-2471f0be-74ec-4254-96e4-efbca6327cd8,DISK], DatanodeInfoWithStorage[127.0.0.1:36337,DS-37f632dd-8102-4f63-ba1e-be247c8a5795,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-affd43f0-8ccf-465b-a7aa-5ebd7e456a84,DISK], DatanodeInfoWithStorage[127.0.0.1:39479,DS-575cf305-3532-4eab-9a06-4f2c648f31e7,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-78146273-172.17.0.8-1596983517982:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46448,DS-27e5e963-671a-429f-b25e-011286a088c9,DISK], DatanodeInfoWithStorage[127.0.0.1:40959,DS-fd0c3805-5d6c-4017-96c2-b11d0832b7d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39204,DS-8a18a30f-6767-40dd-8c0e-a30415bbb89e,DISK], DatanodeInfoWithStorage[127.0.0.1:45775,DS-2471f0be-74ec-4254-96e4-efbca6327cd8,DISK], DatanodeInfoWithStorage[127.0.0.1:36337,DS-37f632dd-8102-4f63-ba1e-be247c8a5795,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-affd43f0-8ccf-465b-a7aa-5ebd7e456a84,DISK], DatanodeInfoWithStorage[127.0.0.1:39479,DS-575cf305-3532-4eab-9a06-4f2c648f31e7,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: test timed out after 60000 milliseconds
stackTrace: java.lang.Exception: test timed out after 60000 milliseconds
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.MiniDFSCluster.waitActive(MiniDFSCluster.java:2704)
	at org.apache.hadoop.hdfs.MiniDFSCluster.waitActive(MiniDFSCluster.java:2744)
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartNameNodes(MiniDFSCluster.java:2143)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:510)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: test timed out after 60000 milliseconds
stackTrace: java.lang.Exception: test timed out after 60000 milliseconds
	at java.lang.reflect.Array.get(Native Method)
	at org.junit.internal.ComparisonCriteria.arrayEquals(ComparisonCriteria.java:36)
	at org.junit.Assert.internalArrayEquals(Assert.java:473)
	at org.junit.Assert.assertArrayEquals(Assert.java:294)
	at org.junit.Assert.assertArrayEquals(Assert.java:305)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:551)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2077433592-172.17.0.8-1596984561942:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42173,DS-4190cb3d-685f-4438-8148-6b63241c0a44,DISK], DatanodeInfoWithStorage[127.0.0.1:44718,DS-afb2efde-d41a-47f7-8355-111b39cfc332,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-9a463305-be27-4eae-9dd3-773e3368dded,DISK], DatanodeInfoWithStorage[127.0.0.1:44448,DS-d084f1f3-a0bb-4551-9edf-e5872ede455f,DISK], DatanodeInfoWithStorage[127.0.0.1:44030,DS-e92189c0-3ee8-406d-ac62-0ff7ed2bf039,DISK], DatanodeInfoWithStorage[127.0.0.1:46192,DS-a4e88fb2-df6d-48f5-a04d-26ee07ce6b2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38666,DS-aa90c844-3673-444e-b160-672cdba76cf4,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2077433592-172.17.0.8-1596984561942:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42173,DS-4190cb3d-685f-4438-8148-6b63241c0a44,DISK], DatanodeInfoWithStorage[127.0.0.1:44718,DS-afb2efde-d41a-47f7-8355-111b39cfc332,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-9a463305-be27-4eae-9dd3-773e3368dded,DISK], DatanodeInfoWithStorage[127.0.0.1:44448,DS-d084f1f3-a0bb-4551-9edf-e5872ede455f,DISK], DatanodeInfoWithStorage[127.0.0.1:44030,DS-e92189c0-3ee8-406d-ac62-0ff7ed2bf039,DISK], DatanodeInfoWithStorage[127.0.0.1:46192,DS-a4e88fb2-df6d-48f5-a04d-26ee07ce6b2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38666,DS-aa90c844-3673-444e-b160-672cdba76cf4,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2077433592-172.17.0.8-1596984561942:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42173,DS-4190cb3d-685f-4438-8148-6b63241c0a44,DISK], DatanodeInfoWithStorage[127.0.0.1:44718,DS-afb2efde-d41a-47f7-8355-111b39cfc332,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-9a463305-be27-4eae-9dd3-773e3368dded,DISK], DatanodeInfoWithStorage[127.0.0.1:44448,DS-d084f1f3-a0bb-4551-9edf-e5872ede455f,DISK], DatanodeInfoWithStorage[127.0.0.1:44030,DS-e92189c0-3ee8-406d-ac62-0ff7ed2bf039,DISK], DatanodeInfoWithStorage[127.0.0.1:46192,DS-a4e88fb2-df6d-48f5-a04d-26ee07ce6b2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38666,DS-aa90c844-3673-444e-b160-672cdba76cf4,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2077433592-172.17.0.8-1596984561942:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42173,DS-4190cb3d-685f-4438-8148-6b63241c0a44,DISK], DatanodeInfoWithStorage[127.0.0.1:44718,DS-afb2efde-d41a-47f7-8355-111b39cfc332,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-9a463305-be27-4eae-9dd3-773e3368dded,DISK], DatanodeInfoWithStorage[127.0.0.1:44448,DS-d084f1f3-a0bb-4551-9edf-e5872ede455f,DISK], DatanodeInfoWithStorage[127.0.0.1:44030,DS-e92189c0-3ee8-406d-ac62-0ff7ed2bf039,DISK], DatanodeInfoWithStorage[127.0.0.1:46192,DS-a4e88fb2-df6d-48f5-a04d-26ee07ce6b2b,DISK], DatanodeInfoWithStorage[127.0.0.1:38666,DS-aa90c844-3673-444e-b160-672cdba76cf4,DISK]]; indices=[0, 1, 2, 3, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-333138286-172.17.0.8-1596984838038:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44966,DS-d87f03f1-3a79-4545-a475-113d7f8b99a2,DISK], DatanodeInfoWithStorage[127.0.0.1:33717,DS-4ddb38a0-101f-49b4-a71a-038980cfab2a,DISK], DatanodeInfoWithStorage[127.0.0.1:36967,DS-2688d32c-3146-4f8f-be23-41b99bbaa60a,DISK], DatanodeInfoWithStorage[127.0.0.1:41565,DS-e75dd2a2-31ff-4c7c-b972-c7084aa78403,DISK], DatanodeInfoWithStorage[127.0.0.1:42046,DS-4ffd436f-163d-4a04-9a2e-9328d61cbd33,DISK]]; indices=[0, 1, 2, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-333138286-172.17.0.8-1596984838038:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44966,DS-d87f03f1-3a79-4545-a475-113d7f8b99a2,DISK], DatanodeInfoWithStorage[127.0.0.1:33717,DS-4ddb38a0-101f-49b4-a71a-038980cfab2a,DISK], DatanodeInfoWithStorage[127.0.0.1:36967,DS-2688d32c-3146-4f8f-be23-41b99bbaa60a,DISK], DatanodeInfoWithStorage[127.0.0.1:41565,DS-e75dd2a2-31ff-4c7c-b972-c7084aa78403,DISK], DatanodeInfoWithStorage[127.0.0.1:42046,DS-4ffd436f-163d-4a04-9a2e-9328d61cbd33,DISK]]; indices=[0, 1, 2, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-333138286-172.17.0.8-1596984838038:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44966,DS-d87f03f1-3a79-4545-a475-113d7f8b99a2,DISK], DatanodeInfoWithStorage[127.0.0.1:33717,DS-4ddb38a0-101f-49b4-a71a-038980cfab2a,DISK], DatanodeInfoWithStorage[127.0.0.1:36967,DS-2688d32c-3146-4f8f-be23-41b99bbaa60a,DISK], DatanodeInfoWithStorage[127.0.0.1:41565,DS-e75dd2a2-31ff-4c7c-b972-c7084aa78403,DISK], DatanodeInfoWithStorage[127.0.0.1:42046,DS-4ffd436f-163d-4a04-9a2e-9328d61cbd33,DISK]]; indices=[0, 1, 2, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-333138286-172.17.0.8-1596984838038:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44966,DS-d87f03f1-3a79-4545-a475-113d7f8b99a2,DISK], DatanodeInfoWithStorage[127.0.0.1:33717,DS-4ddb38a0-101f-49b4-a71a-038980cfab2a,DISK], DatanodeInfoWithStorage[127.0.0.1:36967,DS-2688d32c-3146-4f8f-be23-41b99bbaa60a,DISK], DatanodeInfoWithStorage[127.0.0.1:41565,DS-e75dd2a2-31ff-4c7c-b972-c7084aa78403,DISK], DatanodeInfoWithStorage[127.0.0.1:42046,DS-4ffd436f-163d-4a04-9a2e-9328d61cbd33,DISK]]; indices=[0, 1, 2, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1865076182-172.17.0.8-1596985334827:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36114,DS-a3c4e380-ff7b-4f9b-98af-e22c8f92c7b5,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-92a9bf84-9351-471a-8631-0870202a7ece,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-bad40100-8cf2-4e5d-95aa-ee392a7e741e,DISK], DatanodeInfoWithStorage[127.0.0.1:45939,DS-30de8348-077e-4797-acc4-a8c583f63edb,DISK], DatanodeInfoWithStorage[127.0.0.1:38410,DS-b23ee865-405e-4e62-9757-4e9df4e76944,DISK], DatanodeInfoWithStorage[127.0.0.1:34743,DS-1b554406-c800-4e7c-8b2c-7d78a037eb37,DISK]]; indices=[0, 1, 4, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1865076182-172.17.0.8-1596985334827:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36114,DS-a3c4e380-ff7b-4f9b-98af-e22c8f92c7b5,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-92a9bf84-9351-471a-8631-0870202a7ece,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-bad40100-8cf2-4e5d-95aa-ee392a7e741e,DISK], DatanodeInfoWithStorage[127.0.0.1:45939,DS-30de8348-077e-4797-acc4-a8c583f63edb,DISK], DatanodeInfoWithStorage[127.0.0.1:38410,DS-b23ee865-405e-4e62-9757-4e9df4e76944,DISK], DatanodeInfoWithStorage[127.0.0.1:34743,DS-1b554406-c800-4e7c-8b2c-7d78a037eb37,DISK]]; indices=[0, 1, 4, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1865076182-172.17.0.8-1596985334827:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36114,DS-a3c4e380-ff7b-4f9b-98af-e22c8f92c7b5,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-92a9bf84-9351-471a-8631-0870202a7ece,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-bad40100-8cf2-4e5d-95aa-ee392a7e741e,DISK], DatanodeInfoWithStorage[127.0.0.1:45939,DS-30de8348-077e-4797-acc4-a8c583f63edb,DISK], DatanodeInfoWithStorage[127.0.0.1:38410,DS-b23ee865-405e-4e62-9757-4e9df4e76944,DISK], DatanodeInfoWithStorage[127.0.0.1:34743,DS-1b554406-c800-4e7c-8b2c-7d78a037eb37,DISK]]; indices=[0, 1, 4, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1865076182-172.17.0.8-1596985334827:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36114,DS-a3c4e380-ff7b-4f9b-98af-e22c8f92c7b5,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-92a9bf84-9351-471a-8631-0870202a7ece,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-bad40100-8cf2-4e5d-95aa-ee392a7e741e,DISK], DatanodeInfoWithStorage[127.0.0.1:45939,DS-30de8348-077e-4797-acc4-a8c583f63edb,DISK], DatanodeInfoWithStorage[127.0.0.1:38410,DS-b23ee865-405e-4e62-9757-4e9df4e76944,DISK], DatanodeInfoWithStorage[127.0.0.1:34743,DS-1b554406-c800-4e7c-8b2c-7d78a037eb37,DISK]]; indices=[0, 1, 4, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1622657668-172.17.0.8-1596985417912:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44019,DS-642ee58a-41a5-4483-8873-ea98a58607b5,DISK], DatanodeInfoWithStorage[127.0.0.1:39467,DS-60dbb856-c977-4466-bd9a-5ca19d2bd692,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-dd966e17-d44f-4f5a-869e-588bec205553,DISK], DatanodeInfoWithStorage[127.0.0.1:43167,DS-80b5a3d0-89ee-4093-992f-cdd892780789,DISK], DatanodeInfoWithStorage[127.0.0.1:35554,DS-2ad42931-bad2-452d-ad51-42f89921be4f,DISK]]; indices=[2, 4, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1622657668-172.17.0.8-1596985417912:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44019,DS-642ee58a-41a5-4483-8873-ea98a58607b5,DISK], DatanodeInfoWithStorage[127.0.0.1:39467,DS-60dbb856-c977-4466-bd9a-5ca19d2bd692,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-dd966e17-d44f-4f5a-869e-588bec205553,DISK], DatanodeInfoWithStorage[127.0.0.1:43167,DS-80b5a3d0-89ee-4093-992f-cdd892780789,DISK], DatanodeInfoWithStorage[127.0.0.1:35554,DS-2ad42931-bad2-452d-ad51-42f89921be4f,DISK]]; indices=[2, 4, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1622657668-172.17.0.8-1596985417912:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44019,DS-642ee58a-41a5-4483-8873-ea98a58607b5,DISK], DatanodeInfoWithStorage[127.0.0.1:39467,DS-60dbb856-c977-4466-bd9a-5ca19d2bd692,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-dd966e17-d44f-4f5a-869e-588bec205553,DISK], DatanodeInfoWithStorage[127.0.0.1:43167,DS-80b5a3d0-89ee-4093-992f-cdd892780789,DISK], DatanodeInfoWithStorage[127.0.0.1:35554,DS-2ad42931-bad2-452d-ad51-42f89921be4f,DISK]]; indices=[2, 4, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1622657668-172.17.0.8-1596985417912:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44019,DS-642ee58a-41a5-4483-8873-ea98a58607b5,DISK], DatanodeInfoWithStorage[127.0.0.1:39467,DS-60dbb856-c977-4466-bd9a-5ca19d2bd692,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-dd966e17-d44f-4f5a-869e-588bec205553,DISK], DatanodeInfoWithStorage[127.0.0.1:43167,DS-80b5a3d0-89ee-4093-992f-cdd892780789,DISK], DatanodeInfoWithStorage[127.0.0.1:35554,DS-2ad42931-bad2-452d-ad51-42f89921be4f,DISK]]; indices=[2, 4, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-902408678-172.17.0.8-1596986349397:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36058,DS-cefe571f-1348-4646-b422-f51cedd4dfa2,DISK], DatanodeInfoWithStorage[127.0.0.1:46734,DS-258a811d-5703-45f2-9c4f-db24ace6f116,DISK], DatanodeInfoWithStorage[127.0.0.1:36443,DS-0d802b1d-d3bc-4950-82a2-e75753e2a659,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-1a2a0e70-3a94-4f9e-af9b-ba4fd71b4623,DISK], DatanodeInfoWithStorage[127.0.0.1:42305,DS-e5f17ada-a2e4-4a3d-81e0-f3afdc8019e1,DISK], DatanodeInfoWithStorage[127.0.0.1:35835,DS-ccf52498-a8e6-438f-96f3-1316f80b9166,DISK], DatanodeInfoWithStorage[127.0.0.1:44261,DS-62aedcfa-aa0b-489b-a6c1-f7087a706ba6,DISK]]; indices=[0, 1, 3, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-902408678-172.17.0.8-1596986349397:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36058,DS-cefe571f-1348-4646-b422-f51cedd4dfa2,DISK], DatanodeInfoWithStorage[127.0.0.1:46734,DS-258a811d-5703-45f2-9c4f-db24ace6f116,DISK], DatanodeInfoWithStorage[127.0.0.1:36443,DS-0d802b1d-d3bc-4950-82a2-e75753e2a659,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-1a2a0e70-3a94-4f9e-af9b-ba4fd71b4623,DISK], DatanodeInfoWithStorage[127.0.0.1:42305,DS-e5f17ada-a2e4-4a3d-81e0-f3afdc8019e1,DISK], DatanodeInfoWithStorage[127.0.0.1:35835,DS-ccf52498-a8e6-438f-96f3-1316f80b9166,DISK], DatanodeInfoWithStorage[127.0.0.1:44261,DS-62aedcfa-aa0b-489b-a6c1-f7087a706ba6,DISK]]; indices=[0, 1, 3, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-902408678-172.17.0.8-1596986349397:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36058,DS-cefe571f-1348-4646-b422-f51cedd4dfa2,DISK], DatanodeInfoWithStorage[127.0.0.1:46734,DS-258a811d-5703-45f2-9c4f-db24ace6f116,DISK], DatanodeInfoWithStorage[127.0.0.1:36443,DS-0d802b1d-d3bc-4950-82a2-e75753e2a659,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-1a2a0e70-3a94-4f9e-af9b-ba4fd71b4623,DISK], DatanodeInfoWithStorage[127.0.0.1:42305,DS-e5f17ada-a2e4-4a3d-81e0-f3afdc8019e1,DISK], DatanodeInfoWithStorage[127.0.0.1:35835,DS-ccf52498-a8e6-438f-96f3-1316f80b9166,DISK], DatanodeInfoWithStorage[127.0.0.1:44261,DS-62aedcfa-aa0b-489b-a6c1-f7087a706ba6,DISK]]; indices=[0, 1, 3, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-902408678-172.17.0.8-1596986349397:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36058,DS-cefe571f-1348-4646-b422-f51cedd4dfa2,DISK], DatanodeInfoWithStorage[127.0.0.1:46734,DS-258a811d-5703-45f2-9c4f-db24ace6f116,DISK], DatanodeInfoWithStorage[127.0.0.1:36443,DS-0d802b1d-d3bc-4950-82a2-e75753e2a659,DISK], DatanodeInfoWithStorage[127.0.0.1:41966,DS-1a2a0e70-3a94-4f9e-af9b-ba4fd71b4623,DISK], DatanodeInfoWithStorage[127.0.0.1:42305,DS-e5f17ada-a2e4-4a3d-81e0-f3afdc8019e1,DISK], DatanodeInfoWithStorage[127.0.0.1:35835,DS-ccf52498-a8e6-438f-96f3-1316f80b9166,DISK], DatanodeInfoWithStorage[127.0.0.1:44261,DS-62aedcfa-aa0b-489b-a6c1-f7087a706ba6,DISK]]; indices=[0, 1, 3, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1402441987-172.17.0.8-1596986437281:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39602,DS-0892b6df-b91a-47b0-8e75-f7c7fc14067f,DISK], DatanodeInfoWithStorage[127.0.0.1:43602,DS-24be86d8-bb19-4237-8c33-48a256f82222,DISK], DatanodeInfoWithStorage[127.0.0.1:44952,DS-a85f3fdf-8220-49c3-a238-97fe56425e8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42277,DS-5f184879-47b7-4b70-940d-30226086de67,DISK]]; indices=[1, 4, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1402441987-172.17.0.8-1596986437281:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39602,DS-0892b6df-b91a-47b0-8e75-f7c7fc14067f,DISK], DatanodeInfoWithStorage[127.0.0.1:43602,DS-24be86d8-bb19-4237-8c33-48a256f82222,DISK], DatanodeInfoWithStorage[127.0.0.1:44952,DS-a85f3fdf-8220-49c3-a238-97fe56425e8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42277,DS-5f184879-47b7-4b70-940d-30226086de67,DISK]]; indices=[1, 4, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1402441987-172.17.0.8-1596986437281:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39602,DS-0892b6df-b91a-47b0-8e75-f7c7fc14067f,DISK], DatanodeInfoWithStorage[127.0.0.1:43602,DS-24be86d8-bb19-4237-8c33-48a256f82222,DISK], DatanodeInfoWithStorage[127.0.0.1:44952,DS-a85f3fdf-8220-49c3-a238-97fe56425e8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42277,DS-5f184879-47b7-4b70-940d-30226086de67,DISK]]; indices=[1, 4, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1402441987-172.17.0.8-1596986437281:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39602,DS-0892b6df-b91a-47b0-8e75-f7c7fc14067f,DISK], DatanodeInfoWithStorage[127.0.0.1:43602,DS-24be86d8-bb19-4237-8c33-48a256f82222,DISK], DatanodeInfoWithStorage[127.0.0.1:44952,DS-a85f3fdf-8220-49c3-a238-97fe56425e8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42277,DS-5f184879-47b7-4b70-940d-30226086de67,DISK]]; indices=[1, 4, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-787640430-172.17.0.8-1596987206083:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34329,DS-9088cc1d-224a-4fff-9632-283cea08e1ca,DISK], DatanodeInfoWithStorage[127.0.0.1:39081,DS-86bae4fa-5580-43b9-9ff5-58a93efa5102,DISK], DatanodeInfoWithStorage[127.0.0.1:40711,DS-6aebbef4-a08e-4ef9-ba7f-f94767f7e7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:33707,DS-fc2b36c4-d363-424c-987f-81ac93e730ae,DISK], DatanodeInfoWithStorage[127.0.0.1:41977,DS-ca8ac4b1-192b-4e70-9f5d-b3a4f4e02749,DISK], DatanodeInfoWithStorage[127.0.0.1:37960,DS-ad8c9f5e-5bba-4cf4-b6a7-391e7f217e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37324,DS-4db5a1e4-8761-4472-b54c-42591d290142,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-787640430-172.17.0.8-1596987206083:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34329,DS-9088cc1d-224a-4fff-9632-283cea08e1ca,DISK], DatanodeInfoWithStorage[127.0.0.1:39081,DS-86bae4fa-5580-43b9-9ff5-58a93efa5102,DISK], DatanodeInfoWithStorage[127.0.0.1:40711,DS-6aebbef4-a08e-4ef9-ba7f-f94767f7e7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:33707,DS-fc2b36c4-d363-424c-987f-81ac93e730ae,DISK], DatanodeInfoWithStorage[127.0.0.1:41977,DS-ca8ac4b1-192b-4e70-9f5d-b3a4f4e02749,DISK], DatanodeInfoWithStorage[127.0.0.1:37960,DS-ad8c9f5e-5bba-4cf4-b6a7-391e7f217e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37324,DS-4db5a1e4-8761-4472-b54c-42591d290142,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-787640430-172.17.0.8-1596987206083:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34329,DS-9088cc1d-224a-4fff-9632-283cea08e1ca,DISK], DatanodeInfoWithStorage[127.0.0.1:39081,DS-86bae4fa-5580-43b9-9ff5-58a93efa5102,DISK], DatanodeInfoWithStorage[127.0.0.1:40711,DS-6aebbef4-a08e-4ef9-ba7f-f94767f7e7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:33707,DS-fc2b36c4-d363-424c-987f-81ac93e730ae,DISK], DatanodeInfoWithStorage[127.0.0.1:41977,DS-ca8ac4b1-192b-4e70-9f5d-b3a4f4e02749,DISK], DatanodeInfoWithStorage[127.0.0.1:37960,DS-ad8c9f5e-5bba-4cf4-b6a7-391e7f217e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37324,DS-4db5a1e4-8761-4472-b54c-42591d290142,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-787640430-172.17.0.8-1596987206083:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34329,DS-9088cc1d-224a-4fff-9632-283cea08e1ca,DISK], DatanodeInfoWithStorage[127.0.0.1:39081,DS-86bae4fa-5580-43b9-9ff5-58a93efa5102,DISK], DatanodeInfoWithStorage[127.0.0.1:40711,DS-6aebbef4-a08e-4ef9-ba7f-f94767f7e7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:33707,DS-fc2b36c4-d363-424c-987f-81ac93e730ae,DISK], DatanodeInfoWithStorage[127.0.0.1:41977,DS-ca8ac4b1-192b-4e70-9f5d-b3a4f4e02749,DISK], DatanodeInfoWithStorage[127.0.0.1:37960,DS-ad8c9f5e-5bba-4cf4-b6a7-391e7f217e20,DISK], DatanodeInfoWithStorage[127.0.0.1:37324,DS-4db5a1e4-8761-4472-b54c-42591d290142,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.peer.stats.enabled
component: hdfs:DataNode
v1: false
v2: true
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-83283680-172.17.0.8-1596987734644:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42929,DS-7eff0c94-01e7-4c48-974f-aa907eaba02a,DISK], DatanodeInfoWithStorage[127.0.0.1:42113,DS-808e5c63-6b0f-436d-98a8-f3c01645c8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:36846,DS-18b76f47-116f-45a0-8bdb-958f01491d48,DISK], DatanodeInfoWithStorage[127.0.0.1:43155,DS-d2d13b5f-37e5-49a1-9af3-93ea510c1dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:33819,DS-e421c5cf-5879-4ce3-b32f-0ca96ef815a1,DISK], DatanodeInfoWithStorage[127.0.0.1:38771,DS-7052b30e-7ef1-42fd-9941-68af52e27ff7,DISK]]; indices=[0, 1, 2, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-83283680-172.17.0.8-1596987734644:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42929,DS-7eff0c94-01e7-4c48-974f-aa907eaba02a,DISK], DatanodeInfoWithStorage[127.0.0.1:42113,DS-808e5c63-6b0f-436d-98a8-f3c01645c8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:36846,DS-18b76f47-116f-45a0-8bdb-958f01491d48,DISK], DatanodeInfoWithStorage[127.0.0.1:43155,DS-d2d13b5f-37e5-49a1-9af3-93ea510c1dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:33819,DS-e421c5cf-5879-4ce3-b32f-0ca96ef815a1,DISK], DatanodeInfoWithStorage[127.0.0.1:38771,DS-7052b30e-7ef1-42fd-9941-68af52e27ff7,DISK]]; indices=[0, 1, 2, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-83283680-172.17.0.8-1596987734644:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42929,DS-7eff0c94-01e7-4c48-974f-aa907eaba02a,DISK], DatanodeInfoWithStorage[127.0.0.1:42113,DS-808e5c63-6b0f-436d-98a8-f3c01645c8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:36846,DS-18b76f47-116f-45a0-8bdb-958f01491d48,DISK], DatanodeInfoWithStorage[127.0.0.1:43155,DS-d2d13b5f-37e5-49a1-9af3-93ea510c1dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:33819,DS-e421c5cf-5879-4ce3-b32f-0ca96ef815a1,DISK], DatanodeInfoWithStorage[127.0.0.1:38771,DS-7052b30e-7ef1-42fd-9941-68af52e27ff7,DISK]]; indices=[0, 1, 2, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-83283680-172.17.0.8-1596987734644:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42929,DS-7eff0c94-01e7-4c48-974f-aa907eaba02a,DISK], DatanodeInfoWithStorage[127.0.0.1:42113,DS-808e5c63-6b0f-436d-98a8-f3c01645c8e9,DISK], DatanodeInfoWithStorage[127.0.0.1:36846,DS-18b76f47-116f-45a0-8bdb-958f01491d48,DISK], DatanodeInfoWithStorage[127.0.0.1:43155,DS-d2d13b5f-37e5-49a1-9af3-93ea510c1dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:33819,DS-e421c5cf-5879-4ce3-b32f-0ca96ef815a1,DISK], DatanodeInfoWithStorage[127.0.0.1:38771,DS-7052b30e-7ef1-42fd-9941-68af52e27ff7,DISK]]; indices=[0, 1, 2, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


v1v2 failed with probability 6 out of 50
v1v1v2v2 failed with probability 14 out of 50
result: false positive !!!
Total execution time in seconds : 6673
