reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1052904011-172.17.0.20-1597311288613:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33311,DS-4af908f3-dff8-466d-b45a-77817b111cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-cd7af68d-7feb-4748-94d6-f59a49f6fa70,DISK], DatanodeInfoWithStorage[127.0.0.1:41503,DS-534e507d-8172-4777-b6a9-b499d49de1c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44160,DS-131d48de-5e7d-44d9-9422-ed59da995d19,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-45ae1021-89fa-4629-96e0-d83ebfd327b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46089,DS-0fe27546-13ec-4938-9794-4edbf96e33a4,DISK]]; indices=[0, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1052904011-172.17.0.20-1597311288613:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33311,DS-4af908f3-dff8-466d-b45a-77817b111cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-cd7af68d-7feb-4748-94d6-f59a49f6fa70,DISK], DatanodeInfoWithStorage[127.0.0.1:41503,DS-534e507d-8172-4777-b6a9-b499d49de1c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44160,DS-131d48de-5e7d-44d9-9422-ed59da995d19,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-45ae1021-89fa-4629-96e0-d83ebfd327b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46089,DS-0fe27546-13ec-4938-9794-4edbf96e33a4,DISK]]; indices=[0, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1052904011-172.17.0.20-1597311288613:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33311,DS-4af908f3-dff8-466d-b45a-77817b111cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-cd7af68d-7feb-4748-94d6-f59a49f6fa70,DISK], DatanodeInfoWithStorage[127.0.0.1:41503,DS-534e507d-8172-4777-b6a9-b499d49de1c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44160,DS-131d48de-5e7d-44d9-9422-ed59da995d19,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-45ae1021-89fa-4629-96e0-d83ebfd327b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46089,DS-0fe27546-13ec-4938-9794-4edbf96e33a4,DISK]]; indices=[0, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1052904011-172.17.0.20-1597311288613:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33311,DS-4af908f3-dff8-466d-b45a-77817b111cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-cd7af68d-7feb-4748-94d6-f59a49f6fa70,DISK], DatanodeInfoWithStorage[127.0.0.1:41503,DS-534e507d-8172-4777-b6a9-b499d49de1c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44160,DS-131d48de-5e7d-44d9-9422-ed59da995d19,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-45ae1021-89fa-4629-96e0-d83ebfd327b0,DISK], DatanodeInfoWithStorage[127.0.0.1:46089,DS-0fe27546-13ec-4938-9794-4edbf96e33a4,DISK]]; indices=[0, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-191309236-172.17.0.20-1597311829337:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44275,DS-63cb5834-27a7-4d10-8b3d-df496f2ca287,DISK], DatanodeInfoWithStorage[127.0.0.1:36448,DS-d7606800-ef67-4aec-bdb6-781dc35f63e1,DISK], DatanodeInfoWithStorage[127.0.0.1:33876,DS-3123e874-9f51-4e1a-aeef-6e09ff980bb7,DISK], DatanodeInfoWithStorage[127.0.0.1:44814,DS-c1b6d5dc-9bd0-4129-9ec0-8704daa3b93f,DISK], DatanodeInfoWithStorage[127.0.0.1:44793,DS-507ef7c0-dc76-4f55-ad52-2d16b0e73ffe,DISK], DatanodeInfoWithStorage[127.0.0.1:44675,DS-4eac2343-37f4-4ee6-af14-c13ab3c54174,DISK]]; indices=[0, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-191309236-172.17.0.20-1597311829337:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44275,DS-63cb5834-27a7-4d10-8b3d-df496f2ca287,DISK], DatanodeInfoWithStorage[127.0.0.1:36448,DS-d7606800-ef67-4aec-bdb6-781dc35f63e1,DISK], DatanodeInfoWithStorage[127.0.0.1:33876,DS-3123e874-9f51-4e1a-aeef-6e09ff980bb7,DISK], DatanodeInfoWithStorage[127.0.0.1:44814,DS-c1b6d5dc-9bd0-4129-9ec0-8704daa3b93f,DISK], DatanodeInfoWithStorage[127.0.0.1:44793,DS-507ef7c0-dc76-4f55-ad52-2d16b0e73ffe,DISK], DatanodeInfoWithStorage[127.0.0.1:44675,DS-4eac2343-37f4-4ee6-af14-c13ab3c54174,DISK]]; indices=[0, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-191309236-172.17.0.20-1597311829337:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44275,DS-63cb5834-27a7-4d10-8b3d-df496f2ca287,DISK], DatanodeInfoWithStorage[127.0.0.1:36448,DS-d7606800-ef67-4aec-bdb6-781dc35f63e1,DISK], DatanodeInfoWithStorage[127.0.0.1:33876,DS-3123e874-9f51-4e1a-aeef-6e09ff980bb7,DISK], DatanodeInfoWithStorage[127.0.0.1:44814,DS-c1b6d5dc-9bd0-4129-9ec0-8704daa3b93f,DISK], DatanodeInfoWithStorage[127.0.0.1:44793,DS-507ef7c0-dc76-4f55-ad52-2d16b0e73ffe,DISK], DatanodeInfoWithStorage[127.0.0.1:44675,DS-4eac2343-37f4-4ee6-af14-c13ab3c54174,DISK]]; indices=[0, 2, 3, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-191309236-172.17.0.20-1597311829337:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44275,DS-63cb5834-27a7-4d10-8b3d-df496f2ca287,DISK], DatanodeInfoWithStorage[127.0.0.1:36448,DS-d7606800-ef67-4aec-bdb6-781dc35f63e1,DISK], DatanodeInfoWithStorage[127.0.0.1:33876,DS-3123e874-9f51-4e1a-aeef-6e09ff980bb7,DISK], DatanodeInfoWithStorage[127.0.0.1:44814,DS-c1b6d5dc-9bd0-4129-9ec0-8704daa3b93f,DISK], DatanodeInfoWithStorage[127.0.0.1:44793,DS-507ef7c0-dc76-4f55-ad52-2d16b0e73ffe,DISK], DatanodeInfoWithStorage[127.0.0.1:44675,DS-4eac2343-37f4-4ee6-af14-c13ab3c54174,DISK]]; indices=[0, 2, 3, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1154006584-172.17.0.20-1597311998290:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37965,DS-7901327a-aa2d-4c62-85b2-2d8250571243,DISK], DatanodeInfoWithStorage[127.0.0.1:42806,DS-904ef5df-2b2d-4330-b44e-34833cd5dd97,DISK], DatanodeInfoWithStorage[127.0.0.1:43284,DS-963eaa48-b1ae-44b1-9de1-bfe1c3c2f33e,DISK], DatanodeInfoWithStorage[127.0.0.1:38945,DS-42be329e-eebb-47b6-903d-6fad97866f42,DISK], DatanodeInfoWithStorage[127.0.0.1:39369,DS-e8f45014-52fa-4f18-9531-73223c48c576,DISK], DatanodeInfoWithStorage[127.0.0.1:38506,DS-99a17269-c51f-4860-b920-8d63ac34d043,DISK], DatanodeInfoWithStorage[127.0.0.1:43660,DS-910e5087-c039-4238-a9ef-52cfe8870df5,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1154006584-172.17.0.20-1597311998290:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37965,DS-7901327a-aa2d-4c62-85b2-2d8250571243,DISK], DatanodeInfoWithStorage[127.0.0.1:42806,DS-904ef5df-2b2d-4330-b44e-34833cd5dd97,DISK], DatanodeInfoWithStorage[127.0.0.1:43284,DS-963eaa48-b1ae-44b1-9de1-bfe1c3c2f33e,DISK], DatanodeInfoWithStorage[127.0.0.1:38945,DS-42be329e-eebb-47b6-903d-6fad97866f42,DISK], DatanodeInfoWithStorage[127.0.0.1:39369,DS-e8f45014-52fa-4f18-9531-73223c48c576,DISK], DatanodeInfoWithStorage[127.0.0.1:43660,DS-910e5087-c039-4238-a9ef-52cfe8870df5,DISK]]; indices=[0, 1, 2, 3, 4, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1154006584-172.17.0.20-1597311998290:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37965,DS-7901327a-aa2d-4c62-85b2-2d8250571243,DISK], DatanodeInfoWithStorage[127.0.0.1:42806,DS-904ef5df-2b2d-4330-b44e-34833cd5dd97,DISK], DatanodeInfoWithStorage[127.0.0.1:43284,DS-963eaa48-b1ae-44b1-9de1-bfe1c3c2f33e,DISK], DatanodeInfoWithStorage[127.0.0.1:38945,DS-42be329e-eebb-47b6-903d-6fad97866f42,DISK], DatanodeInfoWithStorage[127.0.0.1:39369,DS-e8f45014-52fa-4f18-9531-73223c48c576,DISK], DatanodeInfoWithStorage[127.0.0.1:38506,DS-99a17269-c51f-4860-b920-8d63ac34d043,DISK], DatanodeInfoWithStorage[127.0.0.1:43660,DS-910e5087-c039-4238-a9ef-52cfe8870df5,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1154006584-172.17.0.20-1597311998290:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37965,DS-7901327a-aa2d-4c62-85b2-2d8250571243,DISK], DatanodeInfoWithStorage[127.0.0.1:42806,DS-904ef5df-2b2d-4330-b44e-34833cd5dd97,DISK], DatanodeInfoWithStorage[127.0.0.1:43284,DS-963eaa48-b1ae-44b1-9de1-bfe1c3c2f33e,DISK], DatanodeInfoWithStorage[127.0.0.1:38945,DS-42be329e-eebb-47b6-903d-6fad97866f42,DISK], DatanodeInfoWithStorage[127.0.0.1:39369,DS-e8f45014-52fa-4f18-9531-73223c48c576,DISK], DatanodeInfoWithStorage[127.0.0.1:43660,DS-910e5087-c039-4238-a9ef-52cfe8870df5,DISK]]; indices=[0, 1, 2, 3, 4, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-768034747-172.17.0.20-1597312257105:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38955,DS-008b9c05-1c70-4163-aa6f-4da8865d351b,DISK], DatanodeInfoWithStorage[127.0.0.1:43012,DS-c0c2cee0-f3a6-4c07-bbdc-cd62317e5d84,DISK], DatanodeInfoWithStorage[127.0.0.1:40905,DS-f3f309e7-b016-475a-b7e6-e33fbf09e1c6,DISK], DatanodeInfoWithStorage[127.0.0.1:37186,DS-cbc53930-fed3-4ed5-a5d3-dc67101357ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45813,DS-d2ea8fb1-afe6-44d8-b6f4-28ef8eb4eccf,DISK], DatanodeInfoWithStorage[127.0.0.1:38363,DS-13a0fbe1-5fb0-4b7a-8b54-95ed11ef4558,DISK]]; indices=[0, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-768034747-172.17.0.20-1597312257105:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38955,DS-008b9c05-1c70-4163-aa6f-4da8865d351b,DISK], DatanodeInfoWithStorage[127.0.0.1:43012,DS-c0c2cee0-f3a6-4c07-bbdc-cd62317e5d84,DISK], DatanodeInfoWithStorage[127.0.0.1:40905,DS-f3f309e7-b016-475a-b7e6-e33fbf09e1c6,DISK], DatanodeInfoWithStorage[127.0.0.1:37186,DS-cbc53930-fed3-4ed5-a5d3-dc67101357ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45813,DS-d2ea8fb1-afe6-44d8-b6f4-28ef8eb4eccf,DISK], DatanodeInfoWithStorage[127.0.0.1:38363,DS-13a0fbe1-5fb0-4b7a-8b54-95ed11ef4558,DISK]]; indices=[0, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-768034747-172.17.0.20-1597312257105:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38955,DS-008b9c05-1c70-4163-aa6f-4da8865d351b,DISK], DatanodeInfoWithStorage[127.0.0.1:43012,DS-c0c2cee0-f3a6-4c07-bbdc-cd62317e5d84,DISK], DatanodeInfoWithStorage[127.0.0.1:40905,DS-f3f309e7-b016-475a-b7e6-e33fbf09e1c6,DISK], DatanodeInfoWithStorage[127.0.0.1:37186,DS-cbc53930-fed3-4ed5-a5d3-dc67101357ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45813,DS-d2ea8fb1-afe6-44d8-b6f4-28ef8eb4eccf,DISK], DatanodeInfoWithStorage[127.0.0.1:38363,DS-13a0fbe1-5fb0-4b7a-8b54-95ed11ef4558,DISK]]; indices=[0, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-768034747-172.17.0.20-1597312257105:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38955,DS-008b9c05-1c70-4163-aa6f-4da8865d351b,DISK], DatanodeInfoWithStorage[127.0.0.1:43012,DS-c0c2cee0-f3a6-4c07-bbdc-cd62317e5d84,DISK], DatanodeInfoWithStorage[127.0.0.1:40905,DS-f3f309e7-b016-475a-b7e6-e33fbf09e1c6,DISK], DatanodeInfoWithStorage[127.0.0.1:37186,DS-cbc53930-fed3-4ed5-a5d3-dc67101357ea,DISK], DatanodeInfoWithStorage[127.0.0.1:45813,DS-d2ea8fb1-afe6-44d8-b6f4-28ef8eb4eccf,DISK], DatanodeInfoWithStorage[127.0.0.1:38363,DS-13a0fbe1-5fb0-4b7a-8b54-95ed11ef4558,DISK]]; indices=[0, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-461313722-172.17.0.20-1597312441922:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43072,DS-e73a9c79-b16f-4df5-b90e-5b6e94e7b199,DISK], DatanodeInfoWithStorage[127.0.0.1:35144,DS-b9644615-c4ea-4b98-b751-2d95b93fa4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:37325,DS-241fe905-fdd3-4d07-8c55-8d17bd0cd58c,DISK], DatanodeInfoWithStorage[127.0.0.1:40566,DS-7692e430-5caa-4ad2-9e54-d7abcea7d5bb,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-a7af56b6-4a40-4295-927d-eebd58cb8b86,DISK], DatanodeInfoWithStorage[127.0.0.1:34275,DS-6692379e-260f-4e7c-87eb-922c09c04385,DISK]]; indices=[0, 1, 2, 3, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-461313722-172.17.0.20-1597312441922:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43072,DS-e73a9c79-b16f-4df5-b90e-5b6e94e7b199,DISK], DatanodeInfoWithStorage[127.0.0.1:35144,DS-b9644615-c4ea-4b98-b751-2d95b93fa4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:37325,DS-241fe905-fdd3-4d07-8c55-8d17bd0cd58c,DISK], DatanodeInfoWithStorage[127.0.0.1:40566,DS-7692e430-5caa-4ad2-9e54-d7abcea7d5bb,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-a7af56b6-4a40-4295-927d-eebd58cb8b86,DISK], DatanodeInfoWithStorage[127.0.0.1:34275,DS-6692379e-260f-4e7c-87eb-922c09c04385,DISK]]; indices=[0, 1, 2, 3, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-461313722-172.17.0.20-1597312441922:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43072,DS-e73a9c79-b16f-4df5-b90e-5b6e94e7b199,DISK], DatanodeInfoWithStorage[127.0.0.1:35144,DS-b9644615-c4ea-4b98-b751-2d95b93fa4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:37325,DS-241fe905-fdd3-4d07-8c55-8d17bd0cd58c,DISK], DatanodeInfoWithStorage[127.0.0.1:40566,DS-7692e430-5caa-4ad2-9e54-d7abcea7d5bb,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-a7af56b6-4a40-4295-927d-eebd58cb8b86,DISK], DatanodeInfoWithStorage[127.0.0.1:34275,DS-6692379e-260f-4e7c-87eb-922c09c04385,DISK]]; indices=[0, 1, 2, 3, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-461313722-172.17.0.20-1597312441922:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43072,DS-e73a9c79-b16f-4df5-b90e-5b6e94e7b199,DISK], DatanodeInfoWithStorage[127.0.0.1:35144,DS-b9644615-c4ea-4b98-b751-2d95b93fa4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:37325,DS-241fe905-fdd3-4d07-8c55-8d17bd0cd58c,DISK], DatanodeInfoWithStorage[127.0.0.1:40566,DS-7692e430-5caa-4ad2-9e54-d7abcea7d5bb,DISK], DatanodeInfoWithStorage[127.0.0.1:33058,DS-a7af56b6-4a40-4295-927d-eebd58cb8b86,DISK], DatanodeInfoWithStorage[127.0.0.1:34275,DS-6692379e-260f-4e7c-87eb-922c09c04385,DISK]]; indices=[0, 1, 2, 3, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-522230442-172.17.0.20-1597312529503:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45605,DS-5fbda666-2ae0-4c33-b708-9d436911b42a,DISK], DatanodeInfoWithStorage[127.0.0.1:45616,DS-f112a6ae-9d86-49d9-ba70-ab7efda56aab,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-0959270a-ccf4-4db1-aa0a-524b519dfbe6,DISK], DatanodeInfoWithStorage[127.0.0.1:43708,DS-06cecd69-3c80-4d5c-a483-11b0b2ce8129,DISK], DatanodeInfoWithStorage[127.0.0.1:44100,DS-0ecdd3cd-49ff-4e38-9661-ff73aeb44e2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41821,DS-1f55712e-e5d1-4678-8222-7bf9105d3519,DISK]]; indices=[0, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-522230442-172.17.0.20-1597312529503:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45605,DS-5fbda666-2ae0-4c33-b708-9d436911b42a,DISK], DatanodeInfoWithStorage[127.0.0.1:45616,DS-f112a6ae-9d86-49d9-ba70-ab7efda56aab,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-0959270a-ccf4-4db1-aa0a-524b519dfbe6,DISK], DatanodeInfoWithStorage[127.0.0.1:43708,DS-06cecd69-3c80-4d5c-a483-11b0b2ce8129,DISK], DatanodeInfoWithStorage[127.0.0.1:44100,DS-0ecdd3cd-49ff-4e38-9661-ff73aeb44e2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41821,DS-1f55712e-e5d1-4678-8222-7bf9105d3519,DISK]]; indices=[0, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-522230442-172.17.0.20-1597312529503:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45605,DS-5fbda666-2ae0-4c33-b708-9d436911b42a,DISK], DatanodeInfoWithStorage[127.0.0.1:45616,DS-f112a6ae-9d86-49d9-ba70-ab7efda56aab,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-0959270a-ccf4-4db1-aa0a-524b519dfbe6,DISK], DatanodeInfoWithStorage[127.0.0.1:43708,DS-06cecd69-3c80-4d5c-a483-11b0b2ce8129,DISK], DatanodeInfoWithStorage[127.0.0.1:44100,DS-0ecdd3cd-49ff-4e38-9661-ff73aeb44e2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41821,DS-1f55712e-e5d1-4678-8222-7bf9105d3519,DISK]]; indices=[0, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-522230442-172.17.0.20-1597312529503:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45605,DS-5fbda666-2ae0-4c33-b708-9d436911b42a,DISK], DatanodeInfoWithStorage[127.0.0.1:45616,DS-f112a6ae-9d86-49d9-ba70-ab7efda56aab,DISK], DatanodeInfoWithStorage[127.0.0.1:45214,DS-0959270a-ccf4-4db1-aa0a-524b519dfbe6,DISK], DatanodeInfoWithStorage[127.0.0.1:43708,DS-06cecd69-3c80-4d5c-a483-11b0b2ce8129,DISK], DatanodeInfoWithStorage[127.0.0.1:44100,DS-0ecdd3cd-49ff-4e38-9661-ff73aeb44e2f,DISK], DatanodeInfoWithStorage[127.0.0.1:41821,DS-1f55712e-e5d1-4678-8222-7bf9105d3519,DISK]]; indices=[0, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-381526407-172.17.0.20-1597312615981:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33342,DS-4843867d-8ba2-48c6-a558-c108f5e074f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36943,DS-e459c694-22b7-4b8f-ab12-9d56721bd483,DISK], DatanodeInfoWithStorage[127.0.0.1:46050,DS-78b81dff-64db-4f5f-844c-c69d74061434,DISK], DatanodeInfoWithStorage[127.0.0.1:44825,DS-1afcb7f1-5c95-46fd-837a-a933aebdae54,DISK], DatanodeInfoWithStorage[127.0.0.1:40640,DS-e038029a-58ff-435e-8949-3f9adf6c3573,DISK], DatanodeInfoWithStorage[127.0.0.1:34171,DS-281580b7-4b09-4e31-a8c1-2bbc93c672af,DISK]]; indices=[0, 2, 3, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-381526407-172.17.0.20-1597312615981:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33342,DS-4843867d-8ba2-48c6-a558-c108f5e074f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36943,DS-e459c694-22b7-4b8f-ab12-9d56721bd483,DISK], DatanodeInfoWithStorage[127.0.0.1:46050,DS-78b81dff-64db-4f5f-844c-c69d74061434,DISK], DatanodeInfoWithStorage[127.0.0.1:44825,DS-1afcb7f1-5c95-46fd-837a-a933aebdae54,DISK], DatanodeInfoWithStorage[127.0.0.1:40640,DS-e038029a-58ff-435e-8949-3f9adf6c3573,DISK], DatanodeInfoWithStorage[127.0.0.1:34171,DS-281580b7-4b09-4e31-a8c1-2bbc93c672af,DISK]]; indices=[0, 2, 3, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-381526407-172.17.0.20-1597312615981:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33342,DS-4843867d-8ba2-48c6-a558-c108f5e074f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36943,DS-e459c694-22b7-4b8f-ab12-9d56721bd483,DISK], DatanodeInfoWithStorage[127.0.0.1:46050,DS-78b81dff-64db-4f5f-844c-c69d74061434,DISK], DatanodeInfoWithStorage[127.0.0.1:44825,DS-1afcb7f1-5c95-46fd-837a-a933aebdae54,DISK], DatanodeInfoWithStorage[127.0.0.1:40640,DS-e038029a-58ff-435e-8949-3f9adf6c3573,DISK], DatanodeInfoWithStorage[127.0.0.1:34171,DS-281580b7-4b09-4e31-a8c1-2bbc93c672af,DISK]]; indices=[0, 2, 3, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-381526407-172.17.0.20-1597312615981:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33342,DS-4843867d-8ba2-48c6-a558-c108f5e074f4,DISK], DatanodeInfoWithStorage[127.0.0.1:36943,DS-e459c694-22b7-4b8f-ab12-9d56721bd483,DISK], DatanodeInfoWithStorage[127.0.0.1:46050,DS-78b81dff-64db-4f5f-844c-c69d74061434,DISK], DatanodeInfoWithStorage[127.0.0.1:44825,DS-1afcb7f1-5c95-46fd-837a-a933aebdae54,DISK], DatanodeInfoWithStorage[127.0.0.1:40640,DS-e038029a-58ff-435e-8949-3f9adf6c3573,DISK], DatanodeInfoWithStorage[127.0.0.1:34171,DS-281580b7-4b09-4e31-a8c1-2bbc93c672af,DISK]]; indices=[0, 2, 3, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-944096028-172.17.0.20-1597312710034:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44768,DS-737ad253-325f-4c43-8c86-774e4d78d0a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41491,DS-22dfeeb9-8b98-437c-9225-49e22a2aa6a9,DISK], DatanodeInfoWithStorage[127.0.0.1:43984,DS-383075af-a2db-42ab-a3e4-37e0b97b9a49,DISK], DatanodeInfoWithStorage[127.0.0.1:41489,DS-f1c4e695-5074-4eda-8a61-1a64b32632f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44984,DS-3945a1e9-9378-4a82-98b3-2db463fbfaac,DISK], DatanodeInfoWithStorage[127.0.0.1:42496,DS-cb766e39-8f13-44ff-b61c-5e942c3c9f45,DISK]]; indices=[0, 2, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-944096028-172.17.0.20-1597312710034:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44768,DS-737ad253-325f-4c43-8c86-774e4d78d0a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41491,DS-22dfeeb9-8b98-437c-9225-49e22a2aa6a9,DISK], DatanodeInfoWithStorage[127.0.0.1:43984,DS-383075af-a2db-42ab-a3e4-37e0b97b9a49,DISK], DatanodeInfoWithStorage[127.0.0.1:41489,DS-f1c4e695-5074-4eda-8a61-1a64b32632f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44984,DS-3945a1e9-9378-4a82-98b3-2db463fbfaac,DISK], DatanodeInfoWithStorage[127.0.0.1:42496,DS-cb766e39-8f13-44ff-b61c-5e942c3c9f45,DISK]]; indices=[0, 2, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-944096028-172.17.0.20-1597312710034:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44768,DS-737ad253-325f-4c43-8c86-774e4d78d0a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41491,DS-22dfeeb9-8b98-437c-9225-49e22a2aa6a9,DISK], DatanodeInfoWithStorage[127.0.0.1:43984,DS-383075af-a2db-42ab-a3e4-37e0b97b9a49,DISK], DatanodeInfoWithStorage[127.0.0.1:41489,DS-f1c4e695-5074-4eda-8a61-1a64b32632f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44984,DS-3945a1e9-9378-4a82-98b3-2db463fbfaac,DISK], DatanodeInfoWithStorage[127.0.0.1:42496,DS-cb766e39-8f13-44ff-b61c-5e942c3c9f45,DISK]]; indices=[0, 2, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-944096028-172.17.0.20-1597312710034:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44768,DS-737ad253-325f-4c43-8c86-774e4d78d0a3,DISK], DatanodeInfoWithStorage[127.0.0.1:41491,DS-22dfeeb9-8b98-437c-9225-49e22a2aa6a9,DISK], DatanodeInfoWithStorage[127.0.0.1:43984,DS-383075af-a2db-42ab-a3e4-37e0b97b9a49,DISK], DatanodeInfoWithStorage[127.0.0.1:41489,DS-f1c4e695-5074-4eda-8a61-1a64b32632f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44984,DS-3945a1e9-9378-4a82-98b3-2db463fbfaac,DISK], DatanodeInfoWithStorage[127.0.0.1:42496,DS-cb766e39-8f13-44ff-b61c-5e942c3c9f45,DISK]]; indices=[0, 2, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-499535120-172.17.0.20-1597312802394:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41267,DS-92328bcb-78b0-4af7-9611-0af37b18432f,DISK], DatanodeInfoWithStorage[127.0.0.1:41937,DS-5706cd42-3bd0-4c07-9250-eed903f8aaea,DISK], DatanodeInfoWithStorage[127.0.0.1:39373,DS-9d8ce4ac-c50c-4eda-9819-e0c0f3684009,DISK], DatanodeInfoWithStorage[127.0.0.1:45434,DS-1b82c3e5-f808-4e25-88c3-28f9c4ae607b,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-4d111ce1-e128-4a53-95c5-c5ffe00f4e74,DISK], DatanodeInfoWithStorage[127.0.0.1:41262,DS-ec5cd527-7c7f-42eb-835e-02e081a1d5f1,DISK]]; indices=[1, 2, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-499535120-172.17.0.20-1597312802394:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41267,DS-92328bcb-78b0-4af7-9611-0af37b18432f,DISK], DatanodeInfoWithStorage[127.0.0.1:41937,DS-5706cd42-3bd0-4c07-9250-eed903f8aaea,DISK], DatanodeInfoWithStorage[127.0.0.1:39373,DS-9d8ce4ac-c50c-4eda-9819-e0c0f3684009,DISK], DatanodeInfoWithStorage[127.0.0.1:45434,DS-1b82c3e5-f808-4e25-88c3-28f9c4ae607b,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-4d111ce1-e128-4a53-95c5-c5ffe00f4e74,DISK], DatanodeInfoWithStorage[127.0.0.1:41262,DS-ec5cd527-7c7f-42eb-835e-02e081a1d5f1,DISK]]; indices=[1, 2, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-499535120-172.17.0.20-1597312802394:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41267,DS-92328bcb-78b0-4af7-9611-0af37b18432f,DISK], DatanodeInfoWithStorage[127.0.0.1:41937,DS-5706cd42-3bd0-4c07-9250-eed903f8aaea,DISK], DatanodeInfoWithStorage[127.0.0.1:39373,DS-9d8ce4ac-c50c-4eda-9819-e0c0f3684009,DISK], DatanodeInfoWithStorage[127.0.0.1:45434,DS-1b82c3e5-f808-4e25-88c3-28f9c4ae607b,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-4d111ce1-e128-4a53-95c5-c5ffe00f4e74,DISK], DatanodeInfoWithStorage[127.0.0.1:41262,DS-ec5cd527-7c7f-42eb-835e-02e081a1d5f1,DISK]]; indices=[1, 2, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-499535120-172.17.0.20-1597312802394:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41267,DS-92328bcb-78b0-4af7-9611-0af37b18432f,DISK], DatanodeInfoWithStorage[127.0.0.1:41937,DS-5706cd42-3bd0-4c07-9250-eed903f8aaea,DISK], DatanodeInfoWithStorage[127.0.0.1:39373,DS-9d8ce4ac-c50c-4eda-9819-e0c0f3684009,DISK], DatanodeInfoWithStorage[127.0.0.1:45434,DS-1b82c3e5-f808-4e25-88c3-28f9c4ae607b,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-4d111ce1-e128-4a53-95c5-c5ffe00f4e74,DISK], DatanodeInfoWithStorage[127.0.0.1:41262,DS-ec5cd527-7c7f-42eb-835e-02e081a1d5f1,DISK]]; indices=[1, 2, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-265084660-172.17.0.20-1597312984132:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37936,DS-2028f239-3b24-4172-9fbf-736547e6523c,DISK], DatanodeInfoWithStorage[127.0.0.1:44953,DS-b84c2251-4f57-4ca3-8e27-705349626c7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36175,DS-fc2d6014-443d-4dce-9d25-91e1bbd8cb96,DISK], DatanodeInfoWithStorage[127.0.0.1:35118,DS-b1d2e7c1-2989-46e6-b14e-8e3bbf441abe,DISK], DatanodeInfoWithStorage[127.0.0.1:44035,DS-211d9658-f97f-4924-aa6f-4e7ac369c655,DISK], DatanodeInfoWithStorage[127.0.0.1:35430,DS-4169c871-41f8-427a-aa58-97ee11784c42,DISK]]; indices=[1, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-265084660-172.17.0.20-1597312984132:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37936,DS-2028f239-3b24-4172-9fbf-736547e6523c,DISK], DatanodeInfoWithStorage[127.0.0.1:44953,DS-b84c2251-4f57-4ca3-8e27-705349626c7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36175,DS-fc2d6014-443d-4dce-9d25-91e1bbd8cb96,DISK], DatanodeInfoWithStorage[127.0.0.1:35118,DS-b1d2e7c1-2989-46e6-b14e-8e3bbf441abe,DISK], DatanodeInfoWithStorage[127.0.0.1:44035,DS-211d9658-f97f-4924-aa6f-4e7ac369c655,DISK], DatanodeInfoWithStorage[127.0.0.1:35430,DS-4169c871-41f8-427a-aa58-97ee11784c42,DISK]]; indices=[1, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-265084660-172.17.0.20-1597312984132:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37936,DS-2028f239-3b24-4172-9fbf-736547e6523c,DISK], DatanodeInfoWithStorage[127.0.0.1:44953,DS-b84c2251-4f57-4ca3-8e27-705349626c7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36175,DS-fc2d6014-443d-4dce-9d25-91e1bbd8cb96,DISK], DatanodeInfoWithStorage[127.0.0.1:35118,DS-b1d2e7c1-2989-46e6-b14e-8e3bbf441abe,DISK], DatanodeInfoWithStorage[127.0.0.1:44035,DS-211d9658-f97f-4924-aa6f-4e7ac369c655,DISK], DatanodeInfoWithStorage[127.0.0.1:35430,DS-4169c871-41f8-427a-aa58-97ee11784c42,DISK]]; indices=[1, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-265084660-172.17.0.20-1597312984132:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37936,DS-2028f239-3b24-4172-9fbf-736547e6523c,DISK], DatanodeInfoWithStorage[127.0.0.1:44953,DS-b84c2251-4f57-4ca3-8e27-705349626c7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36175,DS-fc2d6014-443d-4dce-9d25-91e1bbd8cb96,DISK], DatanodeInfoWithStorage[127.0.0.1:35118,DS-b1d2e7c1-2989-46e6-b14e-8e3bbf441abe,DISK], DatanodeInfoWithStorage[127.0.0.1:44035,DS-211d9658-f97f-4924-aa6f-4e7ac369c655,DISK], DatanodeInfoWithStorage[127.0.0.1:35430,DS-4169c871-41f8-427a-aa58-97ee11784c42,DISK]]; indices=[1, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-348531670-172.17.0.20-1597313040152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33262,DS-c807f01d-a47e-4b43-a65c-3d4e3184b60f,DISK], DatanodeInfoWithStorage[127.0.0.1:35178,DS-9b68eabe-e9e0-4e85-8c6f-addca7dfa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33726,DS-44e680e7-ff3f-4079-95f9-f57812174ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:46878,DS-261a40c1-8403-48b6-b734-0a4ebf86a9b6,DISK], DatanodeInfoWithStorage[127.0.0.1:42399,DS-eb125473-ce8b-49d8-a6bb-a3d7c8375a24,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-d26c92fa-2a70-4c19-bdb6-484df8e04fe0,DISK]]; indices=[0, 1, 2, 3, 4, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-348531670-172.17.0.20-1597313040152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33262,DS-c807f01d-a47e-4b43-a65c-3d4e3184b60f,DISK], DatanodeInfoWithStorage[127.0.0.1:35178,DS-9b68eabe-e9e0-4e85-8c6f-addca7dfa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33726,DS-44e680e7-ff3f-4079-95f9-f57812174ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:46878,DS-261a40c1-8403-48b6-b734-0a4ebf86a9b6,DISK], DatanodeInfoWithStorage[127.0.0.1:42399,DS-eb125473-ce8b-49d8-a6bb-a3d7c8375a24,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-d26c92fa-2a70-4c19-bdb6-484df8e04fe0,DISK]]; indices=[0, 1, 2, 3, 4, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-348531670-172.17.0.20-1597313040152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33262,DS-c807f01d-a47e-4b43-a65c-3d4e3184b60f,DISK], DatanodeInfoWithStorage[127.0.0.1:35178,DS-9b68eabe-e9e0-4e85-8c6f-addca7dfa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33726,DS-44e680e7-ff3f-4079-95f9-f57812174ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:46878,DS-261a40c1-8403-48b6-b734-0a4ebf86a9b6,DISK], DatanodeInfoWithStorage[127.0.0.1:42399,DS-eb125473-ce8b-49d8-a6bb-a3d7c8375a24,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-d26c92fa-2a70-4c19-bdb6-484df8e04fe0,DISK]]; indices=[0, 1, 2, 3, 4, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-348531670-172.17.0.20-1597313040152:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33262,DS-c807f01d-a47e-4b43-a65c-3d4e3184b60f,DISK], DatanodeInfoWithStorage[127.0.0.1:35178,DS-9b68eabe-e9e0-4e85-8c6f-addca7dfa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33726,DS-44e680e7-ff3f-4079-95f9-f57812174ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:46878,DS-261a40c1-8403-48b6-b734-0a4ebf86a9b6,DISK], DatanodeInfoWithStorage[127.0.0.1:42399,DS-eb125473-ce8b-49d8-a6bb-a3d7c8375a24,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-d26c92fa-2a70-4c19-bdb6-484df8e04fe0,DISK]]; indices=[0, 1, 2, 3, 4, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-680358975-172.17.0.20-1597313125634:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41905,DS-fc6ac16d-4939-48f2-9cef-f4fa60b4134e,DISK], DatanodeInfoWithStorage[127.0.0.1:33880,DS-40818062-66bd-4f11-9c61-47133c037a62,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-75460f4a-114c-4e1d-abfd-f1d9f28336a7,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-7ebc33d6-e97a-4f7b-b5ac-795ff0ea425b,DISK], DatanodeInfoWithStorage[127.0.0.1:34152,DS-ff6d9c2b-28e3-451c-8bcf-5379189363fd,DISK], DatanodeInfoWithStorage[127.0.0.1:45132,DS-90c90717-7664-4dc7-b583-6697bf698ed4,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-680358975-172.17.0.20-1597313125634:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41905,DS-fc6ac16d-4939-48f2-9cef-f4fa60b4134e,DISK], DatanodeInfoWithStorage[127.0.0.1:33880,DS-40818062-66bd-4f11-9c61-47133c037a62,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-75460f4a-114c-4e1d-abfd-f1d9f28336a7,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-7ebc33d6-e97a-4f7b-b5ac-795ff0ea425b,DISK], DatanodeInfoWithStorage[127.0.0.1:34152,DS-ff6d9c2b-28e3-451c-8bcf-5379189363fd,DISK], DatanodeInfoWithStorage[127.0.0.1:45132,DS-90c90717-7664-4dc7-b583-6697bf698ed4,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-680358975-172.17.0.20-1597313125634:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41905,DS-fc6ac16d-4939-48f2-9cef-f4fa60b4134e,DISK], DatanodeInfoWithStorage[127.0.0.1:33880,DS-40818062-66bd-4f11-9c61-47133c037a62,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-75460f4a-114c-4e1d-abfd-f1d9f28336a7,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-7ebc33d6-e97a-4f7b-b5ac-795ff0ea425b,DISK], DatanodeInfoWithStorage[127.0.0.1:34152,DS-ff6d9c2b-28e3-451c-8bcf-5379189363fd,DISK], DatanodeInfoWithStorage[127.0.0.1:45132,DS-90c90717-7664-4dc7-b583-6697bf698ed4,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-680358975-172.17.0.20-1597313125634:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41905,DS-fc6ac16d-4939-48f2-9cef-f4fa60b4134e,DISK], DatanodeInfoWithStorage[127.0.0.1:33880,DS-40818062-66bd-4f11-9c61-47133c037a62,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-75460f4a-114c-4e1d-abfd-f1d9f28336a7,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-7ebc33d6-e97a-4f7b-b5ac-795ff0ea425b,DISK], DatanodeInfoWithStorage[127.0.0.1:34152,DS-ff6d9c2b-28e3-451c-8bcf-5379189363fd,DISK], DatanodeInfoWithStorage[127.0.0.1:45132,DS-90c90717-7664-4dc7-b583-6697bf698ed4,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-681951613-172.17.0.20-1597313239831:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37953,DS-1d751087-0eb2-4e07-a30a-2aacd4c1a7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:32855,DS-fe6e814e-7e8e-48f0-908f-2e03dbf52bb8,DISK], DatanodeInfoWithStorage[127.0.0.1:34878,DS-06a6ac3f-85ea-468d-9396-6b5911b59bd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44334,DS-4e707e25-24e6-49e1-9dbd-e46434a94895,DISK], DatanodeInfoWithStorage[127.0.0.1:41577,DS-2505e1c9-e569-403c-9a16-d90e60862af3,DISK], DatanodeInfoWithStorage[127.0.0.1:35534,DS-7aa58ba8-8e7f-48d5-801d-84120045d6e1,DISK]]; indices=[0, 1, 2, 3, 4, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-681951613-172.17.0.20-1597313239831:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37953,DS-1d751087-0eb2-4e07-a30a-2aacd4c1a7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:32855,DS-fe6e814e-7e8e-48f0-908f-2e03dbf52bb8,DISK], DatanodeInfoWithStorage[127.0.0.1:34878,DS-06a6ac3f-85ea-468d-9396-6b5911b59bd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44334,DS-4e707e25-24e6-49e1-9dbd-e46434a94895,DISK], DatanodeInfoWithStorage[127.0.0.1:41577,DS-2505e1c9-e569-403c-9a16-d90e60862af3,DISK], DatanodeInfoWithStorage[127.0.0.1:35534,DS-7aa58ba8-8e7f-48d5-801d-84120045d6e1,DISK]]; indices=[0, 1, 2, 3, 4, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-681951613-172.17.0.20-1597313239831:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37953,DS-1d751087-0eb2-4e07-a30a-2aacd4c1a7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:32855,DS-fe6e814e-7e8e-48f0-908f-2e03dbf52bb8,DISK], DatanodeInfoWithStorage[127.0.0.1:34878,DS-06a6ac3f-85ea-468d-9396-6b5911b59bd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44334,DS-4e707e25-24e6-49e1-9dbd-e46434a94895,DISK], DatanodeInfoWithStorage[127.0.0.1:41577,DS-2505e1c9-e569-403c-9a16-d90e60862af3,DISK], DatanodeInfoWithStorage[127.0.0.1:35534,DS-7aa58ba8-8e7f-48d5-801d-84120045d6e1,DISK]]; indices=[0, 1, 2, 3, 4, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-681951613-172.17.0.20-1597313239831:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37953,DS-1d751087-0eb2-4e07-a30a-2aacd4c1a7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:32855,DS-fe6e814e-7e8e-48f0-908f-2e03dbf52bb8,DISK], DatanodeInfoWithStorage[127.0.0.1:34878,DS-06a6ac3f-85ea-468d-9396-6b5911b59bd4,DISK], DatanodeInfoWithStorage[127.0.0.1:44334,DS-4e707e25-24e6-49e1-9dbd-e46434a94895,DISK], DatanodeInfoWithStorage[127.0.0.1:41577,DS-2505e1c9-e569-403c-9a16-d90e60862af3,DISK], DatanodeInfoWithStorage[127.0.0.1:35534,DS-7aa58ba8-8e7f-48d5-801d-84120045d6e1,DISK]]; indices=[0, 1, 2, 3, 4, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1566101503-172.17.0.20-1597313981949:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33683,DS-c984e362-8702-40bb-a89d-def3637c7c06,DISK], DatanodeInfoWithStorage[127.0.0.1:42739,DS-b0866790-62fa-4c93-a8b1-c175284c67b4,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-1f426bb1-fae0-4f88-ae06-b488db49643e,DISK], DatanodeInfoWithStorage[127.0.0.1:42394,DS-17459c8f-34fc-4b46-a914-e377dfa17d9c,DISK], DatanodeInfoWithStorage[127.0.0.1:32827,DS-093989a8-6bea-429b-9d19-28fc0936fe5a,DISK], DatanodeInfoWithStorage[127.0.0.1:43592,DS-f6d4097a-4230-47b0-ada0-590b9e35cc9b,DISK]]; indices=[0, 1, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1566101503-172.17.0.20-1597313981949:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33683,DS-c984e362-8702-40bb-a89d-def3637c7c06,DISK], DatanodeInfoWithStorage[127.0.0.1:42739,DS-b0866790-62fa-4c93-a8b1-c175284c67b4,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-1f426bb1-fae0-4f88-ae06-b488db49643e,DISK], DatanodeInfoWithStorage[127.0.0.1:42394,DS-17459c8f-34fc-4b46-a914-e377dfa17d9c,DISK], DatanodeInfoWithStorage[127.0.0.1:32827,DS-093989a8-6bea-429b-9d19-28fc0936fe5a,DISK], DatanodeInfoWithStorage[127.0.0.1:43592,DS-f6d4097a-4230-47b0-ada0-590b9e35cc9b,DISK]]; indices=[0, 1, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1566101503-172.17.0.20-1597313981949:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33683,DS-c984e362-8702-40bb-a89d-def3637c7c06,DISK], DatanodeInfoWithStorage[127.0.0.1:42739,DS-b0866790-62fa-4c93-a8b1-c175284c67b4,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-1f426bb1-fae0-4f88-ae06-b488db49643e,DISK], DatanodeInfoWithStorage[127.0.0.1:42394,DS-17459c8f-34fc-4b46-a914-e377dfa17d9c,DISK], DatanodeInfoWithStorage[127.0.0.1:32827,DS-093989a8-6bea-429b-9d19-28fc0936fe5a,DISK], DatanodeInfoWithStorage[127.0.0.1:43592,DS-f6d4097a-4230-47b0-ada0-590b9e35cc9b,DISK]]; indices=[0, 1, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1566101503-172.17.0.20-1597313981949:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33683,DS-c984e362-8702-40bb-a89d-def3637c7c06,DISK], DatanodeInfoWithStorage[127.0.0.1:42739,DS-b0866790-62fa-4c93-a8b1-c175284c67b4,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-1f426bb1-fae0-4f88-ae06-b488db49643e,DISK], DatanodeInfoWithStorage[127.0.0.1:42394,DS-17459c8f-34fc-4b46-a914-e377dfa17d9c,DISK], DatanodeInfoWithStorage[127.0.0.1:32827,DS-093989a8-6bea-429b-9d19-28fc0936fe5a,DISK], DatanodeInfoWithStorage[127.0.0.1:43592,DS-f6d4097a-4230-47b0-ada0-590b9e35cc9b,DISK]]; indices=[0, 1, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1431565186-172.17.0.20-1597314329589:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34794,DS-710b1e4e-3d68-4a70-bf4e-228e97c71db3,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-718a3ee3-0e4d-48ae-8fcf-46a01078f139,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-b340c24a-95ed-4ea7-baaf-ea32c415fc85,DISK], DatanodeInfoWithStorage[127.0.0.1:40645,DS-faa81e2d-fc25-4fce-bcac-b41bbceca924,DISK], DatanodeInfoWithStorage[127.0.0.1:46272,DS-2d016b51-f6fc-4ee1-aff3-6b03a0452ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-ee039f04-9d8c-40e1-a710-4e8c0c4099a5,DISK]]; indices=[0, 1, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1431565186-172.17.0.20-1597314329589:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34794,DS-710b1e4e-3d68-4a70-bf4e-228e97c71db3,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-718a3ee3-0e4d-48ae-8fcf-46a01078f139,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-b340c24a-95ed-4ea7-baaf-ea32c415fc85,DISK], DatanodeInfoWithStorage[127.0.0.1:40645,DS-faa81e2d-fc25-4fce-bcac-b41bbceca924,DISK], DatanodeInfoWithStorage[127.0.0.1:46272,DS-2d016b51-f6fc-4ee1-aff3-6b03a0452ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-ee039f04-9d8c-40e1-a710-4e8c0c4099a5,DISK]]; indices=[0, 1, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1431565186-172.17.0.20-1597314329589:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34794,DS-710b1e4e-3d68-4a70-bf4e-228e97c71db3,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-718a3ee3-0e4d-48ae-8fcf-46a01078f139,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-b340c24a-95ed-4ea7-baaf-ea32c415fc85,DISK], DatanodeInfoWithStorage[127.0.0.1:40645,DS-faa81e2d-fc25-4fce-bcac-b41bbceca924,DISK], DatanodeInfoWithStorage[127.0.0.1:46272,DS-2d016b51-f6fc-4ee1-aff3-6b03a0452ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-ee039f04-9d8c-40e1-a710-4e8c0c4099a5,DISK]]; indices=[0, 1, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1431565186-172.17.0.20-1597314329589:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34794,DS-710b1e4e-3d68-4a70-bf4e-228e97c71db3,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-718a3ee3-0e4d-48ae-8fcf-46a01078f139,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-b340c24a-95ed-4ea7-baaf-ea32c415fc85,DISK], DatanodeInfoWithStorage[127.0.0.1:40645,DS-faa81e2d-fc25-4fce-bcac-b41bbceca924,DISK], DatanodeInfoWithStorage[127.0.0.1:46272,DS-2d016b51-f6fc-4ee1-aff3-6b03a0452ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-ee039f04-9d8c-40e1-a710-4e8c0c4099a5,DISK]]; indices=[0, 1, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1581906334-172.17.0.20-1597314427478:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39623,DS-b2ebf688-9721-4026-a38f-4fab2acc6b90,DISK], DatanodeInfoWithStorage[127.0.0.1:41833,DS-008ebf03-9581-4c6c-af95-5653e8854aec,DISK], DatanodeInfoWithStorage[127.0.0.1:37470,DS-71d09917-6298-4521-b6a8-17e01e09d86b,DISK], DatanodeInfoWithStorage[127.0.0.1:44684,DS-7b0968b8-a58f-4894-ae1e-9fea35079f6b,DISK], DatanodeInfoWithStorage[127.0.0.1:36990,DS-f462afa2-0ed6-4f78-b56e-748ae448e26a,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-5a52c01b-c57f-4bea-b9c7-0e4519699001,DISK]]; indices=[0, 1, 2, 3, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1581906334-172.17.0.20-1597314427478:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39623,DS-b2ebf688-9721-4026-a38f-4fab2acc6b90,DISK], DatanodeInfoWithStorage[127.0.0.1:41833,DS-008ebf03-9581-4c6c-af95-5653e8854aec,DISK], DatanodeInfoWithStorage[127.0.0.1:37470,DS-71d09917-6298-4521-b6a8-17e01e09d86b,DISK], DatanodeInfoWithStorage[127.0.0.1:44684,DS-7b0968b8-a58f-4894-ae1e-9fea35079f6b,DISK], DatanodeInfoWithStorage[127.0.0.1:36990,DS-f462afa2-0ed6-4f78-b56e-748ae448e26a,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-5a52c01b-c57f-4bea-b9c7-0e4519699001,DISK]]; indices=[0, 1, 2, 3, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1581906334-172.17.0.20-1597314427478:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39623,DS-b2ebf688-9721-4026-a38f-4fab2acc6b90,DISK], DatanodeInfoWithStorage[127.0.0.1:41833,DS-008ebf03-9581-4c6c-af95-5653e8854aec,DISK], DatanodeInfoWithStorage[127.0.0.1:37470,DS-71d09917-6298-4521-b6a8-17e01e09d86b,DISK], DatanodeInfoWithStorage[127.0.0.1:44684,DS-7b0968b8-a58f-4894-ae1e-9fea35079f6b,DISK], DatanodeInfoWithStorage[127.0.0.1:36990,DS-f462afa2-0ed6-4f78-b56e-748ae448e26a,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-5a52c01b-c57f-4bea-b9c7-0e4519699001,DISK]]; indices=[0, 1, 2, 3, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1581906334-172.17.0.20-1597314427478:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39623,DS-b2ebf688-9721-4026-a38f-4fab2acc6b90,DISK], DatanodeInfoWithStorage[127.0.0.1:41833,DS-008ebf03-9581-4c6c-af95-5653e8854aec,DISK], DatanodeInfoWithStorage[127.0.0.1:37470,DS-71d09917-6298-4521-b6a8-17e01e09d86b,DISK], DatanodeInfoWithStorage[127.0.0.1:44684,DS-7b0968b8-a58f-4894-ae1e-9fea35079f6b,DISK], DatanodeInfoWithStorage[127.0.0.1:36990,DS-f462afa2-0ed6-4f78-b56e-748ae448e26a,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-5a52c01b-c57f-4bea-b9c7-0e4519699001,DISK]]; indices=[0, 1, 2, 3, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-337258773-172.17.0.20-1597314703805:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35309,DS-8daa7bef-0872-4157-aa0c-8afb8e933ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-e12d8ab7-3cbe-401b-a433-645d313b80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41772,DS-93ebee4e-a135-4a7d-89a9-94a3b6ba2147,DISK], DatanodeInfoWithStorage[127.0.0.1:36290,DS-fc6ea596-76e3-4388-9812-2e49fd222984,DISK], DatanodeInfoWithStorage[127.0.0.1:37173,DS-b4738a23-c3ce-4fe0-bdab-4dddf65c7afd,DISK], DatanodeInfoWithStorage[127.0.0.1:39097,DS-674b1245-adc2-44cb-8256-85ed7607e8be,DISK]]; indices=[0, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-337258773-172.17.0.20-1597314703805:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35309,DS-8daa7bef-0872-4157-aa0c-8afb8e933ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-e12d8ab7-3cbe-401b-a433-645d313b80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41772,DS-93ebee4e-a135-4a7d-89a9-94a3b6ba2147,DISK], DatanodeInfoWithStorage[127.0.0.1:36290,DS-fc6ea596-76e3-4388-9812-2e49fd222984,DISK], DatanodeInfoWithStorage[127.0.0.1:37173,DS-b4738a23-c3ce-4fe0-bdab-4dddf65c7afd,DISK], DatanodeInfoWithStorage[127.0.0.1:39097,DS-674b1245-adc2-44cb-8256-85ed7607e8be,DISK]]; indices=[0, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-337258773-172.17.0.20-1597314703805:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35309,DS-8daa7bef-0872-4157-aa0c-8afb8e933ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-e12d8ab7-3cbe-401b-a433-645d313b80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41772,DS-93ebee4e-a135-4a7d-89a9-94a3b6ba2147,DISK], DatanodeInfoWithStorage[127.0.0.1:36290,DS-fc6ea596-76e3-4388-9812-2e49fd222984,DISK], DatanodeInfoWithStorage[127.0.0.1:37173,DS-b4738a23-c3ce-4fe0-bdab-4dddf65c7afd,DISK], DatanodeInfoWithStorage[127.0.0.1:39097,DS-674b1245-adc2-44cb-8256-85ed7607e8be,DISK]]; indices=[0, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-337258773-172.17.0.20-1597314703805:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35309,DS-8daa7bef-0872-4157-aa0c-8afb8e933ad5,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-e12d8ab7-3cbe-401b-a433-645d313b80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41772,DS-93ebee4e-a135-4a7d-89a9-94a3b6ba2147,DISK], DatanodeInfoWithStorage[127.0.0.1:36290,DS-fc6ea596-76e3-4388-9812-2e49fd222984,DISK], DatanodeInfoWithStorage[127.0.0.1:37173,DS-b4738a23-c3ce-4fe0-bdab-4dddf65c7afd,DISK], DatanodeInfoWithStorage[127.0.0.1:39097,DS-674b1245-adc2-44cb-8256-85ed7607e8be,DISK]]; indices=[0, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-13614103-172.17.0.20-1597314977387:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38457,DS-5e8e9814-15c4-44e5-9dde-36b4816443b3,DISK], DatanodeInfoWithStorage[127.0.0.1:38872,DS-cc46b7ac-2629-491e-9063-396f5b345051,DISK], DatanodeInfoWithStorage[127.0.0.1:46119,DS-64d6c1ba-ba19-4318-a44a-8a901719f815,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-275370d2-c49c-4499-9d91-48cfb9056df3,DISK], DatanodeInfoWithStorage[127.0.0.1:45329,DS-0a4afec4-9d26-457b-acc1-1956afb60fa2,DISK], DatanodeInfoWithStorage[127.0.0.1:43820,DS-786dc00e-fa9f-47b3-a28b-572bca7d5bb9,DISK]]; indices=[1, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-13614103-172.17.0.20-1597314977387:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38457,DS-5e8e9814-15c4-44e5-9dde-36b4816443b3,DISK], DatanodeInfoWithStorage[127.0.0.1:38872,DS-cc46b7ac-2629-491e-9063-396f5b345051,DISK], DatanodeInfoWithStorage[127.0.0.1:46119,DS-64d6c1ba-ba19-4318-a44a-8a901719f815,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-275370d2-c49c-4499-9d91-48cfb9056df3,DISK], DatanodeInfoWithStorage[127.0.0.1:45329,DS-0a4afec4-9d26-457b-acc1-1956afb60fa2,DISK], DatanodeInfoWithStorage[127.0.0.1:43820,DS-786dc00e-fa9f-47b3-a28b-572bca7d5bb9,DISK]]; indices=[1, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-13614103-172.17.0.20-1597314977387:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38457,DS-5e8e9814-15c4-44e5-9dde-36b4816443b3,DISK], DatanodeInfoWithStorage[127.0.0.1:38872,DS-cc46b7ac-2629-491e-9063-396f5b345051,DISK], DatanodeInfoWithStorage[127.0.0.1:46119,DS-64d6c1ba-ba19-4318-a44a-8a901719f815,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-275370d2-c49c-4499-9d91-48cfb9056df3,DISK], DatanodeInfoWithStorage[127.0.0.1:45329,DS-0a4afec4-9d26-457b-acc1-1956afb60fa2,DISK], DatanodeInfoWithStorage[127.0.0.1:43820,DS-786dc00e-fa9f-47b3-a28b-572bca7d5bb9,DISK]]; indices=[1, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-13614103-172.17.0.20-1597314977387:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38457,DS-5e8e9814-15c4-44e5-9dde-36b4816443b3,DISK], DatanodeInfoWithStorage[127.0.0.1:38872,DS-cc46b7ac-2629-491e-9063-396f5b345051,DISK], DatanodeInfoWithStorage[127.0.0.1:46119,DS-64d6c1ba-ba19-4318-a44a-8a901719f815,DISK], DatanodeInfoWithStorage[127.0.0.1:42955,DS-275370d2-c49c-4499-9d91-48cfb9056df3,DISK], DatanodeInfoWithStorage[127.0.0.1:45329,DS-0a4afec4-9d26-457b-acc1-1956afb60fa2,DISK], DatanodeInfoWithStorage[127.0.0.1:43820,DS-786dc00e-fa9f-47b3-a28b-572bca7d5bb9,DISK]]; indices=[1, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 16 out of 50
v1v1v2v2 failed with probability 2 out of 50
result: might be true error
Total execution time in seconds : 4511
