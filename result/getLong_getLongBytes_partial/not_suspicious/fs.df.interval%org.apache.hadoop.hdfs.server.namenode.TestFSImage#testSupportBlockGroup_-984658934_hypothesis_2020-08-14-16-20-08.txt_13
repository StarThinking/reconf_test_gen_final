reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-116497243-172.17.0.14-1597422228440:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36432,DS-ef2de16a-0329-4d35-9c83-535633cd07b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45600,DS-b99635ad-c400-4df4-bd6f-330324065137,DISK], DatanodeInfoWithStorage[127.0.0.1:35272,DS-c658dcb9-1ab6-4c8e-932a-9999ab895725,DISK], DatanodeInfoWithStorage[127.0.0.1:46469,DS-7381c42d-0a5f-4e99-8c1f-ac03855c6473,DISK], DatanodeInfoWithStorage[127.0.0.1:42616,DS-7fd4755b-bac7-40e5-9272-f9378de9e8d8,DISK], DatanodeInfoWithStorage[127.0.0.1:46299,DS-3f2c4ecc-2df6-435b-b345-9201fc6cf1c0,DISK]]; indices=[0, 1, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-116497243-172.17.0.14-1597422228440:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36432,DS-ef2de16a-0329-4d35-9c83-535633cd07b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45600,DS-b99635ad-c400-4df4-bd6f-330324065137,DISK], DatanodeInfoWithStorage[127.0.0.1:35272,DS-c658dcb9-1ab6-4c8e-932a-9999ab895725,DISK], DatanodeInfoWithStorage[127.0.0.1:46469,DS-7381c42d-0a5f-4e99-8c1f-ac03855c6473,DISK], DatanodeInfoWithStorage[127.0.0.1:42616,DS-7fd4755b-bac7-40e5-9272-f9378de9e8d8,DISK], DatanodeInfoWithStorage[127.0.0.1:46299,DS-3f2c4ecc-2df6-435b-b345-9201fc6cf1c0,DISK]]; indices=[0, 1, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-116497243-172.17.0.14-1597422228440:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36432,DS-ef2de16a-0329-4d35-9c83-535633cd07b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45600,DS-b99635ad-c400-4df4-bd6f-330324065137,DISK], DatanodeInfoWithStorage[127.0.0.1:35272,DS-c658dcb9-1ab6-4c8e-932a-9999ab895725,DISK], DatanodeInfoWithStorage[127.0.0.1:46469,DS-7381c42d-0a5f-4e99-8c1f-ac03855c6473,DISK], DatanodeInfoWithStorage[127.0.0.1:42616,DS-7fd4755b-bac7-40e5-9272-f9378de9e8d8,DISK], DatanodeInfoWithStorage[127.0.0.1:46299,DS-3f2c4ecc-2df6-435b-b345-9201fc6cf1c0,DISK]]; indices=[0, 1, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-116497243-172.17.0.14-1597422228440:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36432,DS-ef2de16a-0329-4d35-9c83-535633cd07b3,DISK], DatanodeInfoWithStorage[127.0.0.1:45600,DS-b99635ad-c400-4df4-bd6f-330324065137,DISK], DatanodeInfoWithStorage[127.0.0.1:35272,DS-c658dcb9-1ab6-4c8e-932a-9999ab895725,DISK], DatanodeInfoWithStorage[127.0.0.1:46469,DS-7381c42d-0a5f-4e99-8c1f-ac03855c6473,DISK], DatanodeInfoWithStorage[127.0.0.1:42616,DS-7fd4755b-bac7-40e5-9272-f9378de9e8d8,DISK], DatanodeInfoWithStorage[127.0.0.1:46299,DS-3f2c4ecc-2df6-435b-b345-9201fc6cf1c0,DISK]]; indices=[0, 1, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1853777870-172.17.0.14-1597422315817:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42749,DS-6b118e0d-e46a-476d-98cc-8973e6f9aa04,DISK], DatanodeInfoWithStorage[127.0.0.1:37568,DS-4fe8a5dd-c7f5-4791-8e09-1ab4e64caddf,DISK], DatanodeInfoWithStorage[127.0.0.1:41941,DS-99508d29-2def-48d3-9d9e-68f2856b23f3,DISK], DatanodeInfoWithStorage[127.0.0.1:43404,DS-30fe324b-c433-4c48-8f04-bd0aa74ac475,DISK], DatanodeInfoWithStorage[127.0.0.1:43322,DS-c8411b1b-83c9-4e21-b553-17aab4e04a69,DISK]]; indices=[2, 4, 5, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1853777870-172.17.0.14-1597422315817:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42749,DS-6b118e0d-e46a-476d-98cc-8973e6f9aa04,DISK], DatanodeInfoWithStorage[127.0.0.1:37568,DS-4fe8a5dd-c7f5-4791-8e09-1ab4e64caddf,DISK], DatanodeInfoWithStorage[127.0.0.1:41941,DS-99508d29-2def-48d3-9d9e-68f2856b23f3,DISK], DatanodeInfoWithStorage[127.0.0.1:43404,DS-30fe324b-c433-4c48-8f04-bd0aa74ac475,DISK], DatanodeInfoWithStorage[127.0.0.1:43322,DS-c8411b1b-83c9-4e21-b553-17aab4e04a69,DISK]]; indices=[2, 4, 5, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1853777870-172.17.0.14-1597422315817:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42749,DS-6b118e0d-e46a-476d-98cc-8973e6f9aa04,DISK], DatanodeInfoWithStorage[127.0.0.1:37568,DS-4fe8a5dd-c7f5-4791-8e09-1ab4e64caddf,DISK], DatanodeInfoWithStorage[127.0.0.1:41941,DS-99508d29-2def-48d3-9d9e-68f2856b23f3,DISK], DatanodeInfoWithStorage[127.0.0.1:43404,DS-30fe324b-c433-4c48-8f04-bd0aa74ac475,DISK], DatanodeInfoWithStorage[127.0.0.1:43322,DS-c8411b1b-83c9-4e21-b553-17aab4e04a69,DISK]]; indices=[2, 4, 5, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1853777870-172.17.0.14-1597422315817:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42749,DS-6b118e0d-e46a-476d-98cc-8973e6f9aa04,DISK], DatanodeInfoWithStorage[127.0.0.1:37568,DS-4fe8a5dd-c7f5-4791-8e09-1ab4e64caddf,DISK], DatanodeInfoWithStorage[127.0.0.1:41941,DS-99508d29-2def-48d3-9d9e-68f2856b23f3,DISK], DatanodeInfoWithStorage[127.0.0.1:43404,DS-30fe324b-c433-4c48-8f04-bd0aa74ac475,DISK], DatanodeInfoWithStorage[127.0.0.1:43322,DS-c8411b1b-83c9-4e21-b553-17aab4e04a69,DISK]]; indices=[2, 4, 5, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-395481369-172.17.0.14-1597422352229:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43855,DS-ad62cf24-2595-4f0a-a5ab-b8065a996add,DISK], DatanodeInfoWithStorage[127.0.0.1:42021,DS-ea84010d-3fc3-42ed-b0a4-670ed688b173,DISK], DatanodeInfoWithStorage[127.0.0.1:43743,DS-fe4d933c-942e-4d85-8bc7-33e6142c8799,DISK], DatanodeInfoWithStorage[127.0.0.1:33757,DS-95fff136-a9c0-4735-9a2e-1e2aba48cddb,DISK], DatanodeInfoWithStorage[127.0.0.1:44588,DS-537755f8-7703-4cd5-a007-c85c47557507,DISK], DatanodeInfoWithStorage[127.0.0.1:46769,DS-9bc49249-e3b8-4914-80fd-226f5c0ad44f,DISK]]; indices=[0, 2, 3, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-395481369-172.17.0.14-1597422352229:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43855,DS-ad62cf24-2595-4f0a-a5ab-b8065a996add,DISK], DatanodeInfoWithStorage[127.0.0.1:42021,DS-ea84010d-3fc3-42ed-b0a4-670ed688b173,DISK], DatanodeInfoWithStorage[127.0.0.1:43743,DS-fe4d933c-942e-4d85-8bc7-33e6142c8799,DISK], DatanodeInfoWithStorage[127.0.0.1:33757,DS-95fff136-a9c0-4735-9a2e-1e2aba48cddb,DISK], DatanodeInfoWithStorage[127.0.0.1:44588,DS-537755f8-7703-4cd5-a007-c85c47557507,DISK], DatanodeInfoWithStorage[127.0.0.1:46769,DS-9bc49249-e3b8-4914-80fd-226f5c0ad44f,DISK]]; indices=[0, 2, 3, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-395481369-172.17.0.14-1597422352229:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43855,DS-ad62cf24-2595-4f0a-a5ab-b8065a996add,DISK], DatanodeInfoWithStorage[127.0.0.1:42021,DS-ea84010d-3fc3-42ed-b0a4-670ed688b173,DISK], DatanodeInfoWithStorage[127.0.0.1:43743,DS-fe4d933c-942e-4d85-8bc7-33e6142c8799,DISK], DatanodeInfoWithStorage[127.0.0.1:33757,DS-95fff136-a9c0-4735-9a2e-1e2aba48cddb,DISK], DatanodeInfoWithStorage[127.0.0.1:44588,DS-537755f8-7703-4cd5-a007-c85c47557507,DISK], DatanodeInfoWithStorage[127.0.0.1:46769,DS-9bc49249-e3b8-4914-80fd-226f5c0ad44f,DISK]]; indices=[0, 2, 3, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-395481369-172.17.0.14-1597422352229:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43855,DS-ad62cf24-2595-4f0a-a5ab-b8065a996add,DISK], DatanodeInfoWithStorage[127.0.0.1:42021,DS-ea84010d-3fc3-42ed-b0a4-670ed688b173,DISK], DatanodeInfoWithStorage[127.0.0.1:43743,DS-fe4d933c-942e-4d85-8bc7-33e6142c8799,DISK], DatanodeInfoWithStorage[127.0.0.1:33757,DS-95fff136-a9c0-4735-9a2e-1e2aba48cddb,DISK], DatanodeInfoWithStorage[127.0.0.1:44588,DS-537755f8-7703-4cd5-a007-c85c47557507,DISK], DatanodeInfoWithStorage[127.0.0.1:46769,DS-9bc49249-e3b8-4914-80fd-226f5c0ad44f,DISK]]; indices=[0, 2, 3, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-831895356-172.17.0.14-1597422639470:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43446,DS-4ffc38a7-b8ca-427c-aee2-16ed31346d20,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-4be97f84-2ee9-4689-bf9b-657838ee83a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43419,DS-c5255cfe-8da3-4f2b-9183-1ef44e47427b,DISK], DatanodeInfoWithStorage[127.0.0.1:32848,DS-44fd5407-b139-4dc9-a399-8399f4fe0d16,DISK], DatanodeInfoWithStorage[127.0.0.1:39918,DS-ead67107-c215-4550-9246-f793ff6a14ae,DISK], DatanodeInfoWithStorage[127.0.0.1:33376,DS-b309ac90-c621-4edf-8c23-6ef3c90273c1,DISK], DatanodeInfoWithStorage[127.0.0.1:42238,DS-fc7a32d1-d1eb-4535-8ca5-b421b6deb038,DISK]]; indices=[1, 2, 6, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-831895356-172.17.0.14-1597422639470:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43446,DS-4ffc38a7-b8ca-427c-aee2-16ed31346d20,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-4be97f84-2ee9-4689-bf9b-657838ee83a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43419,DS-c5255cfe-8da3-4f2b-9183-1ef44e47427b,DISK], DatanodeInfoWithStorage[127.0.0.1:32848,DS-44fd5407-b139-4dc9-a399-8399f4fe0d16,DISK], DatanodeInfoWithStorage[127.0.0.1:39918,DS-ead67107-c215-4550-9246-f793ff6a14ae,DISK], DatanodeInfoWithStorage[127.0.0.1:33376,DS-b309ac90-c621-4edf-8c23-6ef3c90273c1,DISK], DatanodeInfoWithStorage[127.0.0.1:42238,DS-fc7a32d1-d1eb-4535-8ca5-b421b6deb038,DISK]]; indices=[1, 2, 6, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-831895356-172.17.0.14-1597422639470:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43446,DS-4ffc38a7-b8ca-427c-aee2-16ed31346d20,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-4be97f84-2ee9-4689-bf9b-657838ee83a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43419,DS-c5255cfe-8da3-4f2b-9183-1ef44e47427b,DISK], DatanodeInfoWithStorage[127.0.0.1:32848,DS-44fd5407-b139-4dc9-a399-8399f4fe0d16,DISK], DatanodeInfoWithStorage[127.0.0.1:39918,DS-ead67107-c215-4550-9246-f793ff6a14ae,DISK], DatanodeInfoWithStorage[127.0.0.1:33376,DS-b309ac90-c621-4edf-8c23-6ef3c90273c1,DISK], DatanodeInfoWithStorage[127.0.0.1:42238,DS-fc7a32d1-d1eb-4535-8ca5-b421b6deb038,DISK]]; indices=[1, 2, 6, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-831895356-172.17.0.14-1597422639470:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43446,DS-4ffc38a7-b8ca-427c-aee2-16ed31346d20,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-4be97f84-2ee9-4689-bf9b-657838ee83a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43419,DS-c5255cfe-8da3-4f2b-9183-1ef44e47427b,DISK], DatanodeInfoWithStorage[127.0.0.1:32848,DS-44fd5407-b139-4dc9-a399-8399f4fe0d16,DISK], DatanodeInfoWithStorage[127.0.0.1:39918,DS-ead67107-c215-4550-9246-f793ff6a14ae,DISK], DatanodeInfoWithStorage[127.0.0.1:33376,DS-b309ac90-c621-4edf-8c23-6ef3c90273c1,DISK], DatanodeInfoWithStorage[127.0.0.1:42238,DS-fc7a32d1-d1eb-4535-8ca5-b421b6deb038,DISK]]; indices=[1, 2, 6, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2145981212-172.17.0.14-1597422975612:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40202,DS-aad33229-afb4-4bd3-836a-889478e2004e,DISK], DatanodeInfoWithStorage[127.0.0.1:41864,DS-9652d3de-f1c1-4157-9022-7ff3e83cb1ab,DISK], DatanodeInfoWithStorage[127.0.0.1:43227,DS-4bf88a74-c9e0-4df9-a329-db03e999a0e6,DISK], DatanodeInfoWithStorage[127.0.0.1:45639,DS-2255b1e9-c092-4349-801a-767d1037490c,DISK], DatanodeInfoWithStorage[127.0.0.1:43042,DS-9ea25e66-bf28-44b2-9b2d-1c4021ae2751,DISK], DatanodeInfoWithStorage[127.0.0.1:35864,DS-2b27d68c-3cb3-4ea4-889c-817ab1a67a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:36920,DS-9688d833-c894-424e-8b1a-f2e4bc1d2739,DISK]]; indices=[0, 1, 2, 3, 5, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2145981212-172.17.0.14-1597422975612:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40202,DS-aad33229-afb4-4bd3-836a-889478e2004e,DISK], DatanodeInfoWithStorage[127.0.0.1:41864,DS-9652d3de-f1c1-4157-9022-7ff3e83cb1ab,DISK], DatanodeInfoWithStorage[127.0.0.1:43227,DS-4bf88a74-c9e0-4df9-a329-db03e999a0e6,DISK], DatanodeInfoWithStorage[127.0.0.1:45639,DS-2255b1e9-c092-4349-801a-767d1037490c,DISK], DatanodeInfoWithStorage[127.0.0.1:43042,DS-9ea25e66-bf28-44b2-9b2d-1c4021ae2751,DISK], DatanodeInfoWithStorage[127.0.0.1:35864,DS-2b27d68c-3cb3-4ea4-889c-817ab1a67a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:36920,DS-9688d833-c894-424e-8b1a-f2e4bc1d2739,DISK]]; indices=[0, 1, 2, 3, 5, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2145981212-172.17.0.14-1597422975612:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40202,DS-aad33229-afb4-4bd3-836a-889478e2004e,DISK], DatanodeInfoWithStorage[127.0.0.1:41864,DS-9652d3de-f1c1-4157-9022-7ff3e83cb1ab,DISK], DatanodeInfoWithStorage[127.0.0.1:43227,DS-4bf88a74-c9e0-4df9-a329-db03e999a0e6,DISK], DatanodeInfoWithStorage[127.0.0.1:45639,DS-2255b1e9-c092-4349-801a-767d1037490c,DISK], DatanodeInfoWithStorage[127.0.0.1:43042,DS-9ea25e66-bf28-44b2-9b2d-1c4021ae2751,DISK], DatanodeInfoWithStorage[127.0.0.1:35864,DS-2b27d68c-3cb3-4ea4-889c-817ab1a67a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:36920,DS-9688d833-c894-424e-8b1a-f2e4bc1d2739,DISK]]; indices=[0, 1, 2, 3, 5, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2145981212-172.17.0.14-1597422975612:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40202,DS-aad33229-afb4-4bd3-836a-889478e2004e,DISK], DatanodeInfoWithStorage[127.0.0.1:41864,DS-9652d3de-f1c1-4157-9022-7ff3e83cb1ab,DISK], DatanodeInfoWithStorage[127.0.0.1:43227,DS-4bf88a74-c9e0-4df9-a329-db03e999a0e6,DISK], DatanodeInfoWithStorage[127.0.0.1:45639,DS-2255b1e9-c092-4349-801a-767d1037490c,DISK], DatanodeInfoWithStorage[127.0.0.1:43042,DS-9ea25e66-bf28-44b2-9b2d-1c4021ae2751,DISK], DatanodeInfoWithStorage[127.0.0.1:35864,DS-2b27d68c-3cb3-4ea4-889c-817ab1a67a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:36920,DS-9688d833-c894-424e-8b1a-f2e4bc1d2739,DISK]]; indices=[0, 1, 2, 3, 5, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1069638796-172.17.0.14-1597424158534:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39859,DS-67ead320-2a54-41a7-a64e-fc94c4e1a0a4,DISK], DatanodeInfoWithStorage[127.0.0.1:38979,DS-093ed4fc-b203-456b-b77a-ca663e3bbf89,DISK], DatanodeInfoWithStorage[127.0.0.1:36780,DS-c27561b3-660b-4602-b66b-4fa1be9d4fb0,DISK], DatanodeInfoWithStorage[127.0.0.1:33509,DS-c79f00b8-e136-4e48-9f97-791fefbbcf21,DISK], DatanodeInfoWithStorage[127.0.0.1:33249,DS-5b237c43-af04-425f-a682-148bf971ce40,DISK], DatanodeInfoWithStorage[127.0.0.1:40225,DS-bcc9e327-429a-4ce9-8329-2ed3281aba0a,DISK]]; indices=[1, 2, 5, 6, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1069638796-172.17.0.14-1597424158534:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39859,DS-67ead320-2a54-41a7-a64e-fc94c4e1a0a4,DISK], DatanodeInfoWithStorage[127.0.0.1:38979,DS-093ed4fc-b203-456b-b77a-ca663e3bbf89,DISK], DatanodeInfoWithStorage[127.0.0.1:36780,DS-c27561b3-660b-4602-b66b-4fa1be9d4fb0,DISK], DatanodeInfoWithStorage[127.0.0.1:33509,DS-c79f00b8-e136-4e48-9f97-791fefbbcf21,DISK], DatanodeInfoWithStorage[127.0.0.1:33249,DS-5b237c43-af04-425f-a682-148bf971ce40,DISK], DatanodeInfoWithStorage[127.0.0.1:40225,DS-bcc9e327-429a-4ce9-8329-2ed3281aba0a,DISK]]; indices=[1, 2, 5, 6, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1069638796-172.17.0.14-1597424158534:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39859,DS-67ead320-2a54-41a7-a64e-fc94c4e1a0a4,DISK], DatanodeInfoWithStorage[127.0.0.1:38979,DS-093ed4fc-b203-456b-b77a-ca663e3bbf89,DISK], DatanodeInfoWithStorage[127.0.0.1:36780,DS-c27561b3-660b-4602-b66b-4fa1be9d4fb0,DISK], DatanodeInfoWithStorage[127.0.0.1:33509,DS-c79f00b8-e136-4e48-9f97-791fefbbcf21,DISK], DatanodeInfoWithStorage[127.0.0.1:33249,DS-5b237c43-af04-425f-a682-148bf971ce40,DISK], DatanodeInfoWithStorage[127.0.0.1:40225,DS-bcc9e327-429a-4ce9-8329-2ed3281aba0a,DISK]]; indices=[1, 2, 5, 6, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1069638796-172.17.0.14-1597424158534:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39859,DS-67ead320-2a54-41a7-a64e-fc94c4e1a0a4,DISK], DatanodeInfoWithStorage[127.0.0.1:38979,DS-093ed4fc-b203-456b-b77a-ca663e3bbf89,DISK], DatanodeInfoWithStorage[127.0.0.1:36780,DS-c27561b3-660b-4602-b66b-4fa1be9d4fb0,DISK], DatanodeInfoWithStorage[127.0.0.1:33509,DS-c79f00b8-e136-4e48-9f97-791fefbbcf21,DISK], DatanodeInfoWithStorage[127.0.0.1:33249,DS-5b237c43-af04-425f-a682-148bf971ce40,DISK], DatanodeInfoWithStorage[127.0.0.1:40225,DS-bcc9e327-429a-4ce9-8329-2ed3281aba0a,DISK]]; indices=[1, 2, 5, 6, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1254266327-172.17.0.14-1597424570160:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43389,DS-0f7789da-0687-4fdb-8677-28e56a8413ed,DISK], DatanodeInfoWithStorage[127.0.0.1:43759,DS-190aa23a-dcff-468b-a457-8fa719b5183c,DISK], DatanodeInfoWithStorage[127.0.0.1:41571,DS-be8cbe77-660d-4caf-ac42-30db2a7cd665,DISK], DatanodeInfoWithStorage[127.0.0.1:40833,DS-38d730cd-e757-4e1c-afb2-dc6c74a80018,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-72fa5891-85c5-4efd-bb9f-91e881d212ce,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-ca71337d-4d9f-4fad-ab75-56354a39a9f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-accfc7ca-86d2-438a-a8ce-e197334ac30d,DISK]]; indices=[3, 4, 5, 6, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1254266327-172.17.0.14-1597424570160:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43389,DS-0f7789da-0687-4fdb-8677-28e56a8413ed,DISK], DatanodeInfoWithStorage[127.0.0.1:43759,DS-190aa23a-dcff-468b-a457-8fa719b5183c,DISK], DatanodeInfoWithStorage[127.0.0.1:41571,DS-be8cbe77-660d-4caf-ac42-30db2a7cd665,DISK], DatanodeInfoWithStorage[127.0.0.1:40833,DS-38d730cd-e757-4e1c-afb2-dc6c74a80018,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-72fa5891-85c5-4efd-bb9f-91e881d212ce,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-ca71337d-4d9f-4fad-ab75-56354a39a9f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-accfc7ca-86d2-438a-a8ce-e197334ac30d,DISK]]; indices=[3, 4, 5, 6, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1254266327-172.17.0.14-1597424570160:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43389,DS-0f7789da-0687-4fdb-8677-28e56a8413ed,DISK], DatanodeInfoWithStorage[127.0.0.1:43759,DS-190aa23a-dcff-468b-a457-8fa719b5183c,DISK], DatanodeInfoWithStorage[127.0.0.1:41571,DS-be8cbe77-660d-4caf-ac42-30db2a7cd665,DISK], DatanodeInfoWithStorage[127.0.0.1:40833,DS-38d730cd-e757-4e1c-afb2-dc6c74a80018,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-72fa5891-85c5-4efd-bb9f-91e881d212ce,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-ca71337d-4d9f-4fad-ab75-56354a39a9f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-accfc7ca-86d2-438a-a8ce-e197334ac30d,DISK]]; indices=[3, 4, 5, 6, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1254266327-172.17.0.14-1597424570160:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43389,DS-0f7789da-0687-4fdb-8677-28e56a8413ed,DISK], DatanodeInfoWithStorage[127.0.0.1:43759,DS-190aa23a-dcff-468b-a457-8fa719b5183c,DISK], DatanodeInfoWithStorage[127.0.0.1:41571,DS-be8cbe77-660d-4caf-ac42-30db2a7cd665,DISK], DatanodeInfoWithStorage[127.0.0.1:40833,DS-38d730cd-e757-4e1c-afb2-dc6c74a80018,DISK], DatanodeInfoWithStorage[127.0.0.1:39944,DS-72fa5891-85c5-4efd-bb9f-91e881d212ce,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-ca71337d-4d9f-4fad-ab75-56354a39a9f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-accfc7ca-86d2-438a-a8ce-e197334ac30d,DISK]]; indices=[3, 4, 5, 6, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1577234112-172.17.0.14-1597425397925:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38653,DS-0c8192ca-925b-4f2e-8601-658220e5cb38,DISK], DatanodeInfoWithStorage[127.0.0.1:39764,DS-2b411986-c86d-45c3-8361-5ea5d7e52ec6,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-5a3c8ff8-108c-409e-ae6a-91714b7d10d7,DISK], DatanodeInfoWithStorage[127.0.0.1:41199,DS-143cc9ec-14bf-4426-9475-edd88d27e343,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-de889a42-c66f-4afc-b343-30912ff06d32,DISK], DatanodeInfoWithStorage[127.0.0.1:35426,DS-19300897-bbce-4ab7-bfae-35bad5caa404,DISK]]; indices=[1, 3, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1577234112-172.17.0.14-1597425397925:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38653,DS-0c8192ca-925b-4f2e-8601-658220e5cb38,DISK], DatanodeInfoWithStorage[127.0.0.1:39764,DS-2b411986-c86d-45c3-8361-5ea5d7e52ec6,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-5a3c8ff8-108c-409e-ae6a-91714b7d10d7,DISK], DatanodeInfoWithStorage[127.0.0.1:41199,DS-143cc9ec-14bf-4426-9475-edd88d27e343,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-de889a42-c66f-4afc-b343-30912ff06d32,DISK], DatanodeInfoWithStorage[127.0.0.1:35426,DS-19300897-bbce-4ab7-bfae-35bad5caa404,DISK]]; indices=[1, 3, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1577234112-172.17.0.14-1597425397925:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38653,DS-0c8192ca-925b-4f2e-8601-658220e5cb38,DISK], DatanodeInfoWithStorage[127.0.0.1:39764,DS-2b411986-c86d-45c3-8361-5ea5d7e52ec6,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-5a3c8ff8-108c-409e-ae6a-91714b7d10d7,DISK], DatanodeInfoWithStorage[127.0.0.1:41199,DS-143cc9ec-14bf-4426-9475-edd88d27e343,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-de889a42-c66f-4afc-b343-30912ff06d32,DISK], DatanodeInfoWithStorage[127.0.0.1:35426,DS-19300897-bbce-4ab7-bfae-35bad5caa404,DISK]]; indices=[1, 3, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1577234112-172.17.0.14-1597425397925:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38653,DS-0c8192ca-925b-4f2e-8601-658220e5cb38,DISK], DatanodeInfoWithStorage[127.0.0.1:39764,DS-2b411986-c86d-45c3-8361-5ea5d7e52ec6,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-5a3c8ff8-108c-409e-ae6a-91714b7d10d7,DISK], DatanodeInfoWithStorage[127.0.0.1:41199,DS-143cc9ec-14bf-4426-9475-edd88d27e343,DISK], DatanodeInfoWithStorage[127.0.0.1:34979,DS-de889a42-c66f-4afc-b343-30912ff06d32,DISK], DatanodeInfoWithStorage[127.0.0.1:35426,DS-19300897-bbce-4ab7-bfae-35bad5caa404,DISK]]; indices=[1, 3, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1679066107-172.17.0.14-1597425645545:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37964,DS-16367224-885c-4738-98aa-044aa6bb162e,DISK], DatanodeInfoWithStorage[127.0.0.1:35255,DS-c982823c-ffa0-4fb1-a991-e7703e8d758d,DISK], DatanodeInfoWithStorage[127.0.0.1:42316,DS-01ced792-23fb-405b-b3b2-f31caf7fc245,DISK], DatanodeInfoWithStorage[127.0.0.1:35404,DS-49736af7-e9f6-4a0e-bd4a-bfd57c7863e1,DISK], DatanodeInfoWithStorage[127.0.0.1:36946,DS-2b04701e-6ab8-4629-8b5f-0bded4731611,DISK]]; indices=[3, 4, 5, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1679066107-172.17.0.14-1597425645545:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37964,DS-16367224-885c-4738-98aa-044aa6bb162e,DISK], DatanodeInfoWithStorage[127.0.0.1:35255,DS-c982823c-ffa0-4fb1-a991-e7703e8d758d,DISK], DatanodeInfoWithStorage[127.0.0.1:42316,DS-01ced792-23fb-405b-b3b2-f31caf7fc245,DISK], DatanodeInfoWithStorage[127.0.0.1:35404,DS-49736af7-e9f6-4a0e-bd4a-bfd57c7863e1,DISK], DatanodeInfoWithStorage[127.0.0.1:36946,DS-2b04701e-6ab8-4629-8b5f-0bded4731611,DISK]]; indices=[3, 4, 5, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1679066107-172.17.0.14-1597425645545:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37964,DS-16367224-885c-4738-98aa-044aa6bb162e,DISK], DatanodeInfoWithStorage[127.0.0.1:35255,DS-c982823c-ffa0-4fb1-a991-e7703e8d758d,DISK], DatanodeInfoWithStorage[127.0.0.1:42316,DS-01ced792-23fb-405b-b3b2-f31caf7fc245,DISK], DatanodeInfoWithStorage[127.0.0.1:35404,DS-49736af7-e9f6-4a0e-bd4a-bfd57c7863e1,DISK], DatanodeInfoWithStorage[127.0.0.1:36946,DS-2b04701e-6ab8-4629-8b5f-0bded4731611,DISK]]; indices=[3, 4, 5, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1679066107-172.17.0.14-1597425645545:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37964,DS-16367224-885c-4738-98aa-044aa6bb162e,DISK], DatanodeInfoWithStorage[127.0.0.1:35255,DS-c982823c-ffa0-4fb1-a991-e7703e8d758d,DISK], DatanodeInfoWithStorage[127.0.0.1:42316,DS-01ced792-23fb-405b-b3b2-f31caf7fc245,DISK], DatanodeInfoWithStorage[127.0.0.1:35404,DS-49736af7-e9f6-4a0e-bd4a-bfd57c7863e1,DISK], DatanodeInfoWithStorage[127.0.0.1:36946,DS-2b04701e-6ab8-4629-8b5f-0bded4731611,DISK]]; indices=[3, 4, 5, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1529596347-172.17.0.14-1597425869360:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44874,DS-d3cd40c0-0acc-4ec3-8a8e-7cbeb8b0c2c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35200,DS-87e04f6a-b20e-4c07-9e28-b4d17c10e8fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-b11c31f3-3557-4ed0-be0f-d3609f8b94a2,DISK], DatanodeInfoWithStorage[127.0.0.1:35545,DS-9f98daf1-a327-499e-85a0-2f3a3a9954f6,DISK]]; indices=[0, 3, 4, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1529596347-172.17.0.14-1597425869360:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44874,DS-d3cd40c0-0acc-4ec3-8a8e-7cbeb8b0c2c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35200,DS-87e04f6a-b20e-4c07-9e28-b4d17c10e8fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-b11c31f3-3557-4ed0-be0f-d3609f8b94a2,DISK], DatanodeInfoWithStorage[127.0.0.1:35545,DS-9f98daf1-a327-499e-85a0-2f3a3a9954f6,DISK]]; indices=[0, 3, 4, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1529596347-172.17.0.14-1597425869360:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44874,DS-d3cd40c0-0acc-4ec3-8a8e-7cbeb8b0c2c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35200,DS-87e04f6a-b20e-4c07-9e28-b4d17c10e8fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-b11c31f3-3557-4ed0-be0f-d3609f8b94a2,DISK], DatanodeInfoWithStorage[127.0.0.1:35545,DS-9f98daf1-a327-499e-85a0-2f3a3a9954f6,DISK]]; indices=[0, 3, 4, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1529596347-172.17.0.14-1597425869360:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44874,DS-d3cd40c0-0acc-4ec3-8a8e-7cbeb8b0c2c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35200,DS-87e04f6a-b20e-4c07-9e28-b4d17c10e8fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-b11c31f3-3557-4ed0-be0f-d3609f8b94a2,DISK], DatanodeInfoWithStorage[127.0.0.1:35545,DS-9f98daf1-a327-499e-85a0-2f3a3a9954f6,DISK]]; indices=[0, 3, 4, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-887945251-172.17.0.14-1597426205232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44827,DS-231d0e05-293b-4293-b03e-ff3d2b61890f,DISK], DatanodeInfoWithStorage[127.0.0.1:33160,DS-d3d2dd06-08f7-4feb-9823-603584bdaac2,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-d294f6cb-8604-45d7-a08c-4a4d71d77321,DISK], DatanodeInfoWithStorage[127.0.0.1:34776,DS-e7afd57e-7fad-4bf1-b736-17f555ebeb2a,DISK], DatanodeInfoWithStorage[127.0.0.1:35574,DS-a7d0aa29-37a4-46b8-b9f4-96abb411323c,DISK], DatanodeInfoWithStorage[127.0.0.1:42080,DS-593322a1-21d3-4774-991a-4464b0862f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:33219,DS-328b394d-2d70-47ba-81e5-02278b6908a0,DISK]]; indices=[0, 1, 3, 4, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-887945251-172.17.0.14-1597426205232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44827,DS-231d0e05-293b-4293-b03e-ff3d2b61890f,DISK], DatanodeInfoWithStorage[127.0.0.1:33160,DS-d3d2dd06-08f7-4feb-9823-603584bdaac2,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-d294f6cb-8604-45d7-a08c-4a4d71d77321,DISK], DatanodeInfoWithStorage[127.0.0.1:34776,DS-e7afd57e-7fad-4bf1-b736-17f555ebeb2a,DISK], DatanodeInfoWithStorage[127.0.0.1:35574,DS-a7d0aa29-37a4-46b8-b9f4-96abb411323c,DISK], DatanodeInfoWithStorage[127.0.0.1:42080,DS-593322a1-21d3-4774-991a-4464b0862f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:33219,DS-328b394d-2d70-47ba-81e5-02278b6908a0,DISK]]; indices=[0, 1, 3, 4, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-887945251-172.17.0.14-1597426205232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44827,DS-231d0e05-293b-4293-b03e-ff3d2b61890f,DISK], DatanodeInfoWithStorage[127.0.0.1:33160,DS-d3d2dd06-08f7-4feb-9823-603584bdaac2,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-d294f6cb-8604-45d7-a08c-4a4d71d77321,DISK], DatanodeInfoWithStorage[127.0.0.1:34776,DS-e7afd57e-7fad-4bf1-b736-17f555ebeb2a,DISK], DatanodeInfoWithStorage[127.0.0.1:35574,DS-a7d0aa29-37a4-46b8-b9f4-96abb411323c,DISK], DatanodeInfoWithStorage[127.0.0.1:42080,DS-593322a1-21d3-4774-991a-4464b0862f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:33219,DS-328b394d-2d70-47ba-81e5-02278b6908a0,DISK]]; indices=[0, 1, 3, 4, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-887945251-172.17.0.14-1597426205232:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44827,DS-231d0e05-293b-4293-b03e-ff3d2b61890f,DISK], DatanodeInfoWithStorage[127.0.0.1:33160,DS-d3d2dd06-08f7-4feb-9823-603584bdaac2,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-d294f6cb-8604-45d7-a08c-4a4d71d77321,DISK], DatanodeInfoWithStorage[127.0.0.1:34776,DS-e7afd57e-7fad-4bf1-b736-17f555ebeb2a,DISK], DatanodeInfoWithStorage[127.0.0.1:35574,DS-a7d0aa29-37a4-46b8-b9f4-96abb411323c,DISK], DatanodeInfoWithStorage[127.0.0.1:42080,DS-593322a1-21d3-4774-991a-4464b0862f8b,DISK], DatanodeInfoWithStorage[127.0.0.1:33219,DS-328b394d-2d70-47ba-81e5-02278b6908a0,DISK]]; indices=[0, 1, 3, 4, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-14650166-172.17.0.14-1597426682213:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37580,DS-08262caf-4c43-4efc-8db7-8a75f38da7b7,DISK], DatanodeInfoWithStorage[127.0.0.1:33342,DS-bcdff476-7fff-48af-b275-29e3ba6ebbd5,DISK], DatanodeInfoWithStorage[127.0.0.1:40031,DS-e36fcb1c-efad-42a0-b836-bde2d70347da,DISK], DatanodeInfoWithStorage[127.0.0.1:40428,DS-64361a25-d91e-4b0f-afa1-92d62aad4500,DISK], DatanodeInfoWithStorage[127.0.0.1:45904,DS-44790f8e-e9ea-471c-8ddc-529d9953e1ad,DISK], DatanodeInfoWithStorage[127.0.0.1:35397,DS-86101de1-ff45-440f-853b-496d8fcbd09e,DISK]]; indices=[0, 2, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-14650166-172.17.0.14-1597426682213:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37580,DS-08262caf-4c43-4efc-8db7-8a75f38da7b7,DISK], DatanodeInfoWithStorage[127.0.0.1:33342,DS-bcdff476-7fff-48af-b275-29e3ba6ebbd5,DISK], DatanodeInfoWithStorage[127.0.0.1:40031,DS-e36fcb1c-efad-42a0-b836-bde2d70347da,DISK], DatanodeInfoWithStorage[127.0.0.1:40428,DS-64361a25-d91e-4b0f-afa1-92d62aad4500,DISK], DatanodeInfoWithStorage[127.0.0.1:45904,DS-44790f8e-e9ea-471c-8ddc-529d9953e1ad,DISK], DatanodeInfoWithStorage[127.0.0.1:35397,DS-86101de1-ff45-440f-853b-496d8fcbd09e,DISK]]; indices=[0, 2, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-14650166-172.17.0.14-1597426682213:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37580,DS-08262caf-4c43-4efc-8db7-8a75f38da7b7,DISK], DatanodeInfoWithStorage[127.0.0.1:33342,DS-bcdff476-7fff-48af-b275-29e3ba6ebbd5,DISK], DatanodeInfoWithStorage[127.0.0.1:40031,DS-e36fcb1c-efad-42a0-b836-bde2d70347da,DISK], DatanodeInfoWithStorage[127.0.0.1:40428,DS-64361a25-d91e-4b0f-afa1-92d62aad4500,DISK], DatanodeInfoWithStorage[127.0.0.1:45904,DS-44790f8e-e9ea-471c-8ddc-529d9953e1ad,DISK], DatanodeInfoWithStorage[127.0.0.1:35397,DS-86101de1-ff45-440f-853b-496d8fcbd09e,DISK]]; indices=[0, 2, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-14650166-172.17.0.14-1597426682213:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37580,DS-08262caf-4c43-4efc-8db7-8a75f38da7b7,DISK], DatanodeInfoWithStorage[127.0.0.1:33342,DS-bcdff476-7fff-48af-b275-29e3ba6ebbd5,DISK], DatanodeInfoWithStorage[127.0.0.1:40031,DS-e36fcb1c-efad-42a0-b836-bde2d70347da,DISK], DatanodeInfoWithStorage[127.0.0.1:40428,DS-64361a25-d91e-4b0f-afa1-92d62aad4500,DISK], DatanodeInfoWithStorage[127.0.0.1:45904,DS-44790f8e-e9ea-471c-8ddc-529d9953e1ad,DISK], DatanodeInfoWithStorage[127.0.0.1:35397,DS-86101de1-ff45-440f-853b-496d8fcbd09e,DISK]]; indices=[0, 2, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1906533901-172.17.0.14-1597426728673:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39301,DS-3d25a5c4-d36e-4aaf-be6d-5a7b8d6d5049,DISK], DatanodeInfoWithStorage[127.0.0.1:36379,DS-39bf7086-73db-4bfb-a893-745e24d6fa4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38921,DS-36d79f83-59fa-48a8-9850-18e7af1c0bbe,DISK], DatanodeInfoWithStorage[127.0.0.1:36789,DS-1d3c2bf8-3c19-4db4-8c41-560866157ab2,DISK], DatanodeInfoWithStorage[127.0.0.1:45583,DS-d49d1c3b-defd-438f-9e1b-a5738e78bbc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37238,DS-fad7ad86-44c9-4de0-b0a7-e66ee6319ff5,DISK], DatanodeInfoWithStorage[127.0.0.1:43314,DS-a6470a5d-95b2-4b7b-a2c7-f70021dcb1e3,DISK]]; indices=[1, 2, 3, 4, 5, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1906533901-172.17.0.14-1597426728673:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39301,DS-3d25a5c4-d36e-4aaf-be6d-5a7b8d6d5049,DISK], DatanodeInfoWithStorage[127.0.0.1:36379,DS-39bf7086-73db-4bfb-a893-745e24d6fa4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38921,DS-36d79f83-59fa-48a8-9850-18e7af1c0bbe,DISK], DatanodeInfoWithStorage[127.0.0.1:36789,DS-1d3c2bf8-3c19-4db4-8c41-560866157ab2,DISK], DatanodeInfoWithStorage[127.0.0.1:45583,DS-d49d1c3b-defd-438f-9e1b-a5738e78bbc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37238,DS-fad7ad86-44c9-4de0-b0a7-e66ee6319ff5,DISK], DatanodeInfoWithStorage[127.0.0.1:43314,DS-a6470a5d-95b2-4b7b-a2c7-f70021dcb1e3,DISK]]; indices=[1, 2, 3, 4, 5, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1906533901-172.17.0.14-1597426728673:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39301,DS-3d25a5c4-d36e-4aaf-be6d-5a7b8d6d5049,DISK], DatanodeInfoWithStorage[127.0.0.1:36379,DS-39bf7086-73db-4bfb-a893-745e24d6fa4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38921,DS-36d79f83-59fa-48a8-9850-18e7af1c0bbe,DISK], DatanodeInfoWithStorage[127.0.0.1:36789,DS-1d3c2bf8-3c19-4db4-8c41-560866157ab2,DISK], DatanodeInfoWithStorage[127.0.0.1:45583,DS-d49d1c3b-defd-438f-9e1b-a5738e78bbc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37238,DS-fad7ad86-44c9-4de0-b0a7-e66ee6319ff5,DISK], DatanodeInfoWithStorage[127.0.0.1:43314,DS-a6470a5d-95b2-4b7b-a2c7-f70021dcb1e3,DISK]]; indices=[1, 2, 3, 4, 5, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1906533901-172.17.0.14-1597426728673:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39301,DS-3d25a5c4-d36e-4aaf-be6d-5a7b8d6d5049,DISK], DatanodeInfoWithStorage[127.0.0.1:36379,DS-39bf7086-73db-4bfb-a893-745e24d6fa4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38921,DS-36d79f83-59fa-48a8-9850-18e7af1c0bbe,DISK], DatanodeInfoWithStorage[127.0.0.1:36789,DS-1d3c2bf8-3c19-4db4-8c41-560866157ab2,DISK], DatanodeInfoWithStorage[127.0.0.1:45583,DS-d49d1c3b-defd-438f-9e1b-a5738e78bbc9,DISK], DatanodeInfoWithStorage[127.0.0.1:37238,DS-fad7ad86-44c9-4de0-b0a7-e66ee6319ff5,DISK], DatanodeInfoWithStorage[127.0.0.1:43314,DS-a6470a5d-95b2-4b7b-a2c7-f70021dcb1e3,DISK]]; indices=[1, 2, 3, 4, 5, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1159523066-172.17.0.14-1597426865428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37251,DS-361ea107-c828-447d-9995-452fc8499932,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-1eea82e7-7e84-405c-b8aa-8983a29d774a,DISK], DatanodeInfoWithStorage[127.0.0.1:37370,DS-bd66ab25-9223-4355-937b-e9336ea4a1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:33417,DS-026773aa-3ed6-45ef-955a-2bf950bee952,DISK], DatanodeInfoWithStorage[127.0.0.1:42915,DS-bbfe772c-0c7e-4cb7-8714-a5163bd75cc9,DISK]]; indices=[0, 2, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1159523066-172.17.0.14-1597426865428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37251,DS-361ea107-c828-447d-9995-452fc8499932,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-1eea82e7-7e84-405c-b8aa-8983a29d774a,DISK], DatanodeInfoWithStorage[127.0.0.1:37370,DS-bd66ab25-9223-4355-937b-e9336ea4a1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:33417,DS-026773aa-3ed6-45ef-955a-2bf950bee952,DISK], DatanodeInfoWithStorage[127.0.0.1:42915,DS-bbfe772c-0c7e-4cb7-8714-a5163bd75cc9,DISK]]; indices=[0, 2, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1159523066-172.17.0.14-1597426865428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37251,DS-361ea107-c828-447d-9995-452fc8499932,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-1eea82e7-7e84-405c-b8aa-8983a29d774a,DISK], DatanodeInfoWithStorage[127.0.0.1:37370,DS-bd66ab25-9223-4355-937b-e9336ea4a1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:33417,DS-026773aa-3ed6-45ef-955a-2bf950bee952,DISK], DatanodeInfoWithStorage[127.0.0.1:42915,DS-bbfe772c-0c7e-4cb7-8714-a5163bd75cc9,DISK]]; indices=[0, 2, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1159523066-172.17.0.14-1597426865428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37251,DS-361ea107-c828-447d-9995-452fc8499932,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-1eea82e7-7e84-405c-b8aa-8983a29d774a,DISK], DatanodeInfoWithStorage[127.0.0.1:37370,DS-bd66ab25-9223-4355-937b-e9336ea4a1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:33417,DS-026773aa-3ed6-45ef-955a-2bf950bee952,DISK], DatanodeInfoWithStorage[127.0.0.1:42915,DS-bbfe772c-0c7e-4cb7-8714-a5163bd75cc9,DISK]]; indices=[0, 2, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 3 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=3); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-638404546-172.17.0.14-1597427132798:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40045,DS-ade4752e-3eab-4b9d-920e-470933dce092,DISK], DatanodeInfoWithStorage[127.0.0.1:45072,DS-c5ecb11b-71d2-41fd-ae73-1087232039fa,DISK]]; indices=[2, 4]}];  lastLocatedBlock=LocatedStripedBlock{BP-638404546-172.17.0.14-1597427132798:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40045,DS-ade4752e-3eab-4b9d-920e-470933dce092,DISK], DatanodeInfoWithStorage[127.0.0.1:45072,DS-c5ecb11b-71d2-41fd-ae73-1087232039fa,DISK]]; indices=[2, 4]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2]}
stackTrace: java.io.IOException: 3 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=3); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-638404546-172.17.0.14-1597427132798:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40045,DS-ade4752e-3eab-4b9d-920e-470933dce092,DISK], DatanodeInfoWithStorage[127.0.0.1:45072,DS-c5ecb11b-71d2-41fd-ae73-1087232039fa,DISK]]; indices=[2, 4]}];  lastLocatedBlock=LocatedStripedBlock{BP-638404546-172.17.0.14-1597427132798:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40045,DS-ade4752e-3eab-4b9d-920e-470933dce092,DISK], DatanodeInfoWithStorage[127.0.0.1:45072,DS-c5ecb11b-71d2-41fd-ae73-1087232039fa,DISK]]; indices=[2, 4]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:550)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-183741182-172.17.0.14-1597427699249:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33688,DS-0f5d9982-9b07-4a50-83d3-d1e525c2ead1,DISK], DatanodeInfoWithStorage[127.0.0.1:42707,DS-571213ed-239b-4872-9965-a0c863cae5dc,DISK], DatanodeInfoWithStorage[127.0.0.1:32862,DS-6bd37a10-7fa9-4586-9bfd-fd94150cb745,DISK], DatanodeInfoWithStorage[127.0.0.1:46851,DS-880dc092-d6c4-48d5-9a06-67fc6360cb36,DISK], DatanodeInfoWithStorage[127.0.0.1:39070,DS-162b202f-a614-49ac-a80c-b6133c2b7386,DISK], DatanodeInfoWithStorage[127.0.0.1:37455,DS-2b1a08dd-3aed-48ea-8ac5-c2ab2018745c,DISK], DatanodeInfoWithStorage[127.0.0.1:36711,DS-2c77881c-8dc4-4688-af97-5e9af40b4187,DISK]]; indices=[1, 4, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-183741182-172.17.0.14-1597427699249:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33688,DS-0f5d9982-9b07-4a50-83d3-d1e525c2ead1,DISK], DatanodeInfoWithStorage[127.0.0.1:42707,DS-571213ed-239b-4872-9965-a0c863cae5dc,DISK], DatanodeInfoWithStorage[127.0.0.1:32862,DS-6bd37a10-7fa9-4586-9bfd-fd94150cb745,DISK], DatanodeInfoWithStorage[127.0.0.1:46851,DS-880dc092-d6c4-48d5-9a06-67fc6360cb36,DISK], DatanodeInfoWithStorage[127.0.0.1:39070,DS-162b202f-a614-49ac-a80c-b6133c2b7386,DISK], DatanodeInfoWithStorage[127.0.0.1:37455,DS-2b1a08dd-3aed-48ea-8ac5-c2ab2018745c,DISK], DatanodeInfoWithStorage[127.0.0.1:36711,DS-2c77881c-8dc4-4688-af97-5e9af40b4187,DISK]]; indices=[1, 4, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-183741182-172.17.0.14-1597427699249:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33688,DS-0f5d9982-9b07-4a50-83d3-d1e525c2ead1,DISK], DatanodeInfoWithStorage[127.0.0.1:42707,DS-571213ed-239b-4872-9965-a0c863cae5dc,DISK], DatanodeInfoWithStorage[127.0.0.1:32862,DS-6bd37a10-7fa9-4586-9bfd-fd94150cb745,DISK], DatanodeInfoWithStorage[127.0.0.1:46851,DS-880dc092-d6c4-48d5-9a06-67fc6360cb36,DISK], DatanodeInfoWithStorage[127.0.0.1:39070,DS-162b202f-a614-49ac-a80c-b6133c2b7386,DISK], DatanodeInfoWithStorage[127.0.0.1:37455,DS-2b1a08dd-3aed-48ea-8ac5-c2ab2018745c,DISK], DatanodeInfoWithStorage[127.0.0.1:36711,DS-2c77881c-8dc4-4688-af97-5e9af40b4187,DISK]]; indices=[1, 4, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-183741182-172.17.0.14-1597427699249:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33688,DS-0f5d9982-9b07-4a50-83d3-d1e525c2ead1,DISK], DatanodeInfoWithStorage[127.0.0.1:42707,DS-571213ed-239b-4872-9965-a0c863cae5dc,DISK], DatanodeInfoWithStorage[127.0.0.1:32862,DS-6bd37a10-7fa9-4586-9bfd-fd94150cb745,DISK], DatanodeInfoWithStorage[127.0.0.1:46851,DS-880dc092-d6c4-48d5-9a06-67fc6360cb36,DISK], DatanodeInfoWithStorage[127.0.0.1:39070,DS-162b202f-a614-49ac-a80c-b6133c2b7386,DISK], DatanodeInfoWithStorage[127.0.0.1:37455,DS-2b1a08dd-3aed-48ea-8ac5-c2ab2018745c,DISK], DatanodeInfoWithStorage[127.0.0.1:36711,DS-2c77881c-8dc4-4688-af97-5e9af40b4187,DISK]]; indices=[1, 4, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-685869275-172.17.0.14-1597427905271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-7cbbe8b6-8c99-4507-9cb9-552ccf9dd933,DISK], DatanodeInfoWithStorage[127.0.0.1:43232,DS-cef053d2-eac2-4d01-b723-716587df5877,DISK], DatanodeInfoWithStorage[127.0.0.1:36152,DS-c7c91b26-6081-476d-b5d8-e65826001f9c,DISK], DatanodeInfoWithStorage[127.0.0.1:33997,DS-2419928f-c4a6-4ba6-ba38-3b678ba01c58,DISK], DatanodeInfoWithStorage[127.0.0.1:43635,DS-46d3ea3c-567b-41cb-b58c-75238ce04d13,DISK], DatanodeInfoWithStorage[127.0.0.1:41627,DS-f56b244e-0b04-4274-8848-7bc24f22e8fc,DISK], DatanodeInfoWithStorage[127.0.0.1:42198,DS-4a096df4-2c59-4786-ae1c-046f77d8f1f4,DISK]]; indices=[0, 1, 3, 4, 5, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-685869275-172.17.0.14-1597427905271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-7cbbe8b6-8c99-4507-9cb9-552ccf9dd933,DISK], DatanodeInfoWithStorage[127.0.0.1:43232,DS-cef053d2-eac2-4d01-b723-716587df5877,DISK], DatanodeInfoWithStorage[127.0.0.1:36152,DS-c7c91b26-6081-476d-b5d8-e65826001f9c,DISK], DatanodeInfoWithStorage[127.0.0.1:33997,DS-2419928f-c4a6-4ba6-ba38-3b678ba01c58,DISK], DatanodeInfoWithStorage[127.0.0.1:43635,DS-46d3ea3c-567b-41cb-b58c-75238ce04d13,DISK], DatanodeInfoWithStorage[127.0.0.1:41627,DS-f56b244e-0b04-4274-8848-7bc24f22e8fc,DISK], DatanodeInfoWithStorage[127.0.0.1:42198,DS-4a096df4-2c59-4786-ae1c-046f77d8f1f4,DISK]]; indices=[0, 1, 3, 4, 5, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-685869275-172.17.0.14-1597427905271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-7cbbe8b6-8c99-4507-9cb9-552ccf9dd933,DISK], DatanodeInfoWithStorage[127.0.0.1:43232,DS-cef053d2-eac2-4d01-b723-716587df5877,DISK], DatanodeInfoWithStorage[127.0.0.1:36152,DS-c7c91b26-6081-476d-b5d8-e65826001f9c,DISK], DatanodeInfoWithStorage[127.0.0.1:33997,DS-2419928f-c4a6-4ba6-ba38-3b678ba01c58,DISK], DatanodeInfoWithStorage[127.0.0.1:43635,DS-46d3ea3c-567b-41cb-b58c-75238ce04d13,DISK], DatanodeInfoWithStorage[127.0.0.1:41627,DS-f56b244e-0b04-4274-8848-7bc24f22e8fc,DISK], DatanodeInfoWithStorage[127.0.0.1:42198,DS-4a096df4-2c59-4786-ae1c-046f77d8f1f4,DISK]]; indices=[0, 1, 3, 4, 5, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-685869275-172.17.0.14-1597427905271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34485,DS-7cbbe8b6-8c99-4507-9cb9-552ccf9dd933,DISK], DatanodeInfoWithStorage[127.0.0.1:43232,DS-cef053d2-eac2-4d01-b723-716587df5877,DISK], DatanodeInfoWithStorage[127.0.0.1:36152,DS-c7c91b26-6081-476d-b5d8-e65826001f9c,DISK], DatanodeInfoWithStorage[127.0.0.1:33997,DS-2419928f-c4a6-4ba6-ba38-3b678ba01c58,DISK], DatanodeInfoWithStorage[127.0.0.1:43635,DS-46d3ea3c-567b-41cb-b58c-75238ce04d13,DISK], DatanodeInfoWithStorage[127.0.0.1:41627,DS-f56b244e-0b04-4274-8848-7bc24f22e8fc,DISK], DatanodeInfoWithStorage[127.0.0.1:42198,DS-4a096df4-2c59-4786-ae1c-046f77d8f1f4,DISK]]; indices=[0, 1, 3, 4, 5, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-85546973-172.17.0.14-1597427944885:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42853,DS-ed44393b-08a4-479b-816d-f7ffcd642402,DISK], DatanodeInfoWithStorage[127.0.0.1:42533,DS-de3fbc1b-878e-47dc-b6ca-028131fcac18,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-262e0d3a-658d-44ed-bd7a-2bd5afa4a0eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43418,DS-f32a9730-cfd3-4743-9f27-eba91600dac6,DISK], DatanodeInfoWithStorage[127.0.0.1:36121,DS-1798fb76-214a-4e86-ae1e-c6f274c45a98,DISK], DatanodeInfoWithStorage[127.0.0.1:45885,DS-6283613c-cdf3-4967-9c50-725ce6bc6555,DISK], DatanodeInfoWithStorage[127.0.0.1:33984,DS-a2d33701-f174-42a0-b61e-e36e98b02e7d,DISK]]; indices=[1, 2, 4, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-85546973-172.17.0.14-1597427944885:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42853,DS-ed44393b-08a4-479b-816d-f7ffcd642402,DISK], DatanodeInfoWithStorage[127.0.0.1:42533,DS-de3fbc1b-878e-47dc-b6ca-028131fcac18,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-262e0d3a-658d-44ed-bd7a-2bd5afa4a0eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43418,DS-f32a9730-cfd3-4743-9f27-eba91600dac6,DISK], DatanodeInfoWithStorage[127.0.0.1:36121,DS-1798fb76-214a-4e86-ae1e-c6f274c45a98,DISK], DatanodeInfoWithStorage[127.0.0.1:45885,DS-6283613c-cdf3-4967-9c50-725ce6bc6555,DISK], DatanodeInfoWithStorage[127.0.0.1:33984,DS-a2d33701-f174-42a0-b61e-e36e98b02e7d,DISK]]; indices=[1, 2, 4, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-85546973-172.17.0.14-1597427944885:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42853,DS-ed44393b-08a4-479b-816d-f7ffcd642402,DISK], DatanodeInfoWithStorage[127.0.0.1:42533,DS-de3fbc1b-878e-47dc-b6ca-028131fcac18,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-262e0d3a-658d-44ed-bd7a-2bd5afa4a0eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43418,DS-f32a9730-cfd3-4743-9f27-eba91600dac6,DISK], DatanodeInfoWithStorage[127.0.0.1:36121,DS-1798fb76-214a-4e86-ae1e-c6f274c45a98,DISK], DatanodeInfoWithStorage[127.0.0.1:45885,DS-6283613c-cdf3-4967-9c50-725ce6bc6555,DISK], DatanodeInfoWithStorage[127.0.0.1:33984,DS-a2d33701-f174-42a0-b61e-e36e98b02e7d,DISK]]; indices=[1, 2, 4, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-85546973-172.17.0.14-1597427944885:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42853,DS-ed44393b-08a4-479b-816d-f7ffcd642402,DISK], DatanodeInfoWithStorage[127.0.0.1:42533,DS-de3fbc1b-878e-47dc-b6ca-028131fcac18,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-262e0d3a-658d-44ed-bd7a-2bd5afa4a0eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43418,DS-f32a9730-cfd3-4743-9f27-eba91600dac6,DISK], DatanodeInfoWithStorage[127.0.0.1:36121,DS-1798fb76-214a-4e86-ae1e-c6f274c45a98,DISK], DatanodeInfoWithStorage[127.0.0.1:45885,DS-6283613c-cdf3-4967-9c50-725ce6bc6555,DISK], DatanodeInfoWithStorage[127.0.0.1:33984,DS-a2d33701-f174-42a0-b61e-e36e98b02e7d,DISK]]; indices=[1, 2, 4, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1179300325-172.17.0.14-1597428179822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38698,DS-2d854dde-2b10-4802-99c2-0c4d79ca632c,DISK], DatanodeInfoWithStorage[127.0.0.1:41990,DS-2ca1e396-7ade-4ca1-bd6d-b1bef23fe636,DISK], DatanodeInfoWithStorage[127.0.0.1:44371,DS-1c5cb162-3902-443a-ab5b-8821797b36c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42844,DS-b7aa073f-f50c-4693-926a-c26313b8d153,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-ecc32fdd-408e-4db8-8ffc-58cabbff98bc,DISK], DatanodeInfoWithStorage[127.0.0.1:37745,DS-da624f55-a901-4288-b2bd-cd0a97b798f5,DISK]]; indices=[1, 2, 3, 5, 6, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1179300325-172.17.0.14-1597428179822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38698,DS-2d854dde-2b10-4802-99c2-0c4d79ca632c,DISK], DatanodeInfoWithStorage[127.0.0.1:41990,DS-2ca1e396-7ade-4ca1-bd6d-b1bef23fe636,DISK], DatanodeInfoWithStorage[127.0.0.1:44371,DS-1c5cb162-3902-443a-ab5b-8821797b36c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42844,DS-b7aa073f-f50c-4693-926a-c26313b8d153,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-ecc32fdd-408e-4db8-8ffc-58cabbff98bc,DISK], DatanodeInfoWithStorage[127.0.0.1:37745,DS-da624f55-a901-4288-b2bd-cd0a97b798f5,DISK]]; indices=[1, 2, 3, 5, 6, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1179300325-172.17.0.14-1597428179822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38698,DS-2d854dde-2b10-4802-99c2-0c4d79ca632c,DISK], DatanodeInfoWithStorage[127.0.0.1:41990,DS-2ca1e396-7ade-4ca1-bd6d-b1bef23fe636,DISK], DatanodeInfoWithStorage[127.0.0.1:44371,DS-1c5cb162-3902-443a-ab5b-8821797b36c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42844,DS-b7aa073f-f50c-4693-926a-c26313b8d153,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-ecc32fdd-408e-4db8-8ffc-58cabbff98bc,DISK], DatanodeInfoWithStorage[127.0.0.1:37745,DS-da624f55-a901-4288-b2bd-cd0a97b798f5,DISK]]; indices=[1, 2, 3, 5, 6, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1179300325-172.17.0.14-1597428179822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38698,DS-2d854dde-2b10-4802-99c2-0c4d79ca632c,DISK], DatanodeInfoWithStorage[127.0.0.1:41990,DS-2ca1e396-7ade-4ca1-bd6d-b1bef23fe636,DISK], DatanodeInfoWithStorage[127.0.0.1:44371,DS-1c5cb162-3902-443a-ab5b-8821797b36c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42844,DS-b7aa073f-f50c-4693-926a-c26313b8d153,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-ecc32fdd-408e-4db8-8ffc-58cabbff98bc,DISK], DatanodeInfoWithStorage[127.0.0.1:37745,DS-da624f55-a901-4288-b2bd-cd0a97b798f5,DISK]]; indices=[1, 2, 3, 5, 6, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-575114936-172.17.0.14-1597428305862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44578,DS-162a93ee-0304-4a30-b27b-b096f74add93,DISK], DatanodeInfoWithStorage[127.0.0.1:42184,DS-ddcc94cf-0ad8-4ec2-8b4c-94b250633872,DISK], DatanodeInfoWithStorage[127.0.0.1:33535,DS-0bf1711a-236e-454a-a7eb-ed72c5cc6906,DISK], DatanodeInfoWithStorage[127.0.0.1:39716,DS-f2a5f556-bd91-4bfb-90a0-cd18a15e701c,DISK], DatanodeInfoWithStorage[127.0.0.1:35137,DS-d557f2c1-d762-4bc0-bce1-2bc9ae7c81eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-60e13e9c-69d2-4f00-9dea-d453721bd5a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42331,DS-352ada1b-8c61-4b49-a0cb-9a838b99a7bc,DISK]]; indices=[2, 3, 5, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-575114936-172.17.0.14-1597428305862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44578,DS-162a93ee-0304-4a30-b27b-b096f74add93,DISK], DatanodeInfoWithStorage[127.0.0.1:42184,DS-ddcc94cf-0ad8-4ec2-8b4c-94b250633872,DISK], DatanodeInfoWithStorage[127.0.0.1:33535,DS-0bf1711a-236e-454a-a7eb-ed72c5cc6906,DISK], DatanodeInfoWithStorage[127.0.0.1:39716,DS-f2a5f556-bd91-4bfb-90a0-cd18a15e701c,DISK], DatanodeInfoWithStorage[127.0.0.1:35137,DS-d557f2c1-d762-4bc0-bce1-2bc9ae7c81eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-60e13e9c-69d2-4f00-9dea-d453721bd5a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42331,DS-352ada1b-8c61-4b49-a0cb-9a838b99a7bc,DISK]]; indices=[2, 3, 5, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-575114936-172.17.0.14-1597428305862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44578,DS-162a93ee-0304-4a30-b27b-b096f74add93,DISK], DatanodeInfoWithStorage[127.0.0.1:42184,DS-ddcc94cf-0ad8-4ec2-8b4c-94b250633872,DISK], DatanodeInfoWithStorage[127.0.0.1:33535,DS-0bf1711a-236e-454a-a7eb-ed72c5cc6906,DISK], DatanodeInfoWithStorage[127.0.0.1:39716,DS-f2a5f556-bd91-4bfb-90a0-cd18a15e701c,DISK], DatanodeInfoWithStorage[127.0.0.1:35137,DS-d557f2c1-d762-4bc0-bce1-2bc9ae7c81eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-60e13e9c-69d2-4f00-9dea-d453721bd5a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42331,DS-352ada1b-8c61-4b49-a0cb-9a838b99a7bc,DISK]]; indices=[2, 3, 5, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-575114936-172.17.0.14-1597428305862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44578,DS-162a93ee-0304-4a30-b27b-b096f74add93,DISK], DatanodeInfoWithStorage[127.0.0.1:42184,DS-ddcc94cf-0ad8-4ec2-8b4c-94b250633872,DISK], DatanodeInfoWithStorage[127.0.0.1:33535,DS-0bf1711a-236e-454a-a7eb-ed72c5cc6906,DISK], DatanodeInfoWithStorage[127.0.0.1:39716,DS-f2a5f556-bd91-4bfb-90a0-cd18a15e701c,DISK], DatanodeInfoWithStorage[127.0.0.1:35137,DS-d557f2c1-d762-4bc0-bce1-2bc9ae7c81eb,DISK], DatanodeInfoWithStorage[127.0.0.1:41421,DS-60e13e9c-69d2-4f00-9dea-d453721bd5a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42331,DS-352ada1b-8c61-4b49-a0cb-9a838b99a7bc,DISK]]; indices=[2, 3, 5, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-143354008-172.17.0.14-1597428401385:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43641,DS-65a853c7-dd9c-4c27-8c6c-da9b644efab5,DISK], DatanodeInfoWithStorage[127.0.0.1:38373,DS-88ec64e4-d7e4-4dd2-9e8c-407e7c315cf1,DISK], DatanodeInfoWithStorage[127.0.0.1:33780,DS-b542961a-9e7a-4391-b397-df73b5e566f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44474,DS-4d66e9c3-9ebd-4ae4-ad4c-c31579ce1782,DISK], DatanodeInfoWithStorage[127.0.0.1:33460,DS-7bec1e80-86d8-45f3-a474-0315f7ac05c3,DISK]]; indices=[0, 3, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-143354008-172.17.0.14-1597428401385:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43641,DS-65a853c7-dd9c-4c27-8c6c-da9b644efab5,DISK], DatanodeInfoWithStorage[127.0.0.1:38373,DS-88ec64e4-d7e4-4dd2-9e8c-407e7c315cf1,DISK], DatanodeInfoWithStorage[127.0.0.1:33780,DS-b542961a-9e7a-4391-b397-df73b5e566f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44474,DS-4d66e9c3-9ebd-4ae4-ad4c-c31579ce1782,DISK], DatanodeInfoWithStorage[127.0.0.1:33460,DS-7bec1e80-86d8-45f3-a474-0315f7ac05c3,DISK]]; indices=[0, 3, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-143354008-172.17.0.14-1597428401385:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43641,DS-65a853c7-dd9c-4c27-8c6c-da9b644efab5,DISK], DatanodeInfoWithStorage[127.0.0.1:38373,DS-88ec64e4-d7e4-4dd2-9e8c-407e7c315cf1,DISK], DatanodeInfoWithStorage[127.0.0.1:33780,DS-b542961a-9e7a-4391-b397-df73b5e566f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44474,DS-4d66e9c3-9ebd-4ae4-ad4c-c31579ce1782,DISK], DatanodeInfoWithStorage[127.0.0.1:33460,DS-7bec1e80-86d8-45f3-a474-0315f7ac05c3,DISK]]; indices=[0, 3, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-143354008-172.17.0.14-1597428401385:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43641,DS-65a853c7-dd9c-4c27-8c6c-da9b644efab5,DISK], DatanodeInfoWithStorage[127.0.0.1:38373,DS-88ec64e4-d7e4-4dd2-9e8c-407e7c315cf1,DISK], DatanodeInfoWithStorage[127.0.0.1:33780,DS-b542961a-9e7a-4391-b397-df73b5e566f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44474,DS-4d66e9c3-9ebd-4ae4-ad4c-c31579ce1782,DISK], DatanodeInfoWithStorage[127.0.0.1:33460,DS-7bec1e80-86d8-45f3-a474-0315f7ac05c3,DISK]]; indices=[0, 3, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-681646253-172.17.0.14-1597428442461:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33762,DS-1c58e0e4-7885-477f-8361-87af4a17b930,DISK], DatanodeInfoWithStorage[127.0.0.1:46452,DS-38f3fd14-c9ec-4304-b61a-2e671c47d4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-4f5bf839-6e47-4bc4-be0f-8d0706b1ac48,DISK], DatanodeInfoWithStorage[127.0.0.1:44902,DS-23689096-f3e5-4050-90da-63e92523fbed,DISK], DatanodeInfoWithStorage[127.0.0.1:44153,DS-dc1c50f1-7c54-48a7-987e-66a97293a678,DISK], DatanodeInfoWithStorage[127.0.0.1:42278,DS-0222e0c1-f3fa-44e6-b7eb-60c9ad0fb873,DISK]]; indices=[0, 2, 3, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-681646253-172.17.0.14-1597428442461:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33762,DS-1c58e0e4-7885-477f-8361-87af4a17b930,DISK], DatanodeInfoWithStorage[127.0.0.1:46452,DS-38f3fd14-c9ec-4304-b61a-2e671c47d4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-4f5bf839-6e47-4bc4-be0f-8d0706b1ac48,DISK], DatanodeInfoWithStorage[127.0.0.1:44902,DS-23689096-f3e5-4050-90da-63e92523fbed,DISK], DatanodeInfoWithStorage[127.0.0.1:44153,DS-dc1c50f1-7c54-48a7-987e-66a97293a678,DISK], DatanodeInfoWithStorage[127.0.0.1:42278,DS-0222e0c1-f3fa-44e6-b7eb-60c9ad0fb873,DISK]]; indices=[0, 2, 3, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-681646253-172.17.0.14-1597428442461:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33762,DS-1c58e0e4-7885-477f-8361-87af4a17b930,DISK], DatanodeInfoWithStorage[127.0.0.1:46452,DS-38f3fd14-c9ec-4304-b61a-2e671c47d4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-4f5bf839-6e47-4bc4-be0f-8d0706b1ac48,DISK], DatanodeInfoWithStorage[127.0.0.1:44902,DS-23689096-f3e5-4050-90da-63e92523fbed,DISK], DatanodeInfoWithStorage[127.0.0.1:44153,DS-dc1c50f1-7c54-48a7-987e-66a97293a678,DISK], DatanodeInfoWithStorage[127.0.0.1:42278,DS-0222e0c1-f3fa-44e6-b7eb-60c9ad0fb873,DISK]]; indices=[0, 2, 3, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-681646253-172.17.0.14-1597428442461:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33762,DS-1c58e0e4-7885-477f-8361-87af4a17b930,DISK], DatanodeInfoWithStorage[127.0.0.1:46452,DS-38f3fd14-c9ec-4304-b61a-2e671c47d4f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46744,DS-4f5bf839-6e47-4bc4-be0f-8d0706b1ac48,DISK], DatanodeInfoWithStorage[127.0.0.1:44902,DS-23689096-f3e5-4050-90da-63e92523fbed,DISK], DatanodeInfoWithStorage[127.0.0.1:44153,DS-dc1c50f1-7c54-48a7-987e-66a97293a678,DISK], DatanodeInfoWithStorage[127.0.0.1:42278,DS-0222e0c1-f3fa-44e6-b7eb-60c9ad0fb873,DISK]]; indices=[0, 2, 3, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-276963417-172.17.0.14-1597428877383:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38803,DS-221bf871-55b7-4e06-949a-6a5bc0d727e3,DISK], DatanodeInfoWithStorage[127.0.0.1:40385,DS-226fd359-367b-4af1-8cdf-49b0bf178196,DISK], DatanodeInfoWithStorage[127.0.0.1:37552,DS-02a0b41f-f916-4313-8301-69489aa00e29,DISK], DatanodeInfoWithStorage[127.0.0.1:32852,DS-366e37c0-c0c4-44b5-b6d1-57909c34d998,DISK], DatanodeInfoWithStorage[127.0.0.1:39488,DS-87a77004-b705-484a-92dc-79b7b2e85a76,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-dc76a650-6a1c-4741-9372-de81949f0e20,DISK], DatanodeInfoWithStorage[127.0.0.1:46171,DS-154de98c-2d76-4742-9e33-68dca9a848b6,DISK]]; indices=[0, 2, 4, 5, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-276963417-172.17.0.14-1597428877383:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38803,DS-221bf871-55b7-4e06-949a-6a5bc0d727e3,DISK], DatanodeInfoWithStorage[127.0.0.1:40385,DS-226fd359-367b-4af1-8cdf-49b0bf178196,DISK], DatanodeInfoWithStorage[127.0.0.1:37552,DS-02a0b41f-f916-4313-8301-69489aa00e29,DISK], DatanodeInfoWithStorage[127.0.0.1:32852,DS-366e37c0-c0c4-44b5-b6d1-57909c34d998,DISK], DatanodeInfoWithStorage[127.0.0.1:39488,DS-87a77004-b705-484a-92dc-79b7b2e85a76,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-dc76a650-6a1c-4741-9372-de81949f0e20,DISK], DatanodeInfoWithStorage[127.0.0.1:46171,DS-154de98c-2d76-4742-9e33-68dca9a848b6,DISK]]; indices=[0, 2, 4, 5, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-276963417-172.17.0.14-1597428877383:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38803,DS-221bf871-55b7-4e06-949a-6a5bc0d727e3,DISK], DatanodeInfoWithStorage[127.0.0.1:40385,DS-226fd359-367b-4af1-8cdf-49b0bf178196,DISK], DatanodeInfoWithStorage[127.0.0.1:37552,DS-02a0b41f-f916-4313-8301-69489aa00e29,DISK], DatanodeInfoWithStorage[127.0.0.1:32852,DS-366e37c0-c0c4-44b5-b6d1-57909c34d998,DISK], DatanodeInfoWithStorage[127.0.0.1:39488,DS-87a77004-b705-484a-92dc-79b7b2e85a76,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-dc76a650-6a1c-4741-9372-de81949f0e20,DISK], DatanodeInfoWithStorage[127.0.0.1:46171,DS-154de98c-2d76-4742-9e33-68dca9a848b6,DISK]]; indices=[0, 2, 4, 5, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-276963417-172.17.0.14-1597428877383:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38803,DS-221bf871-55b7-4e06-949a-6a5bc0d727e3,DISK], DatanodeInfoWithStorage[127.0.0.1:40385,DS-226fd359-367b-4af1-8cdf-49b0bf178196,DISK], DatanodeInfoWithStorage[127.0.0.1:37552,DS-02a0b41f-f916-4313-8301-69489aa00e29,DISK], DatanodeInfoWithStorage[127.0.0.1:32852,DS-366e37c0-c0c4-44b5-b6d1-57909c34d998,DISK], DatanodeInfoWithStorage[127.0.0.1:39488,DS-87a77004-b705-484a-92dc-79b7b2e85a76,DISK], DatanodeInfoWithStorage[127.0.0.1:44566,DS-dc76a650-6a1c-4741-9372-de81949f0e20,DISK], DatanodeInfoWithStorage[127.0.0.1:46171,DS-154de98c-2d76-4742-9e33-68dca9a848b6,DISK]]; indices=[0, 2, 4, 5, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: fs.df.interval
component: hdfs:DataNode
v1: 1000
v2: 60000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1425010577-172.17.0.14-1597429070739:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45115,DS-46b505f5-cf57-4827-89ab-2077a4146162,DISK], DatanodeInfoWithStorage[127.0.0.1:39428,DS-7a001dce-9806-46c8-94f4-a084fdc6c059,DISK], DatanodeInfoWithStorage[127.0.0.1:43014,DS-771a1aa5-bc34-43ce-b339-528a1c1d70c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35720,DS-9ad58d4e-0141-423a-beb9-615c916c6de1,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-933c3ec7-7687-4a88-b8d1-6650eecda5cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45768,DS-826a3cdc-0c6f-4312-91b1-7af0c0f66542,DISK]]; indices=[0, 3, 5, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1425010577-172.17.0.14-1597429070739:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45115,DS-46b505f5-cf57-4827-89ab-2077a4146162,DISK], DatanodeInfoWithStorage[127.0.0.1:39428,DS-7a001dce-9806-46c8-94f4-a084fdc6c059,DISK], DatanodeInfoWithStorage[127.0.0.1:43014,DS-771a1aa5-bc34-43ce-b339-528a1c1d70c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35720,DS-9ad58d4e-0141-423a-beb9-615c916c6de1,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-933c3ec7-7687-4a88-b8d1-6650eecda5cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45768,DS-826a3cdc-0c6f-4312-91b1-7af0c0f66542,DISK]]; indices=[0, 3, 5, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1425010577-172.17.0.14-1597429070739:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45115,DS-46b505f5-cf57-4827-89ab-2077a4146162,DISK], DatanodeInfoWithStorage[127.0.0.1:39428,DS-7a001dce-9806-46c8-94f4-a084fdc6c059,DISK], DatanodeInfoWithStorage[127.0.0.1:43014,DS-771a1aa5-bc34-43ce-b339-528a1c1d70c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35720,DS-9ad58d4e-0141-423a-beb9-615c916c6de1,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-933c3ec7-7687-4a88-b8d1-6650eecda5cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45768,DS-826a3cdc-0c6f-4312-91b1-7af0c0f66542,DISK]]; indices=[0, 3, 5, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1425010577-172.17.0.14-1597429070739:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45115,DS-46b505f5-cf57-4827-89ab-2077a4146162,DISK], DatanodeInfoWithStorage[127.0.0.1:39428,DS-7a001dce-9806-46c8-94f4-a084fdc6c059,DISK], DatanodeInfoWithStorage[127.0.0.1:43014,DS-771a1aa5-bc34-43ce-b339-528a1c1d70c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35720,DS-9ad58d4e-0141-423a-beb9-615c916c6de1,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-933c3ec7-7687-4a88-b8d1-6650eecda5cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45768,DS-826a3cdc-0c6f-4312-91b1-7af0c0f66542,DISK]]; indices=[0, 3, 5, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 15 out of 50
result: false positive !!!
Total execution time in seconds : 7142
