reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-518573757-172.17.0.16-1597693451508:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38287,DS-f7f9aa7d-97c1-4793-b415-d63df29bb65e,DISK], DatanodeInfoWithStorage[127.0.0.1:36820,DS-4e1a2785-638e-492c-90de-ae6e83b3eeec,DISK], DatanodeInfoWithStorage[127.0.0.1:42338,DS-0cc75d4e-f2be-433c-8fad-372bb39a5bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:40070,DS-93d773eb-37fd-4fd3-9bea-0c168791911b,DISK], DatanodeInfoWithStorage[127.0.0.1:35064,DS-615ef9dc-550c-4210-8558-6676fac1b75e,DISK], DatanodeInfoWithStorage[127.0.0.1:41223,DS-cd568050-48f5-445a-9150-7d4d535571ec,DISK]]; indices=[0, 1, 2, 3, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-518573757-172.17.0.16-1597693451508:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38287,DS-f7f9aa7d-97c1-4793-b415-d63df29bb65e,DISK], DatanodeInfoWithStorage[127.0.0.1:36820,DS-4e1a2785-638e-492c-90de-ae6e83b3eeec,DISK], DatanodeInfoWithStorage[127.0.0.1:42338,DS-0cc75d4e-f2be-433c-8fad-372bb39a5bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:40070,DS-93d773eb-37fd-4fd3-9bea-0c168791911b,DISK], DatanodeInfoWithStorage[127.0.0.1:35064,DS-615ef9dc-550c-4210-8558-6676fac1b75e,DISK], DatanodeInfoWithStorage[127.0.0.1:41223,DS-cd568050-48f5-445a-9150-7d4d535571ec,DISK]]; indices=[0, 1, 2, 3, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-518573757-172.17.0.16-1597693451508:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38287,DS-f7f9aa7d-97c1-4793-b415-d63df29bb65e,DISK], DatanodeInfoWithStorage[127.0.0.1:36820,DS-4e1a2785-638e-492c-90de-ae6e83b3eeec,DISK], DatanodeInfoWithStorage[127.0.0.1:42338,DS-0cc75d4e-f2be-433c-8fad-372bb39a5bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:40070,DS-93d773eb-37fd-4fd3-9bea-0c168791911b,DISK], DatanodeInfoWithStorage[127.0.0.1:35064,DS-615ef9dc-550c-4210-8558-6676fac1b75e,DISK], DatanodeInfoWithStorage[127.0.0.1:41223,DS-cd568050-48f5-445a-9150-7d4d535571ec,DISK]]; indices=[0, 1, 2, 3, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-518573757-172.17.0.16-1597693451508:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38287,DS-f7f9aa7d-97c1-4793-b415-d63df29bb65e,DISK], DatanodeInfoWithStorage[127.0.0.1:36820,DS-4e1a2785-638e-492c-90de-ae6e83b3eeec,DISK], DatanodeInfoWithStorage[127.0.0.1:42338,DS-0cc75d4e-f2be-433c-8fad-372bb39a5bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:40070,DS-93d773eb-37fd-4fd3-9bea-0c168791911b,DISK], DatanodeInfoWithStorage[127.0.0.1:35064,DS-615ef9dc-550c-4210-8558-6676fac1b75e,DISK], DatanodeInfoWithStorage[127.0.0.1:41223,DS-cd568050-48f5-445a-9150-7d4d535571ec,DISK]]; indices=[0, 1, 2, 3, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1405305871-172.17.0.16-1597693939615:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43579,DS-5a6d0a15-f864-4cd3-8a02-c16121fb73ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38444,DS-5282b999-9b76-44d4-b5e3-57ccc89ee0de,DISK], DatanodeInfoWithStorage[127.0.0.1:33131,DS-42218228-796f-441c-a2f9-c1da41f2bdae,DISK], DatanodeInfoWithStorage[127.0.0.1:37953,DS-11112ce9-fa6e-4a74-9385-ff5358d0c871,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-2a2bf781-4ee7-48e5-af60-d4e9b4c6cf70,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-e459ca7e-48be-4df1-9caa-4221e1bd3dcb,DISK]]; indices=[0, 1, 5, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1405305871-172.17.0.16-1597693939615:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43579,DS-5a6d0a15-f864-4cd3-8a02-c16121fb73ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38444,DS-5282b999-9b76-44d4-b5e3-57ccc89ee0de,DISK], DatanodeInfoWithStorage[127.0.0.1:33131,DS-42218228-796f-441c-a2f9-c1da41f2bdae,DISK], DatanodeInfoWithStorage[127.0.0.1:37953,DS-11112ce9-fa6e-4a74-9385-ff5358d0c871,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-2a2bf781-4ee7-48e5-af60-d4e9b4c6cf70,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-e459ca7e-48be-4df1-9caa-4221e1bd3dcb,DISK]]; indices=[0, 1, 5, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1405305871-172.17.0.16-1597693939615:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43579,DS-5a6d0a15-f864-4cd3-8a02-c16121fb73ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38444,DS-5282b999-9b76-44d4-b5e3-57ccc89ee0de,DISK], DatanodeInfoWithStorage[127.0.0.1:33131,DS-42218228-796f-441c-a2f9-c1da41f2bdae,DISK], DatanodeInfoWithStorage[127.0.0.1:37953,DS-11112ce9-fa6e-4a74-9385-ff5358d0c871,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-2a2bf781-4ee7-48e5-af60-d4e9b4c6cf70,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-e459ca7e-48be-4df1-9caa-4221e1bd3dcb,DISK]]; indices=[0, 1, 5, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1405305871-172.17.0.16-1597693939615:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43579,DS-5a6d0a15-f864-4cd3-8a02-c16121fb73ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38444,DS-5282b999-9b76-44d4-b5e3-57ccc89ee0de,DISK], DatanodeInfoWithStorage[127.0.0.1:33131,DS-42218228-796f-441c-a2f9-c1da41f2bdae,DISK], DatanodeInfoWithStorage[127.0.0.1:37953,DS-11112ce9-fa6e-4a74-9385-ff5358d0c871,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-2a2bf781-4ee7-48e5-af60-d4e9b4c6cf70,DISK], DatanodeInfoWithStorage[127.0.0.1:41430,DS-e459ca7e-48be-4df1-9caa-4221e1bd3dcb,DISK]]; indices=[0, 1, 5, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-492809107-172.17.0.16-1597694243952:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37152,DS-46963072-afb4-435e-be35-6bed41266bed,DISK], DatanodeInfoWithStorage[127.0.0.1:45404,DS-06e1d304-b980-43e7-9d0c-189fe7d3c369,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-c456a6bf-39f3-4040-a206-c9312805d519,DISK], DatanodeInfoWithStorage[127.0.0.1:39929,DS-b3fcd87e-eb71-4662-a14b-6841f1202cda,DISK], DatanodeInfoWithStorage[127.0.0.1:45380,DS-687442cf-1423-49d6-8f49-599d14564471,DISK], DatanodeInfoWithStorage[127.0.0.1:43328,DS-567b2d51-c585-4cff-99ca-1f1ab89a7ce2,DISK], DatanodeInfoWithStorage[127.0.0.1:33456,DS-717ae305-5d6e-4672-a5c8-17612b8f2105,DISK]]; indices=[3, 5, 6, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-492809107-172.17.0.16-1597694243952:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37152,DS-46963072-afb4-435e-be35-6bed41266bed,DISK], DatanodeInfoWithStorage[127.0.0.1:45404,DS-06e1d304-b980-43e7-9d0c-189fe7d3c369,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-c456a6bf-39f3-4040-a206-c9312805d519,DISK], DatanodeInfoWithStorage[127.0.0.1:39929,DS-b3fcd87e-eb71-4662-a14b-6841f1202cda,DISK], DatanodeInfoWithStorage[127.0.0.1:45380,DS-687442cf-1423-49d6-8f49-599d14564471,DISK], DatanodeInfoWithStorage[127.0.0.1:43328,DS-567b2d51-c585-4cff-99ca-1f1ab89a7ce2,DISK], DatanodeInfoWithStorage[127.0.0.1:33456,DS-717ae305-5d6e-4672-a5c8-17612b8f2105,DISK]]; indices=[3, 5, 6, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-492809107-172.17.0.16-1597694243952:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37152,DS-46963072-afb4-435e-be35-6bed41266bed,DISK], DatanodeInfoWithStorage[127.0.0.1:45404,DS-06e1d304-b980-43e7-9d0c-189fe7d3c369,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-c456a6bf-39f3-4040-a206-c9312805d519,DISK], DatanodeInfoWithStorage[127.0.0.1:39929,DS-b3fcd87e-eb71-4662-a14b-6841f1202cda,DISK], DatanodeInfoWithStorage[127.0.0.1:45380,DS-687442cf-1423-49d6-8f49-599d14564471,DISK], DatanodeInfoWithStorage[127.0.0.1:43328,DS-567b2d51-c585-4cff-99ca-1f1ab89a7ce2,DISK], DatanodeInfoWithStorage[127.0.0.1:33456,DS-717ae305-5d6e-4672-a5c8-17612b8f2105,DISK]]; indices=[3, 5, 6, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-492809107-172.17.0.16-1597694243952:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37152,DS-46963072-afb4-435e-be35-6bed41266bed,DISK], DatanodeInfoWithStorage[127.0.0.1:45404,DS-06e1d304-b980-43e7-9d0c-189fe7d3c369,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-c456a6bf-39f3-4040-a206-c9312805d519,DISK], DatanodeInfoWithStorage[127.0.0.1:39929,DS-b3fcd87e-eb71-4662-a14b-6841f1202cda,DISK], DatanodeInfoWithStorage[127.0.0.1:45380,DS-687442cf-1423-49d6-8f49-599d14564471,DISK], DatanodeInfoWithStorage[127.0.0.1:43328,DS-567b2d51-c585-4cff-99ca-1f1ab89a7ce2,DISK], DatanodeInfoWithStorage[127.0.0.1:33456,DS-717ae305-5d6e-4672-a5c8-17612b8f2105,DISK]]; indices=[3, 5, 6, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-147794441-172.17.0.16-1597694492700:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43308,DS-3345167e-4ebd-456f-84e3-78897b88ebe1,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-51cba59f-d4bf-4d56-b973-c5b1c46e3988,DISK], DatanodeInfoWithStorage[127.0.0.1:40068,DS-302c004e-270b-4c80-9648-56e609ac476d,DISK], DatanodeInfoWithStorage[127.0.0.1:39607,DS-6d3edaa6-e949-454e-8e0d-a1d78b973100,DISK], DatanodeInfoWithStorage[127.0.0.1:44140,DS-7d6f232a-61d9-4b0c-b0df-3322979956f1,DISK], DatanodeInfoWithStorage[127.0.0.1:44141,DS-e7b48710-7a1c-4b80-a059-4dd06c6178fe,DISK], DatanodeInfoWithStorage[127.0.0.1:32974,DS-297db69b-f088-4fe8-bfc8-6898a8fb36fe,DISK]]; indices=[0, 1, 3, 5, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-147794441-172.17.0.16-1597694492700:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43308,DS-3345167e-4ebd-456f-84e3-78897b88ebe1,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-51cba59f-d4bf-4d56-b973-c5b1c46e3988,DISK], DatanodeInfoWithStorage[127.0.0.1:40068,DS-302c004e-270b-4c80-9648-56e609ac476d,DISK], DatanodeInfoWithStorage[127.0.0.1:39607,DS-6d3edaa6-e949-454e-8e0d-a1d78b973100,DISK], DatanodeInfoWithStorage[127.0.0.1:44140,DS-7d6f232a-61d9-4b0c-b0df-3322979956f1,DISK], DatanodeInfoWithStorage[127.0.0.1:44141,DS-e7b48710-7a1c-4b80-a059-4dd06c6178fe,DISK], DatanodeInfoWithStorage[127.0.0.1:32974,DS-297db69b-f088-4fe8-bfc8-6898a8fb36fe,DISK]]; indices=[0, 1, 3, 5, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-147794441-172.17.0.16-1597694492700:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43308,DS-3345167e-4ebd-456f-84e3-78897b88ebe1,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-51cba59f-d4bf-4d56-b973-c5b1c46e3988,DISK], DatanodeInfoWithStorage[127.0.0.1:40068,DS-302c004e-270b-4c80-9648-56e609ac476d,DISK], DatanodeInfoWithStorage[127.0.0.1:39607,DS-6d3edaa6-e949-454e-8e0d-a1d78b973100,DISK], DatanodeInfoWithStorage[127.0.0.1:44140,DS-7d6f232a-61d9-4b0c-b0df-3322979956f1,DISK], DatanodeInfoWithStorage[127.0.0.1:44141,DS-e7b48710-7a1c-4b80-a059-4dd06c6178fe,DISK], DatanodeInfoWithStorage[127.0.0.1:32974,DS-297db69b-f088-4fe8-bfc8-6898a8fb36fe,DISK]]; indices=[0, 1, 3, 5, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-147794441-172.17.0.16-1597694492700:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43308,DS-3345167e-4ebd-456f-84e3-78897b88ebe1,DISK], DatanodeInfoWithStorage[127.0.0.1:44154,DS-51cba59f-d4bf-4d56-b973-c5b1c46e3988,DISK], DatanodeInfoWithStorage[127.0.0.1:40068,DS-302c004e-270b-4c80-9648-56e609ac476d,DISK], DatanodeInfoWithStorage[127.0.0.1:39607,DS-6d3edaa6-e949-454e-8e0d-a1d78b973100,DISK], DatanodeInfoWithStorage[127.0.0.1:44140,DS-7d6f232a-61d9-4b0c-b0df-3322979956f1,DISK], DatanodeInfoWithStorage[127.0.0.1:44141,DS-e7b48710-7a1c-4b80-a059-4dd06c6178fe,DISK], DatanodeInfoWithStorage[127.0.0.1:32974,DS-297db69b-f088-4fe8-bfc8-6898a8fb36fe,DISK]]; indices=[0, 1, 3, 5, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-468580449-172.17.0.16-1597695356600:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37674,DS-407adf45-fd3a-455f-86c1-a0ae930e2cc4,DISK], DatanodeInfoWithStorage[127.0.0.1:34533,DS-207bbdae-2ae3-429b-90ef-19e5b16380e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45474,DS-0b249faf-ea93-46ef-8f77-25730dd5539a,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-53d9c0bc-b715-442e-8938-4e57eae5560f,DISK], DatanodeInfoWithStorage[127.0.0.1:33510,DS-ef927b8e-434e-4063-a108-d17e9d267121,DISK], DatanodeInfoWithStorage[127.0.0.1:40964,DS-db706654-ff0b-4853-9695-11eba06308c0,DISK], DatanodeInfoWithStorage[127.0.0.1:34901,DS-cac96a69-6c93-41a0-bc31-ddca6a4fcda1,DISK]]; indices=[3, 4, 6, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-468580449-172.17.0.16-1597695356600:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37674,DS-407adf45-fd3a-455f-86c1-a0ae930e2cc4,DISK], DatanodeInfoWithStorage[127.0.0.1:34533,DS-207bbdae-2ae3-429b-90ef-19e5b16380e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45474,DS-0b249faf-ea93-46ef-8f77-25730dd5539a,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-53d9c0bc-b715-442e-8938-4e57eae5560f,DISK], DatanodeInfoWithStorage[127.0.0.1:33510,DS-ef927b8e-434e-4063-a108-d17e9d267121,DISK], DatanodeInfoWithStorage[127.0.0.1:40964,DS-db706654-ff0b-4853-9695-11eba06308c0,DISK], DatanodeInfoWithStorage[127.0.0.1:34901,DS-cac96a69-6c93-41a0-bc31-ddca6a4fcda1,DISK]]; indices=[3, 4, 6, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-468580449-172.17.0.16-1597695356600:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37674,DS-407adf45-fd3a-455f-86c1-a0ae930e2cc4,DISK], DatanodeInfoWithStorage[127.0.0.1:34533,DS-207bbdae-2ae3-429b-90ef-19e5b16380e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45474,DS-0b249faf-ea93-46ef-8f77-25730dd5539a,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-53d9c0bc-b715-442e-8938-4e57eae5560f,DISK], DatanodeInfoWithStorage[127.0.0.1:33510,DS-ef927b8e-434e-4063-a108-d17e9d267121,DISK], DatanodeInfoWithStorage[127.0.0.1:40964,DS-db706654-ff0b-4853-9695-11eba06308c0,DISK], DatanodeInfoWithStorage[127.0.0.1:34901,DS-cac96a69-6c93-41a0-bc31-ddca6a4fcda1,DISK]]; indices=[3, 4, 6, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-468580449-172.17.0.16-1597695356600:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37674,DS-407adf45-fd3a-455f-86c1-a0ae930e2cc4,DISK], DatanodeInfoWithStorage[127.0.0.1:34533,DS-207bbdae-2ae3-429b-90ef-19e5b16380e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45474,DS-0b249faf-ea93-46ef-8f77-25730dd5539a,DISK], DatanodeInfoWithStorage[127.0.0.1:44356,DS-53d9c0bc-b715-442e-8938-4e57eae5560f,DISK], DatanodeInfoWithStorage[127.0.0.1:33510,DS-ef927b8e-434e-4063-a108-d17e9d267121,DISK], DatanodeInfoWithStorage[127.0.0.1:40964,DS-db706654-ff0b-4853-9695-11eba06308c0,DISK], DatanodeInfoWithStorage[127.0.0.1:34901,DS-cac96a69-6c93-41a0-bc31-ddca6a4fcda1,DISK]]; indices=[3, 4, 6, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1976411474-172.17.0.16-1597695395507:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36072,DS-72beb288-9640-48ed-ba2d-d6d56353c04b,DISK], DatanodeInfoWithStorage[127.0.0.1:33399,DS-684d7916-05e3-4f85-a245-17f8adfaf02a,DISK], DatanodeInfoWithStorage[127.0.0.1:38918,DS-e719c4e2-1c3d-4941-9ff8-8e9ec7feba98,DISK], DatanodeInfoWithStorage[127.0.0.1:43405,DS-c004a70b-c921-4ac3-84be-bc2e541ab521,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-671ad99d-b430-49af-87a3-05edfa2671f8,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-1f91bc01-7a21-4bc1-a0e9-075a50e82de8,DISK]]; indices=[0, 3, 6, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1976411474-172.17.0.16-1597695395507:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36072,DS-72beb288-9640-48ed-ba2d-d6d56353c04b,DISK], DatanodeInfoWithStorage[127.0.0.1:33399,DS-684d7916-05e3-4f85-a245-17f8adfaf02a,DISK], DatanodeInfoWithStorage[127.0.0.1:38918,DS-e719c4e2-1c3d-4941-9ff8-8e9ec7feba98,DISK], DatanodeInfoWithStorage[127.0.0.1:43405,DS-c004a70b-c921-4ac3-84be-bc2e541ab521,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-671ad99d-b430-49af-87a3-05edfa2671f8,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-1f91bc01-7a21-4bc1-a0e9-075a50e82de8,DISK]]; indices=[0, 3, 6, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1976411474-172.17.0.16-1597695395507:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36072,DS-72beb288-9640-48ed-ba2d-d6d56353c04b,DISK], DatanodeInfoWithStorage[127.0.0.1:33399,DS-684d7916-05e3-4f85-a245-17f8adfaf02a,DISK], DatanodeInfoWithStorage[127.0.0.1:38918,DS-e719c4e2-1c3d-4941-9ff8-8e9ec7feba98,DISK], DatanodeInfoWithStorage[127.0.0.1:43405,DS-c004a70b-c921-4ac3-84be-bc2e541ab521,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-671ad99d-b430-49af-87a3-05edfa2671f8,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-1f91bc01-7a21-4bc1-a0e9-075a50e82de8,DISK]]; indices=[0, 3, 6, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1976411474-172.17.0.16-1597695395507:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36072,DS-72beb288-9640-48ed-ba2d-d6d56353c04b,DISK], DatanodeInfoWithStorage[127.0.0.1:33399,DS-684d7916-05e3-4f85-a245-17f8adfaf02a,DISK], DatanodeInfoWithStorage[127.0.0.1:38918,DS-e719c4e2-1c3d-4941-9ff8-8e9ec7feba98,DISK], DatanodeInfoWithStorage[127.0.0.1:43405,DS-c004a70b-c921-4ac3-84be-bc2e541ab521,DISK], DatanodeInfoWithStorage[127.0.0.1:45333,DS-671ad99d-b430-49af-87a3-05edfa2671f8,DISK], DatanodeInfoWithStorage[127.0.0.1:36360,DS-1f91bc01-7a21-4bc1-a0e9-075a50e82de8,DISK]]; indices=[0, 3, 6, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2114599558-172.17.0.16-1597695583356:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44559,DS-aff14eee-d1b4-4fed-8a61-eee731950f94,DISK], DatanodeInfoWithStorage[127.0.0.1:37970,DS-8c7ebf54-64aa-42f4-8341-ffd9a14083e5,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-521a7248-5996-47ed-a6ef-20a10f4d86eb,DISK], DatanodeInfoWithStorage[127.0.0.1:46574,DS-dab261e8-f38e-4492-9cd3-13dc50d62651,DISK], DatanodeInfoWithStorage[127.0.0.1:46204,DS-4b301544-40e9-4aea-948f-4f4dcadf5204,DISK], DatanodeInfoWithStorage[127.0.0.1:37054,DS-7e632597-11b3-4bbf-8291-391801bdfa78,DISK], DatanodeInfoWithStorage[127.0.0.1:44601,DS-41851d0f-3ef8-4478-b8ef-a6f01b27026f,DISK]]; indices=[0, 3, 4, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-2114599558-172.17.0.16-1597695583356:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44559,DS-aff14eee-d1b4-4fed-8a61-eee731950f94,DISK], DatanodeInfoWithStorage[127.0.0.1:37970,DS-8c7ebf54-64aa-42f4-8341-ffd9a14083e5,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-521a7248-5996-47ed-a6ef-20a10f4d86eb,DISK], DatanodeInfoWithStorage[127.0.0.1:46574,DS-dab261e8-f38e-4492-9cd3-13dc50d62651,DISK], DatanodeInfoWithStorage[127.0.0.1:46204,DS-4b301544-40e9-4aea-948f-4f4dcadf5204,DISK], DatanodeInfoWithStorage[127.0.0.1:37054,DS-7e632597-11b3-4bbf-8291-391801bdfa78,DISK], DatanodeInfoWithStorage[127.0.0.1:44601,DS-41851d0f-3ef8-4478-b8ef-a6f01b27026f,DISK]]; indices=[0, 3, 4, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2114599558-172.17.0.16-1597695583356:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44559,DS-aff14eee-d1b4-4fed-8a61-eee731950f94,DISK], DatanodeInfoWithStorage[127.0.0.1:37970,DS-8c7ebf54-64aa-42f4-8341-ffd9a14083e5,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-521a7248-5996-47ed-a6ef-20a10f4d86eb,DISK], DatanodeInfoWithStorage[127.0.0.1:46574,DS-dab261e8-f38e-4492-9cd3-13dc50d62651,DISK], DatanodeInfoWithStorage[127.0.0.1:46204,DS-4b301544-40e9-4aea-948f-4f4dcadf5204,DISK], DatanodeInfoWithStorage[127.0.0.1:37054,DS-7e632597-11b3-4bbf-8291-391801bdfa78,DISK], DatanodeInfoWithStorage[127.0.0.1:44601,DS-41851d0f-3ef8-4478-b8ef-a6f01b27026f,DISK]]; indices=[0, 3, 4, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-2114599558-172.17.0.16-1597695583356:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44559,DS-aff14eee-d1b4-4fed-8a61-eee731950f94,DISK], DatanodeInfoWithStorage[127.0.0.1:37970,DS-8c7ebf54-64aa-42f4-8341-ffd9a14083e5,DISK], DatanodeInfoWithStorage[127.0.0.1:36068,DS-521a7248-5996-47ed-a6ef-20a10f4d86eb,DISK], DatanodeInfoWithStorage[127.0.0.1:46574,DS-dab261e8-f38e-4492-9cd3-13dc50d62651,DISK], DatanodeInfoWithStorage[127.0.0.1:46204,DS-4b301544-40e9-4aea-948f-4f4dcadf5204,DISK], DatanodeInfoWithStorage[127.0.0.1:37054,DS-7e632597-11b3-4bbf-8291-391801bdfa78,DISK], DatanodeInfoWithStorage[127.0.0.1:44601,DS-41851d0f-3ef8-4478-b8ef-a6f01b27026f,DISK]]; indices=[0, 3, 4, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-444519903-172.17.0.16-1597695717936:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45236,DS-e5329278-6688-43bd-9db6-8665f6eacd41,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-4a7ecac9-d40f-4ee5-9277-5ee800400e54,DISK], DatanodeInfoWithStorage[127.0.0.1:39678,DS-6f758f45-4480-4da8-8b25-fda984e1b196,DISK], DatanodeInfoWithStorage[127.0.0.1:40172,DS-d652a376-a58b-4476-b070-4b6873cdf7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:39844,DS-0f4713a2-45c2-44c8-b103-2719d304c9de,DISK], DatanodeInfoWithStorage[127.0.0.1:42241,DS-23548cec-b979-41d0-9fab-c5f068e92b72,DISK]]; indices=[0, 1, 2, 4, 5, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-444519903-172.17.0.16-1597695717936:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45236,DS-e5329278-6688-43bd-9db6-8665f6eacd41,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-4a7ecac9-d40f-4ee5-9277-5ee800400e54,DISK], DatanodeInfoWithStorage[127.0.0.1:39678,DS-6f758f45-4480-4da8-8b25-fda984e1b196,DISK], DatanodeInfoWithStorage[127.0.0.1:40172,DS-d652a376-a58b-4476-b070-4b6873cdf7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:39844,DS-0f4713a2-45c2-44c8-b103-2719d304c9de,DISK], DatanodeInfoWithStorage[127.0.0.1:42241,DS-23548cec-b979-41d0-9fab-c5f068e92b72,DISK]]; indices=[0, 1, 2, 4, 5, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-444519903-172.17.0.16-1597695717936:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45236,DS-e5329278-6688-43bd-9db6-8665f6eacd41,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-4a7ecac9-d40f-4ee5-9277-5ee800400e54,DISK], DatanodeInfoWithStorage[127.0.0.1:39678,DS-6f758f45-4480-4da8-8b25-fda984e1b196,DISK], DatanodeInfoWithStorage[127.0.0.1:40172,DS-d652a376-a58b-4476-b070-4b6873cdf7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:39844,DS-0f4713a2-45c2-44c8-b103-2719d304c9de,DISK], DatanodeInfoWithStorage[127.0.0.1:42241,DS-23548cec-b979-41d0-9fab-c5f068e92b72,DISK]]; indices=[0, 1, 2, 4, 5, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-444519903-172.17.0.16-1597695717936:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45236,DS-e5329278-6688-43bd-9db6-8665f6eacd41,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-4a7ecac9-d40f-4ee5-9277-5ee800400e54,DISK], DatanodeInfoWithStorage[127.0.0.1:39678,DS-6f758f45-4480-4da8-8b25-fda984e1b196,DISK], DatanodeInfoWithStorage[127.0.0.1:40172,DS-d652a376-a58b-4476-b070-4b6873cdf7e5,DISK], DatanodeInfoWithStorage[127.0.0.1:39844,DS-0f4713a2-45c2-44c8-b103-2719d304c9de,DISK], DatanodeInfoWithStorage[127.0.0.1:42241,DS-23548cec-b979-41d0-9fab-c5f068e92b72,DISK]]; indices=[0, 1, 2, 4, 5, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-294954943-172.17.0.16-1597695898428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32772,DS-a4fc391a-56b4-46aa-9d3f-62bc3afd1d44,DISK], DatanodeInfoWithStorage[127.0.0.1:32892,DS-f3b89e05-dcc8-49f9-8b9f-a1f079cf7023,DISK], DatanodeInfoWithStorage[127.0.0.1:45190,DS-778d4e4e-cb66-4280-98ee-89b516400df9,DISK], DatanodeInfoWithStorage[127.0.0.1:35297,DS-07154cfb-d973-4314-9106-ea4b78c7240a,DISK], DatanodeInfoWithStorage[127.0.0.1:34881,DS-9b08a5cf-020e-445f-bc4d-227f0fd322f7,DISK]]; indices=[0, 1, 3, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-294954943-172.17.0.16-1597695898428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32772,DS-a4fc391a-56b4-46aa-9d3f-62bc3afd1d44,DISK], DatanodeInfoWithStorage[127.0.0.1:32892,DS-f3b89e05-dcc8-49f9-8b9f-a1f079cf7023,DISK], DatanodeInfoWithStorage[127.0.0.1:45190,DS-778d4e4e-cb66-4280-98ee-89b516400df9,DISK], DatanodeInfoWithStorage[127.0.0.1:35297,DS-07154cfb-d973-4314-9106-ea4b78c7240a,DISK], DatanodeInfoWithStorage[127.0.0.1:34881,DS-9b08a5cf-020e-445f-bc4d-227f0fd322f7,DISK]]; indices=[0, 1, 3, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-294954943-172.17.0.16-1597695898428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32772,DS-a4fc391a-56b4-46aa-9d3f-62bc3afd1d44,DISK], DatanodeInfoWithStorage[127.0.0.1:32892,DS-f3b89e05-dcc8-49f9-8b9f-a1f079cf7023,DISK], DatanodeInfoWithStorage[127.0.0.1:45190,DS-778d4e4e-cb66-4280-98ee-89b516400df9,DISK], DatanodeInfoWithStorage[127.0.0.1:35297,DS-07154cfb-d973-4314-9106-ea4b78c7240a,DISK], DatanodeInfoWithStorage[127.0.0.1:34881,DS-9b08a5cf-020e-445f-bc4d-227f0fd322f7,DISK]]; indices=[0, 1, 3, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-294954943-172.17.0.16-1597695898428:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32772,DS-a4fc391a-56b4-46aa-9d3f-62bc3afd1d44,DISK], DatanodeInfoWithStorage[127.0.0.1:32892,DS-f3b89e05-dcc8-49f9-8b9f-a1f079cf7023,DISK], DatanodeInfoWithStorage[127.0.0.1:45190,DS-778d4e4e-cb66-4280-98ee-89b516400df9,DISK], DatanodeInfoWithStorage[127.0.0.1:35297,DS-07154cfb-d973-4314-9106-ea4b78c7240a,DISK], DatanodeInfoWithStorage[127.0.0.1:34881,DS-9b08a5cf-020e-445f-bc4d-227f0fd322f7,DISK]]; indices=[0, 1, 3, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1189187876-172.17.0.16-1597696152971:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41361,DS-6cf48359-19b6-4c75-9edc-7ada6d52b20e,DISK], DatanodeInfoWithStorage[127.0.0.1:33114,DS-7d6eea5c-7328-4776-b2fe-afb9036146c5,DISK], DatanodeInfoWithStorage[127.0.0.1:33119,DS-8e513f75-0db5-4bbb-8093-dcd0414e2532,DISK], DatanodeInfoWithStorage[127.0.0.1:46324,DS-f900ec53-ba48-4fde-af24-e51c8af6ed40,DISK], DatanodeInfoWithStorage[127.0.0.1:38803,DS-7405a96c-c46c-4df6-a302-3c20e564230c,DISK], DatanodeInfoWithStorage[127.0.0.1:33348,DS-8e94c463-2401-4e41-b864-13344a758cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46771,DS-cec876a2-b1ba-4fab-9463-7227a99c36a8,DISK]]; indices=[0, 4, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1189187876-172.17.0.16-1597696152971:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41361,DS-6cf48359-19b6-4c75-9edc-7ada6d52b20e,DISK], DatanodeInfoWithStorage[127.0.0.1:33114,DS-7d6eea5c-7328-4776-b2fe-afb9036146c5,DISK], DatanodeInfoWithStorage[127.0.0.1:33119,DS-8e513f75-0db5-4bbb-8093-dcd0414e2532,DISK], DatanodeInfoWithStorage[127.0.0.1:46324,DS-f900ec53-ba48-4fde-af24-e51c8af6ed40,DISK], DatanodeInfoWithStorage[127.0.0.1:38803,DS-7405a96c-c46c-4df6-a302-3c20e564230c,DISK], DatanodeInfoWithStorage[127.0.0.1:33348,DS-8e94c463-2401-4e41-b864-13344a758cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46771,DS-cec876a2-b1ba-4fab-9463-7227a99c36a8,DISK]]; indices=[0, 4, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1189187876-172.17.0.16-1597696152971:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41361,DS-6cf48359-19b6-4c75-9edc-7ada6d52b20e,DISK], DatanodeInfoWithStorage[127.0.0.1:33114,DS-7d6eea5c-7328-4776-b2fe-afb9036146c5,DISK], DatanodeInfoWithStorage[127.0.0.1:33119,DS-8e513f75-0db5-4bbb-8093-dcd0414e2532,DISK], DatanodeInfoWithStorage[127.0.0.1:46324,DS-f900ec53-ba48-4fde-af24-e51c8af6ed40,DISK], DatanodeInfoWithStorage[127.0.0.1:38803,DS-7405a96c-c46c-4df6-a302-3c20e564230c,DISK], DatanodeInfoWithStorage[127.0.0.1:33348,DS-8e94c463-2401-4e41-b864-13344a758cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46771,DS-cec876a2-b1ba-4fab-9463-7227a99c36a8,DISK]]; indices=[0, 4, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1189187876-172.17.0.16-1597696152971:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41361,DS-6cf48359-19b6-4c75-9edc-7ada6d52b20e,DISK], DatanodeInfoWithStorage[127.0.0.1:33114,DS-7d6eea5c-7328-4776-b2fe-afb9036146c5,DISK], DatanodeInfoWithStorage[127.0.0.1:33119,DS-8e513f75-0db5-4bbb-8093-dcd0414e2532,DISK], DatanodeInfoWithStorage[127.0.0.1:46324,DS-f900ec53-ba48-4fde-af24-e51c8af6ed40,DISK], DatanodeInfoWithStorage[127.0.0.1:38803,DS-7405a96c-c46c-4df6-a302-3c20e564230c,DISK], DatanodeInfoWithStorage[127.0.0.1:33348,DS-8e94c463-2401-4e41-b864-13344a758cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:46771,DS-cec876a2-b1ba-4fab-9463-7227a99c36a8,DISK]]; indices=[0, 4, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1549190384-172.17.0.16-1597696767118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33285,DS-5418bbe3-8388-4355-80b0-8b9847ea8321,DISK], DatanodeInfoWithStorage[127.0.0.1:42215,DS-96a89e8b-1dfa-4608-a99d-aaecb870a814,DISK], DatanodeInfoWithStorage[127.0.0.1:39565,DS-6e3fb1d2-8266-4e76-9a0e-08a15d6b565d,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-97556410-19ea-470e-b6d4-c8c2cfdf0781,DISK], DatanodeInfoWithStorage[127.0.0.1:36250,DS-02eb3c1a-7bb2-4870-8757-806c9f00f31c,DISK]]; indices=[1, 3, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1549190384-172.17.0.16-1597696767118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33285,DS-5418bbe3-8388-4355-80b0-8b9847ea8321,DISK], DatanodeInfoWithStorage[127.0.0.1:42215,DS-96a89e8b-1dfa-4608-a99d-aaecb870a814,DISK], DatanodeInfoWithStorage[127.0.0.1:39565,DS-6e3fb1d2-8266-4e76-9a0e-08a15d6b565d,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-97556410-19ea-470e-b6d4-c8c2cfdf0781,DISK], DatanodeInfoWithStorage[127.0.0.1:36250,DS-02eb3c1a-7bb2-4870-8757-806c9f00f31c,DISK]]; indices=[1, 3, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1549190384-172.17.0.16-1597696767118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33285,DS-5418bbe3-8388-4355-80b0-8b9847ea8321,DISK], DatanodeInfoWithStorage[127.0.0.1:42215,DS-96a89e8b-1dfa-4608-a99d-aaecb870a814,DISK], DatanodeInfoWithStorage[127.0.0.1:39565,DS-6e3fb1d2-8266-4e76-9a0e-08a15d6b565d,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-97556410-19ea-470e-b6d4-c8c2cfdf0781,DISK], DatanodeInfoWithStorage[127.0.0.1:36250,DS-02eb3c1a-7bb2-4870-8757-806c9f00f31c,DISK]]; indices=[1, 3, 6, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1549190384-172.17.0.16-1597696767118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33285,DS-5418bbe3-8388-4355-80b0-8b9847ea8321,DISK], DatanodeInfoWithStorage[127.0.0.1:42215,DS-96a89e8b-1dfa-4608-a99d-aaecb870a814,DISK], DatanodeInfoWithStorage[127.0.0.1:39565,DS-6e3fb1d2-8266-4e76-9a0e-08a15d6b565d,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-97556410-19ea-470e-b6d4-c8c2cfdf0781,DISK], DatanodeInfoWithStorage[127.0.0.1:36250,DS-02eb3c1a-7bb2-4870-8757-806c9f00f31c,DISK]]; indices=[1, 3, 6, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-340117728-172.17.0.16-1597697342835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37306,DS-056bd562-2356-44a2-81d5-b458c918a6be,DISK], DatanodeInfoWithStorage[127.0.0.1:38974,DS-ffa0019c-4bb5-4f82-b426-1ddc86bb1947,DISK], DatanodeInfoWithStorage[127.0.0.1:37717,DS-3161e629-ad90-4f24-9a95-cb3d0efbe8a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41700,DS-5703f95f-1ba8-4657-a3d6-cf2b08ebb556,DISK], DatanodeInfoWithStorage[127.0.0.1:46552,DS-4c4ff144-e5fe-4c99-b1f2-f364597d1d5e,DISK], DatanodeInfoWithStorage[127.0.0.1:42790,DS-b924083e-47ac-4be1-8ca0-8e12e72d46db,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-08d3f6db-c786-48bf-9251-67c85e4aa66a,DISK]]; indices=[1, 2, 4, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-340117728-172.17.0.16-1597697342835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37306,DS-056bd562-2356-44a2-81d5-b458c918a6be,DISK], DatanodeInfoWithStorage[127.0.0.1:38974,DS-ffa0019c-4bb5-4f82-b426-1ddc86bb1947,DISK], DatanodeInfoWithStorage[127.0.0.1:37717,DS-3161e629-ad90-4f24-9a95-cb3d0efbe8a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41700,DS-5703f95f-1ba8-4657-a3d6-cf2b08ebb556,DISK], DatanodeInfoWithStorage[127.0.0.1:46552,DS-4c4ff144-e5fe-4c99-b1f2-f364597d1d5e,DISK], DatanodeInfoWithStorage[127.0.0.1:42790,DS-b924083e-47ac-4be1-8ca0-8e12e72d46db,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-08d3f6db-c786-48bf-9251-67c85e4aa66a,DISK]]; indices=[1, 2, 4, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-340117728-172.17.0.16-1597697342835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37306,DS-056bd562-2356-44a2-81d5-b458c918a6be,DISK], DatanodeInfoWithStorage[127.0.0.1:38974,DS-ffa0019c-4bb5-4f82-b426-1ddc86bb1947,DISK], DatanodeInfoWithStorage[127.0.0.1:37717,DS-3161e629-ad90-4f24-9a95-cb3d0efbe8a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41700,DS-5703f95f-1ba8-4657-a3d6-cf2b08ebb556,DISK], DatanodeInfoWithStorage[127.0.0.1:46552,DS-4c4ff144-e5fe-4c99-b1f2-f364597d1d5e,DISK], DatanodeInfoWithStorage[127.0.0.1:42790,DS-b924083e-47ac-4be1-8ca0-8e12e72d46db,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-08d3f6db-c786-48bf-9251-67c85e4aa66a,DISK]]; indices=[1, 2, 4, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-340117728-172.17.0.16-1597697342835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37306,DS-056bd562-2356-44a2-81d5-b458c918a6be,DISK], DatanodeInfoWithStorage[127.0.0.1:38974,DS-ffa0019c-4bb5-4f82-b426-1ddc86bb1947,DISK], DatanodeInfoWithStorage[127.0.0.1:37717,DS-3161e629-ad90-4f24-9a95-cb3d0efbe8a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41700,DS-5703f95f-1ba8-4657-a3d6-cf2b08ebb556,DISK], DatanodeInfoWithStorage[127.0.0.1:46552,DS-4c4ff144-e5fe-4c99-b1f2-f364597d1d5e,DISK], DatanodeInfoWithStorage[127.0.0.1:42790,DS-b924083e-47ac-4be1-8ca0-8e12e72d46db,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-08d3f6db-c786-48bf-9251-67c85e4aa66a,DISK]]; indices=[1, 2, 4, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1646419189-172.17.0.16-1597697781135:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43854,DS-bbe25d74-e4fa-46e4-8777-2a5c0d367b47,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-4172cee3-6f7e-4588-af0e-07632c9f78af,DISK], DatanodeInfoWithStorage[127.0.0.1:44717,DS-0eeaca7f-a169-45aa-82f9-c1f0131960d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42131,DS-063bee01-b554-4c7c-af03-849f9ee59e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:37508,DS-999797f0-6514-4d07-a4f5-c157a1f594f8,DISK], DatanodeInfoWithStorage[127.0.0.1:43377,DS-9027018b-579b-4649-a1eb-104822e9b775,DISK], DatanodeInfoWithStorage[127.0.0.1:44322,DS-c45210ca-74c8-446e-bb6d-37465187da06,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1646419189-172.17.0.16-1597697781135:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43854,DS-bbe25d74-e4fa-46e4-8777-2a5c0d367b47,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-4172cee3-6f7e-4588-af0e-07632c9f78af,DISK], DatanodeInfoWithStorage[127.0.0.1:44717,DS-0eeaca7f-a169-45aa-82f9-c1f0131960d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42131,DS-063bee01-b554-4c7c-af03-849f9ee59e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:37508,DS-999797f0-6514-4d07-a4f5-c157a1f594f8,DISK], DatanodeInfoWithStorage[127.0.0.1:43377,DS-9027018b-579b-4649-a1eb-104822e9b775,DISK], DatanodeInfoWithStorage[127.0.0.1:44322,DS-c45210ca-74c8-446e-bb6d-37465187da06,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1646419189-172.17.0.16-1597697781135:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43854,DS-bbe25d74-e4fa-46e4-8777-2a5c0d367b47,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-4172cee3-6f7e-4588-af0e-07632c9f78af,DISK], DatanodeInfoWithStorage[127.0.0.1:44717,DS-0eeaca7f-a169-45aa-82f9-c1f0131960d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42131,DS-063bee01-b554-4c7c-af03-849f9ee59e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:37508,DS-999797f0-6514-4d07-a4f5-c157a1f594f8,DISK], DatanodeInfoWithStorage[127.0.0.1:43377,DS-9027018b-579b-4649-a1eb-104822e9b775,DISK], DatanodeInfoWithStorage[127.0.0.1:44322,DS-c45210ca-74c8-446e-bb6d-37465187da06,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1646419189-172.17.0.16-1597697781135:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43854,DS-bbe25d74-e4fa-46e4-8777-2a5c0d367b47,DISK], DatanodeInfoWithStorage[127.0.0.1:42079,DS-4172cee3-6f7e-4588-af0e-07632c9f78af,DISK], DatanodeInfoWithStorage[127.0.0.1:44717,DS-0eeaca7f-a169-45aa-82f9-c1f0131960d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42131,DS-063bee01-b554-4c7c-af03-849f9ee59e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:37508,DS-999797f0-6514-4d07-a4f5-c157a1f594f8,DISK], DatanodeInfoWithStorage[127.0.0.1:43377,DS-9027018b-579b-4649-a1eb-104822e9b775,DISK], DatanodeInfoWithStorage[127.0.0.1:44322,DS-c45210ca-74c8-446e-bb6d-37465187da06,DISK]]; indices=[0, 2, 4, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-853926518-172.17.0.16-1597698171400:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-9e6f6e58-9506-4c29-ad19-43c8b02ff168,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-35c291fa-5ddc-4d6a-bc32-213e7ca04cc5,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-011165bd-ef90-470d-b6b7-22ed622c988c,DISK], DatanodeInfoWithStorage[127.0.0.1:37495,DS-263b521f-db99-420b-968a-c6937c29fa1c,DISK], DatanodeInfoWithStorage[127.0.0.1:39744,DS-a118415f-c8ad-4249-807c-27deed7e9aa4,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-b4b75427-375f-429c-b03c-56b54a24c1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:42203,DS-6849f721-f0cc-4989-8c9b-bf62f8dad27c,DISK]]; indices=[1, 3, 5, 6, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-853926518-172.17.0.16-1597698171400:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-9e6f6e58-9506-4c29-ad19-43c8b02ff168,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-35c291fa-5ddc-4d6a-bc32-213e7ca04cc5,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-011165bd-ef90-470d-b6b7-22ed622c988c,DISK], DatanodeInfoWithStorage[127.0.0.1:37495,DS-263b521f-db99-420b-968a-c6937c29fa1c,DISK], DatanodeInfoWithStorage[127.0.0.1:39744,DS-a118415f-c8ad-4249-807c-27deed7e9aa4,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-b4b75427-375f-429c-b03c-56b54a24c1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:42203,DS-6849f721-f0cc-4989-8c9b-bf62f8dad27c,DISK]]; indices=[1, 3, 5, 6, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-853926518-172.17.0.16-1597698171400:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-9e6f6e58-9506-4c29-ad19-43c8b02ff168,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-35c291fa-5ddc-4d6a-bc32-213e7ca04cc5,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-011165bd-ef90-470d-b6b7-22ed622c988c,DISK], DatanodeInfoWithStorage[127.0.0.1:37495,DS-263b521f-db99-420b-968a-c6937c29fa1c,DISK], DatanodeInfoWithStorage[127.0.0.1:39744,DS-a118415f-c8ad-4249-807c-27deed7e9aa4,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-b4b75427-375f-429c-b03c-56b54a24c1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:42203,DS-6849f721-f0cc-4989-8c9b-bf62f8dad27c,DISK]]; indices=[1, 3, 5, 6, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-853926518-172.17.0.16-1597698171400:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-9e6f6e58-9506-4c29-ad19-43c8b02ff168,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-35c291fa-5ddc-4d6a-bc32-213e7ca04cc5,DISK], DatanodeInfoWithStorage[127.0.0.1:39252,DS-011165bd-ef90-470d-b6b7-22ed622c988c,DISK], DatanodeInfoWithStorage[127.0.0.1:37495,DS-263b521f-db99-420b-968a-c6937c29fa1c,DISK], DatanodeInfoWithStorage[127.0.0.1:39744,DS-a118415f-c8ad-4249-807c-27deed7e9aa4,DISK], DatanodeInfoWithStorage[127.0.0.1:46761,DS-b4b75427-375f-429c-b03c-56b54a24c1bc,DISK], DatanodeInfoWithStorage[127.0.0.1:42203,DS-6849f721-f0cc-4989-8c9b-bf62f8dad27c,DISK]]; indices=[1, 3, 5, 6, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1571133831-172.17.0.16-1597698754538:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40000,DS-846e0f9c-705e-435d-8436-a0c911602026,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-4abaffcd-b9b6-4aa1-b568-46c7872722a0,DISK], DatanodeInfoWithStorage[127.0.0.1:39117,DS-7440f4cc-77c0-464a-b589-21ada36cf20b,DISK], DatanodeInfoWithStorage[127.0.0.1:41263,DS-2282bedc-3857-478a-84ec-c65697efe729,DISK], DatanodeInfoWithStorage[127.0.0.1:34403,DS-3ffec667-a35e-49e5-91af-f93f81783893,DISK], DatanodeInfoWithStorage[127.0.0.1:37797,DS-d2b50582-6f97-4c04-9152-858118912c94,DISK], DatanodeInfoWithStorage[127.0.0.1:35578,DS-3cdcba52-5fa1-4c22-a65a-d905677418ca,DISK]]; indices=[0, 4, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1571133831-172.17.0.16-1597698754538:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40000,DS-846e0f9c-705e-435d-8436-a0c911602026,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-4abaffcd-b9b6-4aa1-b568-46c7872722a0,DISK], DatanodeInfoWithStorage[127.0.0.1:39117,DS-7440f4cc-77c0-464a-b589-21ada36cf20b,DISK], DatanodeInfoWithStorage[127.0.0.1:41263,DS-2282bedc-3857-478a-84ec-c65697efe729,DISK], DatanodeInfoWithStorage[127.0.0.1:34403,DS-3ffec667-a35e-49e5-91af-f93f81783893,DISK], DatanodeInfoWithStorage[127.0.0.1:37797,DS-d2b50582-6f97-4c04-9152-858118912c94,DISK], DatanodeInfoWithStorage[127.0.0.1:35578,DS-3cdcba52-5fa1-4c22-a65a-d905677418ca,DISK]]; indices=[0, 4, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1571133831-172.17.0.16-1597698754538:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40000,DS-846e0f9c-705e-435d-8436-a0c911602026,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-4abaffcd-b9b6-4aa1-b568-46c7872722a0,DISK], DatanodeInfoWithStorage[127.0.0.1:39117,DS-7440f4cc-77c0-464a-b589-21ada36cf20b,DISK], DatanodeInfoWithStorage[127.0.0.1:41263,DS-2282bedc-3857-478a-84ec-c65697efe729,DISK], DatanodeInfoWithStorage[127.0.0.1:34403,DS-3ffec667-a35e-49e5-91af-f93f81783893,DISK], DatanodeInfoWithStorage[127.0.0.1:37797,DS-d2b50582-6f97-4c04-9152-858118912c94,DISK], DatanodeInfoWithStorage[127.0.0.1:35578,DS-3cdcba52-5fa1-4c22-a65a-d905677418ca,DISK]]; indices=[0, 4, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1571133831-172.17.0.16-1597698754538:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40000,DS-846e0f9c-705e-435d-8436-a0c911602026,DISK], DatanodeInfoWithStorage[127.0.0.1:41156,DS-4abaffcd-b9b6-4aa1-b568-46c7872722a0,DISK], DatanodeInfoWithStorage[127.0.0.1:39117,DS-7440f4cc-77c0-464a-b589-21ada36cf20b,DISK], DatanodeInfoWithStorage[127.0.0.1:41263,DS-2282bedc-3857-478a-84ec-c65697efe729,DISK], DatanodeInfoWithStorage[127.0.0.1:34403,DS-3ffec667-a35e-49e5-91af-f93f81783893,DISK], DatanodeInfoWithStorage[127.0.0.1:37797,DS-d2b50582-6f97-4c04-9152-858118912c94,DISK], DatanodeInfoWithStorage[127.0.0.1:35578,DS-3cdcba52-5fa1-4c22-a65a-d905677418ca,DISK]]; indices=[0, 4, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-663182331-172.17.0.16-1597699304257:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44420,DS-8c45a187-6375-41f5-8187-b9816ab9781e,DISK], DatanodeInfoWithStorage[127.0.0.1:32890,DS-41d6da46-d8fe-468f-82e7-9624c3935f30,DISK], DatanodeInfoWithStorage[127.0.0.1:40888,DS-2483e280-a3aa-4061-93e4-1ae990ef944e,DISK], DatanodeInfoWithStorage[127.0.0.1:33797,DS-91467147-5de7-4fdc-b8de-3ec9b952eae6,DISK]]; indices=[1, 2, 4, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-663182331-172.17.0.16-1597699304257:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44420,DS-8c45a187-6375-41f5-8187-b9816ab9781e,DISK], DatanodeInfoWithStorage[127.0.0.1:32890,DS-41d6da46-d8fe-468f-82e7-9624c3935f30,DISK], DatanodeInfoWithStorage[127.0.0.1:40888,DS-2483e280-a3aa-4061-93e4-1ae990ef944e,DISK], DatanodeInfoWithStorage[127.0.0.1:33797,DS-91467147-5de7-4fdc-b8de-3ec9b952eae6,DISK]]; indices=[1, 2, 4, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-663182331-172.17.0.16-1597699304257:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44420,DS-8c45a187-6375-41f5-8187-b9816ab9781e,DISK], DatanodeInfoWithStorage[127.0.0.1:32890,DS-41d6da46-d8fe-468f-82e7-9624c3935f30,DISK], DatanodeInfoWithStorage[127.0.0.1:40888,DS-2483e280-a3aa-4061-93e4-1ae990ef944e,DISK], DatanodeInfoWithStorage[127.0.0.1:33797,DS-91467147-5de7-4fdc-b8de-3ec9b952eae6,DISK]]; indices=[1, 2, 4, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-663182331-172.17.0.16-1597699304257:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44420,DS-8c45a187-6375-41f5-8187-b9816ab9781e,DISK], DatanodeInfoWithStorage[127.0.0.1:32890,DS-41d6da46-d8fe-468f-82e7-9624c3935f30,DISK], DatanodeInfoWithStorage[127.0.0.1:40888,DS-2483e280-a3aa-4061-93e4-1ae990ef944e,DISK], DatanodeInfoWithStorage[127.0.0.1:33797,DS-91467147-5de7-4fdc-b8de-3ec9b952eae6,DISK]]; indices=[1, 2, 4, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-987290372-172.17.0.16-1597699624989:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37837,DS-239fe6a2-6604-4950-9aff-50f69c5370d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43239,DS-395114f3-4240-4280-a71e-147a67bb2308,DISK], DatanodeInfoWithStorage[127.0.0.1:34414,DS-4e070a88-50b0-43d0-971a-4063319fe46b,DISK], DatanodeInfoWithStorage[127.0.0.1:37516,DS-753b004a-7288-4815-b79f-eaee3aa5db91,DISK], DatanodeInfoWithStorage[127.0.0.1:34893,DS-38ec8b4c-a3ff-4e6b-8c72-479359f2d1ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38816,DS-8368e2a3-c99f-4851-b63b-e2eb8293a60f,DISK]]; indices=[1, 2, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-987290372-172.17.0.16-1597699624989:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37837,DS-239fe6a2-6604-4950-9aff-50f69c5370d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43239,DS-395114f3-4240-4280-a71e-147a67bb2308,DISK], DatanodeInfoWithStorage[127.0.0.1:34414,DS-4e070a88-50b0-43d0-971a-4063319fe46b,DISK], DatanodeInfoWithStorage[127.0.0.1:37516,DS-753b004a-7288-4815-b79f-eaee3aa5db91,DISK], DatanodeInfoWithStorage[127.0.0.1:34893,DS-38ec8b4c-a3ff-4e6b-8c72-479359f2d1ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38816,DS-8368e2a3-c99f-4851-b63b-e2eb8293a60f,DISK]]; indices=[1, 2, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-987290372-172.17.0.16-1597699624989:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37837,DS-239fe6a2-6604-4950-9aff-50f69c5370d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43239,DS-395114f3-4240-4280-a71e-147a67bb2308,DISK], DatanodeInfoWithStorage[127.0.0.1:34414,DS-4e070a88-50b0-43d0-971a-4063319fe46b,DISK], DatanodeInfoWithStorage[127.0.0.1:37516,DS-753b004a-7288-4815-b79f-eaee3aa5db91,DISK], DatanodeInfoWithStorage[127.0.0.1:34893,DS-38ec8b4c-a3ff-4e6b-8c72-479359f2d1ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38816,DS-8368e2a3-c99f-4851-b63b-e2eb8293a60f,DISK]]; indices=[1, 2, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-987290372-172.17.0.16-1597699624989:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37837,DS-239fe6a2-6604-4950-9aff-50f69c5370d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43239,DS-395114f3-4240-4280-a71e-147a67bb2308,DISK], DatanodeInfoWithStorage[127.0.0.1:34414,DS-4e070a88-50b0-43d0-971a-4063319fe46b,DISK], DatanodeInfoWithStorage[127.0.0.1:37516,DS-753b004a-7288-4815-b79f-eaee3aa5db91,DISK], DatanodeInfoWithStorage[127.0.0.1:34893,DS-38ec8b4c-a3ff-4e6b-8c72-479359f2d1ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38816,DS-8368e2a3-c99f-4851-b63b-e2eb8293a60f,DISK]]; indices=[1, 2, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1643116524-172.17.0.16-1597699675095:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36391,DS-53c443f3-1df6-45f8-bc74-e831c6a461c2,DISK], DatanodeInfoWithStorage[127.0.0.1:38758,DS-bcca4c71-5e5e-44bc-94c9-6421674fffae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-070c6588-48c3-4ded-a287-c6963ed13f20,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-49e69cca-6432-440f-8343-448625effadc,DISK], DatanodeInfoWithStorage[127.0.0.1:42360,DS-2e545f86-23f5-4644-97ee-d3c989c0dddd,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-2fd38934-d00f-4dad-ba5a-10b280dff868,DISK]]; indices=[2, 3, 5, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1643116524-172.17.0.16-1597699675095:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36391,DS-53c443f3-1df6-45f8-bc74-e831c6a461c2,DISK], DatanodeInfoWithStorage[127.0.0.1:38758,DS-bcca4c71-5e5e-44bc-94c9-6421674fffae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-070c6588-48c3-4ded-a287-c6963ed13f20,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-49e69cca-6432-440f-8343-448625effadc,DISK], DatanodeInfoWithStorage[127.0.0.1:42360,DS-2e545f86-23f5-4644-97ee-d3c989c0dddd,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-2fd38934-d00f-4dad-ba5a-10b280dff868,DISK]]; indices=[2, 3, 5, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1643116524-172.17.0.16-1597699675095:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36391,DS-53c443f3-1df6-45f8-bc74-e831c6a461c2,DISK], DatanodeInfoWithStorage[127.0.0.1:38758,DS-bcca4c71-5e5e-44bc-94c9-6421674fffae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-070c6588-48c3-4ded-a287-c6963ed13f20,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-49e69cca-6432-440f-8343-448625effadc,DISK], DatanodeInfoWithStorage[127.0.0.1:42360,DS-2e545f86-23f5-4644-97ee-d3c989c0dddd,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-2fd38934-d00f-4dad-ba5a-10b280dff868,DISK]]; indices=[2, 3, 5, 7, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1643116524-172.17.0.16-1597699675095:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36391,DS-53c443f3-1df6-45f8-bc74-e831c6a461c2,DISK], DatanodeInfoWithStorage[127.0.0.1:38758,DS-bcca4c71-5e5e-44bc-94c9-6421674fffae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-070c6588-48c3-4ded-a287-c6963ed13f20,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-49e69cca-6432-440f-8343-448625effadc,DISK], DatanodeInfoWithStorage[127.0.0.1:42360,DS-2e545f86-23f5-4644-97ee-d3c989c0dddd,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-2fd38934-d00f-4dad-ba5a-10b280dff868,DISK]]; indices=[2, 3, 5, 7, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1602763026-172.17.0.16-1597699999884:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43648,DS-31a3a443-19bb-4636-be13-822ea376d25a,DISK], DatanodeInfoWithStorage[127.0.0.1:39913,DS-f60293ee-a302-486e-8ca8-05f8bcc389b4,DISK], DatanodeInfoWithStorage[127.0.0.1:46067,DS-47c63ffc-f3f2-4ac1-8b5d-79ca90173b8f,DISK], DatanodeInfoWithStorage[127.0.0.1:42180,DS-3c97a846-e318-4517-8d68-7f79e82537f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37420,DS-c5cb52d9-4c64-432b-a859-a61bc9d8c139,DISK]]; indices=[1, 3, 5, 6, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1602763026-172.17.0.16-1597699999884:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43648,DS-31a3a443-19bb-4636-be13-822ea376d25a,DISK], DatanodeInfoWithStorage[127.0.0.1:39913,DS-f60293ee-a302-486e-8ca8-05f8bcc389b4,DISK], DatanodeInfoWithStorage[127.0.0.1:46067,DS-47c63ffc-f3f2-4ac1-8b5d-79ca90173b8f,DISK], DatanodeInfoWithStorage[127.0.0.1:42180,DS-3c97a846-e318-4517-8d68-7f79e82537f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37420,DS-c5cb52d9-4c64-432b-a859-a61bc9d8c139,DISK]]; indices=[1, 3, 5, 6, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1602763026-172.17.0.16-1597699999884:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43648,DS-31a3a443-19bb-4636-be13-822ea376d25a,DISK], DatanodeInfoWithStorage[127.0.0.1:39913,DS-f60293ee-a302-486e-8ca8-05f8bcc389b4,DISK], DatanodeInfoWithStorage[127.0.0.1:46067,DS-47c63ffc-f3f2-4ac1-8b5d-79ca90173b8f,DISK], DatanodeInfoWithStorage[127.0.0.1:42180,DS-3c97a846-e318-4517-8d68-7f79e82537f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37420,DS-c5cb52d9-4c64-432b-a859-a61bc9d8c139,DISK]]; indices=[1, 3, 5, 6, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-1602763026-172.17.0.16-1597699999884:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43648,DS-31a3a443-19bb-4636-be13-822ea376d25a,DISK], DatanodeInfoWithStorage[127.0.0.1:39913,DS-f60293ee-a302-486e-8ca8-05f8bcc389b4,DISK], DatanodeInfoWithStorage[127.0.0.1:46067,DS-47c63ffc-f3f2-4ac1-8b5d-79ca90173b8f,DISK], DatanodeInfoWithStorage[127.0.0.1:42180,DS-3c97a846-e318-4517-8d68-7f79e82537f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37420,DS-c5cb52d9-4c64-432b-a859-a61bc9d8c139,DISK]]; indices=[1, 3, 5, 6, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-659933032-172.17.0.16-1597700094835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42551,DS-1b17dca3-4606-43b9-a1ff-1eee7de1fa01,DISK], DatanodeInfoWithStorage[127.0.0.1:46612,DS-0ac2dec3-7aaf-47d7-ac1a-ec6fd7e5ee89,DISK], DatanodeInfoWithStorage[127.0.0.1:44733,DS-5dfb0c0b-7169-44a4-9ada-03869d1dca28,DISK], DatanodeInfoWithStorage[127.0.0.1:45245,DS-1495eded-4527-4847-bb30-c34bae30288f,DISK], DatanodeInfoWithStorage[127.0.0.1:38740,DS-11acbfb6-a527-49a4-bba0-a9af508cbee3,DISK], DatanodeInfoWithStorage[127.0.0.1:35930,DS-820a5c00-da24-408a-889b-bd47b144ca31,DISK], DatanodeInfoWithStorage[127.0.0.1:34463,DS-2ac66078-8c0b-44b7-bd4a-cbe97c5741d3,DISK]]; indices=[0, 1, 2, 3, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-659933032-172.17.0.16-1597700094835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42551,DS-1b17dca3-4606-43b9-a1ff-1eee7de1fa01,DISK], DatanodeInfoWithStorage[127.0.0.1:46612,DS-0ac2dec3-7aaf-47d7-ac1a-ec6fd7e5ee89,DISK], DatanodeInfoWithStorage[127.0.0.1:44733,DS-5dfb0c0b-7169-44a4-9ada-03869d1dca28,DISK], DatanodeInfoWithStorage[127.0.0.1:45245,DS-1495eded-4527-4847-bb30-c34bae30288f,DISK], DatanodeInfoWithStorage[127.0.0.1:38740,DS-11acbfb6-a527-49a4-bba0-a9af508cbee3,DISK], DatanodeInfoWithStorage[127.0.0.1:35930,DS-820a5c00-da24-408a-889b-bd47b144ca31,DISK], DatanodeInfoWithStorage[127.0.0.1:34463,DS-2ac66078-8c0b-44b7-bd4a-cbe97c5741d3,DISK]]; indices=[0, 1, 2, 3, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-659933032-172.17.0.16-1597700094835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42551,DS-1b17dca3-4606-43b9-a1ff-1eee7de1fa01,DISK], DatanodeInfoWithStorage[127.0.0.1:46612,DS-0ac2dec3-7aaf-47d7-ac1a-ec6fd7e5ee89,DISK], DatanodeInfoWithStorage[127.0.0.1:44733,DS-5dfb0c0b-7169-44a4-9ada-03869d1dca28,DISK], DatanodeInfoWithStorage[127.0.0.1:45245,DS-1495eded-4527-4847-bb30-c34bae30288f,DISK], DatanodeInfoWithStorage[127.0.0.1:38740,DS-11acbfb6-a527-49a4-bba0-a9af508cbee3,DISK], DatanodeInfoWithStorage[127.0.0.1:35930,DS-820a5c00-da24-408a-889b-bd47b144ca31,DISK], DatanodeInfoWithStorage[127.0.0.1:34463,DS-2ac66078-8c0b-44b7-bd4a-cbe97c5741d3,DISK]]; indices=[0, 1, 2, 3, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-659933032-172.17.0.16-1597700094835:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42551,DS-1b17dca3-4606-43b9-a1ff-1eee7de1fa01,DISK], DatanodeInfoWithStorage[127.0.0.1:46612,DS-0ac2dec3-7aaf-47d7-ac1a-ec6fd7e5ee89,DISK], DatanodeInfoWithStorage[127.0.0.1:44733,DS-5dfb0c0b-7169-44a4-9ada-03869d1dca28,DISK], DatanodeInfoWithStorage[127.0.0.1:45245,DS-1495eded-4527-4847-bb30-c34bae30288f,DISK], DatanodeInfoWithStorage[127.0.0.1:38740,DS-11acbfb6-a527-49a4-bba0-a9af508cbee3,DISK], DatanodeInfoWithStorage[127.0.0.1:35930,DS-820a5c00-da24-408a-889b-bd47b144ca31,DISK], DatanodeInfoWithStorage[127.0.0.1:34463,DS-2ac66078-8c0b-44b7-bd4a-cbe97c5741d3,DISK]]; indices=[0, 1, 2, 3, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.client.datanode-restart.timeout
component: hdfs:NameNode
v1: 300s
v2: 30000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: 1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1085893176-172.17.0.16-1597700181666:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41356,DS-1f39be90-28c2-44e4-a6b3-6294ed3d66bf,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-ab13faed-01c8-497e-93aa-92b9cf9859cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45814,DS-5e89704e-0bfc-402f-8343-332fb760d3d6,DISK], DatanodeInfoWithStorage[127.0.0.1:34236,DS-b0eb1ff8-0e0f-4dfc-ae7b-3ce86990c7d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44235,DS-1a71ba4c-5d6b-434a-aa70-813ce9e55138,DISK], DatanodeInfoWithStorage[127.0.0.1:38436,DS-8b327046-9120-48a9-b7e6-5cefbcb2b58d,DISK]]; indices=[1, 2, 3, 6, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1085893176-172.17.0.16-1597700181666:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41356,DS-1f39be90-28c2-44e4-a6b3-6294ed3d66bf,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-ab13faed-01c8-497e-93aa-92b9cf9859cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45814,DS-5e89704e-0bfc-402f-8343-332fb760d3d6,DISK], DatanodeInfoWithStorage[127.0.0.1:34236,DS-b0eb1ff8-0e0f-4dfc-ae7b-3ce86990c7d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44235,DS-1a71ba4c-5d6b-434a-aa70-813ce9e55138,DISK], DatanodeInfoWithStorage[127.0.0.1:38436,DS-8b327046-9120-48a9-b7e6-5cefbcb2b58d,DISK]]; indices=[1, 2, 3, 6, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1085893176-172.17.0.16-1597700181666:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41356,DS-1f39be90-28c2-44e4-a6b3-6294ed3d66bf,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-ab13faed-01c8-497e-93aa-92b9cf9859cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45814,DS-5e89704e-0bfc-402f-8343-332fb760d3d6,DISK], DatanodeInfoWithStorage[127.0.0.1:34236,DS-b0eb1ff8-0e0f-4dfc-ae7b-3ce86990c7d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44235,DS-1a71ba4c-5d6b-434a-aa70-813ce9e55138,DISK], DatanodeInfoWithStorage[127.0.0.1:38436,DS-8b327046-9120-48a9-b7e6-5cefbcb2b58d,DISK]]; indices=[1, 2, 3, 6, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1085893176-172.17.0.16-1597700181666:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41356,DS-1f39be90-28c2-44e4-a6b3-6294ed3d66bf,DISK], DatanodeInfoWithStorage[127.0.0.1:46875,DS-ab13faed-01c8-497e-93aa-92b9cf9859cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45814,DS-5e89704e-0bfc-402f-8343-332fb760d3d6,DISK], DatanodeInfoWithStorage[127.0.0.1:34236,DS-b0eb1ff8-0e0f-4dfc-ae7b-3ce86990c7d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44235,DS-1a71ba4c-5d6b-434a-aa70-813ce9e55138,DISK], DatanodeInfoWithStorage[127.0.0.1:38436,DS-8b327046-9120-48a9-b7e6-5cefbcb2b58d,DISK]]; indices=[1, 2, 3, 6, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 10 out of 50
v1v1v2v2 failed with probability 10 out of 50
result: false positive !!!
Total execution time in seconds : 7128
