reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1949316874-172.17.0.19-1597755760246:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35398,DS-b52491f7-08a1-4ec3-b3dd-a14dc29161a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34010,DS-1fd9c4de-b1ab-4d29-aa80-af306725086a,DISK], DatanodeInfoWithStorage[127.0.0.1:37361,DS-3e8abddd-3ebd-4575-860b-958de5061a01,DISK], DatanodeInfoWithStorage[127.0.0.1:33611,DS-69b9a339-8929-4750-b327-bfce5bf36430,DISK], DatanodeInfoWithStorage[127.0.0.1:37613,DS-172e5ed9-6fee-420f-b228-781c7a9fd335,DISK], DatanodeInfoWithStorage[127.0.0.1:44468,DS-fa8978fb-b422-4f74-8c5c-35be3afc426e,DISK]]; indices=[1, 3, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1949316874-172.17.0.19-1597755760246:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35398,DS-b52491f7-08a1-4ec3-b3dd-a14dc29161a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34010,DS-1fd9c4de-b1ab-4d29-aa80-af306725086a,DISK], DatanodeInfoWithStorage[127.0.0.1:37361,DS-3e8abddd-3ebd-4575-860b-958de5061a01,DISK], DatanodeInfoWithStorage[127.0.0.1:33611,DS-69b9a339-8929-4750-b327-bfce5bf36430,DISK], DatanodeInfoWithStorage[127.0.0.1:37613,DS-172e5ed9-6fee-420f-b228-781c7a9fd335,DISK], DatanodeInfoWithStorage[127.0.0.1:44468,DS-fa8978fb-b422-4f74-8c5c-35be3afc426e,DISK]]; indices=[1, 3, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1949316874-172.17.0.19-1597755760246:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35398,DS-b52491f7-08a1-4ec3-b3dd-a14dc29161a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34010,DS-1fd9c4de-b1ab-4d29-aa80-af306725086a,DISK], DatanodeInfoWithStorage[127.0.0.1:37361,DS-3e8abddd-3ebd-4575-860b-958de5061a01,DISK], DatanodeInfoWithStorage[127.0.0.1:33611,DS-69b9a339-8929-4750-b327-bfce5bf36430,DISK], DatanodeInfoWithStorage[127.0.0.1:37613,DS-172e5ed9-6fee-420f-b228-781c7a9fd335,DISK], DatanodeInfoWithStorage[127.0.0.1:44468,DS-fa8978fb-b422-4f74-8c5c-35be3afc426e,DISK]]; indices=[1, 3, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1949316874-172.17.0.19-1597755760246:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35398,DS-b52491f7-08a1-4ec3-b3dd-a14dc29161a1,DISK], DatanodeInfoWithStorage[127.0.0.1:34010,DS-1fd9c4de-b1ab-4d29-aa80-af306725086a,DISK], DatanodeInfoWithStorage[127.0.0.1:37361,DS-3e8abddd-3ebd-4575-860b-958de5061a01,DISK], DatanodeInfoWithStorage[127.0.0.1:33611,DS-69b9a339-8929-4750-b327-bfce5bf36430,DISK], DatanodeInfoWithStorage[127.0.0.1:37613,DS-172e5ed9-6fee-420f-b228-781c7a9fd335,DISK], DatanodeInfoWithStorage[127.0.0.1:44468,DS-fa8978fb-b422-4f74-8c5c-35be3afc426e,DISK]]; indices=[1, 3, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1903568639-172.17.0.19-1597756449997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41539,DS-2f8dc3a4-7225-4515-9814-1a4765b5d0dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41275,DS-ee5ea8a6-658f-471a-9c44-5884349415ea,DISK], DatanodeInfoWithStorage[127.0.0.1:38426,DS-c4925cb0-a7c2-4d7c-8dba-c7d306ea1e42,DISK], DatanodeInfoWithStorage[127.0.0.1:46073,DS-42ebbc8a-d89b-41a3-a74a-52439ed1ef23,DISK], DatanodeInfoWithStorage[127.0.0.1:33525,DS-3d4516aa-89c2-4fee-8250-1a960ca2afe1,DISK], DatanodeInfoWithStorage[127.0.0.1:37170,DS-525ae4d1-272f-4195-8108-02af523b743e,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1903568639-172.17.0.19-1597756449997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41539,DS-2f8dc3a4-7225-4515-9814-1a4765b5d0dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41275,DS-ee5ea8a6-658f-471a-9c44-5884349415ea,DISK], DatanodeInfoWithStorage[127.0.0.1:38426,DS-c4925cb0-a7c2-4d7c-8dba-c7d306ea1e42,DISK], DatanodeInfoWithStorage[127.0.0.1:46073,DS-42ebbc8a-d89b-41a3-a74a-52439ed1ef23,DISK], DatanodeInfoWithStorage[127.0.0.1:33525,DS-3d4516aa-89c2-4fee-8250-1a960ca2afe1,DISK], DatanodeInfoWithStorage[127.0.0.1:37170,DS-525ae4d1-272f-4195-8108-02af523b743e,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1903568639-172.17.0.19-1597756449997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41539,DS-2f8dc3a4-7225-4515-9814-1a4765b5d0dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41275,DS-ee5ea8a6-658f-471a-9c44-5884349415ea,DISK], DatanodeInfoWithStorage[127.0.0.1:38426,DS-c4925cb0-a7c2-4d7c-8dba-c7d306ea1e42,DISK], DatanodeInfoWithStorage[127.0.0.1:46073,DS-42ebbc8a-d89b-41a3-a74a-52439ed1ef23,DISK], DatanodeInfoWithStorage[127.0.0.1:33525,DS-3d4516aa-89c2-4fee-8250-1a960ca2afe1,DISK], DatanodeInfoWithStorage[127.0.0.1:37170,DS-525ae4d1-272f-4195-8108-02af523b743e,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1903568639-172.17.0.19-1597756449997:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41539,DS-2f8dc3a4-7225-4515-9814-1a4765b5d0dc,DISK], DatanodeInfoWithStorage[127.0.0.1:41275,DS-ee5ea8a6-658f-471a-9c44-5884349415ea,DISK], DatanodeInfoWithStorage[127.0.0.1:38426,DS-c4925cb0-a7c2-4d7c-8dba-c7d306ea1e42,DISK], DatanodeInfoWithStorage[127.0.0.1:46073,DS-42ebbc8a-d89b-41a3-a74a-52439ed1ef23,DISK], DatanodeInfoWithStorage[127.0.0.1:33525,DS-3d4516aa-89c2-4fee-8250-1a960ca2afe1,DISK], DatanodeInfoWithStorage[127.0.0.1:37170,DS-525ae4d1-272f-4195-8108-02af523b743e,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-22211800-172.17.0.19-1597756940518:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44232,DS-fe868712-67f1-4f7f-bcd6-05299d6c3df0,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-d1566f05-ba1f-4e4b-acb0-2b7505009980,DISK], DatanodeInfoWithStorage[127.0.0.1:39767,DS-2a325311-172d-4eae-8b91-bd7d0ded84af,DISK], DatanodeInfoWithStorage[127.0.0.1:45654,DS-82048574-7aaa-4123-bec1-8d8cef1b3caf,DISK], DatanodeInfoWithStorage[127.0.0.1:35042,DS-7582276d-d521-4f44-98cd-ff288f81af6d,DISK], DatanodeInfoWithStorage[127.0.0.1:32791,DS-f30fd291-4eb9-4830-97d5-33e3abee243c,DISK]]; indices=[0, 1, 5, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-22211800-172.17.0.19-1597756940518:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44232,DS-fe868712-67f1-4f7f-bcd6-05299d6c3df0,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-d1566f05-ba1f-4e4b-acb0-2b7505009980,DISK], DatanodeInfoWithStorage[127.0.0.1:39767,DS-2a325311-172d-4eae-8b91-bd7d0ded84af,DISK], DatanodeInfoWithStorage[127.0.0.1:45654,DS-82048574-7aaa-4123-bec1-8d8cef1b3caf,DISK], DatanodeInfoWithStorage[127.0.0.1:35042,DS-7582276d-d521-4f44-98cd-ff288f81af6d,DISK], DatanodeInfoWithStorage[127.0.0.1:32791,DS-f30fd291-4eb9-4830-97d5-33e3abee243c,DISK]]; indices=[0, 1, 5, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-22211800-172.17.0.19-1597756940518:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44232,DS-fe868712-67f1-4f7f-bcd6-05299d6c3df0,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-d1566f05-ba1f-4e4b-acb0-2b7505009980,DISK], DatanodeInfoWithStorage[127.0.0.1:39767,DS-2a325311-172d-4eae-8b91-bd7d0ded84af,DISK], DatanodeInfoWithStorage[127.0.0.1:45654,DS-82048574-7aaa-4123-bec1-8d8cef1b3caf,DISK], DatanodeInfoWithStorage[127.0.0.1:35042,DS-7582276d-d521-4f44-98cd-ff288f81af6d,DISK], DatanodeInfoWithStorage[127.0.0.1:32791,DS-f30fd291-4eb9-4830-97d5-33e3abee243c,DISK]]; indices=[0, 1, 5, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-22211800-172.17.0.19-1597756940518:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44232,DS-fe868712-67f1-4f7f-bcd6-05299d6c3df0,DISK], DatanodeInfoWithStorage[127.0.0.1:41888,DS-d1566f05-ba1f-4e4b-acb0-2b7505009980,DISK], DatanodeInfoWithStorage[127.0.0.1:39767,DS-2a325311-172d-4eae-8b91-bd7d0ded84af,DISK], DatanodeInfoWithStorage[127.0.0.1:45654,DS-82048574-7aaa-4123-bec1-8d8cef1b3caf,DISK], DatanodeInfoWithStorage[127.0.0.1:35042,DS-7582276d-d521-4f44-98cd-ff288f81af6d,DISK], DatanodeInfoWithStorage[127.0.0.1:32791,DS-f30fd291-4eb9-4830-97d5-33e3abee243c,DISK]]; indices=[0, 1, 5, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-316210940-172.17.0.19-1597756964780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46147,DS-b88e699f-1c2d-44fc-ab9a-266dda4b0259,DISK], DatanodeInfoWithStorage[127.0.0.1:46678,DS-9584c5e0-bf39-4509-b2be-dc2ad1988470,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-ab68bee1-8756-487d-8703-210a41f3760a,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-2994356c-66c5-4ffb-b986-27b811d8ec54,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4ebfe5c9-62d6-4dbb-ad78-1aa22cf0c825,DISK], DatanodeInfoWithStorage[127.0.0.1:41059,DS-a51c4ecc-b592-4fb3-adb2-80f7bdf1d00b,DISK], DatanodeInfoWithStorage[127.0.0.1:41166,DS-e8cd9586-bb61-4c93-9ab5-9293ebd7195f,DISK]]; indices=[1, 2, 3, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-316210940-172.17.0.19-1597756964780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46147,DS-b88e699f-1c2d-44fc-ab9a-266dda4b0259,DISK], DatanodeInfoWithStorage[127.0.0.1:46678,DS-9584c5e0-bf39-4509-b2be-dc2ad1988470,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-ab68bee1-8756-487d-8703-210a41f3760a,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-2994356c-66c5-4ffb-b986-27b811d8ec54,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4ebfe5c9-62d6-4dbb-ad78-1aa22cf0c825,DISK], DatanodeInfoWithStorage[127.0.0.1:41059,DS-a51c4ecc-b592-4fb3-adb2-80f7bdf1d00b,DISK], DatanodeInfoWithStorage[127.0.0.1:41166,DS-e8cd9586-bb61-4c93-9ab5-9293ebd7195f,DISK]]; indices=[1, 2, 3, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-316210940-172.17.0.19-1597756964780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46147,DS-b88e699f-1c2d-44fc-ab9a-266dda4b0259,DISK], DatanodeInfoWithStorage[127.0.0.1:46678,DS-9584c5e0-bf39-4509-b2be-dc2ad1988470,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-ab68bee1-8756-487d-8703-210a41f3760a,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-2994356c-66c5-4ffb-b986-27b811d8ec54,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4ebfe5c9-62d6-4dbb-ad78-1aa22cf0c825,DISK], DatanodeInfoWithStorage[127.0.0.1:41059,DS-a51c4ecc-b592-4fb3-adb2-80f7bdf1d00b,DISK], DatanodeInfoWithStorage[127.0.0.1:41166,DS-e8cd9586-bb61-4c93-9ab5-9293ebd7195f,DISK]]; indices=[1, 2, 3, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-316210940-172.17.0.19-1597756964780:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46147,DS-b88e699f-1c2d-44fc-ab9a-266dda4b0259,DISK], DatanodeInfoWithStorage[127.0.0.1:46678,DS-9584c5e0-bf39-4509-b2be-dc2ad1988470,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-ab68bee1-8756-487d-8703-210a41f3760a,DISK], DatanodeInfoWithStorage[127.0.0.1:46719,DS-2994356c-66c5-4ffb-b986-27b811d8ec54,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4ebfe5c9-62d6-4dbb-ad78-1aa22cf0c825,DISK], DatanodeInfoWithStorage[127.0.0.1:41059,DS-a51c4ecc-b592-4fb3-adb2-80f7bdf1d00b,DISK], DatanodeInfoWithStorage[127.0.0.1:41166,DS-e8cd9586-bb61-4c93-9ab5-9293ebd7195f,DISK]]; indices=[1, 2, 3, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-126999615-172.17.0.19-1597757092059:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39495,DS-682e9118-bc6d-40b6-8cba-17bf4b54bc6e,DISK], DatanodeInfoWithStorage[127.0.0.1:38045,DS-0a2fe22c-c1fb-4b66-958f-9f89deadfe90,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-c7c06cb5-b84d-4af3-afd8-feb372ae1385,DISK], DatanodeInfoWithStorage[127.0.0.1:42942,DS-52751b7f-6076-4080-aaaa-17961a873429,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-0d1b0552-9cd7-4d61-8444-84936a600edf,DISK], DatanodeInfoWithStorage[127.0.0.1:40450,DS-928afe9e-4fca-40ad-97b9-367ddd3cce05,DISK], DatanodeInfoWithStorage[127.0.0.1:46262,DS-60ba5ad6-46ee-4277-9870-d6017933fc11,DISK]]; indices=[1, 2, 3, 4, 5, 6, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-126999615-172.17.0.19-1597757092059:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39495,DS-682e9118-bc6d-40b6-8cba-17bf4b54bc6e,DISK], DatanodeInfoWithStorage[127.0.0.1:38045,DS-0a2fe22c-c1fb-4b66-958f-9f89deadfe90,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-c7c06cb5-b84d-4af3-afd8-feb372ae1385,DISK], DatanodeInfoWithStorage[127.0.0.1:42942,DS-52751b7f-6076-4080-aaaa-17961a873429,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-0d1b0552-9cd7-4d61-8444-84936a600edf,DISK], DatanodeInfoWithStorage[127.0.0.1:40450,DS-928afe9e-4fca-40ad-97b9-367ddd3cce05,DISK], DatanodeInfoWithStorage[127.0.0.1:46262,DS-60ba5ad6-46ee-4277-9870-d6017933fc11,DISK]]; indices=[1, 2, 3, 4, 5, 6, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-126999615-172.17.0.19-1597757092059:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39495,DS-682e9118-bc6d-40b6-8cba-17bf4b54bc6e,DISK], DatanodeInfoWithStorage[127.0.0.1:38045,DS-0a2fe22c-c1fb-4b66-958f-9f89deadfe90,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-c7c06cb5-b84d-4af3-afd8-feb372ae1385,DISK], DatanodeInfoWithStorage[127.0.0.1:42942,DS-52751b7f-6076-4080-aaaa-17961a873429,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-0d1b0552-9cd7-4d61-8444-84936a600edf,DISK], DatanodeInfoWithStorage[127.0.0.1:40450,DS-928afe9e-4fca-40ad-97b9-367ddd3cce05,DISK], DatanodeInfoWithStorage[127.0.0.1:46262,DS-60ba5ad6-46ee-4277-9870-d6017933fc11,DISK]]; indices=[1, 2, 3, 4, 5, 6, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-126999615-172.17.0.19-1597757092059:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39495,DS-682e9118-bc6d-40b6-8cba-17bf4b54bc6e,DISK], DatanodeInfoWithStorage[127.0.0.1:38045,DS-0a2fe22c-c1fb-4b66-958f-9f89deadfe90,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-c7c06cb5-b84d-4af3-afd8-feb372ae1385,DISK], DatanodeInfoWithStorage[127.0.0.1:42942,DS-52751b7f-6076-4080-aaaa-17961a873429,DISK], DatanodeInfoWithStorage[127.0.0.1:38934,DS-0d1b0552-9cd7-4d61-8444-84936a600edf,DISK], DatanodeInfoWithStorage[127.0.0.1:40450,DS-928afe9e-4fca-40ad-97b9-367ddd3cce05,DISK], DatanodeInfoWithStorage[127.0.0.1:46262,DS-60ba5ad6-46ee-4277-9870-d6017933fc11,DISK]]; indices=[1, 2, 3, 4, 5, 6, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2135697145-172.17.0.19-1597758697626:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45468,DS-b2039786-149f-4713-a47c-fc44e8c8c813,DISK], DatanodeInfoWithStorage[127.0.0.1:46004,DS-7a432915-7af4-4c7b-8ac1-b9696330b26a,DISK], DatanodeInfoWithStorage[127.0.0.1:33299,DS-6eb52d64-0993-4d75-9f74-64750c9d8c72,DISK], DatanodeInfoWithStorage[127.0.0.1:32800,DS-a9aa2e93-0ed6-4ef9-965c-9c1bab662dc4,DISK], DatanodeInfoWithStorage[127.0.0.1:40280,DS-bae994ac-3d77-4b62-bbf0-ba4e97a15245,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-91d78833-bab4-4dca-99a1-ae93c0ff5fe5,DISK], DatanodeInfoWithStorage[127.0.0.1:36140,DS-61b4ec06-0fbb-4df6-813c-c455d565cc6c,DISK]]; indices=[0, 1, 2, 4, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-2135697145-172.17.0.19-1597758697626:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45468,DS-b2039786-149f-4713-a47c-fc44e8c8c813,DISK], DatanodeInfoWithStorage[127.0.0.1:46004,DS-7a432915-7af4-4c7b-8ac1-b9696330b26a,DISK], DatanodeInfoWithStorage[127.0.0.1:33299,DS-6eb52d64-0993-4d75-9f74-64750c9d8c72,DISK], DatanodeInfoWithStorage[127.0.0.1:32800,DS-a9aa2e93-0ed6-4ef9-965c-9c1bab662dc4,DISK], DatanodeInfoWithStorage[127.0.0.1:40280,DS-bae994ac-3d77-4b62-bbf0-ba4e97a15245,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-91d78833-bab4-4dca-99a1-ae93c0ff5fe5,DISK], DatanodeInfoWithStorage[127.0.0.1:36140,DS-61b4ec06-0fbb-4df6-813c-c455d565cc6c,DISK]]; indices=[0, 1, 2, 4, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2135697145-172.17.0.19-1597758697626:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45468,DS-b2039786-149f-4713-a47c-fc44e8c8c813,DISK], DatanodeInfoWithStorage[127.0.0.1:46004,DS-7a432915-7af4-4c7b-8ac1-b9696330b26a,DISK], DatanodeInfoWithStorage[127.0.0.1:33299,DS-6eb52d64-0993-4d75-9f74-64750c9d8c72,DISK], DatanodeInfoWithStorage[127.0.0.1:32800,DS-a9aa2e93-0ed6-4ef9-965c-9c1bab662dc4,DISK], DatanodeInfoWithStorage[127.0.0.1:40280,DS-bae994ac-3d77-4b62-bbf0-ba4e97a15245,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-91d78833-bab4-4dca-99a1-ae93c0ff5fe5,DISK], DatanodeInfoWithStorage[127.0.0.1:36140,DS-61b4ec06-0fbb-4df6-813c-c455d565cc6c,DISK]]; indices=[0, 1, 2, 4, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-2135697145-172.17.0.19-1597758697626:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45468,DS-b2039786-149f-4713-a47c-fc44e8c8c813,DISK], DatanodeInfoWithStorage[127.0.0.1:46004,DS-7a432915-7af4-4c7b-8ac1-b9696330b26a,DISK], DatanodeInfoWithStorage[127.0.0.1:33299,DS-6eb52d64-0993-4d75-9f74-64750c9d8c72,DISK], DatanodeInfoWithStorage[127.0.0.1:32800,DS-a9aa2e93-0ed6-4ef9-965c-9c1bab662dc4,DISK], DatanodeInfoWithStorage[127.0.0.1:40280,DS-bae994ac-3d77-4b62-bbf0-ba4e97a15245,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-91d78833-bab4-4dca-99a1-ae93c0ff5fe5,DISK], DatanodeInfoWithStorage[127.0.0.1:36140,DS-61b4ec06-0fbb-4df6-813c-c455d565cc6c,DISK]]; indices=[0, 1, 2, 4, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.refresh.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 3000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-244958921-172.17.0.19-1597759576037:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32835,DS-e0e5bb53-cb08-4b73-bcce-c348c4b10e35,DISK], DatanodeInfoWithStorage[127.0.0.1:35065,DS-7d432786-adaa-4770-8e99-654c274257ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-31d1c9d5-9113-47df-8537-83a7623e8472,DISK], DatanodeInfoWithStorage[127.0.0.1:43071,DS-1d4c819c-4ffb-40a3-a25a-76fc97a1f317,DISK], DatanodeInfoWithStorage[127.0.0.1:39985,DS-20a8ad94-8b31-4750-8974-7105521f6cb2,DISK], DatanodeInfoWithStorage[127.0.0.1:40713,DS-55a96eb7-392a-4ef6-803b-07e34ce01d19,DISK], DatanodeInfoWithStorage[127.0.0.1:34237,DS-78ca5e94-e1a8-44da-a4af-f7c66e2397ac,DISK]]; indices=[0, 1, 3, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-244958921-172.17.0.19-1597759576037:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32835,DS-e0e5bb53-cb08-4b73-bcce-c348c4b10e35,DISK], DatanodeInfoWithStorage[127.0.0.1:35065,DS-7d432786-adaa-4770-8e99-654c274257ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-31d1c9d5-9113-47df-8537-83a7623e8472,DISK], DatanodeInfoWithStorage[127.0.0.1:43071,DS-1d4c819c-4ffb-40a3-a25a-76fc97a1f317,DISK], DatanodeInfoWithStorage[127.0.0.1:39985,DS-20a8ad94-8b31-4750-8974-7105521f6cb2,DISK], DatanodeInfoWithStorage[127.0.0.1:40713,DS-55a96eb7-392a-4ef6-803b-07e34ce01d19,DISK], DatanodeInfoWithStorage[127.0.0.1:34237,DS-78ca5e94-e1a8-44da-a4af-f7c66e2397ac,DISK]]; indices=[0, 1, 3, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-244958921-172.17.0.19-1597759576037:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32835,DS-e0e5bb53-cb08-4b73-bcce-c348c4b10e35,DISK], DatanodeInfoWithStorage[127.0.0.1:35065,DS-7d432786-adaa-4770-8e99-654c274257ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-31d1c9d5-9113-47df-8537-83a7623e8472,DISK], DatanodeInfoWithStorage[127.0.0.1:43071,DS-1d4c819c-4ffb-40a3-a25a-76fc97a1f317,DISK], DatanodeInfoWithStorage[127.0.0.1:39985,DS-20a8ad94-8b31-4750-8974-7105521f6cb2,DISK], DatanodeInfoWithStorage[127.0.0.1:40713,DS-55a96eb7-392a-4ef6-803b-07e34ce01d19,DISK], DatanodeInfoWithStorage[127.0.0.1:34237,DS-78ca5e94-e1a8-44da-a4af-f7c66e2397ac,DISK]]; indices=[0, 1, 3, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-244958921-172.17.0.19-1597759576037:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32835,DS-e0e5bb53-cb08-4b73-bcce-c348c4b10e35,DISK], DatanodeInfoWithStorage[127.0.0.1:35065,DS-7d432786-adaa-4770-8e99-654c274257ea,DISK], DatanodeInfoWithStorage[127.0.0.1:41600,DS-31d1c9d5-9113-47df-8537-83a7623e8472,DISK], DatanodeInfoWithStorage[127.0.0.1:43071,DS-1d4c819c-4ffb-40a3-a25a-76fc97a1f317,DISK], DatanodeInfoWithStorage[127.0.0.1:39985,DS-20a8ad94-8b31-4750-8974-7105521f6cb2,DISK], DatanodeInfoWithStorage[127.0.0.1:40713,DS-55a96eb7-392a-4ef6-803b-07e34ce01d19,DISK], DatanodeInfoWithStorage[127.0.0.1:34237,DS-78ca5e94-e1a8-44da-a4af-f7c66e2397ac,DISK]]; indices=[0, 1, 3, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 5 out of 50
v1v1v2v2 failed with probability 2 out of 50
result: might be true error
Total execution time in seconds : 4649
