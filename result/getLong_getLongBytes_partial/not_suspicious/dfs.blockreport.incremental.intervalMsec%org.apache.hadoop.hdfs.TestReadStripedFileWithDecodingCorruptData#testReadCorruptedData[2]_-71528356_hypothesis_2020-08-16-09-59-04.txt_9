reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-878876857-172.17.0.2-1597571962493:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43957,DS-91f6b765-96dc-4fcc-98c9-1339db85447c,DISK], DatanodeInfoWithStorage[127.0.0.1:44427,DS-07989351-47e5-4c42-bce0-e7122f45017e,DISK], DatanodeInfoWithStorage[127.0.0.1:38231,DS-9341a016-445c-4697-8c25-72a36f77c47a,DISK], DatanodeInfoWithStorage[127.0.0.1:45625,DS-3c12b469-709e-4def-a3fc-c0c9bbb1ffc3,DISK], DatanodeInfoWithStorage[127.0.0.1:41353,DS-45e0351e-f7a4-467d-9431-d05eeb70544b,DISK], DatanodeInfoWithStorage[127.0.0.1:44001,DS-9e48f89a-7d4e-4961-a89d-bcb9edf7f100,DISK], DatanodeInfoWithStorage[127.0.0.1:43078,DS-dc5c391d-6e33-4bd0-bbe8-8a593d19b76b,DISK]]; indices=[1, 2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-878876857-172.17.0.2-1597571962493:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43957,DS-91f6b765-96dc-4fcc-98c9-1339db85447c,DISK], DatanodeInfoWithStorage[127.0.0.1:44427,DS-07989351-47e5-4c42-bce0-e7122f45017e,DISK], DatanodeInfoWithStorage[127.0.0.1:38231,DS-9341a016-445c-4697-8c25-72a36f77c47a,DISK], DatanodeInfoWithStorage[127.0.0.1:45625,DS-3c12b469-709e-4def-a3fc-c0c9bbb1ffc3,DISK], DatanodeInfoWithStorage[127.0.0.1:41353,DS-45e0351e-f7a4-467d-9431-d05eeb70544b,DISK], DatanodeInfoWithStorage[127.0.0.1:44001,DS-9e48f89a-7d4e-4961-a89d-bcb9edf7f100,DISK], DatanodeInfoWithStorage[127.0.0.1:43078,DS-dc5c391d-6e33-4bd0-bbe8-8a593d19b76b,DISK]]; indices=[1, 2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-878876857-172.17.0.2-1597571962493:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43957,DS-91f6b765-96dc-4fcc-98c9-1339db85447c,DISK], DatanodeInfoWithStorage[127.0.0.1:44427,DS-07989351-47e5-4c42-bce0-e7122f45017e,DISK], DatanodeInfoWithStorage[127.0.0.1:38231,DS-9341a016-445c-4697-8c25-72a36f77c47a,DISK], DatanodeInfoWithStorage[127.0.0.1:45625,DS-3c12b469-709e-4def-a3fc-c0c9bbb1ffc3,DISK], DatanodeInfoWithStorage[127.0.0.1:41353,DS-45e0351e-f7a4-467d-9431-d05eeb70544b,DISK], DatanodeInfoWithStorage[127.0.0.1:44001,DS-9e48f89a-7d4e-4961-a89d-bcb9edf7f100,DISK], DatanodeInfoWithStorage[127.0.0.1:43078,DS-dc5c391d-6e33-4bd0-bbe8-8a593d19b76b,DISK]]; indices=[1, 2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-878876857-172.17.0.2-1597571962493:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43957,DS-91f6b765-96dc-4fcc-98c9-1339db85447c,DISK], DatanodeInfoWithStorage[127.0.0.1:44427,DS-07989351-47e5-4c42-bce0-e7122f45017e,DISK], DatanodeInfoWithStorage[127.0.0.1:38231,DS-9341a016-445c-4697-8c25-72a36f77c47a,DISK], DatanodeInfoWithStorage[127.0.0.1:45625,DS-3c12b469-709e-4def-a3fc-c0c9bbb1ffc3,DISK], DatanodeInfoWithStorage[127.0.0.1:41353,DS-45e0351e-f7a4-467d-9431-d05eeb70544b,DISK], DatanodeInfoWithStorage[127.0.0.1:44001,DS-9e48f89a-7d4e-4961-a89d-bcb9edf7f100,DISK], DatanodeInfoWithStorage[127.0.0.1:43078,DS-dc5c391d-6e33-4bd0-bbe8-8a593d19b76b,DISK]]; indices=[1, 2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1167699674-172.17.0.2-1597572707166:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35876,DS-ec16e529-ced3-491b-8314-a5787728af8a,DISK], DatanodeInfoWithStorage[127.0.0.1:35682,DS-0cf627f3-56f0-4db6-85d7-099dc4ef0250,DISK], DatanodeInfoWithStorage[127.0.0.1:42107,DS-a5dda42a-42ab-4aea-8273-9aa69da58212,DISK], DatanodeInfoWithStorage[127.0.0.1:40470,DS-2ca5c2a7-f894-42bc-a9b7-368828016a26,DISK], DatanodeInfoWithStorage[127.0.0.1:43392,DS-d9a0f28a-ff17-49c8-9c68-d9790134367a,DISK], DatanodeInfoWithStorage[127.0.0.1:34974,DS-ef80ef82-0718-4cc7-8f5e-2b7d232fd7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:37645,DS-15a6fc47-de17-4128-aadc-9e295ec47e3d,DISK], DatanodeInfoWithStorage[127.0.0.1:34212,DS-5ba7509a-6a3e-4ab5-b5f2-a0faf504a4b0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1167699674-172.17.0.2-1597572707166:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35876,DS-ec16e529-ced3-491b-8314-a5787728af8a,DISK], DatanodeInfoWithStorage[127.0.0.1:35682,DS-0cf627f3-56f0-4db6-85d7-099dc4ef0250,DISK], DatanodeInfoWithStorage[127.0.0.1:42107,DS-a5dda42a-42ab-4aea-8273-9aa69da58212,DISK], DatanodeInfoWithStorage[127.0.0.1:40470,DS-2ca5c2a7-f894-42bc-a9b7-368828016a26,DISK], DatanodeInfoWithStorage[127.0.0.1:43392,DS-d9a0f28a-ff17-49c8-9c68-d9790134367a,DISK], DatanodeInfoWithStorage[127.0.0.1:34974,DS-ef80ef82-0718-4cc7-8f5e-2b7d232fd7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:37645,DS-15a6fc47-de17-4128-aadc-9e295ec47e3d,DISK], DatanodeInfoWithStorage[127.0.0.1:34212,DS-5ba7509a-6a3e-4ab5-b5f2-a0faf504a4b0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1167699674-172.17.0.2-1597572707166:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35876,DS-ec16e529-ced3-491b-8314-a5787728af8a,DISK], DatanodeInfoWithStorage[127.0.0.1:35682,DS-0cf627f3-56f0-4db6-85d7-099dc4ef0250,DISK], DatanodeInfoWithStorage[127.0.0.1:42107,DS-a5dda42a-42ab-4aea-8273-9aa69da58212,DISK], DatanodeInfoWithStorage[127.0.0.1:40470,DS-2ca5c2a7-f894-42bc-a9b7-368828016a26,DISK], DatanodeInfoWithStorage[127.0.0.1:43392,DS-d9a0f28a-ff17-49c8-9c68-d9790134367a,DISK], DatanodeInfoWithStorage[127.0.0.1:34974,DS-ef80ef82-0718-4cc7-8f5e-2b7d232fd7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:37645,DS-15a6fc47-de17-4128-aadc-9e295ec47e3d,DISK], DatanodeInfoWithStorage[127.0.0.1:34212,DS-5ba7509a-6a3e-4ab5-b5f2-a0faf504a4b0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1167699674-172.17.0.2-1597572707166:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35876,DS-ec16e529-ced3-491b-8314-a5787728af8a,DISK], DatanodeInfoWithStorage[127.0.0.1:35682,DS-0cf627f3-56f0-4db6-85d7-099dc4ef0250,DISK], DatanodeInfoWithStorage[127.0.0.1:42107,DS-a5dda42a-42ab-4aea-8273-9aa69da58212,DISK], DatanodeInfoWithStorage[127.0.0.1:40470,DS-2ca5c2a7-f894-42bc-a9b7-368828016a26,DISK], DatanodeInfoWithStorage[127.0.0.1:43392,DS-d9a0f28a-ff17-49c8-9c68-d9790134367a,DISK], DatanodeInfoWithStorage[127.0.0.1:34974,DS-ef80ef82-0718-4cc7-8f5e-2b7d232fd7fe,DISK], DatanodeInfoWithStorage[127.0.0.1:37645,DS-15a6fc47-de17-4128-aadc-9e295ec47e3d,DISK], DatanodeInfoWithStorage[127.0.0.1:34212,DS-5ba7509a-6a3e-4ab5-b5f2-a0faf504a4b0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1535728358-172.17.0.2-1597572886297:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46631,DS-95d5a0f5-f48f-43bd-ab01-3064719d578d,DISK], DatanodeInfoWithStorage[127.0.0.1:34680,DS-4408623f-6753-4fca-8103-5e24f21ccc82,DISK], DatanodeInfoWithStorage[127.0.0.1:33202,DS-1c69185c-6595-4f72-bfc1-af05388c62a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43857,DS-67c30ca5-fde6-46f3-a96a-fd9913b82156,DISK], DatanodeInfoWithStorage[127.0.0.1:45402,DS-8c47a661-3468-4c2e-9875-1f6a2fb7c750,DISK], DatanodeInfoWithStorage[127.0.0.1:41340,DS-15938caa-bdc8-412b-a870-09561b7c6e93,DISK], DatanodeInfoWithStorage[127.0.0.1:33237,DS-340e6481-97d8-47b2-a645-7111e1aaf743,DISK]]; indices=[0, 1, 2, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1535728358-172.17.0.2-1597572886297:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46631,DS-95d5a0f5-f48f-43bd-ab01-3064719d578d,DISK], DatanodeInfoWithStorage[127.0.0.1:34680,DS-4408623f-6753-4fca-8103-5e24f21ccc82,DISK], DatanodeInfoWithStorage[127.0.0.1:33202,DS-1c69185c-6595-4f72-bfc1-af05388c62a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43857,DS-67c30ca5-fde6-46f3-a96a-fd9913b82156,DISK], DatanodeInfoWithStorage[127.0.0.1:45402,DS-8c47a661-3468-4c2e-9875-1f6a2fb7c750,DISK], DatanodeInfoWithStorage[127.0.0.1:41340,DS-15938caa-bdc8-412b-a870-09561b7c6e93,DISK], DatanodeInfoWithStorage[127.0.0.1:33237,DS-340e6481-97d8-47b2-a645-7111e1aaf743,DISK]]; indices=[0, 1, 2, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1535728358-172.17.0.2-1597572886297:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46631,DS-95d5a0f5-f48f-43bd-ab01-3064719d578d,DISK], DatanodeInfoWithStorage[127.0.0.1:34680,DS-4408623f-6753-4fca-8103-5e24f21ccc82,DISK], DatanodeInfoWithStorage[127.0.0.1:33202,DS-1c69185c-6595-4f72-bfc1-af05388c62a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43857,DS-67c30ca5-fde6-46f3-a96a-fd9913b82156,DISK], DatanodeInfoWithStorage[127.0.0.1:45402,DS-8c47a661-3468-4c2e-9875-1f6a2fb7c750,DISK], DatanodeInfoWithStorage[127.0.0.1:41340,DS-15938caa-bdc8-412b-a870-09561b7c6e93,DISK], DatanodeInfoWithStorage[127.0.0.1:33237,DS-340e6481-97d8-47b2-a645-7111e1aaf743,DISK]]; indices=[0, 1, 2, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1535728358-172.17.0.2-1597572886297:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46631,DS-95d5a0f5-f48f-43bd-ab01-3064719d578d,DISK], DatanodeInfoWithStorage[127.0.0.1:34680,DS-4408623f-6753-4fca-8103-5e24f21ccc82,DISK], DatanodeInfoWithStorage[127.0.0.1:33202,DS-1c69185c-6595-4f72-bfc1-af05388c62a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43857,DS-67c30ca5-fde6-46f3-a96a-fd9913b82156,DISK], DatanodeInfoWithStorage[127.0.0.1:45402,DS-8c47a661-3468-4c2e-9875-1f6a2fb7c750,DISK], DatanodeInfoWithStorage[127.0.0.1:41340,DS-15938caa-bdc8-412b-a870-09561b7c6e93,DISK], DatanodeInfoWithStorage[127.0.0.1:33237,DS-340e6481-97d8-47b2-a645-7111e1aaf743,DISK]]; indices=[0, 1, 2, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-489653389-172.17.0.2-1597572915576:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45265,DS-ed976080-02e9-469f-b7bd-aad906e5c488,DISK], DatanodeInfoWithStorage[127.0.0.1:37523,DS-33b767bc-7f0c-4892-97b0-06410b71e539,DISK], DatanodeInfoWithStorage[127.0.0.1:39630,DS-e0cbc47f-4ada-43ff-ab5a-b0b17f67dc2b,DISK], DatanodeInfoWithStorage[127.0.0.1:42640,DS-89c53e37-e0a8-424f-83b1-0a09182ce050,DISK], DatanodeInfoWithStorage[127.0.0.1:45227,DS-7964c201-c652-4be7-bcdb-0f4c3bdd8c32,DISK], DatanodeInfoWithStorage[127.0.0.1:44226,DS-708aff3f-cf8d-4671-a7fe-69bedf93fc9d,DISK], DatanodeInfoWithStorage[127.0.0.1:41653,DS-22aa3fa1-7213-4692-b5ad-b5bb1bd2a7a3,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-489653389-172.17.0.2-1597572915576:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45265,DS-ed976080-02e9-469f-b7bd-aad906e5c488,DISK], DatanodeInfoWithStorage[127.0.0.1:37523,DS-33b767bc-7f0c-4892-97b0-06410b71e539,DISK], DatanodeInfoWithStorage[127.0.0.1:39630,DS-e0cbc47f-4ada-43ff-ab5a-b0b17f67dc2b,DISK], DatanodeInfoWithStorage[127.0.0.1:42640,DS-89c53e37-e0a8-424f-83b1-0a09182ce050,DISK], DatanodeInfoWithStorage[127.0.0.1:45227,DS-7964c201-c652-4be7-bcdb-0f4c3bdd8c32,DISK], DatanodeInfoWithStorage[127.0.0.1:44226,DS-708aff3f-cf8d-4671-a7fe-69bedf93fc9d,DISK], DatanodeInfoWithStorage[127.0.0.1:41653,DS-22aa3fa1-7213-4692-b5ad-b5bb1bd2a7a3,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-489653389-172.17.0.2-1597572915576:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45265,DS-ed976080-02e9-469f-b7bd-aad906e5c488,DISK], DatanodeInfoWithStorage[127.0.0.1:37523,DS-33b767bc-7f0c-4892-97b0-06410b71e539,DISK], DatanodeInfoWithStorage[127.0.0.1:39630,DS-e0cbc47f-4ada-43ff-ab5a-b0b17f67dc2b,DISK], DatanodeInfoWithStorage[127.0.0.1:42640,DS-89c53e37-e0a8-424f-83b1-0a09182ce050,DISK], DatanodeInfoWithStorage[127.0.0.1:45227,DS-7964c201-c652-4be7-bcdb-0f4c3bdd8c32,DISK], DatanodeInfoWithStorage[127.0.0.1:44226,DS-708aff3f-cf8d-4671-a7fe-69bedf93fc9d,DISK], DatanodeInfoWithStorage[127.0.0.1:41653,DS-22aa3fa1-7213-4692-b5ad-b5bb1bd2a7a3,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-489653389-172.17.0.2-1597572915576:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45265,DS-ed976080-02e9-469f-b7bd-aad906e5c488,DISK], DatanodeInfoWithStorage[127.0.0.1:37523,DS-33b767bc-7f0c-4892-97b0-06410b71e539,DISK], DatanodeInfoWithStorage[127.0.0.1:39630,DS-e0cbc47f-4ada-43ff-ab5a-b0b17f67dc2b,DISK], DatanodeInfoWithStorage[127.0.0.1:42640,DS-89c53e37-e0a8-424f-83b1-0a09182ce050,DISK], DatanodeInfoWithStorage[127.0.0.1:45227,DS-7964c201-c652-4be7-bcdb-0f4c3bdd8c32,DISK], DatanodeInfoWithStorage[127.0.0.1:44226,DS-708aff3f-cf8d-4671-a7fe-69bedf93fc9d,DISK], DatanodeInfoWithStorage[127.0.0.1:41653,DS-22aa3fa1-7213-4692-b5ad-b5bb1bd2a7a3,DISK]]; indices=[0, 1, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1421612963-172.17.0.2-1597573016287:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43083,DS-285792f7-811b-4bdc-8d72-1b6fba4401b5,DISK], DatanodeInfoWithStorage[127.0.0.1:33083,DS-4cac9feb-bcfe-480f-9458-c6ee92293b79,DISK], DatanodeInfoWithStorage[127.0.0.1:40612,DS-b3598d24-a77e-4653-9a26-7f547791b1bd,DISK], DatanodeInfoWithStorage[127.0.0.1:46164,DS-7321db11-2b61-4aa3-91e8-c5a8fc35bf27,DISK], DatanodeInfoWithStorage[127.0.0.1:39923,DS-a44e08f1-141a-4236-aeca-b419a6b44f2f,DISK], DatanodeInfoWithStorage[127.0.0.1:35399,DS-1d70ab8d-3302-4e9c-b04a-f7e8394704e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42571,DS-b91acd2e-6638-4e78-bbda-d4f8c2368094,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1421612963-172.17.0.2-1597573016287:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43083,DS-285792f7-811b-4bdc-8d72-1b6fba4401b5,DISK], DatanodeInfoWithStorage[127.0.0.1:33083,DS-4cac9feb-bcfe-480f-9458-c6ee92293b79,DISK], DatanodeInfoWithStorage[127.0.0.1:40612,DS-b3598d24-a77e-4653-9a26-7f547791b1bd,DISK], DatanodeInfoWithStorage[127.0.0.1:46164,DS-7321db11-2b61-4aa3-91e8-c5a8fc35bf27,DISK], DatanodeInfoWithStorage[127.0.0.1:39923,DS-a44e08f1-141a-4236-aeca-b419a6b44f2f,DISK], DatanodeInfoWithStorage[127.0.0.1:35399,DS-1d70ab8d-3302-4e9c-b04a-f7e8394704e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42571,DS-b91acd2e-6638-4e78-bbda-d4f8c2368094,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1421612963-172.17.0.2-1597573016287:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43083,DS-285792f7-811b-4bdc-8d72-1b6fba4401b5,DISK], DatanodeInfoWithStorage[127.0.0.1:33083,DS-4cac9feb-bcfe-480f-9458-c6ee92293b79,DISK], DatanodeInfoWithStorage[127.0.0.1:40612,DS-b3598d24-a77e-4653-9a26-7f547791b1bd,DISK], DatanodeInfoWithStorage[127.0.0.1:46164,DS-7321db11-2b61-4aa3-91e8-c5a8fc35bf27,DISK], DatanodeInfoWithStorage[127.0.0.1:39923,DS-a44e08f1-141a-4236-aeca-b419a6b44f2f,DISK], DatanodeInfoWithStorage[127.0.0.1:35399,DS-1d70ab8d-3302-4e9c-b04a-f7e8394704e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42571,DS-b91acd2e-6638-4e78-bbda-d4f8c2368094,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1421612963-172.17.0.2-1597573016287:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43083,DS-285792f7-811b-4bdc-8d72-1b6fba4401b5,DISK], DatanodeInfoWithStorage[127.0.0.1:33083,DS-4cac9feb-bcfe-480f-9458-c6ee92293b79,DISK], DatanodeInfoWithStorage[127.0.0.1:40612,DS-b3598d24-a77e-4653-9a26-7f547791b1bd,DISK], DatanodeInfoWithStorage[127.0.0.1:46164,DS-7321db11-2b61-4aa3-91e8-c5a8fc35bf27,DISK], DatanodeInfoWithStorage[127.0.0.1:39923,DS-a44e08f1-141a-4236-aeca-b419a6b44f2f,DISK], DatanodeInfoWithStorage[127.0.0.1:35399,DS-1d70ab8d-3302-4e9c-b04a-f7e8394704e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42571,DS-b91acd2e-6638-4e78-bbda-d4f8c2368094,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-997246772-172.17.0.2-1597573698257:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43447,DS-ead7ee1d-69f1-461c-9110-fb843b81479f,DISK], DatanodeInfoWithStorage[127.0.0.1:40846,DS-443e7af8-f3f2-46ab-aa01-07eafca4d937,DISK], DatanodeInfoWithStorage[127.0.0.1:32812,DS-2858f451-ef49-4071-ab4b-f59e5b62bcb6,DISK], DatanodeInfoWithStorage[127.0.0.1:35959,DS-3cda9e33-a01a-4360-8ba8-2fdbabb47ead,DISK], DatanodeInfoWithStorage[127.0.0.1:44519,DS-cc498631-fe42-4f56-8130-7ffb8ba000c6,DISK], DatanodeInfoWithStorage[127.0.0.1:43977,DS-abad79e0-7cb4-429d-b123-1cc56dd9bcbc,DISK]]; indices=[0, 2, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-997246772-172.17.0.2-1597573698257:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43447,DS-ead7ee1d-69f1-461c-9110-fb843b81479f,DISK], DatanodeInfoWithStorage[127.0.0.1:40846,DS-443e7af8-f3f2-46ab-aa01-07eafca4d937,DISK], DatanodeInfoWithStorage[127.0.0.1:32812,DS-2858f451-ef49-4071-ab4b-f59e5b62bcb6,DISK], DatanodeInfoWithStorage[127.0.0.1:35959,DS-3cda9e33-a01a-4360-8ba8-2fdbabb47ead,DISK], DatanodeInfoWithStorage[127.0.0.1:44519,DS-cc498631-fe42-4f56-8130-7ffb8ba000c6,DISK], DatanodeInfoWithStorage[127.0.0.1:43977,DS-abad79e0-7cb4-429d-b123-1cc56dd9bcbc,DISK]]; indices=[0, 2, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-997246772-172.17.0.2-1597573698257:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43447,DS-ead7ee1d-69f1-461c-9110-fb843b81479f,DISK], DatanodeInfoWithStorage[127.0.0.1:40846,DS-443e7af8-f3f2-46ab-aa01-07eafca4d937,DISK], DatanodeInfoWithStorage[127.0.0.1:32812,DS-2858f451-ef49-4071-ab4b-f59e5b62bcb6,DISK], DatanodeInfoWithStorage[127.0.0.1:35959,DS-3cda9e33-a01a-4360-8ba8-2fdbabb47ead,DISK], DatanodeInfoWithStorage[127.0.0.1:44519,DS-cc498631-fe42-4f56-8130-7ffb8ba000c6,DISK], DatanodeInfoWithStorage[127.0.0.1:43977,DS-abad79e0-7cb4-429d-b123-1cc56dd9bcbc,DISK]]; indices=[0, 2, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-997246772-172.17.0.2-1597573698257:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43447,DS-ead7ee1d-69f1-461c-9110-fb843b81479f,DISK], DatanodeInfoWithStorage[127.0.0.1:40846,DS-443e7af8-f3f2-46ab-aa01-07eafca4d937,DISK], DatanodeInfoWithStorage[127.0.0.1:32812,DS-2858f451-ef49-4071-ab4b-f59e5b62bcb6,DISK], DatanodeInfoWithStorage[127.0.0.1:35959,DS-3cda9e33-a01a-4360-8ba8-2fdbabb47ead,DISK], DatanodeInfoWithStorage[127.0.0.1:44519,DS-cc498631-fe42-4f56-8130-7ffb8ba000c6,DISK], DatanodeInfoWithStorage[127.0.0.1:43977,DS-abad79e0-7cb4-429d-b123-1cc56dd9bcbc,DISK]]; indices=[0, 2, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-232409378-172.17.0.2-1597575477230:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46294,DS-5a1107d0-95ee-4e5c-85cf-84eb9f3d676b,DISK], DatanodeInfoWithStorage[127.0.0.1:41076,DS-b482566f-835b-4cfe-a3e2-c7b6b845bbb0,DISK], DatanodeInfoWithStorage[127.0.0.1:43011,DS-ae10b430-c9b7-4381-92cc-0f0a6c28b40b,DISK], DatanodeInfoWithStorage[127.0.0.1:40219,DS-60fbfaa1-d9fb-4045-b587-ae5c455995a7,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-d2e9730d-329d-4c82-b255-8b247faa9b43,DISK], DatanodeInfoWithStorage[127.0.0.1:35769,DS-58dd9633-9916-4514-ae95-13b811d537a7,DISK], DatanodeInfoWithStorage[127.0.0.1:44852,DS-ef993eab-03c6-454b-b98a-2d6d7d6db333,DISK]]; indices=[0, 1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-232409378-172.17.0.2-1597575477230:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46294,DS-5a1107d0-95ee-4e5c-85cf-84eb9f3d676b,DISK], DatanodeInfoWithStorage[127.0.0.1:41076,DS-b482566f-835b-4cfe-a3e2-c7b6b845bbb0,DISK], DatanodeInfoWithStorage[127.0.0.1:43011,DS-ae10b430-c9b7-4381-92cc-0f0a6c28b40b,DISK], DatanodeInfoWithStorage[127.0.0.1:40219,DS-60fbfaa1-d9fb-4045-b587-ae5c455995a7,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-d2e9730d-329d-4c82-b255-8b247faa9b43,DISK], DatanodeInfoWithStorage[127.0.0.1:35769,DS-58dd9633-9916-4514-ae95-13b811d537a7,DISK], DatanodeInfoWithStorage[127.0.0.1:44852,DS-ef993eab-03c6-454b-b98a-2d6d7d6db333,DISK]]; indices=[0, 1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-232409378-172.17.0.2-1597575477230:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46294,DS-5a1107d0-95ee-4e5c-85cf-84eb9f3d676b,DISK], DatanodeInfoWithStorage[127.0.0.1:41076,DS-b482566f-835b-4cfe-a3e2-c7b6b845bbb0,DISK], DatanodeInfoWithStorage[127.0.0.1:43011,DS-ae10b430-c9b7-4381-92cc-0f0a6c28b40b,DISK], DatanodeInfoWithStorage[127.0.0.1:40219,DS-60fbfaa1-d9fb-4045-b587-ae5c455995a7,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-d2e9730d-329d-4c82-b255-8b247faa9b43,DISK], DatanodeInfoWithStorage[127.0.0.1:35769,DS-58dd9633-9916-4514-ae95-13b811d537a7,DISK], DatanodeInfoWithStorage[127.0.0.1:44852,DS-ef993eab-03c6-454b-b98a-2d6d7d6db333,DISK]]; indices=[0, 1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-232409378-172.17.0.2-1597575477230:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46294,DS-5a1107d0-95ee-4e5c-85cf-84eb9f3d676b,DISK], DatanodeInfoWithStorage[127.0.0.1:41076,DS-b482566f-835b-4cfe-a3e2-c7b6b845bbb0,DISK], DatanodeInfoWithStorage[127.0.0.1:43011,DS-ae10b430-c9b7-4381-92cc-0f0a6c28b40b,DISK], DatanodeInfoWithStorage[127.0.0.1:40219,DS-60fbfaa1-d9fb-4045-b587-ae5c455995a7,DISK], DatanodeInfoWithStorage[127.0.0.1:46065,DS-d2e9730d-329d-4c82-b255-8b247faa9b43,DISK], DatanodeInfoWithStorage[127.0.0.1:35769,DS-58dd9633-9916-4514-ae95-13b811d537a7,DISK], DatanodeInfoWithStorage[127.0.0.1:44852,DS-ef993eab-03c6-454b-b98a-2d6d7d6db333,DISK]]; indices=[0, 1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: Invalid buffer found, not allowing null
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: Invalid buffer found, not allowing null
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkOutputBuffers(ByteBufferDecodingState.java:132)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:48)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1842306960-172.17.0.2-1597575911660:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37666,DS-7a56b9df-2c6e-4576-ad36-0f8b948f9393,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-9700cdfd-af08-4d4a-a4cb-6b5d3367bdd7,DISK], DatanodeInfoWithStorage[127.0.0.1:36722,DS-d8c3a317-4f73-4e4a-b48a-554110149ea2,DISK], DatanodeInfoWithStorage[127.0.0.1:37212,DS-80589caf-6e4f-4a11-a794-a6af794c0d29,DISK], DatanodeInfoWithStorage[127.0.0.1:35396,DS-d445ae2f-0efd-48dc-bd56-d9a307068705,DISK], DatanodeInfoWithStorage[127.0.0.1:35757,DS-1721a2de-dbfd-4bc6-b38c-0eee36ae2030,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1842306960-172.17.0.2-1597575911660:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37666,DS-7a56b9df-2c6e-4576-ad36-0f8b948f9393,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-9700cdfd-af08-4d4a-a4cb-6b5d3367bdd7,DISK], DatanodeInfoWithStorage[127.0.0.1:36722,DS-d8c3a317-4f73-4e4a-b48a-554110149ea2,DISK], DatanodeInfoWithStorage[127.0.0.1:37212,DS-80589caf-6e4f-4a11-a794-a6af794c0d29,DISK], DatanodeInfoWithStorage[127.0.0.1:35396,DS-d445ae2f-0efd-48dc-bd56-d9a307068705,DISK], DatanodeInfoWithStorage[127.0.0.1:35757,DS-1721a2de-dbfd-4bc6-b38c-0eee36ae2030,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1842306960-172.17.0.2-1597575911660:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37666,DS-7a56b9df-2c6e-4576-ad36-0f8b948f9393,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-9700cdfd-af08-4d4a-a4cb-6b5d3367bdd7,DISK], DatanodeInfoWithStorage[127.0.0.1:36722,DS-d8c3a317-4f73-4e4a-b48a-554110149ea2,DISK], DatanodeInfoWithStorage[127.0.0.1:37212,DS-80589caf-6e4f-4a11-a794-a6af794c0d29,DISK], DatanodeInfoWithStorage[127.0.0.1:35396,DS-d445ae2f-0efd-48dc-bd56-d9a307068705,DISK], DatanodeInfoWithStorage[127.0.0.1:35757,DS-1721a2de-dbfd-4bc6-b38c-0eee36ae2030,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1842306960-172.17.0.2-1597575911660:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37666,DS-7a56b9df-2c6e-4576-ad36-0f8b948f9393,DISK], DatanodeInfoWithStorage[127.0.0.1:40182,DS-9700cdfd-af08-4d4a-a4cb-6b5d3367bdd7,DISK], DatanodeInfoWithStorage[127.0.0.1:36722,DS-d8c3a317-4f73-4e4a-b48a-554110149ea2,DISK], DatanodeInfoWithStorage[127.0.0.1:37212,DS-80589caf-6e4f-4a11-a794-a6af794c0d29,DISK], DatanodeInfoWithStorage[127.0.0.1:35396,DS-d445ae2f-0efd-48dc-bd56-d9a307068705,DISK], DatanodeInfoWithStorage[127.0.0.1:35757,DS-1721a2de-dbfd-4bc6-b38c-0eee36ae2030,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-421343491-172.17.0.2-1597577459797:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37545,DS-0dd5cb20-9480-4e47-90ef-5301fd030c42,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-51f174eb-36c4-40a8-9369-5085c4289e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:40426,DS-a70f4d07-f5d0-4de8-af62-4fc2403d0356,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-b339aa97-779c-4fc7-a863-aa0092948ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:40950,DS-9e961879-6ac8-4efd-894e-6e1be7ffaa2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42535,DS-782de981-3c1d-41dc-86c2-37401845369e,DISK], DatanodeInfoWithStorage[127.0.0.1:33269,DS-80cc7fee-cfdf-42ac-a490-f1aea06bd585,DISK], DatanodeInfoWithStorage[127.0.0.1:45940,DS-3661d626-c169-408c-9ff9-80614061c355,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-421343491-172.17.0.2-1597577459797:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37545,DS-0dd5cb20-9480-4e47-90ef-5301fd030c42,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-51f174eb-36c4-40a8-9369-5085c4289e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:40426,DS-a70f4d07-f5d0-4de8-af62-4fc2403d0356,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-b339aa97-779c-4fc7-a863-aa0092948ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:40950,DS-9e961879-6ac8-4efd-894e-6e1be7ffaa2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42535,DS-782de981-3c1d-41dc-86c2-37401845369e,DISK], DatanodeInfoWithStorage[127.0.0.1:33269,DS-80cc7fee-cfdf-42ac-a490-f1aea06bd585,DISK], DatanodeInfoWithStorage[127.0.0.1:45940,DS-3661d626-c169-408c-9ff9-80614061c355,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-421343491-172.17.0.2-1597577459797:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37545,DS-0dd5cb20-9480-4e47-90ef-5301fd030c42,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-51f174eb-36c4-40a8-9369-5085c4289e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:40426,DS-a70f4d07-f5d0-4de8-af62-4fc2403d0356,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-b339aa97-779c-4fc7-a863-aa0092948ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:40950,DS-9e961879-6ac8-4efd-894e-6e1be7ffaa2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42535,DS-782de981-3c1d-41dc-86c2-37401845369e,DISK], DatanodeInfoWithStorage[127.0.0.1:33269,DS-80cc7fee-cfdf-42ac-a490-f1aea06bd585,DISK], DatanodeInfoWithStorage[127.0.0.1:45940,DS-3661d626-c169-408c-9ff9-80614061c355,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-421343491-172.17.0.2-1597577459797:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37545,DS-0dd5cb20-9480-4e47-90ef-5301fd030c42,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-51f174eb-36c4-40a8-9369-5085c4289e5e,DISK], DatanodeInfoWithStorage[127.0.0.1:40426,DS-a70f4d07-f5d0-4de8-af62-4fc2403d0356,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-b339aa97-779c-4fc7-a863-aa0092948ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:40950,DS-9e961879-6ac8-4efd-894e-6e1be7ffaa2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42535,DS-782de981-3c1d-41dc-86c2-37401845369e,DISK], DatanodeInfoWithStorage[127.0.0.1:33269,DS-80cc7fee-cfdf-42ac-a490-f1aea06bd585,DISK], DatanodeInfoWithStorage[127.0.0.1:45940,DS-3661d626-c169-408c-9ff9-80614061c355,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1572580877-172.17.0.2-1597577489455:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33979,DS-7f00d943-12cb-47c6-bbfc-4d4306b9b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39868,DS-da568699-a7f3-46f4-926e-ed5b7a58d4ea,DISK], DatanodeInfoWithStorage[127.0.0.1:36615,DS-f2435702-2fb6-4f66-a17f-60fca194c27a,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-02161daa-bfda-4146-af6b-a74326c2c104,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-9bbb1546-4a65-47d7-bd8e-d44c9272a232,DISK], DatanodeInfoWithStorage[127.0.0.1:32833,DS-33e2cb01-ba75-4b2a-892f-882cfd5b4a46,DISK]]; indices=[0, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1572580877-172.17.0.2-1597577489455:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33979,DS-7f00d943-12cb-47c6-bbfc-4d4306b9b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39868,DS-da568699-a7f3-46f4-926e-ed5b7a58d4ea,DISK], DatanodeInfoWithStorage[127.0.0.1:36615,DS-f2435702-2fb6-4f66-a17f-60fca194c27a,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-02161daa-bfda-4146-af6b-a74326c2c104,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-9bbb1546-4a65-47d7-bd8e-d44c9272a232,DISK], DatanodeInfoWithStorage[127.0.0.1:32833,DS-33e2cb01-ba75-4b2a-892f-882cfd5b4a46,DISK]]; indices=[0, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1572580877-172.17.0.2-1597577489455:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33979,DS-7f00d943-12cb-47c6-bbfc-4d4306b9b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39868,DS-da568699-a7f3-46f4-926e-ed5b7a58d4ea,DISK], DatanodeInfoWithStorage[127.0.0.1:36615,DS-f2435702-2fb6-4f66-a17f-60fca194c27a,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-02161daa-bfda-4146-af6b-a74326c2c104,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-9bbb1546-4a65-47d7-bd8e-d44c9272a232,DISK], DatanodeInfoWithStorage[127.0.0.1:32833,DS-33e2cb01-ba75-4b2a-892f-882cfd5b4a46,DISK]]; indices=[0, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1572580877-172.17.0.2-1597577489455:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33979,DS-7f00d943-12cb-47c6-bbfc-4d4306b9b6b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39868,DS-da568699-a7f3-46f4-926e-ed5b7a58d4ea,DISK], DatanodeInfoWithStorage[127.0.0.1:36615,DS-f2435702-2fb6-4f66-a17f-60fca194c27a,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-02161daa-bfda-4146-af6b-a74326c2c104,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-9bbb1546-4a65-47d7-bd8e-d44c9272a232,DISK], DatanodeInfoWithStorage[127.0.0.1:32833,DS-33e2cb01-ba75-4b2a-892f-882cfd5b4a46,DISK]]; indices=[0, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-440835782-172.17.0.2-1597577876004:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42184,DS-5b2cd62e-58c0-4f5a-adc1-aba83f332e3e,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-7ae3f8ff-fbd2-4945-8f2c-463ae720f639,DISK], DatanodeInfoWithStorage[127.0.0.1:36859,DS-93267b81-c547-4c15-bcb4-6d93c7d0e524,DISK], DatanodeInfoWithStorage[127.0.0.1:46605,DS-eb366331-eee7-4179-9d19-09c55f9e1374,DISK], DatanodeInfoWithStorage[127.0.0.1:44229,DS-e8b14d84-e8b4-4b60-9b77-d5812becadb5,DISK], DatanodeInfoWithStorage[127.0.0.1:40215,DS-ae5642cd-e093-456b-8f55-5c45a60f7288,DISK]]; indices=[1, 2, 3, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-440835782-172.17.0.2-1597577876004:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42184,DS-5b2cd62e-58c0-4f5a-adc1-aba83f332e3e,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-7ae3f8ff-fbd2-4945-8f2c-463ae720f639,DISK], DatanodeInfoWithStorage[127.0.0.1:36859,DS-93267b81-c547-4c15-bcb4-6d93c7d0e524,DISK], DatanodeInfoWithStorage[127.0.0.1:46605,DS-eb366331-eee7-4179-9d19-09c55f9e1374,DISK], DatanodeInfoWithStorage[127.0.0.1:44229,DS-e8b14d84-e8b4-4b60-9b77-d5812becadb5,DISK], DatanodeInfoWithStorage[127.0.0.1:40215,DS-ae5642cd-e093-456b-8f55-5c45a60f7288,DISK]]; indices=[1, 2, 3, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-440835782-172.17.0.2-1597577876004:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42184,DS-5b2cd62e-58c0-4f5a-adc1-aba83f332e3e,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-7ae3f8ff-fbd2-4945-8f2c-463ae720f639,DISK], DatanodeInfoWithStorage[127.0.0.1:36859,DS-93267b81-c547-4c15-bcb4-6d93c7d0e524,DISK], DatanodeInfoWithStorage[127.0.0.1:46605,DS-eb366331-eee7-4179-9d19-09c55f9e1374,DISK], DatanodeInfoWithStorage[127.0.0.1:44229,DS-e8b14d84-e8b4-4b60-9b77-d5812becadb5,DISK], DatanodeInfoWithStorage[127.0.0.1:40215,DS-ae5642cd-e093-456b-8f55-5c45a60f7288,DISK]]; indices=[1, 2, 3, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-440835782-172.17.0.2-1597577876004:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42184,DS-5b2cd62e-58c0-4f5a-adc1-aba83f332e3e,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-7ae3f8ff-fbd2-4945-8f2c-463ae720f639,DISK], DatanodeInfoWithStorage[127.0.0.1:36859,DS-93267b81-c547-4c15-bcb4-6d93c7d0e524,DISK], DatanodeInfoWithStorage[127.0.0.1:46605,DS-eb366331-eee7-4179-9d19-09c55f9e1374,DISK], DatanodeInfoWithStorage[127.0.0.1:44229,DS-e8b14d84-e8b4-4b60-9b77-d5812becadb5,DISK], DatanodeInfoWithStorage[127.0.0.1:40215,DS-ae5642cd-e093-456b-8f55-5c45a60f7288,DISK]]; indices=[1, 2, 3, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2059586358-172.17.0.2-1597578047769:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34555,DS-0ee3d8bb-f688-4770-9300-962f0e4122b3,DISK], DatanodeInfoWithStorage[127.0.0.1:37773,DS-2a342c94-206a-49d0-b448-ce551f3c430a,DISK], DatanodeInfoWithStorage[127.0.0.1:43420,DS-e3a7b638-5cfe-4e4d-886a-ae257f05a153,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-078306af-0bbd-47c0-932b-5b8440de0f81,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-007de59f-d9db-4a0d-9ee7-489eb2145b87,DISK], DatanodeInfoWithStorage[127.0.0.1:36056,DS-a22b9906-573a-4045-bac8-53866d3f2a9b,DISK], DatanodeInfoWithStorage[127.0.0.1:37502,DS-a44956dc-2dc1-46d8-a52f-0716b907c085,DISK]]; indices=[0, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2059586358-172.17.0.2-1597578047769:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34555,DS-0ee3d8bb-f688-4770-9300-962f0e4122b3,DISK], DatanodeInfoWithStorage[127.0.0.1:37773,DS-2a342c94-206a-49d0-b448-ce551f3c430a,DISK], DatanodeInfoWithStorage[127.0.0.1:43420,DS-e3a7b638-5cfe-4e4d-886a-ae257f05a153,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-078306af-0bbd-47c0-932b-5b8440de0f81,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-007de59f-d9db-4a0d-9ee7-489eb2145b87,DISK], DatanodeInfoWithStorage[127.0.0.1:36056,DS-a22b9906-573a-4045-bac8-53866d3f2a9b,DISK], DatanodeInfoWithStorage[127.0.0.1:37502,DS-a44956dc-2dc1-46d8-a52f-0716b907c085,DISK]]; indices=[0, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2059586358-172.17.0.2-1597578047769:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34555,DS-0ee3d8bb-f688-4770-9300-962f0e4122b3,DISK], DatanodeInfoWithStorage[127.0.0.1:37773,DS-2a342c94-206a-49d0-b448-ce551f3c430a,DISK], DatanodeInfoWithStorage[127.0.0.1:43420,DS-e3a7b638-5cfe-4e4d-886a-ae257f05a153,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-078306af-0bbd-47c0-932b-5b8440de0f81,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-007de59f-d9db-4a0d-9ee7-489eb2145b87,DISK], DatanodeInfoWithStorage[127.0.0.1:36056,DS-a22b9906-573a-4045-bac8-53866d3f2a9b,DISK], DatanodeInfoWithStorage[127.0.0.1:37502,DS-a44956dc-2dc1-46d8-a52f-0716b907c085,DISK]]; indices=[0, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2059586358-172.17.0.2-1597578047769:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34555,DS-0ee3d8bb-f688-4770-9300-962f0e4122b3,DISK], DatanodeInfoWithStorage[127.0.0.1:37773,DS-2a342c94-206a-49d0-b448-ce551f3c430a,DISK], DatanodeInfoWithStorage[127.0.0.1:43420,DS-e3a7b638-5cfe-4e4d-886a-ae257f05a153,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-078306af-0bbd-47c0-932b-5b8440de0f81,DISK], DatanodeInfoWithStorage[127.0.0.1:33952,DS-007de59f-d9db-4a0d-9ee7-489eb2145b87,DISK], DatanodeInfoWithStorage[127.0.0.1:36056,DS-a22b9906-573a-4045-bac8-53866d3f2a9b,DISK], DatanodeInfoWithStorage[127.0.0.1:37502,DS-a44956dc-2dc1-46d8-a52f-0716b907c085,DISK]]; indices=[0, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 5 out of 50
result: might be true error
Total execution time in seconds : 8815
