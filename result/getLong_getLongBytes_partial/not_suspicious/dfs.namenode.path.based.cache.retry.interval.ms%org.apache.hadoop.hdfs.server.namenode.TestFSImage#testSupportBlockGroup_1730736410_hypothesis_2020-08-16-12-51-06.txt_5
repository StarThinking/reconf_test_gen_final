reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2060920908-172.17.0.18-1597582281382:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39268,DS-be70b0f6-b1b0-473e-ba4b-ba71cfc4c787,DISK], DatanodeInfoWithStorage[127.0.0.1:32984,DS-907ad0bd-3540-467a-80f6-11b41a4da004,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-f99ef8be-62a9-4380-8803-349d6c9ed376,DISK], DatanodeInfoWithStorage[127.0.0.1:35208,DS-60520201-aafc-4c2a-84c0-8e663e1fff1e,DISK], DatanodeInfoWithStorage[127.0.0.1:36440,DS-f5b0bd5b-adaa-465a-a0af-a70624aec3d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42544,DS-f8c1b3c9-fa5e-45b1-a2e8-ab2055ab45bc,DISK]]; indices=[2, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2060920908-172.17.0.18-1597582281382:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39268,DS-be70b0f6-b1b0-473e-ba4b-ba71cfc4c787,DISK], DatanodeInfoWithStorage[127.0.0.1:32984,DS-907ad0bd-3540-467a-80f6-11b41a4da004,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-f99ef8be-62a9-4380-8803-349d6c9ed376,DISK], DatanodeInfoWithStorage[127.0.0.1:35208,DS-60520201-aafc-4c2a-84c0-8e663e1fff1e,DISK], DatanodeInfoWithStorage[127.0.0.1:36440,DS-f5b0bd5b-adaa-465a-a0af-a70624aec3d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42544,DS-f8c1b3c9-fa5e-45b1-a2e8-ab2055ab45bc,DISK]]; indices=[2, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2060920908-172.17.0.18-1597582281382:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39268,DS-be70b0f6-b1b0-473e-ba4b-ba71cfc4c787,DISK], DatanodeInfoWithStorage[127.0.0.1:32984,DS-907ad0bd-3540-467a-80f6-11b41a4da004,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-f99ef8be-62a9-4380-8803-349d6c9ed376,DISK], DatanodeInfoWithStorage[127.0.0.1:35208,DS-60520201-aafc-4c2a-84c0-8e663e1fff1e,DISK], DatanodeInfoWithStorage[127.0.0.1:36440,DS-f5b0bd5b-adaa-465a-a0af-a70624aec3d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42544,DS-f8c1b3c9-fa5e-45b1-a2e8-ab2055ab45bc,DISK]]; indices=[2, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-2060920908-172.17.0.18-1597582281382:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39268,DS-be70b0f6-b1b0-473e-ba4b-ba71cfc4c787,DISK], DatanodeInfoWithStorage[127.0.0.1:32984,DS-907ad0bd-3540-467a-80f6-11b41a4da004,DISK], DatanodeInfoWithStorage[127.0.0.1:46008,DS-f99ef8be-62a9-4380-8803-349d6c9ed376,DISK], DatanodeInfoWithStorage[127.0.0.1:35208,DS-60520201-aafc-4c2a-84c0-8e663e1fff1e,DISK], DatanodeInfoWithStorage[127.0.0.1:36440,DS-f5b0bd5b-adaa-465a-a0af-a70624aec3d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42544,DS-f8c1b3c9-fa5e-45b1-a2e8-ab2055ab45bc,DISK]]; indices=[2, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-953756342-172.17.0.18-1597582524877:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46284,DS-3466d694-8e8c-4fb7-a329-0eaa66f7290d,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-32c8914c-f8bb-402c-86a0-ab4873ec8997,DISK], DatanodeInfoWithStorage[127.0.0.1:37823,DS-d401f6c9-b27d-4ca1-bbe8-4273a033c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44299,DS-865d0196-7cc5-4290-bbb2-640a5d44b096,DISK], DatanodeInfoWithStorage[127.0.0.1:32806,DS-4ba3751e-ea9c-4131-9980-5335bf00b540,DISK]]; indices=[3, 4, 6, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-953756342-172.17.0.18-1597582524877:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46284,DS-3466d694-8e8c-4fb7-a329-0eaa66f7290d,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-32c8914c-f8bb-402c-86a0-ab4873ec8997,DISK], DatanodeInfoWithStorage[127.0.0.1:37823,DS-d401f6c9-b27d-4ca1-bbe8-4273a033c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44299,DS-865d0196-7cc5-4290-bbb2-640a5d44b096,DISK], DatanodeInfoWithStorage[127.0.0.1:32806,DS-4ba3751e-ea9c-4131-9980-5335bf00b540,DISK]]; indices=[3, 4, 6, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-953756342-172.17.0.18-1597582524877:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46284,DS-3466d694-8e8c-4fb7-a329-0eaa66f7290d,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-32c8914c-f8bb-402c-86a0-ab4873ec8997,DISK], DatanodeInfoWithStorage[127.0.0.1:37823,DS-d401f6c9-b27d-4ca1-bbe8-4273a033c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44299,DS-865d0196-7cc5-4290-bbb2-640a5d44b096,DISK], DatanodeInfoWithStorage[127.0.0.1:32806,DS-4ba3751e-ea9c-4131-9980-5335bf00b540,DISK]]; indices=[3, 4, 6, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-953756342-172.17.0.18-1597582524877:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46284,DS-3466d694-8e8c-4fb7-a329-0eaa66f7290d,DISK], DatanodeInfoWithStorage[127.0.0.1:42072,DS-32c8914c-f8bb-402c-86a0-ab4873ec8997,DISK], DatanodeInfoWithStorage[127.0.0.1:37823,DS-d401f6c9-b27d-4ca1-bbe8-4273a033c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44299,DS-865d0196-7cc5-4290-bbb2-640a5d44b096,DISK], DatanodeInfoWithStorage[127.0.0.1:32806,DS-4ba3751e-ea9c-4131-9980-5335bf00b540,DISK]]; indices=[3, 4, 6, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-439967304-172.17.0.18-1597582912829:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44911,DS-119604c7-9130-4e6a-8dfe-a9da7eac7527,DISK], DatanodeInfoWithStorage[127.0.0.1:43574,DS-3613eca9-456d-4eb4-b5f9-0132d885a760,DISK], DatanodeInfoWithStorage[127.0.0.1:36777,DS-d69fb9ec-3cab-4d4e-bc09-587162e10263,DISK], DatanodeInfoWithStorage[127.0.0.1:40422,DS-a62ceb1b-5d71-4392-9274-4c36529c512a,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-e0647aa1-6a4a-4350-a67b-ccfdb0e89faa,DISK], DatanodeInfoWithStorage[127.0.0.1:33146,DS-5a177cd0-9ae7-4108-9bc6-4f6fb6a863ae,DISK]]; indices=[2, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-439967304-172.17.0.18-1597582912829:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44911,DS-119604c7-9130-4e6a-8dfe-a9da7eac7527,DISK], DatanodeInfoWithStorage[127.0.0.1:43574,DS-3613eca9-456d-4eb4-b5f9-0132d885a760,DISK], DatanodeInfoWithStorage[127.0.0.1:36777,DS-d69fb9ec-3cab-4d4e-bc09-587162e10263,DISK], DatanodeInfoWithStorage[127.0.0.1:40422,DS-a62ceb1b-5d71-4392-9274-4c36529c512a,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-e0647aa1-6a4a-4350-a67b-ccfdb0e89faa,DISK], DatanodeInfoWithStorage[127.0.0.1:33146,DS-5a177cd0-9ae7-4108-9bc6-4f6fb6a863ae,DISK]]; indices=[2, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-439967304-172.17.0.18-1597582912829:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44911,DS-119604c7-9130-4e6a-8dfe-a9da7eac7527,DISK], DatanodeInfoWithStorage[127.0.0.1:43574,DS-3613eca9-456d-4eb4-b5f9-0132d885a760,DISK], DatanodeInfoWithStorage[127.0.0.1:36777,DS-d69fb9ec-3cab-4d4e-bc09-587162e10263,DISK], DatanodeInfoWithStorage[127.0.0.1:40422,DS-a62ceb1b-5d71-4392-9274-4c36529c512a,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-e0647aa1-6a4a-4350-a67b-ccfdb0e89faa,DISK], DatanodeInfoWithStorage[127.0.0.1:33146,DS-5a177cd0-9ae7-4108-9bc6-4f6fb6a863ae,DISK]]; indices=[2, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-439967304-172.17.0.18-1597582912829:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44911,DS-119604c7-9130-4e6a-8dfe-a9da7eac7527,DISK], DatanodeInfoWithStorage[127.0.0.1:43574,DS-3613eca9-456d-4eb4-b5f9-0132d885a760,DISK], DatanodeInfoWithStorage[127.0.0.1:36777,DS-d69fb9ec-3cab-4d4e-bc09-587162e10263,DISK], DatanodeInfoWithStorage[127.0.0.1:40422,DS-a62ceb1b-5d71-4392-9274-4c36529c512a,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-e0647aa1-6a4a-4350-a67b-ccfdb0e89faa,DISK], DatanodeInfoWithStorage[127.0.0.1:33146,DS-5a177cd0-9ae7-4108-9bc6-4f6fb6a863ae,DISK]]; indices=[2, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-121279950-172.17.0.18-1597583119286:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44840,DS-352f1c91-5358-419a-adfe-88013dc88258,DISK], DatanodeInfoWithStorage[127.0.0.1:33734,DS-268bc77b-3d79-4a5b-8332-c95087f5c43c,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-8fc7b8cd-32b9-4212-8e6a-dabd1c30e940,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-30c1ef1a-e0fd-40c3-a9a3-2669dd9eee08,DISK], DatanodeInfoWithStorage[127.0.0.1:37722,DS-6bb80600-73ed-4ee4-9864-46fa93048d66,DISK], DatanodeInfoWithStorage[127.0.0.1:41204,DS-d4d3a3d4-5033-4d18-8eaa-0c530be314be,DISK]]; indices=[0, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-121279950-172.17.0.18-1597583119286:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44840,DS-352f1c91-5358-419a-adfe-88013dc88258,DISK], DatanodeInfoWithStorage[127.0.0.1:33734,DS-268bc77b-3d79-4a5b-8332-c95087f5c43c,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-8fc7b8cd-32b9-4212-8e6a-dabd1c30e940,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-30c1ef1a-e0fd-40c3-a9a3-2669dd9eee08,DISK], DatanodeInfoWithStorage[127.0.0.1:37722,DS-6bb80600-73ed-4ee4-9864-46fa93048d66,DISK], DatanodeInfoWithStorage[127.0.0.1:41204,DS-d4d3a3d4-5033-4d18-8eaa-0c530be314be,DISK]]; indices=[0, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-121279950-172.17.0.18-1597583119286:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44840,DS-352f1c91-5358-419a-adfe-88013dc88258,DISK], DatanodeInfoWithStorage[127.0.0.1:33734,DS-268bc77b-3d79-4a5b-8332-c95087f5c43c,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-8fc7b8cd-32b9-4212-8e6a-dabd1c30e940,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-30c1ef1a-e0fd-40c3-a9a3-2669dd9eee08,DISK], DatanodeInfoWithStorage[127.0.0.1:37722,DS-6bb80600-73ed-4ee4-9864-46fa93048d66,DISK], DatanodeInfoWithStorage[127.0.0.1:41204,DS-d4d3a3d4-5033-4d18-8eaa-0c530be314be,DISK]]; indices=[0, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-121279950-172.17.0.18-1597583119286:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44840,DS-352f1c91-5358-419a-adfe-88013dc88258,DISK], DatanodeInfoWithStorage[127.0.0.1:33734,DS-268bc77b-3d79-4a5b-8332-c95087f5c43c,DISK], DatanodeInfoWithStorage[127.0.0.1:41121,DS-8fc7b8cd-32b9-4212-8e6a-dabd1c30e940,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-30c1ef1a-e0fd-40c3-a9a3-2669dd9eee08,DISK], DatanodeInfoWithStorage[127.0.0.1:37722,DS-6bb80600-73ed-4ee4-9864-46fa93048d66,DISK], DatanodeInfoWithStorage[127.0.0.1:41204,DS-d4d3a3d4-5033-4d18-8eaa-0c530be314be,DISK]]; indices=[0, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-265153832-172.17.0.18-1597583781603:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-511951ed-58c5-48c2-88a9-1cfa6703267d,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-405b0c31-5f63-48e8-9503-4669acd4e4fb,DISK], DatanodeInfoWithStorage[127.0.0.1:37976,DS-f3fe3ff8-f6af-491e-9e82-8acc683d6475,DISK], DatanodeInfoWithStorage[127.0.0.1:35899,DS-80e5134a-b348-4af3-999a-d81c3da7a544,DISK], DatanodeInfoWithStorage[127.0.0.1:35796,DS-5539ee74-46cb-4bb6-ba13-b66af3b5e60c,DISK], DatanodeInfoWithStorage[127.0.0.1:45666,DS-f5ea8537-28f7-42ae-b6d6-c4d80c225cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:35714,DS-29bf5627-4b66-4d0c-8d02-f5b23ec3255f,DISK]]; indices=[0, 2, 3, 5, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-265153832-172.17.0.18-1597583781603:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-511951ed-58c5-48c2-88a9-1cfa6703267d,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-405b0c31-5f63-48e8-9503-4669acd4e4fb,DISK], DatanodeInfoWithStorage[127.0.0.1:37976,DS-f3fe3ff8-f6af-491e-9e82-8acc683d6475,DISK], DatanodeInfoWithStorage[127.0.0.1:35899,DS-80e5134a-b348-4af3-999a-d81c3da7a544,DISK], DatanodeInfoWithStorage[127.0.0.1:35796,DS-5539ee74-46cb-4bb6-ba13-b66af3b5e60c,DISK], DatanodeInfoWithStorage[127.0.0.1:45666,DS-f5ea8537-28f7-42ae-b6d6-c4d80c225cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:35714,DS-29bf5627-4b66-4d0c-8d02-f5b23ec3255f,DISK]]; indices=[0, 2, 3, 5, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-265153832-172.17.0.18-1597583781603:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-511951ed-58c5-48c2-88a9-1cfa6703267d,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-405b0c31-5f63-48e8-9503-4669acd4e4fb,DISK], DatanodeInfoWithStorage[127.0.0.1:37976,DS-f3fe3ff8-f6af-491e-9e82-8acc683d6475,DISK], DatanodeInfoWithStorage[127.0.0.1:35899,DS-80e5134a-b348-4af3-999a-d81c3da7a544,DISK], DatanodeInfoWithStorage[127.0.0.1:35796,DS-5539ee74-46cb-4bb6-ba13-b66af3b5e60c,DISK], DatanodeInfoWithStorage[127.0.0.1:45666,DS-f5ea8537-28f7-42ae-b6d6-c4d80c225cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:35714,DS-29bf5627-4b66-4d0c-8d02-f5b23ec3255f,DISK]]; indices=[0, 2, 3, 5, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-265153832-172.17.0.18-1597583781603:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37312,DS-511951ed-58c5-48c2-88a9-1cfa6703267d,DISK], DatanodeInfoWithStorage[127.0.0.1:36847,DS-405b0c31-5f63-48e8-9503-4669acd4e4fb,DISK], DatanodeInfoWithStorage[127.0.0.1:37976,DS-f3fe3ff8-f6af-491e-9e82-8acc683d6475,DISK], DatanodeInfoWithStorage[127.0.0.1:35899,DS-80e5134a-b348-4af3-999a-d81c3da7a544,DISK], DatanodeInfoWithStorage[127.0.0.1:35796,DS-5539ee74-46cb-4bb6-ba13-b66af3b5e60c,DISK], DatanodeInfoWithStorage[127.0.0.1:45666,DS-f5ea8537-28f7-42ae-b6d6-c4d80c225cd9,DISK], DatanodeInfoWithStorage[127.0.0.1:35714,DS-29bf5627-4b66-4d0c-8d02-f5b23ec3255f,DISK]]; indices=[0, 2, 3, 5, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-221693894-172.17.0.18-1597584133628:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45055,DS-db699ee1-f68f-47a4-88bd-1ee2ba054d0a,DISK], DatanodeInfoWithStorage[127.0.0.1:42068,DS-16fa15b1-ec9e-424d-a43f-d656a891a1f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37531,DS-b1227ec0-47aa-4837-9f27-3dd92048b121,DISK], DatanodeInfoWithStorage[127.0.0.1:37925,DS-b4fe7449-e3a1-4199-8b2a-f065107fc528,DISK], DatanodeInfoWithStorage[127.0.0.1:41308,DS-262ddd50-2106-4e59-8c9d-2e032bddb3ab,DISK], DatanodeInfoWithStorage[127.0.0.1:41011,DS-45f57e3e-a901-40c1-9393-1aa2b2a24658,DISK]]; indices=[1, 2, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-221693894-172.17.0.18-1597584133628:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45055,DS-db699ee1-f68f-47a4-88bd-1ee2ba054d0a,DISK], DatanodeInfoWithStorage[127.0.0.1:42068,DS-16fa15b1-ec9e-424d-a43f-d656a891a1f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37531,DS-b1227ec0-47aa-4837-9f27-3dd92048b121,DISK], DatanodeInfoWithStorage[127.0.0.1:37925,DS-b4fe7449-e3a1-4199-8b2a-f065107fc528,DISK], DatanodeInfoWithStorage[127.0.0.1:41308,DS-262ddd50-2106-4e59-8c9d-2e032bddb3ab,DISK], DatanodeInfoWithStorage[127.0.0.1:41011,DS-45f57e3e-a901-40c1-9393-1aa2b2a24658,DISK]]; indices=[1, 2, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-221693894-172.17.0.18-1597584133628:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45055,DS-db699ee1-f68f-47a4-88bd-1ee2ba054d0a,DISK], DatanodeInfoWithStorage[127.0.0.1:42068,DS-16fa15b1-ec9e-424d-a43f-d656a891a1f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37531,DS-b1227ec0-47aa-4837-9f27-3dd92048b121,DISK], DatanodeInfoWithStorage[127.0.0.1:37925,DS-b4fe7449-e3a1-4199-8b2a-f065107fc528,DISK], DatanodeInfoWithStorage[127.0.0.1:41308,DS-262ddd50-2106-4e59-8c9d-2e032bddb3ab,DISK], DatanodeInfoWithStorage[127.0.0.1:41011,DS-45f57e3e-a901-40c1-9393-1aa2b2a24658,DISK]]; indices=[1, 2, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-221693894-172.17.0.18-1597584133628:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45055,DS-db699ee1-f68f-47a4-88bd-1ee2ba054d0a,DISK], DatanodeInfoWithStorage[127.0.0.1:42068,DS-16fa15b1-ec9e-424d-a43f-d656a891a1f2,DISK], DatanodeInfoWithStorage[127.0.0.1:37531,DS-b1227ec0-47aa-4837-9f27-3dd92048b121,DISK], DatanodeInfoWithStorage[127.0.0.1:37925,DS-b4fe7449-e3a1-4199-8b2a-f065107fc528,DISK], DatanodeInfoWithStorage[127.0.0.1:41308,DS-262ddd50-2106-4e59-8c9d-2e032bddb3ab,DISK], DatanodeInfoWithStorage[127.0.0.1:41011,DS-45f57e3e-a901-40c1-9393-1aa2b2a24658,DISK]]; indices=[1, 2, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-546577480-172.17.0.18-1597584513706:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37083,DS-482c1e32-a80c-4cde-9a34-14b3793741b0,DISK], DatanodeInfoWithStorage[127.0.0.1:45682,DS-f98a918c-b347-4a39-8ba5-88066c24fab5,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-e5a595d1-4719-48d7-be2e-f2e089d6263c,DISK], DatanodeInfoWithStorage[127.0.0.1:44362,DS-9d73f2f9-faf8-43f6-be57-c734c1de1ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:41918,DS-ca2966a0-bd14-4012-89e6-456e9c41f68a,DISK]]; indices=[2, 3, 5, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-546577480-172.17.0.18-1597584513706:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37083,DS-482c1e32-a80c-4cde-9a34-14b3793741b0,DISK], DatanodeInfoWithStorage[127.0.0.1:45682,DS-f98a918c-b347-4a39-8ba5-88066c24fab5,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-e5a595d1-4719-48d7-be2e-f2e089d6263c,DISK], DatanodeInfoWithStorage[127.0.0.1:44362,DS-9d73f2f9-faf8-43f6-be57-c734c1de1ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:41918,DS-ca2966a0-bd14-4012-89e6-456e9c41f68a,DISK]]; indices=[2, 3, 5, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-546577480-172.17.0.18-1597584513706:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37083,DS-482c1e32-a80c-4cde-9a34-14b3793741b0,DISK], DatanodeInfoWithStorage[127.0.0.1:45682,DS-f98a918c-b347-4a39-8ba5-88066c24fab5,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-e5a595d1-4719-48d7-be2e-f2e089d6263c,DISK], DatanodeInfoWithStorage[127.0.0.1:44362,DS-9d73f2f9-faf8-43f6-be57-c734c1de1ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:41918,DS-ca2966a0-bd14-4012-89e6-456e9c41f68a,DISK]]; indices=[2, 3, 5, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-546577480-172.17.0.18-1597584513706:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37083,DS-482c1e32-a80c-4cde-9a34-14b3793741b0,DISK], DatanodeInfoWithStorage[127.0.0.1:45682,DS-f98a918c-b347-4a39-8ba5-88066c24fab5,DISK], DatanodeInfoWithStorage[127.0.0.1:43502,DS-e5a595d1-4719-48d7-be2e-f2e089d6263c,DISK], DatanodeInfoWithStorage[127.0.0.1:44362,DS-9d73f2f9-faf8-43f6-be57-c734c1de1ef9,DISK], DatanodeInfoWithStorage[127.0.0.1:41918,DS-ca2966a0-bd14-4012-89e6-456e9c41f68a,DISK]]; indices=[2, 3, 5, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2016988001-172.17.0.18-1597585139917:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35127,DS-dc87146e-48c9-400d-ad23-f6032d33c5dd,DISK], DatanodeInfoWithStorage[127.0.0.1:36834,DS-b9caf0df-009c-4b18-b47e-7c6c339c82cd,DISK], DatanodeInfoWithStorage[127.0.0.1:34687,DS-c43a95b7-1b8b-4301-8d04-a22a6af1de72,DISK], DatanodeInfoWithStorage[127.0.0.1:35752,DS-d140c7c2-2cea-40b5-b243-f69d450db913,DISK], DatanodeInfoWithStorage[127.0.0.1:43394,DS-5df56275-cec2-4bdb-98d9-653b67550bad,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-2eb3fa41-1b94-492c-879d-e3bfea58d8aa,DISK]]; indices=[0, 3, 4, 5, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-2016988001-172.17.0.18-1597585139917:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35127,DS-dc87146e-48c9-400d-ad23-f6032d33c5dd,DISK], DatanodeInfoWithStorage[127.0.0.1:36834,DS-b9caf0df-009c-4b18-b47e-7c6c339c82cd,DISK], DatanodeInfoWithStorage[127.0.0.1:34687,DS-c43a95b7-1b8b-4301-8d04-a22a6af1de72,DISK], DatanodeInfoWithStorage[127.0.0.1:35752,DS-d140c7c2-2cea-40b5-b243-f69d450db913,DISK], DatanodeInfoWithStorage[127.0.0.1:43394,DS-5df56275-cec2-4bdb-98d9-653b67550bad,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-2eb3fa41-1b94-492c-879d-e3bfea58d8aa,DISK]]; indices=[0, 3, 4, 5, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2016988001-172.17.0.18-1597585139917:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35127,DS-dc87146e-48c9-400d-ad23-f6032d33c5dd,DISK], DatanodeInfoWithStorage[127.0.0.1:36834,DS-b9caf0df-009c-4b18-b47e-7c6c339c82cd,DISK], DatanodeInfoWithStorage[127.0.0.1:34687,DS-c43a95b7-1b8b-4301-8d04-a22a6af1de72,DISK], DatanodeInfoWithStorage[127.0.0.1:35752,DS-d140c7c2-2cea-40b5-b243-f69d450db913,DISK], DatanodeInfoWithStorage[127.0.0.1:43394,DS-5df56275-cec2-4bdb-98d9-653b67550bad,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-2eb3fa41-1b94-492c-879d-e3bfea58d8aa,DISK]]; indices=[0, 3, 4, 5, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-2016988001-172.17.0.18-1597585139917:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35127,DS-dc87146e-48c9-400d-ad23-f6032d33c5dd,DISK], DatanodeInfoWithStorage[127.0.0.1:36834,DS-b9caf0df-009c-4b18-b47e-7c6c339c82cd,DISK], DatanodeInfoWithStorage[127.0.0.1:34687,DS-c43a95b7-1b8b-4301-8d04-a22a6af1de72,DISK], DatanodeInfoWithStorage[127.0.0.1:35752,DS-d140c7c2-2cea-40b5-b243-f69d450db913,DISK], DatanodeInfoWithStorage[127.0.0.1:43394,DS-5df56275-cec2-4bdb-98d9-653b67550bad,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-2eb3fa41-1b94-492c-879d-e3bfea58d8aa,DISK]]; indices=[0, 3, 4, 5, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1469039646-172.17.0.18-1597585614372:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36823,DS-99a5d039-71aa-41ae-8b4b-8fbea50c3fa4,DISK], DatanodeInfoWithStorage[127.0.0.1:32839,DS-20014e4e-bb1a-4640-b704-4f5308617e0d,DISK], DatanodeInfoWithStorage[127.0.0.1:35013,DS-f1e81ceb-1e3d-476f-9350-543c768ad1d0,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-d603602e-1d7b-46b7-b8a7-d272fae26ba9,DISK], DatanodeInfoWithStorage[127.0.0.1:41867,DS-f6f4bde0-d9a5-424b-9598-dbe65a3fa728,DISK], DatanodeInfoWithStorage[127.0.0.1:41628,DS-1afc2932-f244-4c39-82a6-9310849fc44c,DISK], DatanodeInfoWithStorage[127.0.0.1:43120,DS-efbe3843-c864-49c4-899f-0300182f69f6,DISK]]; indices=[0, 3, 4, 6, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1469039646-172.17.0.18-1597585614372:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36823,DS-99a5d039-71aa-41ae-8b4b-8fbea50c3fa4,DISK], DatanodeInfoWithStorage[127.0.0.1:32839,DS-20014e4e-bb1a-4640-b704-4f5308617e0d,DISK], DatanodeInfoWithStorage[127.0.0.1:35013,DS-f1e81ceb-1e3d-476f-9350-543c768ad1d0,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-d603602e-1d7b-46b7-b8a7-d272fae26ba9,DISK], DatanodeInfoWithStorage[127.0.0.1:41867,DS-f6f4bde0-d9a5-424b-9598-dbe65a3fa728,DISK], DatanodeInfoWithStorage[127.0.0.1:41628,DS-1afc2932-f244-4c39-82a6-9310849fc44c,DISK], DatanodeInfoWithStorage[127.0.0.1:43120,DS-efbe3843-c864-49c4-899f-0300182f69f6,DISK]]; indices=[0, 3, 4, 6, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1469039646-172.17.0.18-1597585614372:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36823,DS-99a5d039-71aa-41ae-8b4b-8fbea50c3fa4,DISK], DatanodeInfoWithStorage[127.0.0.1:32839,DS-20014e4e-bb1a-4640-b704-4f5308617e0d,DISK], DatanodeInfoWithStorage[127.0.0.1:35013,DS-f1e81ceb-1e3d-476f-9350-543c768ad1d0,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-d603602e-1d7b-46b7-b8a7-d272fae26ba9,DISK], DatanodeInfoWithStorage[127.0.0.1:41867,DS-f6f4bde0-d9a5-424b-9598-dbe65a3fa728,DISK], DatanodeInfoWithStorage[127.0.0.1:41628,DS-1afc2932-f244-4c39-82a6-9310849fc44c,DISK], DatanodeInfoWithStorage[127.0.0.1:43120,DS-efbe3843-c864-49c4-899f-0300182f69f6,DISK]]; indices=[0, 3, 4, 6, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1469039646-172.17.0.18-1597585614372:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36823,DS-99a5d039-71aa-41ae-8b4b-8fbea50c3fa4,DISK], DatanodeInfoWithStorage[127.0.0.1:32839,DS-20014e4e-bb1a-4640-b704-4f5308617e0d,DISK], DatanodeInfoWithStorage[127.0.0.1:35013,DS-f1e81ceb-1e3d-476f-9350-543c768ad1d0,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-d603602e-1d7b-46b7-b8a7-d272fae26ba9,DISK], DatanodeInfoWithStorage[127.0.0.1:41867,DS-f6f4bde0-d9a5-424b-9598-dbe65a3fa728,DISK], DatanodeInfoWithStorage[127.0.0.1:41628,DS-1afc2932-f244-4c39-82a6-9310849fc44c,DISK], DatanodeInfoWithStorage[127.0.0.1:43120,DS-efbe3843-c864-49c4-899f-0300182f69f6,DISK]]; indices=[0, 3, 4, 6, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1653784656-172.17.0.18-1597586833279:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45631,DS-134ca7de-208d-4565-b890-c02249bb8c21,DISK], DatanodeInfoWithStorage[127.0.0.1:46145,DS-b4fc0fc0-d3c5-4707-9412-105e6d3b688e,DISK], DatanodeInfoWithStorage[127.0.0.1:39830,DS-46ba95f1-d28d-4a88-b8f1-08ab9275562f,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-c0e5f611-fe58-4b99-9bca-c0b7f94613a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41575,DS-68d97a7e-002e-4c36-8f2f-f42bb0789bc4,DISK], DatanodeInfoWithStorage[127.0.0.1:43193,DS-341544dc-2f46-4346-8b9b-ab43bd10657a,DISK], DatanodeInfoWithStorage[127.0.0.1:39448,DS-ccb5e607-303a-40f0-83e6-4c0f672a1afe,DISK]]; indices=[2, 3, 4, 5, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1653784656-172.17.0.18-1597586833279:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45631,DS-134ca7de-208d-4565-b890-c02249bb8c21,DISK], DatanodeInfoWithStorage[127.0.0.1:46145,DS-b4fc0fc0-d3c5-4707-9412-105e6d3b688e,DISK], DatanodeInfoWithStorage[127.0.0.1:39830,DS-46ba95f1-d28d-4a88-b8f1-08ab9275562f,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-c0e5f611-fe58-4b99-9bca-c0b7f94613a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41575,DS-68d97a7e-002e-4c36-8f2f-f42bb0789bc4,DISK], DatanodeInfoWithStorage[127.0.0.1:43193,DS-341544dc-2f46-4346-8b9b-ab43bd10657a,DISK], DatanodeInfoWithStorage[127.0.0.1:39448,DS-ccb5e607-303a-40f0-83e6-4c0f672a1afe,DISK]]; indices=[2, 3, 4, 5, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1653784656-172.17.0.18-1597586833279:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45631,DS-134ca7de-208d-4565-b890-c02249bb8c21,DISK], DatanodeInfoWithStorage[127.0.0.1:46145,DS-b4fc0fc0-d3c5-4707-9412-105e6d3b688e,DISK], DatanodeInfoWithStorage[127.0.0.1:39830,DS-46ba95f1-d28d-4a88-b8f1-08ab9275562f,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-c0e5f611-fe58-4b99-9bca-c0b7f94613a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41575,DS-68d97a7e-002e-4c36-8f2f-f42bb0789bc4,DISK], DatanodeInfoWithStorage[127.0.0.1:43193,DS-341544dc-2f46-4346-8b9b-ab43bd10657a,DISK], DatanodeInfoWithStorage[127.0.0.1:39448,DS-ccb5e607-303a-40f0-83e6-4c0f672a1afe,DISK]]; indices=[2, 3, 4, 5, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1653784656-172.17.0.18-1597586833279:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45631,DS-134ca7de-208d-4565-b890-c02249bb8c21,DISK], DatanodeInfoWithStorage[127.0.0.1:46145,DS-b4fc0fc0-d3c5-4707-9412-105e6d3b688e,DISK], DatanodeInfoWithStorage[127.0.0.1:39830,DS-46ba95f1-d28d-4a88-b8f1-08ab9275562f,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-c0e5f611-fe58-4b99-9bca-c0b7f94613a7,DISK], DatanodeInfoWithStorage[127.0.0.1:41575,DS-68d97a7e-002e-4c36-8f2f-f42bb0789bc4,DISK], DatanodeInfoWithStorage[127.0.0.1:43193,DS-341544dc-2f46-4346-8b9b-ab43bd10657a,DISK], DatanodeInfoWithStorage[127.0.0.1:39448,DS-ccb5e607-303a-40f0-83e6-4c0f672a1afe,DISK]]; indices=[2, 3, 4, 5, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1170970951-172.17.0.18-1597586881294:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39729,DS-31057beb-4a49-4b5d-b06b-fa82c8d6e3b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40753,DS-8c54ceab-39c0-4161-8a88-1174c94a79f2,DISK], DatanodeInfoWithStorage[127.0.0.1:45294,DS-fc5b45a2-2fb9-4f07-a525-422184fa577a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-5a27b1e5-e34a-4c70-9b09-8b4147d0a77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36437,DS-ab4deae3-a1fa-4c6c-afab-201e1d75568a,DISK], DatanodeInfoWithStorage[127.0.0.1:45140,DS-5bd5e35e-1501-4f7b-a094-2d54695a509f,DISK], DatanodeInfoWithStorage[127.0.0.1:40103,DS-04c30c17-c5d2-4f6d-9171-d301cea6096f,DISK]]; indices=[2, 3, 4, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1170970951-172.17.0.18-1597586881294:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39729,DS-31057beb-4a49-4b5d-b06b-fa82c8d6e3b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40753,DS-8c54ceab-39c0-4161-8a88-1174c94a79f2,DISK], DatanodeInfoWithStorage[127.0.0.1:45294,DS-fc5b45a2-2fb9-4f07-a525-422184fa577a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-5a27b1e5-e34a-4c70-9b09-8b4147d0a77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36437,DS-ab4deae3-a1fa-4c6c-afab-201e1d75568a,DISK], DatanodeInfoWithStorage[127.0.0.1:45140,DS-5bd5e35e-1501-4f7b-a094-2d54695a509f,DISK], DatanodeInfoWithStorage[127.0.0.1:40103,DS-04c30c17-c5d2-4f6d-9171-d301cea6096f,DISK]]; indices=[2, 3, 4, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1170970951-172.17.0.18-1597586881294:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39729,DS-31057beb-4a49-4b5d-b06b-fa82c8d6e3b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40753,DS-8c54ceab-39c0-4161-8a88-1174c94a79f2,DISK], DatanodeInfoWithStorage[127.0.0.1:45294,DS-fc5b45a2-2fb9-4f07-a525-422184fa577a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-5a27b1e5-e34a-4c70-9b09-8b4147d0a77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36437,DS-ab4deae3-a1fa-4c6c-afab-201e1d75568a,DISK], DatanodeInfoWithStorage[127.0.0.1:45140,DS-5bd5e35e-1501-4f7b-a094-2d54695a509f,DISK], DatanodeInfoWithStorage[127.0.0.1:40103,DS-04c30c17-c5d2-4f6d-9171-d301cea6096f,DISK]]; indices=[2, 3, 4, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1170970951-172.17.0.18-1597586881294:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39729,DS-31057beb-4a49-4b5d-b06b-fa82c8d6e3b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40753,DS-8c54ceab-39c0-4161-8a88-1174c94a79f2,DISK], DatanodeInfoWithStorage[127.0.0.1:45294,DS-fc5b45a2-2fb9-4f07-a525-422184fa577a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-5a27b1e5-e34a-4c70-9b09-8b4147d0a77b,DISK], DatanodeInfoWithStorage[127.0.0.1:36437,DS-ab4deae3-a1fa-4c6c-afab-201e1d75568a,DISK], DatanodeInfoWithStorage[127.0.0.1:45140,DS-5bd5e35e-1501-4f7b-a094-2d54695a509f,DISK], DatanodeInfoWithStorage[127.0.0.1:40103,DS-04c30c17-c5d2-4f6d-9171-d301cea6096f,DISK]]; indices=[2, 3, 4, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-861728746-172.17.0.18-1597587269289:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46153,DS-35ab6450-2266-48d4-b4fb-460e4117e6f6,DISK], DatanodeInfoWithStorage[127.0.0.1:42041,DS-8fbbf59c-e5c0-483c-85ac-b9139aba640f,DISK], DatanodeInfoWithStorage[127.0.0.1:41779,DS-5ded7686-09bb-4cd5-bec5-61b68f67f2b7,DISK], DatanodeInfoWithStorage[127.0.0.1:37579,DS-0a243402-cdab-4378-b39b-959cdc5c1b81,DISK], DatanodeInfoWithStorage[127.0.0.1:40992,DS-b293774e-1960-4895-9755-d3c13432d548,DISK], DatanodeInfoWithStorage[127.0.0.1:38455,DS-8ed874fb-0bb2-4873-a246-0e60e2fc3a14,DISK]]; indices=[1, 2, 3, 5, 6, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-861728746-172.17.0.18-1597587269289:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46153,DS-35ab6450-2266-48d4-b4fb-460e4117e6f6,DISK], DatanodeInfoWithStorage[127.0.0.1:42041,DS-8fbbf59c-e5c0-483c-85ac-b9139aba640f,DISK], DatanodeInfoWithStorage[127.0.0.1:41779,DS-5ded7686-09bb-4cd5-bec5-61b68f67f2b7,DISK], DatanodeInfoWithStorage[127.0.0.1:37579,DS-0a243402-cdab-4378-b39b-959cdc5c1b81,DISK], DatanodeInfoWithStorage[127.0.0.1:40992,DS-b293774e-1960-4895-9755-d3c13432d548,DISK], DatanodeInfoWithStorage[127.0.0.1:38455,DS-8ed874fb-0bb2-4873-a246-0e60e2fc3a14,DISK]]; indices=[1, 2, 3, 5, 6, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-861728746-172.17.0.18-1597587269289:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46153,DS-35ab6450-2266-48d4-b4fb-460e4117e6f6,DISK], DatanodeInfoWithStorage[127.0.0.1:42041,DS-8fbbf59c-e5c0-483c-85ac-b9139aba640f,DISK], DatanodeInfoWithStorage[127.0.0.1:41779,DS-5ded7686-09bb-4cd5-bec5-61b68f67f2b7,DISK], DatanodeInfoWithStorage[127.0.0.1:37579,DS-0a243402-cdab-4378-b39b-959cdc5c1b81,DISK], DatanodeInfoWithStorage[127.0.0.1:40992,DS-b293774e-1960-4895-9755-d3c13432d548,DISK], DatanodeInfoWithStorage[127.0.0.1:38455,DS-8ed874fb-0bb2-4873-a246-0e60e2fc3a14,DISK]]; indices=[1, 2, 3, 5, 6, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-861728746-172.17.0.18-1597587269289:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46153,DS-35ab6450-2266-48d4-b4fb-460e4117e6f6,DISK], DatanodeInfoWithStorage[127.0.0.1:42041,DS-8fbbf59c-e5c0-483c-85ac-b9139aba640f,DISK], DatanodeInfoWithStorage[127.0.0.1:41779,DS-5ded7686-09bb-4cd5-bec5-61b68f67f2b7,DISK], DatanodeInfoWithStorage[127.0.0.1:37579,DS-0a243402-cdab-4378-b39b-959cdc5c1b81,DISK], DatanodeInfoWithStorage[127.0.0.1:40992,DS-b293774e-1960-4895-9755-d3c13432d548,DISK], DatanodeInfoWithStorage[127.0.0.1:38455,DS-8ed874fb-0bb2-4873-a246-0e60e2fc3a14,DISK]]; indices=[1, 2, 3, 5, 6, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-726371236-172.17.0.18-1597587995134:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46634,DS-38bfbf03-4a59-4cc9-9e56-e5f3ffe542f6,DISK], DatanodeInfoWithStorage[127.0.0.1:33116,DS-89348b91-874e-4645-8938-521076d71cf6,DISK], DatanodeInfoWithStorage[127.0.0.1:33087,DS-62835d54-d2b1-4d7c-8b3e-e746586a1585,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-f5cde347-1707-4031-8b7c-29404414ef0b,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-787c407f-aa31-4a6e-b325-5f0e96c9a3ef,DISK], DatanodeInfoWithStorage[127.0.0.1:35673,DS-cd05c4bd-ad9f-4b45-a302-7963c668b567,DISK]]; indices=[1, 4, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-726371236-172.17.0.18-1597587995134:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46634,DS-38bfbf03-4a59-4cc9-9e56-e5f3ffe542f6,DISK], DatanodeInfoWithStorage[127.0.0.1:33116,DS-89348b91-874e-4645-8938-521076d71cf6,DISK], DatanodeInfoWithStorage[127.0.0.1:33087,DS-62835d54-d2b1-4d7c-8b3e-e746586a1585,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-f5cde347-1707-4031-8b7c-29404414ef0b,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-787c407f-aa31-4a6e-b325-5f0e96c9a3ef,DISK], DatanodeInfoWithStorage[127.0.0.1:35673,DS-cd05c4bd-ad9f-4b45-a302-7963c668b567,DISK]]; indices=[1, 4, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-726371236-172.17.0.18-1597587995134:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46634,DS-38bfbf03-4a59-4cc9-9e56-e5f3ffe542f6,DISK], DatanodeInfoWithStorage[127.0.0.1:33116,DS-89348b91-874e-4645-8938-521076d71cf6,DISK], DatanodeInfoWithStorage[127.0.0.1:33087,DS-62835d54-d2b1-4d7c-8b3e-e746586a1585,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-f5cde347-1707-4031-8b7c-29404414ef0b,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-787c407f-aa31-4a6e-b325-5f0e96c9a3ef,DISK], DatanodeInfoWithStorage[127.0.0.1:35673,DS-cd05c4bd-ad9f-4b45-a302-7963c668b567,DISK]]; indices=[1, 4, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-726371236-172.17.0.18-1597587995134:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46634,DS-38bfbf03-4a59-4cc9-9e56-e5f3ffe542f6,DISK], DatanodeInfoWithStorage[127.0.0.1:33116,DS-89348b91-874e-4645-8938-521076d71cf6,DISK], DatanodeInfoWithStorage[127.0.0.1:33087,DS-62835d54-d2b1-4d7c-8b3e-e746586a1585,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-f5cde347-1707-4031-8b7c-29404414ef0b,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-787c407f-aa31-4a6e-b325-5f0e96c9a3ef,DISK], DatanodeInfoWithStorage[127.0.0.1:35673,DS-cd05c4bd-ad9f-4b45-a302-7963c668b567,DISK]]; indices=[1, 4, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-138280616-172.17.0.18-1597588646812:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44136,DS-7375b731-fdce-4cbc-801c-8e154a1850f2,DISK], DatanodeInfoWithStorage[127.0.0.1:40149,DS-5f940fc0-1cc4-4631-84a2-1b8f7fcaa979,DISK], DatanodeInfoWithStorage[127.0.0.1:36259,DS-ed4bd4b2-3a51-40f4-849f-91d96477545f,DISK], DatanodeInfoWithStorage[127.0.0.1:36966,DS-aa506b9a-a165-42b2-85ff-b863f772d626,DISK], DatanodeInfoWithStorage[127.0.0.1:46609,DS-3ad60a27-09ad-4e5b-856d-5433c9d237b6,DISK], DatanodeInfoWithStorage[127.0.0.1:32969,DS-67db198c-65b5-47d7-95b7-8741c5ca86a5,DISK]]; indices=[1, 2, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-138280616-172.17.0.18-1597588646812:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44136,DS-7375b731-fdce-4cbc-801c-8e154a1850f2,DISK], DatanodeInfoWithStorage[127.0.0.1:40149,DS-5f940fc0-1cc4-4631-84a2-1b8f7fcaa979,DISK], DatanodeInfoWithStorage[127.0.0.1:36259,DS-ed4bd4b2-3a51-40f4-849f-91d96477545f,DISK], DatanodeInfoWithStorage[127.0.0.1:36966,DS-aa506b9a-a165-42b2-85ff-b863f772d626,DISK], DatanodeInfoWithStorage[127.0.0.1:46609,DS-3ad60a27-09ad-4e5b-856d-5433c9d237b6,DISK], DatanodeInfoWithStorage[127.0.0.1:32969,DS-67db198c-65b5-47d7-95b7-8741c5ca86a5,DISK]]; indices=[1, 2, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-138280616-172.17.0.18-1597588646812:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44136,DS-7375b731-fdce-4cbc-801c-8e154a1850f2,DISK], DatanodeInfoWithStorage[127.0.0.1:40149,DS-5f940fc0-1cc4-4631-84a2-1b8f7fcaa979,DISK], DatanodeInfoWithStorage[127.0.0.1:36259,DS-ed4bd4b2-3a51-40f4-849f-91d96477545f,DISK], DatanodeInfoWithStorage[127.0.0.1:36966,DS-aa506b9a-a165-42b2-85ff-b863f772d626,DISK], DatanodeInfoWithStorage[127.0.0.1:46609,DS-3ad60a27-09ad-4e5b-856d-5433c9d237b6,DISK], DatanodeInfoWithStorage[127.0.0.1:32969,DS-67db198c-65b5-47d7-95b7-8741c5ca86a5,DISK]]; indices=[1, 2, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-138280616-172.17.0.18-1597588646812:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44136,DS-7375b731-fdce-4cbc-801c-8e154a1850f2,DISK], DatanodeInfoWithStorage[127.0.0.1:40149,DS-5f940fc0-1cc4-4631-84a2-1b8f7fcaa979,DISK], DatanodeInfoWithStorage[127.0.0.1:36259,DS-ed4bd4b2-3a51-40f4-849f-91d96477545f,DISK], DatanodeInfoWithStorage[127.0.0.1:36966,DS-aa506b9a-a165-42b2-85ff-b863f772d626,DISK], DatanodeInfoWithStorage[127.0.0.1:46609,DS-3ad60a27-09ad-4e5b-856d-5433c9d237b6,DISK], DatanodeInfoWithStorage[127.0.0.1:32969,DS-67db198c-65b5-47d7-95b7-8741c5ca86a5,DISK]]; indices=[1, 2, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-291733831-172.17.0.18-1597589039682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43999,DS-07185b74-0fa6-451a-a48b-d26db972d880,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-341ef8b6-17c6-4e83-b4c4-839ea7fe7b9a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-3e8eabf2-2bf8-4102-9aca-bf1ac0b89883,DISK], DatanodeInfoWithStorage[127.0.0.1:42265,DS-6a1f1384-01d0-4acc-84c3-431493bb7753,DISK], DatanodeInfoWithStorage[127.0.0.1:46191,DS-5cac09a4-0f88-4663-89f7-1e1998ed0893,DISK], DatanodeInfoWithStorage[127.0.0.1:41981,DS-a1139a0e-e6c1-4151-b5df-15976eb7a712,DISK]]; indices=[0, 2, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-291733831-172.17.0.18-1597589039682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43999,DS-07185b74-0fa6-451a-a48b-d26db972d880,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-341ef8b6-17c6-4e83-b4c4-839ea7fe7b9a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-3e8eabf2-2bf8-4102-9aca-bf1ac0b89883,DISK], DatanodeInfoWithStorage[127.0.0.1:42265,DS-6a1f1384-01d0-4acc-84c3-431493bb7753,DISK], DatanodeInfoWithStorage[127.0.0.1:46191,DS-5cac09a4-0f88-4663-89f7-1e1998ed0893,DISK], DatanodeInfoWithStorage[127.0.0.1:41981,DS-a1139a0e-e6c1-4151-b5df-15976eb7a712,DISK]]; indices=[0, 2, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-291733831-172.17.0.18-1597589039682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43999,DS-07185b74-0fa6-451a-a48b-d26db972d880,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-341ef8b6-17c6-4e83-b4c4-839ea7fe7b9a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-3e8eabf2-2bf8-4102-9aca-bf1ac0b89883,DISK], DatanodeInfoWithStorage[127.0.0.1:42265,DS-6a1f1384-01d0-4acc-84c3-431493bb7753,DISK], DatanodeInfoWithStorage[127.0.0.1:46191,DS-5cac09a4-0f88-4663-89f7-1e1998ed0893,DISK], DatanodeInfoWithStorage[127.0.0.1:41981,DS-a1139a0e-e6c1-4151-b5df-15976eb7a712,DISK]]; indices=[0, 2, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-291733831-172.17.0.18-1597589039682:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43999,DS-07185b74-0fa6-451a-a48b-d26db972d880,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-341ef8b6-17c6-4e83-b4c4-839ea7fe7b9a,DISK], DatanodeInfoWithStorage[127.0.0.1:36728,DS-3e8eabf2-2bf8-4102-9aca-bf1ac0b89883,DISK], DatanodeInfoWithStorage[127.0.0.1:42265,DS-6a1f1384-01d0-4acc-84c3-431493bb7753,DISK], DatanodeInfoWithStorage[127.0.0.1:46191,DS-5cac09a4-0f88-4663-89f7-1e1998ed0893,DISK], DatanodeInfoWithStorage[127.0.0.1:41981,DS-a1139a0e-e6c1-4151-b5df-15976eb7a712,DISK]]; indices=[0, 2, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-273510632-172.17.0.18-1597589198340:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35484,DS-3ed8b84f-bd80-42ac-a629-d2f957197792,DISK], DatanodeInfoWithStorage[127.0.0.1:44966,DS-b799c9d2-e587-41af-b0c0-f80513043205,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-7a213086-5c81-4235-bc47-3bb1d577b8a3,DISK], DatanodeInfoWithStorage[127.0.0.1:34896,DS-684a7368-290d-4936-9dff-016e63d86046,DISK], DatanodeInfoWithStorage[127.0.0.1:36743,DS-93a17675-9300-485a-a24a-570696e2b19b,DISK]]; indices=[1, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-273510632-172.17.0.18-1597589198340:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35484,DS-3ed8b84f-bd80-42ac-a629-d2f957197792,DISK], DatanodeInfoWithStorage[127.0.0.1:44966,DS-b799c9d2-e587-41af-b0c0-f80513043205,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-7a213086-5c81-4235-bc47-3bb1d577b8a3,DISK], DatanodeInfoWithStorage[127.0.0.1:34896,DS-684a7368-290d-4936-9dff-016e63d86046,DISK], DatanodeInfoWithStorage[127.0.0.1:36743,DS-93a17675-9300-485a-a24a-570696e2b19b,DISK]]; indices=[1, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-273510632-172.17.0.18-1597589198340:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35484,DS-3ed8b84f-bd80-42ac-a629-d2f957197792,DISK], DatanodeInfoWithStorage[127.0.0.1:44966,DS-b799c9d2-e587-41af-b0c0-f80513043205,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-7a213086-5c81-4235-bc47-3bb1d577b8a3,DISK], DatanodeInfoWithStorage[127.0.0.1:34896,DS-684a7368-290d-4936-9dff-016e63d86046,DISK], DatanodeInfoWithStorage[127.0.0.1:36743,DS-93a17675-9300-485a-a24a-570696e2b19b,DISK]]; indices=[1, 7, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-273510632-172.17.0.18-1597589198340:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35484,DS-3ed8b84f-bd80-42ac-a629-d2f957197792,DISK], DatanodeInfoWithStorage[127.0.0.1:44966,DS-b799c9d2-e587-41af-b0c0-f80513043205,DISK], DatanodeInfoWithStorage[127.0.0.1:41438,DS-7a213086-5c81-4235-bc47-3bb1d577b8a3,DISK], DatanodeInfoWithStorage[127.0.0.1:34896,DS-684a7368-290d-4936-9dff-016e63d86046,DISK], DatanodeInfoWithStorage[127.0.0.1:36743,DS-93a17675-9300-485a-a24a-570696e2b19b,DISK]]; indices=[1, 7, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-531158856-172.17.0.18-1597589283870:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43537,DS-a1590d8e-dcd1-4421-b07f-a9111e377ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-c9496bc5-eb54-4717-9da8-658517189cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-9742c75f-4c48-42fe-9038-e55b697c1076,DISK], DatanodeInfoWithStorage[127.0.0.1:40143,DS-9e92367d-3bb1-4cc9-a0b0-3301b5471a22,DISK], DatanodeInfoWithStorage[127.0.0.1:46255,DS-b7e8301b-1730-4e31-aac6-db6fcb4b23cc,DISK], DatanodeInfoWithStorage[127.0.0.1:45246,DS-03f2ed45-c2d5-4ea5-9008-21bca417ef6c,DISK], DatanodeInfoWithStorage[127.0.0.1:44146,DS-8ae976ef-7f87-4b30-ba84-72c88c97f529,DISK]]; indices=[0, 1, 2, 3, 5, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-531158856-172.17.0.18-1597589283870:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43537,DS-a1590d8e-dcd1-4421-b07f-a9111e377ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-c9496bc5-eb54-4717-9da8-658517189cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-9742c75f-4c48-42fe-9038-e55b697c1076,DISK], DatanodeInfoWithStorage[127.0.0.1:40143,DS-9e92367d-3bb1-4cc9-a0b0-3301b5471a22,DISK], DatanodeInfoWithStorage[127.0.0.1:46255,DS-b7e8301b-1730-4e31-aac6-db6fcb4b23cc,DISK], DatanodeInfoWithStorage[127.0.0.1:45246,DS-03f2ed45-c2d5-4ea5-9008-21bca417ef6c,DISK], DatanodeInfoWithStorage[127.0.0.1:44146,DS-8ae976ef-7f87-4b30-ba84-72c88c97f529,DISK]]; indices=[0, 1, 2, 3, 5, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-531158856-172.17.0.18-1597589283870:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43537,DS-a1590d8e-dcd1-4421-b07f-a9111e377ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-c9496bc5-eb54-4717-9da8-658517189cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-9742c75f-4c48-42fe-9038-e55b697c1076,DISK], DatanodeInfoWithStorage[127.0.0.1:40143,DS-9e92367d-3bb1-4cc9-a0b0-3301b5471a22,DISK], DatanodeInfoWithStorage[127.0.0.1:46255,DS-b7e8301b-1730-4e31-aac6-db6fcb4b23cc,DISK], DatanodeInfoWithStorage[127.0.0.1:45246,DS-03f2ed45-c2d5-4ea5-9008-21bca417ef6c,DISK], DatanodeInfoWithStorage[127.0.0.1:44146,DS-8ae976ef-7f87-4b30-ba84-72c88c97f529,DISK]]; indices=[0, 1, 2, 3, 5, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-531158856-172.17.0.18-1597589283870:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43537,DS-a1590d8e-dcd1-4421-b07f-a9111e377ea7,DISK], DatanodeInfoWithStorage[127.0.0.1:39734,DS-c9496bc5-eb54-4717-9da8-658517189cd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43915,DS-9742c75f-4c48-42fe-9038-e55b697c1076,DISK], DatanodeInfoWithStorage[127.0.0.1:40143,DS-9e92367d-3bb1-4cc9-a0b0-3301b5471a22,DISK], DatanodeInfoWithStorage[127.0.0.1:46255,DS-b7e8301b-1730-4e31-aac6-db6fcb4b23cc,DISK], DatanodeInfoWithStorage[127.0.0.1:45246,DS-03f2ed45-c2d5-4ea5-9008-21bca417ef6c,DISK], DatanodeInfoWithStorage[127.0.0.1:44146,DS-8ae976ef-7f87-4b30-ba84-72c88c97f529,DISK]]; indices=[0, 1, 2, 3, 5, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-655290843-172.17.0.18-1597589366071:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34109,DS-de8805a4-ee1c-4bf6-879d-af02c01c4a12,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-914836df-2da1-491e-93d8-536d0c9d5142,DISK], DatanodeInfoWithStorage[127.0.0.1:34828,DS-adab3fa6-db88-47ea-9bda-cfed8bd521f7,DISK], DatanodeInfoWithStorage[127.0.0.1:46064,DS-4f638bdc-b963-4ea5-afaa-9e15405b1808,DISK], DatanodeInfoWithStorage[127.0.0.1:45792,DS-b4cadae5-6fd9-477e-a6f1-3d233fce08b3,DISK], DatanodeInfoWithStorage[127.0.0.1:33521,DS-09adcd54-bf27-42f5-a703-22b62f3292dc,DISK], DatanodeInfoWithStorage[127.0.0.1:37201,DS-f5afcc68-06d0-4b3c-8632-0a7b6179fa90,DISK]]; indices=[0, 1, 2, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-655290843-172.17.0.18-1597589366071:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34109,DS-de8805a4-ee1c-4bf6-879d-af02c01c4a12,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-914836df-2da1-491e-93d8-536d0c9d5142,DISK], DatanodeInfoWithStorage[127.0.0.1:34828,DS-adab3fa6-db88-47ea-9bda-cfed8bd521f7,DISK], DatanodeInfoWithStorage[127.0.0.1:46064,DS-4f638bdc-b963-4ea5-afaa-9e15405b1808,DISK], DatanodeInfoWithStorage[127.0.0.1:45792,DS-b4cadae5-6fd9-477e-a6f1-3d233fce08b3,DISK], DatanodeInfoWithStorage[127.0.0.1:33521,DS-09adcd54-bf27-42f5-a703-22b62f3292dc,DISK], DatanodeInfoWithStorage[127.0.0.1:37201,DS-f5afcc68-06d0-4b3c-8632-0a7b6179fa90,DISK]]; indices=[0, 1, 2, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-655290843-172.17.0.18-1597589366071:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34109,DS-de8805a4-ee1c-4bf6-879d-af02c01c4a12,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-914836df-2da1-491e-93d8-536d0c9d5142,DISK], DatanodeInfoWithStorage[127.0.0.1:34828,DS-adab3fa6-db88-47ea-9bda-cfed8bd521f7,DISK], DatanodeInfoWithStorage[127.0.0.1:46064,DS-4f638bdc-b963-4ea5-afaa-9e15405b1808,DISK], DatanodeInfoWithStorage[127.0.0.1:45792,DS-b4cadae5-6fd9-477e-a6f1-3d233fce08b3,DISK], DatanodeInfoWithStorage[127.0.0.1:33521,DS-09adcd54-bf27-42f5-a703-22b62f3292dc,DISK], DatanodeInfoWithStorage[127.0.0.1:37201,DS-f5afcc68-06d0-4b3c-8632-0a7b6179fa90,DISK]]; indices=[0, 1, 2, 4, 6, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-655290843-172.17.0.18-1597589366071:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34109,DS-de8805a4-ee1c-4bf6-879d-af02c01c4a12,DISK], DatanodeInfoWithStorage[127.0.0.1:45405,DS-914836df-2da1-491e-93d8-536d0c9d5142,DISK], DatanodeInfoWithStorage[127.0.0.1:34828,DS-adab3fa6-db88-47ea-9bda-cfed8bd521f7,DISK], DatanodeInfoWithStorage[127.0.0.1:46064,DS-4f638bdc-b963-4ea5-afaa-9e15405b1808,DISK], DatanodeInfoWithStorage[127.0.0.1:45792,DS-b4cadae5-6fd9-477e-a6f1-3d233fce08b3,DISK], DatanodeInfoWithStorage[127.0.0.1:33521,DS-09adcd54-bf27-42f5-a703-22b62f3292dc,DISK], DatanodeInfoWithStorage[127.0.0.1:37201,DS-f5afcc68-06d0-4b3c-8632-0a7b6179fa90,DISK]]; indices=[0, 1, 2, 4, 6, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.path.based.cache.retry.interval.ms
component: hdfs:NameNode
v1: 30000
v2: 10
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-759597278-172.17.0.18-1597589406153:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44822,DS-cb44d5ba-575f-4053-832d-380fcc198abb,DISK], DatanodeInfoWithStorage[127.0.0.1:43005,DS-b6489133-2fcf-465f-a1e0-cb9d43c97ea0,DISK], DatanodeInfoWithStorage[127.0.0.1:42377,DS-5cb529a8-4e97-4496-9b74-ead39cc88d84,DISK], DatanodeInfoWithStorage[127.0.0.1:45466,DS-ab383794-b6a1-407c-8e33-2504ffb124da,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-ca51d1e0-287e-4d30-9aea-dc663c912b55,DISK], DatanodeInfoWithStorage[127.0.0.1:44580,DS-fef1a47c-1698-47e7-894a-c003d5484246,DISK], DatanodeInfoWithStorage[127.0.0.1:44480,DS-103806eb-8b16-438b-9d71-c38be9f2b160,DISK]]; indices=[0, 1, 2, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-759597278-172.17.0.18-1597589406153:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44822,DS-cb44d5ba-575f-4053-832d-380fcc198abb,DISK], DatanodeInfoWithStorage[127.0.0.1:43005,DS-b6489133-2fcf-465f-a1e0-cb9d43c97ea0,DISK], DatanodeInfoWithStorage[127.0.0.1:42377,DS-5cb529a8-4e97-4496-9b74-ead39cc88d84,DISK], DatanodeInfoWithStorage[127.0.0.1:45466,DS-ab383794-b6a1-407c-8e33-2504ffb124da,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-ca51d1e0-287e-4d30-9aea-dc663c912b55,DISK], DatanodeInfoWithStorage[127.0.0.1:44580,DS-fef1a47c-1698-47e7-894a-c003d5484246,DISK], DatanodeInfoWithStorage[127.0.0.1:44480,DS-103806eb-8b16-438b-9d71-c38be9f2b160,DISK]]; indices=[0, 1, 2, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-759597278-172.17.0.18-1597589406153:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44822,DS-cb44d5ba-575f-4053-832d-380fcc198abb,DISK], DatanodeInfoWithStorage[127.0.0.1:43005,DS-b6489133-2fcf-465f-a1e0-cb9d43c97ea0,DISK], DatanodeInfoWithStorage[127.0.0.1:42377,DS-5cb529a8-4e97-4496-9b74-ead39cc88d84,DISK], DatanodeInfoWithStorage[127.0.0.1:45466,DS-ab383794-b6a1-407c-8e33-2504ffb124da,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-ca51d1e0-287e-4d30-9aea-dc663c912b55,DISK], DatanodeInfoWithStorage[127.0.0.1:44580,DS-fef1a47c-1698-47e7-894a-c003d5484246,DISK], DatanodeInfoWithStorage[127.0.0.1:44480,DS-103806eb-8b16-438b-9d71-c38be9f2b160,DISK]]; indices=[0, 1, 2, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-759597278-172.17.0.18-1597589406153:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44822,DS-cb44d5ba-575f-4053-832d-380fcc198abb,DISK], DatanodeInfoWithStorage[127.0.0.1:43005,DS-b6489133-2fcf-465f-a1e0-cb9d43c97ea0,DISK], DatanodeInfoWithStorage[127.0.0.1:42377,DS-5cb529a8-4e97-4496-9b74-ead39cc88d84,DISK], DatanodeInfoWithStorage[127.0.0.1:45466,DS-ab383794-b6a1-407c-8e33-2504ffb124da,DISK], DatanodeInfoWithStorage[127.0.0.1:43319,DS-ca51d1e0-287e-4d30-9aea-dc663c912b55,DISK], DatanodeInfoWithStorage[127.0.0.1:44580,DS-fef1a47c-1698-47e7-894a-c003d5484246,DISK], DatanodeInfoWithStorage[127.0.0.1:44480,DS-103806eb-8b16-438b-9d71-c38be9f2b160,DISK]]; indices=[0, 1, 2, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 6 out of 50
v1v1v2v2 failed with probability 13 out of 50
result: false positive !!!
Total execution time in seconds : 7366
