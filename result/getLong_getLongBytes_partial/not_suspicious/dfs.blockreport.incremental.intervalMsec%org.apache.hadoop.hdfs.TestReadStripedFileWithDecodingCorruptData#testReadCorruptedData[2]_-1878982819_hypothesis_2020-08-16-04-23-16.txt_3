reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1316334815-172.17.0.9-1597552305651:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42578,DS-bdb7c083-5a48-446d-a095-bc54baf04188,DISK], DatanodeInfoWithStorage[127.0.0.1:43581,DS-eab1571b-0a25-42f2-ac4b-82de51bfab44,DISK], DatanodeInfoWithStorage[127.0.0.1:45553,DS-c67cfc45-57b5-4abd-a416-c84372bda0d0,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-33b27d0f-c3a4-4bf7-a942-3ab3e72a1a30,DISK], DatanodeInfoWithStorage[127.0.0.1:34844,DS-d8d0b60e-ea0b-4f46-b1ba-f167cb71190c,DISK], DatanodeInfoWithStorage[127.0.0.1:45577,DS-bec38923-d751-41c1-958d-e547ee767417,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1316334815-172.17.0.9-1597552305651:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42578,DS-bdb7c083-5a48-446d-a095-bc54baf04188,DISK], DatanodeInfoWithStorage[127.0.0.1:43581,DS-eab1571b-0a25-42f2-ac4b-82de51bfab44,DISK], DatanodeInfoWithStorage[127.0.0.1:45553,DS-c67cfc45-57b5-4abd-a416-c84372bda0d0,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-33b27d0f-c3a4-4bf7-a942-3ab3e72a1a30,DISK], DatanodeInfoWithStorage[127.0.0.1:34844,DS-d8d0b60e-ea0b-4f46-b1ba-f167cb71190c,DISK], DatanodeInfoWithStorage[127.0.0.1:45577,DS-bec38923-d751-41c1-958d-e547ee767417,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1316334815-172.17.0.9-1597552305651:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42578,DS-bdb7c083-5a48-446d-a095-bc54baf04188,DISK], DatanodeInfoWithStorage[127.0.0.1:43581,DS-eab1571b-0a25-42f2-ac4b-82de51bfab44,DISK], DatanodeInfoWithStorage[127.0.0.1:45553,DS-c67cfc45-57b5-4abd-a416-c84372bda0d0,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-33b27d0f-c3a4-4bf7-a942-3ab3e72a1a30,DISK], DatanodeInfoWithStorage[127.0.0.1:34844,DS-d8d0b60e-ea0b-4f46-b1ba-f167cb71190c,DISK], DatanodeInfoWithStorage[127.0.0.1:45577,DS-bec38923-d751-41c1-958d-e547ee767417,DISK]]; indices=[0, 1, 2, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1316334815-172.17.0.9-1597552305651:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42578,DS-bdb7c083-5a48-446d-a095-bc54baf04188,DISK], DatanodeInfoWithStorage[127.0.0.1:43581,DS-eab1571b-0a25-42f2-ac4b-82de51bfab44,DISK], DatanodeInfoWithStorage[127.0.0.1:45553,DS-c67cfc45-57b5-4abd-a416-c84372bda0d0,DISK], DatanodeInfoWithStorage[127.0.0.1:45424,DS-33b27d0f-c3a4-4bf7-a942-3ab3e72a1a30,DISK], DatanodeInfoWithStorage[127.0.0.1:34844,DS-d8d0b60e-ea0b-4f46-b1ba-f167cb71190c,DISK], DatanodeInfoWithStorage[127.0.0.1:45577,DS-bec38923-d751-41c1-958d-e547ee767417,DISK]]; indices=[0, 1, 2, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1015508524-172.17.0.9-1597556468987:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37360,DS-c9cbc348-fcf2-48fb-b5d0-c742af72b74c,DISK], DatanodeInfoWithStorage[127.0.0.1:34078,DS-ad263dab-4bee-47eb-af53-158d531116b9,DISK], DatanodeInfoWithStorage[127.0.0.1:38002,DS-e4f7ba1b-efce-4060-93a7-145d7aab8c11,DISK], DatanodeInfoWithStorage[127.0.0.1:44884,DS-11f42763-c532-4fcb-828a-f4c8caff39ca,DISK], DatanodeInfoWithStorage[127.0.0.1:35101,DS-fe85778a-e05a-419b-ae13-f82a31867cac,DISK], DatanodeInfoWithStorage[127.0.0.1:36369,DS-09842917-e585-43be-b217-bd35eb5ae23e,DISK], DatanodeInfoWithStorage[127.0.0.1:43151,DS-e23e8934-9e2a-4807-9019-90eb751d1b05,DISK], DatanodeInfoWithStorage[127.0.0.1:37714,DS-4a6c158f-9e5e-446c-a277-d239d3c1a916,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1015508524-172.17.0.9-1597556468987:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37360,DS-c9cbc348-fcf2-48fb-b5d0-c742af72b74c,DISK], DatanodeInfoWithStorage[127.0.0.1:34078,DS-ad263dab-4bee-47eb-af53-158d531116b9,DISK], DatanodeInfoWithStorage[127.0.0.1:38002,DS-e4f7ba1b-efce-4060-93a7-145d7aab8c11,DISK], DatanodeInfoWithStorage[127.0.0.1:44884,DS-11f42763-c532-4fcb-828a-f4c8caff39ca,DISK], DatanodeInfoWithStorage[127.0.0.1:35101,DS-fe85778a-e05a-419b-ae13-f82a31867cac,DISK], DatanodeInfoWithStorage[127.0.0.1:36369,DS-09842917-e585-43be-b217-bd35eb5ae23e,DISK], DatanodeInfoWithStorage[127.0.0.1:43151,DS-e23e8934-9e2a-4807-9019-90eb751d1b05,DISK], DatanodeInfoWithStorage[127.0.0.1:37714,DS-4a6c158f-9e5e-446c-a277-d239d3c1a916,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1015508524-172.17.0.9-1597556468987:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37360,DS-c9cbc348-fcf2-48fb-b5d0-c742af72b74c,DISK], DatanodeInfoWithStorage[127.0.0.1:34078,DS-ad263dab-4bee-47eb-af53-158d531116b9,DISK], DatanodeInfoWithStorage[127.0.0.1:38002,DS-e4f7ba1b-efce-4060-93a7-145d7aab8c11,DISK], DatanodeInfoWithStorage[127.0.0.1:44884,DS-11f42763-c532-4fcb-828a-f4c8caff39ca,DISK], DatanodeInfoWithStorage[127.0.0.1:35101,DS-fe85778a-e05a-419b-ae13-f82a31867cac,DISK], DatanodeInfoWithStorage[127.0.0.1:36369,DS-09842917-e585-43be-b217-bd35eb5ae23e,DISK], DatanodeInfoWithStorage[127.0.0.1:43151,DS-e23e8934-9e2a-4807-9019-90eb751d1b05,DISK], DatanodeInfoWithStorage[127.0.0.1:37714,DS-4a6c158f-9e5e-446c-a277-d239d3c1a916,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1015508524-172.17.0.9-1597556468987:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37360,DS-c9cbc348-fcf2-48fb-b5d0-c742af72b74c,DISK], DatanodeInfoWithStorage[127.0.0.1:34078,DS-ad263dab-4bee-47eb-af53-158d531116b9,DISK], DatanodeInfoWithStorage[127.0.0.1:38002,DS-e4f7ba1b-efce-4060-93a7-145d7aab8c11,DISK], DatanodeInfoWithStorage[127.0.0.1:44884,DS-11f42763-c532-4fcb-828a-f4c8caff39ca,DISK], DatanodeInfoWithStorage[127.0.0.1:35101,DS-fe85778a-e05a-419b-ae13-f82a31867cac,DISK], DatanodeInfoWithStorage[127.0.0.1:36369,DS-09842917-e585-43be-b217-bd35eb5ae23e,DISK], DatanodeInfoWithStorage[127.0.0.1:43151,DS-e23e8934-9e2a-4807-9019-90eb751d1b05,DISK], DatanodeInfoWithStorage[127.0.0.1:37714,DS-4a6c158f-9e5e-446c-a277-d239d3c1a916,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-790183069-172.17.0.9-1597559767830:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33403,DS-6e2e038e-21e8-4643-bf6f-ba3865c24ed1,DISK], DatanodeInfoWithStorage[127.0.0.1:41200,DS-21d8a8e8-5cc0-46e9-bee8-0d275c3c4244,DISK], DatanodeInfoWithStorage[127.0.0.1:38395,DS-9f952b15-6e74-4714-b37f-62a768ec8b8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38969,DS-e5c5f1c7-7a57-4cc5-b858-8f4c5b010ff0,DISK], DatanodeInfoWithStorage[127.0.0.1:38260,DS-af123d6f-5b4d-49bf-9d4b-1a3d3ad1541d,DISK], DatanodeInfoWithStorage[127.0.0.1:38584,DS-34ce1ddd-dd49-4420-8545-e63568d753c6,DISK]]; indices=[1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-790183069-172.17.0.9-1597559767830:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33403,DS-6e2e038e-21e8-4643-bf6f-ba3865c24ed1,DISK], DatanodeInfoWithStorage[127.0.0.1:41200,DS-21d8a8e8-5cc0-46e9-bee8-0d275c3c4244,DISK], DatanodeInfoWithStorage[127.0.0.1:38395,DS-9f952b15-6e74-4714-b37f-62a768ec8b8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38969,DS-e5c5f1c7-7a57-4cc5-b858-8f4c5b010ff0,DISK], DatanodeInfoWithStorage[127.0.0.1:38260,DS-af123d6f-5b4d-49bf-9d4b-1a3d3ad1541d,DISK], DatanodeInfoWithStorage[127.0.0.1:38584,DS-34ce1ddd-dd49-4420-8545-e63568d753c6,DISK]]; indices=[1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=3, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-790183069-172.17.0.9-1597559767830:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33403,DS-6e2e038e-21e8-4643-bf6f-ba3865c24ed1,DISK], DatanodeInfoWithStorage[127.0.0.1:41200,DS-21d8a8e8-5cc0-46e9-bee8-0d275c3c4244,DISK], DatanodeInfoWithStorage[127.0.0.1:38395,DS-9f952b15-6e74-4714-b37f-62a768ec8b8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38969,DS-e5c5f1c7-7a57-4cc5-b858-8f4c5b010ff0,DISK], DatanodeInfoWithStorage[127.0.0.1:38260,DS-af123d6f-5b4d-49bf-9d4b-1a3d3ad1541d,DISK], DatanodeInfoWithStorage[127.0.0.1:38584,DS-34ce1ddd-dd49-4420-8545-e63568d753c6,DISK]]; indices=[1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-790183069-172.17.0.9-1597559767830:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33403,DS-6e2e038e-21e8-4643-bf6f-ba3865c24ed1,DISK], DatanodeInfoWithStorage[127.0.0.1:41200,DS-21d8a8e8-5cc0-46e9-bee8-0d275c3c4244,DISK], DatanodeInfoWithStorage[127.0.0.1:38395,DS-9f952b15-6e74-4714-b37f-62a768ec8b8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38969,DS-e5c5f1c7-7a57-4cc5-b858-8f4c5b010ff0,DISK], DatanodeInfoWithStorage[127.0.0.1:38260,DS-af123d6f-5b4d-49bf-9d4b-1a3d3ad1541d,DISK], DatanodeInfoWithStorage[127.0.0.1:38584,DS-34ce1ddd-dd49-4420-8545-e63568d753c6,DISK]]; indices=[1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-63461915-172.17.0.9-1597559977552:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41062,DS-d9e2639c-d9a6-4ec6-895b-c4a1f663c532,DISK], DatanodeInfoWithStorage[127.0.0.1:33201,DS-b5dd1b57-1edf-497f-b01d-24db3c304679,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-d7500876-2a47-4d2e-8e8b-39bb8c43d4a1,DISK], DatanodeInfoWithStorage[127.0.0.1:39877,DS-67e1aba8-58ce-4612-a349-396ddd5b456f,DISK], DatanodeInfoWithStorage[127.0.0.1:35024,DS-67b63e3d-3d54-4fad-93e5-8bfa164e1574,DISK], DatanodeInfoWithStorage[127.0.0.1:39309,DS-d7f56b9c-b912-4f0a-b0f8-5213b6c1576c,DISK], DatanodeInfoWithStorage[127.0.0.1:43718,DS-86053cd0-e3e3-4ab2-9da2-30022e64ba18,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-63461915-172.17.0.9-1597559977552:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41062,DS-d9e2639c-d9a6-4ec6-895b-c4a1f663c532,DISK], DatanodeInfoWithStorage[127.0.0.1:33201,DS-b5dd1b57-1edf-497f-b01d-24db3c304679,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-d7500876-2a47-4d2e-8e8b-39bb8c43d4a1,DISK], DatanodeInfoWithStorage[127.0.0.1:39877,DS-67e1aba8-58ce-4612-a349-396ddd5b456f,DISK], DatanodeInfoWithStorage[127.0.0.1:35024,DS-67b63e3d-3d54-4fad-93e5-8bfa164e1574,DISK], DatanodeInfoWithStorage[127.0.0.1:39309,DS-d7f56b9c-b912-4f0a-b0f8-5213b6c1576c,DISK], DatanodeInfoWithStorage[127.0.0.1:43718,DS-86053cd0-e3e3-4ab2-9da2-30022e64ba18,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-63461915-172.17.0.9-1597559977552:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41062,DS-d9e2639c-d9a6-4ec6-895b-c4a1f663c532,DISK], DatanodeInfoWithStorage[127.0.0.1:33201,DS-b5dd1b57-1edf-497f-b01d-24db3c304679,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-d7500876-2a47-4d2e-8e8b-39bb8c43d4a1,DISK], DatanodeInfoWithStorage[127.0.0.1:39877,DS-67e1aba8-58ce-4612-a349-396ddd5b456f,DISK], DatanodeInfoWithStorage[127.0.0.1:35024,DS-67b63e3d-3d54-4fad-93e5-8bfa164e1574,DISK], DatanodeInfoWithStorage[127.0.0.1:39309,DS-d7f56b9c-b912-4f0a-b0f8-5213b6c1576c,DISK], DatanodeInfoWithStorage[127.0.0.1:43718,DS-86053cd0-e3e3-4ab2-9da2-30022e64ba18,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-63461915-172.17.0.9-1597559977552:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41062,DS-d9e2639c-d9a6-4ec6-895b-c4a1f663c532,DISK], DatanodeInfoWithStorage[127.0.0.1:33201,DS-b5dd1b57-1edf-497f-b01d-24db3c304679,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-d7500876-2a47-4d2e-8e8b-39bb8c43d4a1,DISK], DatanodeInfoWithStorage[127.0.0.1:39877,DS-67e1aba8-58ce-4612-a349-396ddd5b456f,DISK], DatanodeInfoWithStorage[127.0.0.1:35024,DS-67b63e3d-3d54-4fad-93e5-8bfa164e1574,DISK], DatanodeInfoWithStorage[127.0.0.1:39309,DS-d7f56b9c-b912-4f0a-b0f8-5213b6c1576c,DISK], DatanodeInfoWithStorage[127.0.0.1:43718,DS-86053cd0-e3e3-4ab2-9da2-30022e64ba18,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2009348933-172.17.0.9-1597561879869:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33648,DS-8e39fb0b-3ec5-4b1b-b541-78276dbc1687,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-68c6fac8-5f12-441d-b056-2459695b2d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-0c001e38-68aa-41ef-9278-f62535767c0e,DISK], DatanodeInfoWithStorage[127.0.0.1:39098,DS-54dad3e9-76a1-47fc-b057-28223d28b374,DISK], DatanodeInfoWithStorage[127.0.0.1:38036,DS-6baa143e-c915-4854-bc9a-c6769f70ae99,DISK], DatanodeInfoWithStorage[127.0.0.1:38794,DS-e62c1bed-9da3-47a1-bfba-319df15e13b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42035,DS-3ea875b6-1bc9-422c-82d8-6ef26c22b731,DISK], DatanodeInfoWithStorage[127.0.0.1:33708,DS-eb83255c-4b29-4a21-bbb5-dfadd5942186,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2009348933-172.17.0.9-1597561879869:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33648,DS-8e39fb0b-3ec5-4b1b-b541-78276dbc1687,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-68c6fac8-5f12-441d-b056-2459695b2d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-0c001e38-68aa-41ef-9278-f62535767c0e,DISK], DatanodeInfoWithStorage[127.0.0.1:39098,DS-54dad3e9-76a1-47fc-b057-28223d28b374,DISK], DatanodeInfoWithStorage[127.0.0.1:38036,DS-6baa143e-c915-4854-bc9a-c6769f70ae99,DISK], DatanodeInfoWithStorage[127.0.0.1:38794,DS-e62c1bed-9da3-47a1-bfba-319df15e13b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42035,DS-3ea875b6-1bc9-422c-82d8-6ef26c22b731,DISK], DatanodeInfoWithStorage[127.0.0.1:33708,DS-eb83255c-4b29-4a21-bbb5-dfadd5942186,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2009348933-172.17.0.9-1597561879869:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33648,DS-8e39fb0b-3ec5-4b1b-b541-78276dbc1687,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-68c6fac8-5f12-441d-b056-2459695b2d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-0c001e38-68aa-41ef-9278-f62535767c0e,DISK], DatanodeInfoWithStorage[127.0.0.1:39098,DS-54dad3e9-76a1-47fc-b057-28223d28b374,DISK], DatanodeInfoWithStorage[127.0.0.1:38036,DS-6baa143e-c915-4854-bc9a-c6769f70ae99,DISK], DatanodeInfoWithStorage[127.0.0.1:38794,DS-e62c1bed-9da3-47a1-bfba-319df15e13b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42035,DS-3ea875b6-1bc9-422c-82d8-6ef26c22b731,DISK], DatanodeInfoWithStorage[127.0.0.1:33708,DS-eb83255c-4b29-4a21-bbb5-dfadd5942186,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2009348933-172.17.0.9-1597561879869:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33648,DS-8e39fb0b-3ec5-4b1b-b541-78276dbc1687,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-68c6fac8-5f12-441d-b056-2459695b2d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-0c001e38-68aa-41ef-9278-f62535767c0e,DISK], DatanodeInfoWithStorage[127.0.0.1:39098,DS-54dad3e9-76a1-47fc-b057-28223d28b374,DISK], DatanodeInfoWithStorage[127.0.0.1:38036,DS-6baa143e-c915-4854-bc9a-c6769f70ae99,DISK], DatanodeInfoWithStorage[127.0.0.1:38794,DS-e62c1bed-9da3-47a1-bfba-319df15e13b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42035,DS-3ea875b6-1bc9-422c-82d8-6ef26c22b731,DISK], DatanodeInfoWithStorage[127.0.0.1:33708,DS-eb83255c-4b29-4a21-bbb5-dfadd5942186,DISK]]; indices=[0, 2, 3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1024771849-172.17.0.9-1597561992139:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38857,DS-ae543592-76c1-4972-9ff7-57c727f867da,DISK], DatanodeInfoWithStorage[127.0.0.1:38953,DS-84bbf0eb-7221-4b28-ac54-76a0b17ea9b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42391,DS-f244c0ae-155f-4400-ae06-2bcc4fa74d99,DISK], DatanodeInfoWithStorage[127.0.0.1:43939,DS-c5c74149-452b-46b7-a9ad-549df94ac9d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39743,DS-a63313b1-6ac0-43b0-b467-3713c2744a54,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-ba97a357-5405-49fc-9fb7-8cba31121306,DISK], DatanodeInfoWithStorage[127.0.0.1:41048,DS-7ca2e9d1-aa26-44cd-a48e-980e66d420b0,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1024771849-172.17.0.9-1597561992139:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38857,DS-ae543592-76c1-4972-9ff7-57c727f867da,DISK], DatanodeInfoWithStorage[127.0.0.1:38953,DS-84bbf0eb-7221-4b28-ac54-76a0b17ea9b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42391,DS-f244c0ae-155f-4400-ae06-2bcc4fa74d99,DISK], DatanodeInfoWithStorage[127.0.0.1:43939,DS-c5c74149-452b-46b7-a9ad-549df94ac9d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39743,DS-a63313b1-6ac0-43b0-b467-3713c2744a54,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-ba97a357-5405-49fc-9fb7-8cba31121306,DISK], DatanodeInfoWithStorage[127.0.0.1:41048,DS-7ca2e9d1-aa26-44cd-a48e-980e66d420b0,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1024771849-172.17.0.9-1597561992139:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38857,DS-ae543592-76c1-4972-9ff7-57c727f867da,DISK], DatanodeInfoWithStorage[127.0.0.1:38953,DS-84bbf0eb-7221-4b28-ac54-76a0b17ea9b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42391,DS-f244c0ae-155f-4400-ae06-2bcc4fa74d99,DISK], DatanodeInfoWithStorage[127.0.0.1:43939,DS-c5c74149-452b-46b7-a9ad-549df94ac9d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39743,DS-a63313b1-6ac0-43b0-b467-3713c2744a54,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-ba97a357-5405-49fc-9fb7-8cba31121306,DISK], DatanodeInfoWithStorage[127.0.0.1:41048,DS-7ca2e9d1-aa26-44cd-a48e-980e66d420b0,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1024771849-172.17.0.9-1597561992139:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38857,DS-ae543592-76c1-4972-9ff7-57c727f867da,DISK], DatanodeInfoWithStorage[127.0.0.1:38953,DS-84bbf0eb-7221-4b28-ac54-76a0b17ea9b4,DISK], DatanodeInfoWithStorage[127.0.0.1:42391,DS-f244c0ae-155f-4400-ae06-2bcc4fa74d99,DISK], DatanodeInfoWithStorage[127.0.0.1:43939,DS-c5c74149-452b-46b7-a9ad-549df94ac9d6,DISK], DatanodeInfoWithStorage[127.0.0.1:39743,DS-a63313b1-6ac0-43b0-b467-3713c2744a54,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-ba97a357-5405-49fc-9fb7-8cba31121306,DISK], DatanodeInfoWithStorage[127.0.0.1:41048,DS-7ca2e9d1-aa26-44cd-a48e-980e66d420b0,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1335318582-172.17.0.9-1597563060317:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-16838bca-b4dd-4e8c-8cae-10de8999a581,DISK], DatanodeInfoWithStorage[127.0.0.1:33090,DS-55bbae6a-8957-41fe-b322-6f713eb42102,DISK], DatanodeInfoWithStorage[127.0.0.1:42988,DS-d4b6bd68-adbf-40b7-aa4e-66dc394b4618,DISK], DatanodeInfoWithStorage[127.0.0.1:39515,DS-458e1375-6e95-4b73-8e8a-047d7000ad79,DISK], DatanodeInfoWithStorage[127.0.0.1:37180,DS-bff34fbe-35ad-414d-bc13-f5a52a88b13e,DISK], DatanodeInfoWithStorage[127.0.0.1:44558,DS-418a325f-3a2f-40d8-a7b5-f6ea01f1cd84,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-4a8537d6-c4c0-4794-8fcb-90415570cb18,DISK]]; indices=[0, 2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1335318582-172.17.0.9-1597563060317:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-16838bca-b4dd-4e8c-8cae-10de8999a581,DISK], DatanodeInfoWithStorage[127.0.0.1:33090,DS-55bbae6a-8957-41fe-b322-6f713eb42102,DISK], DatanodeInfoWithStorage[127.0.0.1:42988,DS-d4b6bd68-adbf-40b7-aa4e-66dc394b4618,DISK], DatanodeInfoWithStorage[127.0.0.1:39515,DS-458e1375-6e95-4b73-8e8a-047d7000ad79,DISK], DatanodeInfoWithStorage[127.0.0.1:37180,DS-bff34fbe-35ad-414d-bc13-f5a52a88b13e,DISK], DatanodeInfoWithStorage[127.0.0.1:44558,DS-418a325f-3a2f-40d8-a7b5-f6ea01f1cd84,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-4a8537d6-c4c0-4794-8fcb-90415570cb18,DISK]]; indices=[0, 2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1335318582-172.17.0.9-1597563060317:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-16838bca-b4dd-4e8c-8cae-10de8999a581,DISK], DatanodeInfoWithStorage[127.0.0.1:33090,DS-55bbae6a-8957-41fe-b322-6f713eb42102,DISK], DatanodeInfoWithStorage[127.0.0.1:42988,DS-d4b6bd68-adbf-40b7-aa4e-66dc394b4618,DISK], DatanodeInfoWithStorage[127.0.0.1:39515,DS-458e1375-6e95-4b73-8e8a-047d7000ad79,DISK], DatanodeInfoWithStorage[127.0.0.1:37180,DS-bff34fbe-35ad-414d-bc13-f5a52a88b13e,DISK], DatanodeInfoWithStorage[127.0.0.1:44558,DS-418a325f-3a2f-40d8-a7b5-f6ea01f1cd84,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-4a8537d6-c4c0-4794-8fcb-90415570cb18,DISK]]; indices=[0, 2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1335318582-172.17.0.9-1597563060317:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43046,DS-16838bca-b4dd-4e8c-8cae-10de8999a581,DISK], DatanodeInfoWithStorage[127.0.0.1:33090,DS-55bbae6a-8957-41fe-b322-6f713eb42102,DISK], DatanodeInfoWithStorage[127.0.0.1:42988,DS-d4b6bd68-adbf-40b7-aa4e-66dc394b4618,DISK], DatanodeInfoWithStorage[127.0.0.1:39515,DS-458e1375-6e95-4b73-8e8a-047d7000ad79,DISK], DatanodeInfoWithStorage[127.0.0.1:37180,DS-bff34fbe-35ad-414d-bc13-f5a52a88b13e,DISK], DatanodeInfoWithStorage[127.0.0.1:44558,DS-418a325f-3a2f-40d8-a7b5-f6ea01f1cd84,DISK], DatanodeInfoWithStorage[127.0.0.1:35811,DS-4a8537d6-c4c0-4794-8fcb-90415570cb18,DISK]]; indices=[0, 2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 3 out of 50
v1v1v2v2 failed with probability 4 out of 50
result: false positive !!!
Total execution time in seconds : 12479
