reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-638119319-172.17.0.11-1597480670365:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40290,DS-53577b3e-1224-4f1e-9869-d97551c56c18,DISK], DatanodeInfoWithStorage[127.0.0.1:45142,DS-7136e464-7a8b-4a42-89bc-815f937108ec,DISK], DatanodeInfoWithStorage[127.0.0.1:42906,DS-d571183d-01a6-41ff-a1cd-becfffa5db6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43703,DS-1fa6e70f-1b9c-4316-aa2d-dbd87c84d696,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-cf2419da-e3ba-4c11-9bac-1184c0b1a80d,DISK], DatanodeInfoWithStorage[127.0.0.1:45000,DS-e6699118-83f8-4fd8-97cf-d4f0561e5dad,DISK], DatanodeInfoWithStorage[127.0.0.1:35098,DS-37825cd3-a926-4f8a-b5db-3b0bda1eb62c,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-638119319-172.17.0.11-1597480670365:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40290,DS-53577b3e-1224-4f1e-9869-d97551c56c18,DISK], DatanodeInfoWithStorage[127.0.0.1:45142,DS-7136e464-7a8b-4a42-89bc-815f937108ec,DISK], DatanodeInfoWithStorage[127.0.0.1:42906,DS-d571183d-01a6-41ff-a1cd-becfffa5db6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43703,DS-1fa6e70f-1b9c-4316-aa2d-dbd87c84d696,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-cf2419da-e3ba-4c11-9bac-1184c0b1a80d,DISK], DatanodeInfoWithStorage[127.0.0.1:45000,DS-e6699118-83f8-4fd8-97cf-d4f0561e5dad,DISK], DatanodeInfoWithStorage[127.0.0.1:35098,DS-37825cd3-a926-4f8a-b5db-3b0bda1eb62c,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-638119319-172.17.0.11-1597480670365:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40290,DS-53577b3e-1224-4f1e-9869-d97551c56c18,DISK], DatanodeInfoWithStorage[127.0.0.1:45142,DS-7136e464-7a8b-4a42-89bc-815f937108ec,DISK], DatanodeInfoWithStorage[127.0.0.1:42906,DS-d571183d-01a6-41ff-a1cd-becfffa5db6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43703,DS-1fa6e70f-1b9c-4316-aa2d-dbd87c84d696,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-cf2419da-e3ba-4c11-9bac-1184c0b1a80d,DISK], DatanodeInfoWithStorage[127.0.0.1:45000,DS-e6699118-83f8-4fd8-97cf-d4f0561e5dad,DISK], DatanodeInfoWithStorage[127.0.0.1:35098,DS-37825cd3-a926-4f8a-b5db-3b0bda1eb62c,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-638119319-172.17.0.11-1597480670365:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40290,DS-53577b3e-1224-4f1e-9869-d97551c56c18,DISK], DatanodeInfoWithStorage[127.0.0.1:45142,DS-7136e464-7a8b-4a42-89bc-815f937108ec,DISK], DatanodeInfoWithStorage[127.0.0.1:42906,DS-d571183d-01a6-41ff-a1cd-becfffa5db6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43703,DS-1fa6e70f-1b9c-4316-aa2d-dbd87c84d696,DISK], DatanodeInfoWithStorage[127.0.0.1:44209,DS-cf2419da-e3ba-4c11-9bac-1184c0b1a80d,DISK], DatanodeInfoWithStorage[127.0.0.1:45000,DS-e6699118-83f8-4fd8-97cf-d4f0561e5dad,DISK], DatanodeInfoWithStorage[127.0.0.1:35098,DS-37825cd3-a926-4f8a-b5db-3b0bda1eb62c,DISK]]; indices=[1, 5, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1010255991-172.17.0.11-1597481418343:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39214,DS-7261f21b-0b10-4cf2-9f4b-a027c786e13c,DISK], DatanodeInfoWithStorage[127.0.0.1:42822,DS-117b1857-2a5b-4945-980f-5f9f9fda19d8,DISK], DatanodeInfoWithStorage[127.0.0.1:34498,DS-af5fc441-70be-4475-8d4a-608d414d6a20,DISK], DatanodeInfoWithStorage[127.0.0.1:32795,DS-e05438bc-42be-432e-a5d4-bef98c75eac6,DISK], DatanodeInfoWithStorage[127.0.0.1:40150,DS-ae5ec6b7-23a2-4423-ae8b-352333861bc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39175,DS-177484bc-1d1d-4e88-92e5-96258db4a7a1,DISK]]; indices=[1, 2, 4, 6, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1010255991-172.17.0.11-1597481418343:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39214,DS-7261f21b-0b10-4cf2-9f4b-a027c786e13c,DISK], DatanodeInfoWithStorage[127.0.0.1:42822,DS-117b1857-2a5b-4945-980f-5f9f9fda19d8,DISK], DatanodeInfoWithStorage[127.0.0.1:34498,DS-af5fc441-70be-4475-8d4a-608d414d6a20,DISK], DatanodeInfoWithStorage[127.0.0.1:32795,DS-e05438bc-42be-432e-a5d4-bef98c75eac6,DISK], DatanodeInfoWithStorage[127.0.0.1:40150,DS-ae5ec6b7-23a2-4423-ae8b-352333861bc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39175,DS-177484bc-1d1d-4e88-92e5-96258db4a7a1,DISK]]; indices=[1, 2, 4, 6, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1010255991-172.17.0.11-1597481418343:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39214,DS-7261f21b-0b10-4cf2-9f4b-a027c786e13c,DISK], DatanodeInfoWithStorage[127.0.0.1:42822,DS-117b1857-2a5b-4945-980f-5f9f9fda19d8,DISK], DatanodeInfoWithStorage[127.0.0.1:34498,DS-af5fc441-70be-4475-8d4a-608d414d6a20,DISK], DatanodeInfoWithStorage[127.0.0.1:32795,DS-e05438bc-42be-432e-a5d4-bef98c75eac6,DISK], DatanodeInfoWithStorage[127.0.0.1:40150,DS-ae5ec6b7-23a2-4423-ae8b-352333861bc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39175,DS-177484bc-1d1d-4e88-92e5-96258db4a7a1,DISK]]; indices=[1, 2, 4, 6, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1010255991-172.17.0.11-1597481418343:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39214,DS-7261f21b-0b10-4cf2-9f4b-a027c786e13c,DISK], DatanodeInfoWithStorage[127.0.0.1:42822,DS-117b1857-2a5b-4945-980f-5f9f9fda19d8,DISK], DatanodeInfoWithStorage[127.0.0.1:34498,DS-af5fc441-70be-4475-8d4a-608d414d6a20,DISK], DatanodeInfoWithStorage[127.0.0.1:32795,DS-e05438bc-42be-432e-a5d4-bef98c75eac6,DISK], DatanodeInfoWithStorage[127.0.0.1:40150,DS-ae5ec6b7-23a2-4423-ae8b-352333861bc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39175,DS-177484bc-1d1d-4e88-92e5-96258db4a7a1,DISK]]; indices=[1, 2, 4, 6, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-526663675-172.17.0.11-1597481583201:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41740,DS-63842534-a001-4e0d-86b9-bcef4ccbc6c6,DISK], DatanodeInfoWithStorage[127.0.0.1:34892,DS-e26a173d-730c-48d7-8c82-63b6607f6dba,DISK], DatanodeInfoWithStorage[127.0.0.1:35882,DS-7a896b90-d78b-43b1-8e14-3a90efbee5e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42384,DS-549ee37b-face-42bf-900a-edf1b80663e9,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-6037a661-7a18-4908-914b-b7b06ffa3963,DISK], DatanodeInfoWithStorage[127.0.0.1:37526,DS-a6896c81-d3b3-4b79-a844-c18e24e4091a,DISK]]; indices=[0, 1, 4, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-526663675-172.17.0.11-1597481583201:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41740,DS-63842534-a001-4e0d-86b9-bcef4ccbc6c6,DISK], DatanodeInfoWithStorage[127.0.0.1:34892,DS-e26a173d-730c-48d7-8c82-63b6607f6dba,DISK], DatanodeInfoWithStorage[127.0.0.1:35882,DS-7a896b90-d78b-43b1-8e14-3a90efbee5e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42384,DS-549ee37b-face-42bf-900a-edf1b80663e9,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-6037a661-7a18-4908-914b-b7b06ffa3963,DISK], DatanodeInfoWithStorage[127.0.0.1:37526,DS-a6896c81-d3b3-4b79-a844-c18e24e4091a,DISK]]; indices=[0, 1, 4, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-526663675-172.17.0.11-1597481583201:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41740,DS-63842534-a001-4e0d-86b9-bcef4ccbc6c6,DISK], DatanodeInfoWithStorage[127.0.0.1:34892,DS-e26a173d-730c-48d7-8c82-63b6607f6dba,DISK], DatanodeInfoWithStorage[127.0.0.1:35882,DS-7a896b90-d78b-43b1-8e14-3a90efbee5e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42384,DS-549ee37b-face-42bf-900a-edf1b80663e9,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-6037a661-7a18-4908-914b-b7b06ffa3963,DISK], DatanodeInfoWithStorage[127.0.0.1:37526,DS-a6896c81-d3b3-4b79-a844-c18e24e4091a,DISK]]; indices=[0, 1, 4, 6, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-526663675-172.17.0.11-1597481583201:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41740,DS-63842534-a001-4e0d-86b9-bcef4ccbc6c6,DISK], DatanodeInfoWithStorage[127.0.0.1:34892,DS-e26a173d-730c-48d7-8c82-63b6607f6dba,DISK], DatanodeInfoWithStorage[127.0.0.1:35882,DS-7a896b90-d78b-43b1-8e14-3a90efbee5e1,DISK], DatanodeInfoWithStorage[127.0.0.1:42384,DS-549ee37b-face-42bf-900a-edf1b80663e9,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-6037a661-7a18-4908-914b-b7b06ffa3963,DISK], DatanodeInfoWithStorage[127.0.0.1:37526,DS-a6896c81-d3b3-4b79-a844-c18e24e4091a,DISK]]; indices=[0, 1, 4, 6, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-48131216-172.17.0.11-1597481991968:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38927,DS-18059474-078b-4f8e-aa43-8f953ad5c32f,DISK], DatanodeInfoWithStorage[127.0.0.1:34206,DS-cd878f30-cc1a-450e-8f0c-bb2102e60700,DISK], DatanodeInfoWithStorage[127.0.0.1:36601,DS-7a0020ff-eb82-4964-96a8-a3cf1be1e54a,DISK], DatanodeInfoWithStorage[127.0.0.1:46162,DS-cf725877-1db9-4c68-9a01-13f729787d73,DISK], DatanodeInfoWithStorage[127.0.0.1:34569,DS-80ada441-afbd-4a82-91fa-2b275174ceec,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-5b7a5742-1e11-4414-baee-43e81c195f2e,DISK], DatanodeInfoWithStorage[127.0.0.1:45305,DS-cd297195-60fd-49f3-bc81-97f732686e09,DISK]]; indices=[1, 3, 5, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-48131216-172.17.0.11-1597481991968:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38927,DS-18059474-078b-4f8e-aa43-8f953ad5c32f,DISK], DatanodeInfoWithStorage[127.0.0.1:34206,DS-cd878f30-cc1a-450e-8f0c-bb2102e60700,DISK], DatanodeInfoWithStorage[127.0.0.1:36601,DS-7a0020ff-eb82-4964-96a8-a3cf1be1e54a,DISK], DatanodeInfoWithStorage[127.0.0.1:46162,DS-cf725877-1db9-4c68-9a01-13f729787d73,DISK], DatanodeInfoWithStorage[127.0.0.1:34569,DS-80ada441-afbd-4a82-91fa-2b275174ceec,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-5b7a5742-1e11-4414-baee-43e81c195f2e,DISK], DatanodeInfoWithStorage[127.0.0.1:45305,DS-cd297195-60fd-49f3-bc81-97f732686e09,DISK]]; indices=[1, 3, 5, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-48131216-172.17.0.11-1597481991968:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38927,DS-18059474-078b-4f8e-aa43-8f953ad5c32f,DISK], DatanodeInfoWithStorage[127.0.0.1:34206,DS-cd878f30-cc1a-450e-8f0c-bb2102e60700,DISK], DatanodeInfoWithStorage[127.0.0.1:36601,DS-7a0020ff-eb82-4964-96a8-a3cf1be1e54a,DISK], DatanodeInfoWithStorage[127.0.0.1:46162,DS-cf725877-1db9-4c68-9a01-13f729787d73,DISK], DatanodeInfoWithStorage[127.0.0.1:34569,DS-80ada441-afbd-4a82-91fa-2b275174ceec,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-5b7a5742-1e11-4414-baee-43e81c195f2e,DISK], DatanodeInfoWithStorage[127.0.0.1:45305,DS-cd297195-60fd-49f3-bc81-97f732686e09,DISK]]; indices=[1, 3, 5, 6, 10, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-48131216-172.17.0.11-1597481991968:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38927,DS-18059474-078b-4f8e-aa43-8f953ad5c32f,DISK], DatanodeInfoWithStorage[127.0.0.1:34206,DS-cd878f30-cc1a-450e-8f0c-bb2102e60700,DISK], DatanodeInfoWithStorage[127.0.0.1:36601,DS-7a0020ff-eb82-4964-96a8-a3cf1be1e54a,DISK], DatanodeInfoWithStorage[127.0.0.1:46162,DS-cf725877-1db9-4c68-9a01-13f729787d73,DISK], DatanodeInfoWithStorage[127.0.0.1:34569,DS-80ada441-afbd-4a82-91fa-2b275174ceec,DISK], DatanodeInfoWithStorage[127.0.0.1:44158,DS-5b7a5742-1e11-4414-baee-43e81c195f2e,DISK], DatanodeInfoWithStorage[127.0.0.1:45305,DS-cd297195-60fd-49f3-bc81-97f732686e09,DISK]]; indices=[1, 3, 5, 6, 10, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-642368156-172.17.0.11-1597482074124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42312,DS-ab1b87ae-26c3-4fb0-8997-3debf6c5f638,DISK], DatanodeInfoWithStorage[127.0.0.1:38193,DS-ab3c179c-351f-4b0e-9892-11925ac74713,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-ff403d2a-03e0-452c-ba80-125607cd1742,DISK], DatanodeInfoWithStorage[127.0.0.1:34825,DS-c8a1fee3-318e-46ef-8b7a-f5ca5a335e7f,DISK], DatanodeInfoWithStorage[127.0.0.1:40876,DS-a96ce477-c1c0-4719-81f8-1801519f969a,DISK], DatanodeInfoWithStorage[127.0.0.1:33377,DS-54ea46ec-2d46-43c6-ac43-fea8dd01b6f3,DISK]]; indices=[0, 1, 2, 4, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-642368156-172.17.0.11-1597482074124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42312,DS-ab1b87ae-26c3-4fb0-8997-3debf6c5f638,DISK], DatanodeInfoWithStorage[127.0.0.1:38193,DS-ab3c179c-351f-4b0e-9892-11925ac74713,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-ff403d2a-03e0-452c-ba80-125607cd1742,DISK], DatanodeInfoWithStorage[127.0.0.1:34825,DS-c8a1fee3-318e-46ef-8b7a-f5ca5a335e7f,DISK], DatanodeInfoWithStorage[127.0.0.1:40876,DS-a96ce477-c1c0-4719-81f8-1801519f969a,DISK], DatanodeInfoWithStorage[127.0.0.1:33377,DS-54ea46ec-2d46-43c6-ac43-fea8dd01b6f3,DISK]]; indices=[0, 1, 2, 4, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-642368156-172.17.0.11-1597482074124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42312,DS-ab1b87ae-26c3-4fb0-8997-3debf6c5f638,DISK], DatanodeInfoWithStorage[127.0.0.1:38193,DS-ab3c179c-351f-4b0e-9892-11925ac74713,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-ff403d2a-03e0-452c-ba80-125607cd1742,DISK], DatanodeInfoWithStorage[127.0.0.1:34825,DS-c8a1fee3-318e-46ef-8b7a-f5ca5a335e7f,DISK], DatanodeInfoWithStorage[127.0.0.1:40876,DS-a96ce477-c1c0-4719-81f8-1801519f969a,DISK], DatanodeInfoWithStorage[127.0.0.1:33377,DS-54ea46ec-2d46-43c6-ac43-fea8dd01b6f3,DISK]]; indices=[0, 1, 2, 4, 6, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-642368156-172.17.0.11-1597482074124:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42312,DS-ab1b87ae-26c3-4fb0-8997-3debf6c5f638,DISK], DatanodeInfoWithStorage[127.0.0.1:38193,DS-ab3c179c-351f-4b0e-9892-11925ac74713,DISK], DatanodeInfoWithStorage[127.0.0.1:39502,DS-ff403d2a-03e0-452c-ba80-125607cd1742,DISK], DatanodeInfoWithStorage[127.0.0.1:34825,DS-c8a1fee3-318e-46ef-8b7a-f5ca5a335e7f,DISK], DatanodeInfoWithStorage[127.0.0.1:40876,DS-a96ce477-c1c0-4719-81f8-1801519f969a,DISK], DatanodeInfoWithStorage[127.0.0.1:33377,DS-54ea46ec-2d46-43c6-ac43-fea8dd01b6f3,DISK]]; indices=[0, 1, 2, 4, 6, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1842342205-172.17.0.11-1597482259220:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39690,DS-27704238-3b31-4184-ac57-75940eb5d587,DISK], DatanodeInfoWithStorage[127.0.0.1:40110,DS-c2aaa31a-6161-4d2d-bb15-c4821c2e80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43848,DS-e6302a31-939f-4990-9542-0eed26bb1523,DISK], DatanodeInfoWithStorage[127.0.0.1:39330,DS-53c87640-2a65-45e6-9974-f3bf3ec52559,DISK], DatanodeInfoWithStorage[127.0.0.1:38944,DS-d98f8b14-da92-443d-b6bc-837abbb180e4,DISK]]; indices=[0, 1, 3, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1842342205-172.17.0.11-1597482259220:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39690,DS-27704238-3b31-4184-ac57-75940eb5d587,DISK], DatanodeInfoWithStorage[127.0.0.1:40110,DS-c2aaa31a-6161-4d2d-bb15-c4821c2e80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43848,DS-e6302a31-939f-4990-9542-0eed26bb1523,DISK], DatanodeInfoWithStorage[127.0.0.1:39330,DS-53c87640-2a65-45e6-9974-f3bf3ec52559,DISK], DatanodeInfoWithStorage[127.0.0.1:38944,DS-d98f8b14-da92-443d-b6bc-837abbb180e4,DISK]]; indices=[0, 1, 3, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1842342205-172.17.0.11-1597482259220:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39690,DS-27704238-3b31-4184-ac57-75940eb5d587,DISK], DatanodeInfoWithStorage[127.0.0.1:40110,DS-c2aaa31a-6161-4d2d-bb15-c4821c2e80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43848,DS-e6302a31-939f-4990-9542-0eed26bb1523,DISK], DatanodeInfoWithStorage[127.0.0.1:39330,DS-53c87640-2a65-45e6-9974-f3bf3ec52559,DISK], DatanodeInfoWithStorage[127.0.0.1:38944,DS-d98f8b14-da92-443d-b6bc-837abbb180e4,DISK]]; indices=[0, 1, 3, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1842342205-172.17.0.11-1597482259220:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39690,DS-27704238-3b31-4184-ac57-75940eb5d587,DISK], DatanodeInfoWithStorage[127.0.0.1:40110,DS-c2aaa31a-6161-4d2d-bb15-c4821c2e80eb,DISK], DatanodeInfoWithStorage[127.0.0.1:43848,DS-e6302a31-939f-4990-9542-0eed26bb1523,DISK], DatanodeInfoWithStorage[127.0.0.1:39330,DS-53c87640-2a65-45e6-9974-f3bf3ec52559,DISK], DatanodeInfoWithStorage[127.0.0.1:38944,DS-d98f8b14-da92-443d-b6bc-837abbb180e4,DISK]]; indices=[0, 1, 3, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1288280872-172.17.0.11-1597482943090:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-7d80d4c6-d6eb-4d44-9550-5ceb7663932f,DISK], DatanodeInfoWithStorage[127.0.0.1:44599,DS-9b7e38d4-4b3d-449e-9899-dfb711bf5f3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34836,DS-2725a28c-ea08-4c05-85cd-a47c8d7348af,DISK], DatanodeInfoWithStorage[127.0.0.1:44991,DS-a312f93b-ee37-4e48-afcd-aa262141fd01,DISK], DatanodeInfoWithStorage[127.0.0.1:37798,DS-971fda75-75d7-4368-b4cd-6200b8a740c7,DISK], DatanodeInfoWithStorage[127.0.0.1:37209,DS-198dfb69-dbbd-462e-ad74-ee9eb8c5f180,DISK]]; indices=[2, 4, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1288280872-172.17.0.11-1597482943090:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-7d80d4c6-d6eb-4d44-9550-5ceb7663932f,DISK], DatanodeInfoWithStorage[127.0.0.1:44599,DS-9b7e38d4-4b3d-449e-9899-dfb711bf5f3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34836,DS-2725a28c-ea08-4c05-85cd-a47c8d7348af,DISK], DatanodeInfoWithStorage[127.0.0.1:44991,DS-a312f93b-ee37-4e48-afcd-aa262141fd01,DISK], DatanodeInfoWithStorage[127.0.0.1:37798,DS-971fda75-75d7-4368-b4cd-6200b8a740c7,DISK], DatanodeInfoWithStorage[127.0.0.1:37209,DS-198dfb69-dbbd-462e-ad74-ee9eb8c5f180,DISK]]; indices=[2, 4, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1288280872-172.17.0.11-1597482943090:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-7d80d4c6-d6eb-4d44-9550-5ceb7663932f,DISK], DatanodeInfoWithStorage[127.0.0.1:44599,DS-9b7e38d4-4b3d-449e-9899-dfb711bf5f3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34836,DS-2725a28c-ea08-4c05-85cd-a47c8d7348af,DISK], DatanodeInfoWithStorage[127.0.0.1:44991,DS-a312f93b-ee37-4e48-afcd-aa262141fd01,DISK], DatanodeInfoWithStorage[127.0.0.1:37798,DS-971fda75-75d7-4368-b4cd-6200b8a740c7,DISK], DatanodeInfoWithStorage[127.0.0.1:37209,DS-198dfb69-dbbd-462e-ad74-ee9eb8c5f180,DISK]]; indices=[2, 4, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1288280872-172.17.0.11-1597482943090:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34157,DS-7d80d4c6-d6eb-4d44-9550-5ceb7663932f,DISK], DatanodeInfoWithStorage[127.0.0.1:44599,DS-9b7e38d4-4b3d-449e-9899-dfb711bf5f3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34836,DS-2725a28c-ea08-4c05-85cd-a47c8d7348af,DISK], DatanodeInfoWithStorage[127.0.0.1:44991,DS-a312f93b-ee37-4e48-afcd-aa262141fd01,DISK], DatanodeInfoWithStorage[127.0.0.1:37798,DS-971fda75-75d7-4368-b4cd-6200b8a740c7,DISK], DatanodeInfoWithStorage[127.0.0.1:37209,DS-198dfb69-dbbd-462e-ad74-ee9eb8c5f180,DISK]]; indices=[2, 4, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1939926253-172.17.0.11-1597482984783:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41968,DS-576ababb-b474-42d4-9f7e-9efa365f9a2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42816,DS-0b3e1eff-5928-4127-9f74-0c013695cd12,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-caa3d45b-121e-4b5f-a664-e4524ff10f93,DISK], DatanodeInfoWithStorage[127.0.0.1:41415,DS-3d881d15-0bcd-418f-b29d-4fc8299f9baf,DISK], DatanodeInfoWithStorage[127.0.0.1:34013,DS-0c64fe92-1e86-4735-92a3-fe73b2a6b413,DISK], DatanodeInfoWithStorage[127.0.0.1:36716,DS-b785c7e6-5382-4dc5-8c49-e9d4530230b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42082,DS-fc83be40-db71-41b2-8a6f-ff0d4bd09e8e,DISK]]; indices=[2, 3, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1939926253-172.17.0.11-1597482984783:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41968,DS-576ababb-b474-42d4-9f7e-9efa365f9a2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42816,DS-0b3e1eff-5928-4127-9f74-0c013695cd12,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-caa3d45b-121e-4b5f-a664-e4524ff10f93,DISK], DatanodeInfoWithStorage[127.0.0.1:41415,DS-3d881d15-0bcd-418f-b29d-4fc8299f9baf,DISK], DatanodeInfoWithStorage[127.0.0.1:34013,DS-0c64fe92-1e86-4735-92a3-fe73b2a6b413,DISK], DatanodeInfoWithStorage[127.0.0.1:36716,DS-b785c7e6-5382-4dc5-8c49-e9d4530230b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42082,DS-fc83be40-db71-41b2-8a6f-ff0d4bd09e8e,DISK]]; indices=[2, 3, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1939926253-172.17.0.11-1597482984783:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41968,DS-576ababb-b474-42d4-9f7e-9efa365f9a2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42816,DS-0b3e1eff-5928-4127-9f74-0c013695cd12,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-caa3d45b-121e-4b5f-a664-e4524ff10f93,DISK], DatanodeInfoWithStorage[127.0.0.1:41415,DS-3d881d15-0bcd-418f-b29d-4fc8299f9baf,DISK], DatanodeInfoWithStorage[127.0.0.1:34013,DS-0c64fe92-1e86-4735-92a3-fe73b2a6b413,DISK], DatanodeInfoWithStorage[127.0.0.1:36716,DS-b785c7e6-5382-4dc5-8c49-e9d4530230b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42082,DS-fc83be40-db71-41b2-8a6f-ff0d4bd09e8e,DISK]]; indices=[2, 3, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1939926253-172.17.0.11-1597482984783:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41968,DS-576ababb-b474-42d4-9f7e-9efa365f9a2c,DISK], DatanodeInfoWithStorage[127.0.0.1:42816,DS-0b3e1eff-5928-4127-9f74-0c013695cd12,DISK], DatanodeInfoWithStorage[127.0.0.1:39376,DS-caa3d45b-121e-4b5f-a664-e4524ff10f93,DISK], DatanodeInfoWithStorage[127.0.0.1:41415,DS-3d881d15-0bcd-418f-b29d-4fc8299f9baf,DISK], DatanodeInfoWithStorage[127.0.0.1:34013,DS-0c64fe92-1e86-4735-92a3-fe73b2a6b413,DISK], DatanodeInfoWithStorage[127.0.0.1:36716,DS-b785c7e6-5382-4dc5-8c49-e9d4530230b5,DISK], DatanodeInfoWithStorage[127.0.0.1:42082,DS-fc83be40-db71-41b2-8a6f-ff0d4bd09e8e,DISK]]; indices=[2, 3, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-104110532-172.17.0.11-1597483026696:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40484,DS-eb013d4a-3f0d-4f96-8e38-b828c4114982,DISK], DatanodeInfoWithStorage[127.0.0.1:38745,DS-d3355778-144b-45fe-a92a-79381e531a97,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-910cb0a5-f12b-4e53-acaa-dd8b149e438f,DISK], DatanodeInfoWithStorage[127.0.0.1:46214,DS-182e7570-1bc2-4bfe-8035-faa630f4588d,DISK], DatanodeInfoWithStorage[127.0.0.1:40867,DS-a19d9c22-0c4b-4fc8-abf4-889987c11ad4,DISK], DatanodeInfoWithStorage[127.0.0.1:42501,DS-44f1cd25-8dae-4093-98e5-30df389469c0,DISK], DatanodeInfoWithStorage[127.0.0.1:43423,DS-ece73304-4a1f-44ac-abac-f24a8591ffe7,DISK]]; indices=[0, 3, 4, 5, 6, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-104110532-172.17.0.11-1597483026696:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40484,DS-eb013d4a-3f0d-4f96-8e38-b828c4114982,DISK], DatanodeInfoWithStorage[127.0.0.1:38745,DS-d3355778-144b-45fe-a92a-79381e531a97,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-910cb0a5-f12b-4e53-acaa-dd8b149e438f,DISK], DatanodeInfoWithStorage[127.0.0.1:46214,DS-182e7570-1bc2-4bfe-8035-faa630f4588d,DISK], DatanodeInfoWithStorage[127.0.0.1:40867,DS-a19d9c22-0c4b-4fc8-abf4-889987c11ad4,DISK], DatanodeInfoWithStorage[127.0.0.1:42501,DS-44f1cd25-8dae-4093-98e5-30df389469c0,DISK], DatanodeInfoWithStorage[127.0.0.1:43423,DS-ece73304-4a1f-44ac-abac-f24a8591ffe7,DISK]]; indices=[0, 3, 4, 5, 6, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-104110532-172.17.0.11-1597483026696:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40484,DS-eb013d4a-3f0d-4f96-8e38-b828c4114982,DISK], DatanodeInfoWithStorage[127.0.0.1:38745,DS-d3355778-144b-45fe-a92a-79381e531a97,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-910cb0a5-f12b-4e53-acaa-dd8b149e438f,DISK], DatanodeInfoWithStorage[127.0.0.1:46214,DS-182e7570-1bc2-4bfe-8035-faa630f4588d,DISK], DatanodeInfoWithStorage[127.0.0.1:40867,DS-a19d9c22-0c4b-4fc8-abf4-889987c11ad4,DISK], DatanodeInfoWithStorage[127.0.0.1:42501,DS-44f1cd25-8dae-4093-98e5-30df389469c0,DISK], DatanodeInfoWithStorage[127.0.0.1:43423,DS-ece73304-4a1f-44ac-abac-f24a8591ffe7,DISK]]; indices=[0, 3, 4, 5, 6, 7, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-104110532-172.17.0.11-1597483026696:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40484,DS-eb013d4a-3f0d-4f96-8e38-b828c4114982,DISK], DatanodeInfoWithStorage[127.0.0.1:38745,DS-d3355778-144b-45fe-a92a-79381e531a97,DISK], DatanodeInfoWithStorage[127.0.0.1:40482,DS-910cb0a5-f12b-4e53-acaa-dd8b149e438f,DISK], DatanodeInfoWithStorage[127.0.0.1:46214,DS-182e7570-1bc2-4bfe-8035-faa630f4588d,DISK], DatanodeInfoWithStorage[127.0.0.1:40867,DS-a19d9c22-0c4b-4fc8-abf4-889987c11ad4,DISK], DatanodeInfoWithStorage[127.0.0.1:42501,DS-44f1cd25-8dae-4093-98e5-30df389469c0,DISK], DatanodeInfoWithStorage[127.0.0.1:43423,DS-ece73304-4a1f-44ac-abac-f24a8591ffe7,DISK]]; indices=[0, 3, 4, 5, 6, 7, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-976532282-172.17.0.11-1597483061822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34493,DS-300f18c5-d7f1-41f9-bc22-e5169187f29e,DISK], DatanodeInfoWithStorage[127.0.0.1:33508,DS-2cc23f7b-b55a-46f9-b084-6ab1fd8afb1d,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-85d49a9f-e09e-4d71-ac64-ade96ab45b15,DISK], DatanodeInfoWithStorage[127.0.0.1:43216,DS-39f52e0d-cda6-43f1-b6e3-6c7e7772c07b,DISK], DatanodeInfoWithStorage[127.0.0.1:35742,DS-5d2d412e-75df-4f6c-a0ca-dde0e174c7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:34607,DS-25c5930c-6cb9-4c5f-967d-41b87ab2e1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-40a3c84d-989d-4259-bc05-1a27630410a8,DISK]]; indices=[1, 2, 3, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-976532282-172.17.0.11-1597483061822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34493,DS-300f18c5-d7f1-41f9-bc22-e5169187f29e,DISK], DatanodeInfoWithStorage[127.0.0.1:33508,DS-2cc23f7b-b55a-46f9-b084-6ab1fd8afb1d,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-85d49a9f-e09e-4d71-ac64-ade96ab45b15,DISK], DatanodeInfoWithStorage[127.0.0.1:43216,DS-39f52e0d-cda6-43f1-b6e3-6c7e7772c07b,DISK], DatanodeInfoWithStorage[127.0.0.1:35742,DS-5d2d412e-75df-4f6c-a0ca-dde0e174c7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:34607,DS-25c5930c-6cb9-4c5f-967d-41b87ab2e1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-40a3c84d-989d-4259-bc05-1a27630410a8,DISK]]; indices=[1, 2, 3, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-976532282-172.17.0.11-1597483061822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34493,DS-300f18c5-d7f1-41f9-bc22-e5169187f29e,DISK], DatanodeInfoWithStorage[127.0.0.1:33508,DS-2cc23f7b-b55a-46f9-b084-6ab1fd8afb1d,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-85d49a9f-e09e-4d71-ac64-ade96ab45b15,DISK], DatanodeInfoWithStorage[127.0.0.1:43216,DS-39f52e0d-cda6-43f1-b6e3-6c7e7772c07b,DISK], DatanodeInfoWithStorage[127.0.0.1:35742,DS-5d2d412e-75df-4f6c-a0ca-dde0e174c7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:34607,DS-25c5930c-6cb9-4c5f-967d-41b87ab2e1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-40a3c84d-989d-4259-bc05-1a27630410a8,DISK]]; indices=[1, 2, 3, 6, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-976532282-172.17.0.11-1597483061822:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34493,DS-300f18c5-d7f1-41f9-bc22-e5169187f29e,DISK], DatanodeInfoWithStorage[127.0.0.1:33508,DS-2cc23f7b-b55a-46f9-b084-6ab1fd8afb1d,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-85d49a9f-e09e-4d71-ac64-ade96ab45b15,DISK], DatanodeInfoWithStorage[127.0.0.1:43216,DS-39f52e0d-cda6-43f1-b6e3-6c7e7772c07b,DISK], DatanodeInfoWithStorage[127.0.0.1:35742,DS-5d2d412e-75df-4f6c-a0ca-dde0e174c7d3,DISK], DatanodeInfoWithStorage[127.0.0.1:34607,DS-25c5930c-6cb9-4c5f-967d-41b87ab2e1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:38303,DS-40a3c84d-989d-4259-bc05-1a27630410a8,DISK]]; indices=[1, 2, 3, 6, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1923840236-172.17.0.11-1597483148271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36294,DS-0ba426bb-3ffe-454b-98d8-fba3cb0a3c6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34830,DS-289e0aed-6f02-49fd-831b-f30438ff558b,DISK], DatanodeInfoWithStorage[127.0.0.1:39192,DS-20dca57b-4ae7-478a-9f4e-910ba66400eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33857,DS-a952f408-c39f-4fe0-bd64-dd0b0bce5218,DISK], DatanodeInfoWithStorage[127.0.0.1:37317,DS-166c1345-993f-460b-b4d8-d0feb33bdb33,DISK], DatanodeInfoWithStorage[127.0.0.1:42677,DS-61ca8782-7019-4bb2-8b04-b90806321c39,DISK], DatanodeInfoWithStorage[127.0.0.1:36709,DS-17781203-ebb5-43aa-bb6f-91b6348db673,DISK]]; indices=[0, 5, 6, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1923840236-172.17.0.11-1597483148271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36294,DS-0ba426bb-3ffe-454b-98d8-fba3cb0a3c6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34830,DS-289e0aed-6f02-49fd-831b-f30438ff558b,DISK], DatanodeInfoWithStorage[127.0.0.1:39192,DS-20dca57b-4ae7-478a-9f4e-910ba66400eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33857,DS-a952f408-c39f-4fe0-bd64-dd0b0bce5218,DISK], DatanodeInfoWithStorage[127.0.0.1:37317,DS-166c1345-993f-460b-b4d8-d0feb33bdb33,DISK], DatanodeInfoWithStorage[127.0.0.1:42677,DS-61ca8782-7019-4bb2-8b04-b90806321c39,DISK], DatanodeInfoWithStorage[127.0.0.1:36709,DS-17781203-ebb5-43aa-bb6f-91b6348db673,DISK]]; indices=[0, 5, 6, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1923840236-172.17.0.11-1597483148271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36294,DS-0ba426bb-3ffe-454b-98d8-fba3cb0a3c6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34830,DS-289e0aed-6f02-49fd-831b-f30438ff558b,DISK], DatanodeInfoWithStorage[127.0.0.1:39192,DS-20dca57b-4ae7-478a-9f4e-910ba66400eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33857,DS-a952f408-c39f-4fe0-bd64-dd0b0bce5218,DISK], DatanodeInfoWithStorage[127.0.0.1:37317,DS-166c1345-993f-460b-b4d8-d0feb33bdb33,DISK], DatanodeInfoWithStorage[127.0.0.1:42677,DS-61ca8782-7019-4bb2-8b04-b90806321c39,DISK], DatanodeInfoWithStorage[127.0.0.1:36709,DS-17781203-ebb5-43aa-bb6f-91b6348db673,DISK]]; indices=[0, 5, 6, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1923840236-172.17.0.11-1597483148271:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36294,DS-0ba426bb-3ffe-454b-98d8-fba3cb0a3c6b,DISK], DatanodeInfoWithStorage[127.0.0.1:34830,DS-289e0aed-6f02-49fd-831b-f30438ff558b,DISK], DatanodeInfoWithStorage[127.0.0.1:39192,DS-20dca57b-4ae7-478a-9f4e-910ba66400eb,DISK], DatanodeInfoWithStorage[127.0.0.1:33857,DS-a952f408-c39f-4fe0-bd64-dd0b0bce5218,DISK], DatanodeInfoWithStorage[127.0.0.1:37317,DS-166c1345-993f-460b-b4d8-d0feb33bdb33,DISK], DatanodeInfoWithStorage[127.0.0.1:42677,DS-61ca8782-7019-4bb2-8b04-b90806321c39,DISK], DatanodeInfoWithStorage[127.0.0.1:36709,DS-17781203-ebb5-43aa-bb6f-91b6348db673,DISK]]; indices=[0, 5, 6, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2048804754-172.17.0.11-1597483462509:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43285,DS-cf0e0136-2e07-4445-9aa8-f0484ca52cc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39946,DS-4b549f28-a384-47c4-bb51-098c217267ce,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-990100cc-954d-40e2-9822-4a64230207c7,DISK], DatanodeInfoWithStorage[127.0.0.1:38211,DS-cc28b6c9-a65c-4334-977a-d8c655df3a5b,DISK], DatanodeInfoWithStorage[127.0.0.1:45172,DS-83aa44c6-864e-4524-bde8-c6bc687f53ff,DISK], DatanodeInfoWithStorage[127.0.0.1:33174,DS-d5dd60d8-6fbb-4ccb-af84-72861626e21b,DISK], DatanodeInfoWithStorage[127.0.0.1:35726,DS-ab462862-0e1c-42fe-bb87-44b37288bbca,DISK]]; indices=[2, 4, 5, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-2048804754-172.17.0.11-1597483462509:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43285,DS-cf0e0136-2e07-4445-9aa8-f0484ca52cc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39946,DS-4b549f28-a384-47c4-bb51-098c217267ce,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-990100cc-954d-40e2-9822-4a64230207c7,DISK], DatanodeInfoWithStorage[127.0.0.1:38211,DS-cc28b6c9-a65c-4334-977a-d8c655df3a5b,DISK], DatanodeInfoWithStorage[127.0.0.1:45172,DS-83aa44c6-864e-4524-bde8-c6bc687f53ff,DISK], DatanodeInfoWithStorage[127.0.0.1:33174,DS-d5dd60d8-6fbb-4ccb-af84-72861626e21b,DISK], DatanodeInfoWithStorage[127.0.0.1:35726,DS-ab462862-0e1c-42fe-bb87-44b37288bbca,DISK]]; indices=[2, 4, 5, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2048804754-172.17.0.11-1597483462509:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43285,DS-cf0e0136-2e07-4445-9aa8-f0484ca52cc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39946,DS-4b549f28-a384-47c4-bb51-098c217267ce,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-990100cc-954d-40e2-9822-4a64230207c7,DISK], DatanodeInfoWithStorage[127.0.0.1:38211,DS-cc28b6c9-a65c-4334-977a-d8c655df3a5b,DISK], DatanodeInfoWithStorage[127.0.0.1:45172,DS-83aa44c6-864e-4524-bde8-c6bc687f53ff,DISK], DatanodeInfoWithStorage[127.0.0.1:33174,DS-d5dd60d8-6fbb-4ccb-af84-72861626e21b,DISK], DatanodeInfoWithStorage[127.0.0.1:35726,DS-ab462862-0e1c-42fe-bb87-44b37288bbca,DISK]]; indices=[2, 4, 5, 6, 7, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-2048804754-172.17.0.11-1597483462509:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43285,DS-cf0e0136-2e07-4445-9aa8-f0484ca52cc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39946,DS-4b549f28-a384-47c4-bb51-098c217267ce,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-990100cc-954d-40e2-9822-4a64230207c7,DISK], DatanodeInfoWithStorage[127.0.0.1:38211,DS-cc28b6c9-a65c-4334-977a-d8c655df3a5b,DISK], DatanodeInfoWithStorage[127.0.0.1:45172,DS-83aa44c6-864e-4524-bde8-c6bc687f53ff,DISK], DatanodeInfoWithStorage[127.0.0.1:33174,DS-d5dd60d8-6fbb-4ccb-af84-72861626e21b,DISK], DatanodeInfoWithStorage[127.0.0.1:35726,DS-ab462862-0e1c-42fe-bb87-44b37288bbca,DISK]]; indices=[2, 4, 5, 6, 7, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-884154877-172.17.0.11-1597483728354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34408,DS-98f6e662-a222-4356-8dc5-c63c089431bd,DISK], DatanodeInfoWithStorage[127.0.0.1:32773,DS-8a0eef20-5b90-4722-a914-9194b974715c,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-ddcfc040-6e47-464c-a79f-ced5c5d65bff,DISK], DatanodeInfoWithStorage[127.0.0.1:39433,DS-395f3a25-1ca7-471a-be51-2f28c3f63650,DISK], DatanodeInfoWithStorage[127.0.0.1:39240,DS-b1b78323-9b34-4074-a783-7a75de92c15b,DISK], DatanodeInfoWithStorage[127.0.0.1:43785,DS-9464825a-394c-4272-80bc-b0a5b7cb1342,DISK], DatanodeInfoWithStorage[127.0.0.1:39033,DS-b1583cf3-f2d8-4588-b663-98fb99aa5d5b,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-884154877-172.17.0.11-1597483728354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34408,DS-98f6e662-a222-4356-8dc5-c63c089431bd,DISK], DatanodeInfoWithStorage[127.0.0.1:32773,DS-8a0eef20-5b90-4722-a914-9194b974715c,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-ddcfc040-6e47-464c-a79f-ced5c5d65bff,DISK], DatanodeInfoWithStorage[127.0.0.1:39433,DS-395f3a25-1ca7-471a-be51-2f28c3f63650,DISK], DatanodeInfoWithStorage[127.0.0.1:39240,DS-b1b78323-9b34-4074-a783-7a75de92c15b,DISK], DatanodeInfoWithStorage[127.0.0.1:43785,DS-9464825a-394c-4272-80bc-b0a5b7cb1342,DISK], DatanodeInfoWithStorage[127.0.0.1:39033,DS-b1583cf3-f2d8-4588-b663-98fb99aa5d5b,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-884154877-172.17.0.11-1597483728354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34408,DS-98f6e662-a222-4356-8dc5-c63c089431bd,DISK], DatanodeInfoWithStorage[127.0.0.1:32773,DS-8a0eef20-5b90-4722-a914-9194b974715c,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-ddcfc040-6e47-464c-a79f-ced5c5d65bff,DISK], DatanodeInfoWithStorage[127.0.0.1:39433,DS-395f3a25-1ca7-471a-be51-2f28c3f63650,DISK], DatanodeInfoWithStorage[127.0.0.1:39240,DS-b1b78323-9b34-4074-a783-7a75de92c15b,DISK], DatanodeInfoWithStorage[127.0.0.1:43785,DS-9464825a-394c-4272-80bc-b0a5b7cb1342,DISK], DatanodeInfoWithStorage[127.0.0.1:39033,DS-b1583cf3-f2d8-4588-b663-98fb99aa5d5b,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-884154877-172.17.0.11-1597483728354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34408,DS-98f6e662-a222-4356-8dc5-c63c089431bd,DISK], DatanodeInfoWithStorage[127.0.0.1:32773,DS-8a0eef20-5b90-4722-a914-9194b974715c,DISK], DatanodeInfoWithStorage[127.0.0.1:45109,DS-ddcfc040-6e47-464c-a79f-ced5c5d65bff,DISK], DatanodeInfoWithStorage[127.0.0.1:39433,DS-395f3a25-1ca7-471a-be51-2f28c3f63650,DISK], DatanodeInfoWithStorage[127.0.0.1:39240,DS-b1b78323-9b34-4074-a783-7a75de92c15b,DISK], DatanodeInfoWithStorage[127.0.0.1:43785,DS-9464825a-394c-4272-80bc-b0a5b7cb1342,DISK], DatanodeInfoWithStorage[127.0.0.1:39033,DS-b1583cf3-f2d8-4588-b663-98fb99aa5d5b,DISK]]; indices=[1, 2, 4, 5, 7, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-664614964-172.17.0.11-1597483762790:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39675,DS-c7817482-55a4-4905-bbeb-66e06bbbe5c9,DISK], DatanodeInfoWithStorage[127.0.0.1:45648,DS-f712ea8e-203e-4fba-9439-9430c3f12593,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-277180e8-de2c-46fd-83bf-376ad4a78258,DISK], DatanodeInfoWithStorage[127.0.0.1:41939,DS-a9c5db43-9a4e-4bf5-8086-c831a05f7466,DISK], DatanodeInfoWithStorage[127.0.0.1:44784,DS-7c589dcf-ba55-4e35-80e6-a400476698ca,DISK], DatanodeInfoWithStorage[127.0.0.1:41849,DS-e6c09a2b-a269-4214-9c42-ec2da2736adf,DISK], DatanodeInfoWithStorage[127.0.0.1:42388,DS-76fbb0e6-179a-4d87-bd9b-fce8de8b50e2,DISK]]; indices=[0, 1, 2, 4, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-664614964-172.17.0.11-1597483762790:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39675,DS-c7817482-55a4-4905-bbeb-66e06bbbe5c9,DISK], DatanodeInfoWithStorage[127.0.0.1:45648,DS-f712ea8e-203e-4fba-9439-9430c3f12593,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-277180e8-de2c-46fd-83bf-376ad4a78258,DISK], DatanodeInfoWithStorage[127.0.0.1:41939,DS-a9c5db43-9a4e-4bf5-8086-c831a05f7466,DISK], DatanodeInfoWithStorage[127.0.0.1:44784,DS-7c589dcf-ba55-4e35-80e6-a400476698ca,DISK], DatanodeInfoWithStorage[127.0.0.1:41849,DS-e6c09a2b-a269-4214-9c42-ec2da2736adf,DISK], DatanodeInfoWithStorage[127.0.0.1:42388,DS-76fbb0e6-179a-4d87-bd9b-fce8de8b50e2,DISK]]; indices=[0, 1, 2, 4, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-664614964-172.17.0.11-1597483762790:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39675,DS-c7817482-55a4-4905-bbeb-66e06bbbe5c9,DISK], DatanodeInfoWithStorage[127.0.0.1:45648,DS-f712ea8e-203e-4fba-9439-9430c3f12593,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-277180e8-de2c-46fd-83bf-376ad4a78258,DISK], DatanodeInfoWithStorage[127.0.0.1:41939,DS-a9c5db43-9a4e-4bf5-8086-c831a05f7466,DISK], DatanodeInfoWithStorage[127.0.0.1:44784,DS-7c589dcf-ba55-4e35-80e6-a400476698ca,DISK], DatanodeInfoWithStorage[127.0.0.1:41849,DS-e6c09a2b-a269-4214-9c42-ec2da2736adf,DISK], DatanodeInfoWithStorage[127.0.0.1:42388,DS-76fbb0e6-179a-4d87-bd9b-fce8de8b50e2,DISK]]; indices=[0, 1, 2, 4, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-664614964-172.17.0.11-1597483762790:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39675,DS-c7817482-55a4-4905-bbeb-66e06bbbe5c9,DISK], DatanodeInfoWithStorage[127.0.0.1:45648,DS-f712ea8e-203e-4fba-9439-9430c3f12593,DISK], DatanodeInfoWithStorage[127.0.0.1:45994,DS-277180e8-de2c-46fd-83bf-376ad4a78258,DISK], DatanodeInfoWithStorage[127.0.0.1:41939,DS-a9c5db43-9a4e-4bf5-8086-c831a05f7466,DISK], DatanodeInfoWithStorage[127.0.0.1:44784,DS-7c589dcf-ba55-4e35-80e6-a400476698ca,DISK], DatanodeInfoWithStorage[127.0.0.1:41849,DS-e6c09a2b-a269-4214-9c42-ec2da2736adf,DISK], DatanodeInfoWithStorage[127.0.0.1:42388,DS-76fbb0e6-179a-4d87-bd9b-fce8de8b50e2,DISK]]; indices=[0, 1, 2, 4, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1180098030-172.17.0.11-1597483856143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33689,DS-0189101d-154c-488a-a3af-82ff7163a206,DISK], DatanodeInfoWithStorage[127.0.0.1:40285,DS-8e9fd5b2-16b2-4245-86e6-8d7634f93fc3,DISK], DatanodeInfoWithStorage[127.0.0.1:36594,DS-a6e83a4e-6a85-4966-90d8-220f5c650542,DISK], DatanodeInfoWithStorage[127.0.0.1:37529,DS-9090aba5-6318-40fe-9a41-50a7fd3fa39e,DISK], DatanodeInfoWithStorage[127.0.0.1:34272,DS-345c7a83-c518-4166-9f3f-c261066827b2,DISK], DatanodeInfoWithStorage[127.0.0.1:41202,DS-01a709c1-8799-445a-a8ce-e114de03951a,DISK], DatanodeInfoWithStorage[127.0.0.1:38569,DS-506c0209-42a2-4f16-8fcf-541bdc9f00dd,DISK]]; indices=[0, 2, 3, 4, 5, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1180098030-172.17.0.11-1597483856143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33689,DS-0189101d-154c-488a-a3af-82ff7163a206,DISK], DatanodeInfoWithStorage[127.0.0.1:40285,DS-8e9fd5b2-16b2-4245-86e6-8d7634f93fc3,DISK], DatanodeInfoWithStorage[127.0.0.1:36594,DS-a6e83a4e-6a85-4966-90d8-220f5c650542,DISK], DatanodeInfoWithStorage[127.0.0.1:37529,DS-9090aba5-6318-40fe-9a41-50a7fd3fa39e,DISK], DatanodeInfoWithStorage[127.0.0.1:34272,DS-345c7a83-c518-4166-9f3f-c261066827b2,DISK], DatanodeInfoWithStorage[127.0.0.1:41202,DS-01a709c1-8799-445a-a8ce-e114de03951a,DISK], DatanodeInfoWithStorage[127.0.0.1:38569,DS-506c0209-42a2-4f16-8fcf-541bdc9f00dd,DISK]]; indices=[0, 2, 3, 4, 5, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1180098030-172.17.0.11-1597483856143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33689,DS-0189101d-154c-488a-a3af-82ff7163a206,DISK], DatanodeInfoWithStorage[127.0.0.1:40285,DS-8e9fd5b2-16b2-4245-86e6-8d7634f93fc3,DISK], DatanodeInfoWithStorage[127.0.0.1:36594,DS-a6e83a4e-6a85-4966-90d8-220f5c650542,DISK], DatanodeInfoWithStorage[127.0.0.1:37529,DS-9090aba5-6318-40fe-9a41-50a7fd3fa39e,DISK], DatanodeInfoWithStorage[127.0.0.1:34272,DS-345c7a83-c518-4166-9f3f-c261066827b2,DISK], DatanodeInfoWithStorage[127.0.0.1:41202,DS-01a709c1-8799-445a-a8ce-e114de03951a,DISK], DatanodeInfoWithStorage[127.0.0.1:38569,DS-506c0209-42a2-4f16-8fcf-541bdc9f00dd,DISK]]; indices=[0, 2, 3, 4, 5, 6, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1180098030-172.17.0.11-1597483856143:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33689,DS-0189101d-154c-488a-a3af-82ff7163a206,DISK], DatanodeInfoWithStorage[127.0.0.1:40285,DS-8e9fd5b2-16b2-4245-86e6-8d7634f93fc3,DISK], DatanodeInfoWithStorage[127.0.0.1:36594,DS-a6e83a4e-6a85-4966-90d8-220f5c650542,DISK], DatanodeInfoWithStorage[127.0.0.1:37529,DS-9090aba5-6318-40fe-9a41-50a7fd3fa39e,DISK], DatanodeInfoWithStorage[127.0.0.1:34272,DS-345c7a83-c518-4166-9f3f-c261066827b2,DISK], DatanodeInfoWithStorage[127.0.0.1:41202,DS-01a709c1-8799-445a-a8ce-e114de03951a,DISK], DatanodeInfoWithStorage[127.0.0.1:38569,DS-506c0209-42a2-4f16-8fcf-541bdc9f00dd,DISK]]; indices=[0, 2, 3, 4, 5, 6, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1740148214-172.17.0.11-1597484124702:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39470,DS-bff66cb4-f8ee-4460-a975-8dc81650727b,DISK], DatanodeInfoWithStorage[127.0.0.1:41083,DS-04cdecee-262d-420b-8bdb-71d0e2738e72,DISK], DatanodeInfoWithStorage[127.0.0.1:40091,DS-4e09043f-aa02-400f-8d94-938cdbe7564f,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-f02aadbb-99b6-4a1d-a81d-508d8882991e,DISK], DatanodeInfoWithStorage[127.0.0.1:40893,DS-f9d5a22b-85ae-4379-8a5b-6b48241ac132,DISK], DatanodeInfoWithStorage[127.0.0.1:43066,DS-87f0952e-f58f-4e4b-a901-fdbad2a95868,DISK], DatanodeInfoWithStorage[127.0.0.1:41858,DS-91f77c97-a7f9-407c-80bb-631c7cd1a781,DISK]]; indices=[0, 1, 3, 6, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1740148214-172.17.0.11-1597484124702:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39470,DS-bff66cb4-f8ee-4460-a975-8dc81650727b,DISK], DatanodeInfoWithStorage[127.0.0.1:41083,DS-04cdecee-262d-420b-8bdb-71d0e2738e72,DISK], DatanodeInfoWithStorage[127.0.0.1:40091,DS-4e09043f-aa02-400f-8d94-938cdbe7564f,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-f02aadbb-99b6-4a1d-a81d-508d8882991e,DISK], DatanodeInfoWithStorage[127.0.0.1:40893,DS-f9d5a22b-85ae-4379-8a5b-6b48241ac132,DISK], DatanodeInfoWithStorage[127.0.0.1:43066,DS-87f0952e-f58f-4e4b-a901-fdbad2a95868,DISK], DatanodeInfoWithStorage[127.0.0.1:41858,DS-91f77c97-a7f9-407c-80bb-631c7cd1a781,DISK]]; indices=[0, 1, 3, 6, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1740148214-172.17.0.11-1597484124702:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39470,DS-bff66cb4-f8ee-4460-a975-8dc81650727b,DISK], DatanodeInfoWithStorage[127.0.0.1:41083,DS-04cdecee-262d-420b-8bdb-71d0e2738e72,DISK], DatanodeInfoWithStorage[127.0.0.1:40091,DS-4e09043f-aa02-400f-8d94-938cdbe7564f,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-f02aadbb-99b6-4a1d-a81d-508d8882991e,DISK], DatanodeInfoWithStorage[127.0.0.1:40893,DS-f9d5a22b-85ae-4379-8a5b-6b48241ac132,DISK], DatanodeInfoWithStorage[127.0.0.1:43066,DS-87f0952e-f58f-4e4b-a901-fdbad2a95868,DISK], DatanodeInfoWithStorage[127.0.0.1:41858,DS-91f77c97-a7f9-407c-80bb-631c7cd1a781,DISK]]; indices=[0, 1, 3, 6, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-1740148214-172.17.0.11-1597484124702:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39470,DS-bff66cb4-f8ee-4460-a975-8dc81650727b,DISK], DatanodeInfoWithStorage[127.0.0.1:41083,DS-04cdecee-262d-420b-8bdb-71d0e2738e72,DISK], DatanodeInfoWithStorage[127.0.0.1:40091,DS-4e09043f-aa02-400f-8d94-938cdbe7564f,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-f02aadbb-99b6-4a1d-a81d-508d8882991e,DISK], DatanodeInfoWithStorage[127.0.0.1:40893,DS-f9d5a22b-85ae-4379-8a5b-6b48241ac132,DISK], DatanodeInfoWithStorage[127.0.0.1:43066,DS-87f0952e-f58f-4e4b-a901-fdbad2a95868,DISK], DatanodeInfoWithStorage[127.0.0.1:41858,DS-91f77c97-a7f9-407c-80bb-631c7cd1a781,DISK]]; indices=[0, 1, 3, 6, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1716473950-172.17.0.11-1597484173453:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46600,DS-2bdee65f-9d5a-4daa-a7d0-c36a10fd6f85,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-11f7dbfa-f779-444e-963f-1588b3a4e541,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-89cc4956-db7c-46f3-aa1a-7ae131b3729e,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-6fd13049-5494-434c-8a16-109532e20dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:43970,DS-1c39b042-a122-4248-a0a1-ada1657d16dd,DISK], DatanodeInfoWithStorage[127.0.0.1:44570,DS-1232478e-baf8-4466-a163-44024c1e9c5c,DISK]]; indices=[2, 5, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1716473950-172.17.0.11-1597484173453:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46600,DS-2bdee65f-9d5a-4daa-a7d0-c36a10fd6f85,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-11f7dbfa-f779-444e-963f-1588b3a4e541,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-89cc4956-db7c-46f3-aa1a-7ae131b3729e,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-6fd13049-5494-434c-8a16-109532e20dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:43970,DS-1c39b042-a122-4248-a0a1-ada1657d16dd,DISK], DatanodeInfoWithStorage[127.0.0.1:44570,DS-1232478e-baf8-4466-a163-44024c1e9c5c,DISK]]; indices=[2, 5, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1716473950-172.17.0.11-1597484173453:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46600,DS-2bdee65f-9d5a-4daa-a7d0-c36a10fd6f85,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-11f7dbfa-f779-444e-963f-1588b3a4e541,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-89cc4956-db7c-46f3-aa1a-7ae131b3729e,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-6fd13049-5494-434c-8a16-109532e20dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:43970,DS-1c39b042-a122-4248-a0a1-ada1657d16dd,DISK], DatanodeInfoWithStorage[127.0.0.1:44570,DS-1232478e-baf8-4466-a163-44024c1e9c5c,DISK]]; indices=[2, 5, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1716473950-172.17.0.11-1597484173453:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46600,DS-2bdee65f-9d5a-4daa-a7d0-c36a10fd6f85,DISK], DatanodeInfoWithStorage[127.0.0.1:40703,DS-11f7dbfa-f779-444e-963f-1588b3a4e541,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-89cc4956-db7c-46f3-aa1a-7ae131b3729e,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-6fd13049-5494-434c-8a16-109532e20dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:43970,DS-1c39b042-a122-4248-a0a1-ada1657d16dd,DISK], DatanodeInfoWithStorage[127.0.0.1:44570,DS-1232478e-baf8-4466-a163-44024c1e9c5c,DISK]]; indices=[2, 5, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-266341171-172.17.0.11-1597484262253:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43983,DS-67877770-124b-47d1-8d41-a69062d2dab3,DISK], DatanodeInfoWithStorage[127.0.0.1:39402,DS-17de577a-8ed0-4528-b510-13a1afdff668,DISK], DatanodeInfoWithStorage[127.0.0.1:43435,DS-2ebb1944-518a-4240-b128-447f07b48cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-4bffdc81-ef52-436d-8ed1-3354eb63f66c,DISK], DatanodeInfoWithStorage[127.0.0.1:44147,DS-f0f1b7fe-a338-4a84-8514-825c43de1051,DISK], DatanodeInfoWithStorage[127.0.0.1:38992,DS-8793d733-d605-482d-95b4-47c3c6e726d9,DISK], DatanodeInfoWithStorage[127.0.0.1:34447,DS-a2fc5ba7-043a-4c6b-bf7a-e2489f1e77b6,DISK]]; indices=[2, 4, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-266341171-172.17.0.11-1597484262253:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43983,DS-67877770-124b-47d1-8d41-a69062d2dab3,DISK], DatanodeInfoWithStorage[127.0.0.1:39402,DS-17de577a-8ed0-4528-b510-13a1afdff668,DISK], DatanodeInfoWithStorage[127.0.0.1:43435,DS-2ebb1944-518a-4240-b128-447f07b48cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-4bffdc81-ef52-436d-8ed1-3354eb63f66c,DISK], DatanodeInfoWithStorage[127.0.0.1:44147,DS-f0f1b7fe-a338-4a84-8514-825c43de1051,DISK], DatanodeInfoWithStorage[127.0.0.1:38992,DS-8793d733-d605-482d-95b4-47c3c6e726d9,DISK], DatanodeInfoWithStorage[127.0.0.1:34447,DS-a2fc5ba7-043a-4c6b-bf7a-e2489f1e77b6,DISK]]; indices=[2, 4, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-266341171-172.17.0.11-1597484262253:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43983,DS-67877770-124b-47d1-8d41-a69062d2dab3,DISK], DatanodeInfoWithStorage[127.0.0.1:39402,DS-17de577a-8ed0-4528-b510-13a1afdff668,DISK], DatanodeInfoWithStorage[127.0.0.1:43435,DS-2ebb1944-518a-4240-b128-447f07b48cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-4bffdc81-ef52-436d-8ed1-3354eb63f66c,DISK], DatanodeInfoWithStorage[127.0.0.1:44147,DS-f0f1b7fe-a338-4a84-8514-825c43de1051,DISK], DatanodeInfoWithStorage[127.0.0.1:38992,DS-8793d733-d605-482d-95b4-47c3c6e726d9,DISK], DatanodeInfoWithStorage[127.0.0.1:34447,DS-a2fc5ba7-043a-4c6b-bf7a-e2489f1e77b6,DISK]]; indices=[2, 4, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-266341171-172.17.0.11-1597484262253:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43983,DS-67877770-124b-47d1-8d41-a69062d2dab3,DISK], DatanodeInfoWithStorage[127.0.0.1:39402,DS-17de577a-8ed0-4528-b510-13a1afdff668,DISK], DatanodeInfoWithStorage[127.0.0.1:43435,DS-2ebb1944-518a-4240-b128-447f07b48cd3,DISK], DatanodeInfoWithStorage[127.0.0.1:38245,DS-4bffdc81-ef52-436d-8ed1-3354eb63f66c,DISK], DatanodeInfoWithStorage[127.0.0.1:44147,DS-f0f1b7fe-a338-4a84-8514-825c43de1051,DISK], DatanodeInfoWithStorage[127.0.0.1:38992,DS-8793d733-d605-482d-95b4-47c3c6e726d9,DISK], DatanodeInfoWithStorage[127.0.0.1:34447,DS-a2fc5ba7-043a-4c6b-bf7a-e2489f1e77b6,DISK]]; indices=[2, 4, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1638317873-172.17.0.11-1597484714401:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46270,DS-a22d5591-503c-4e72-a192-652d665067b2,DISK], DatanodeInfoWithStorage[127.0.0.1:45855,DS-39b2559a-d768-409e-9a1a-46b4ed0ee6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:38777,DS-7d308837-a054-458d-9d9d-e3f87de5ed60,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-c85e98b9-51b2-48cd-bd4a-f4e993a32885,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-3c8206c4-be98-4066-8c07-78d3b4183ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:38813,DS-d392c639-d4f4-433e-988c-cdeeb74c935d,DISK]]; indices=[4, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1638317873-172.17.0.11-1597484714401:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46270,DS-a22d5591-503c-4e72-a192-652d665067b2,DISK], DatanodeInfoWithStorage[127.0.0.1:45855,DS-39b2559a-d768-409e-9a1a-46b4ed0ee6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:38777,DS-7d308837-a054-458d-9d9d-e3f87de5ed60,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-c85e98b9-51b2-48cd-bd4a-f4e993a32885,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-3c8206c4-be98-4066-8c07-78d3b4183ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:38813,DS-d392c639-d4f4-433e-988c-cdeeb74c935d,DISK]]; indices=[4, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1638317873-172.17.0.11-1597484714401:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46270,DS-a22d5591-503c-4e72-a192-652d665067b2,DISK], DatanodeInfoWithStorage[127.0.0.1:45855,DS-39b2559a-d768-409e-9a1a-46b4ed0ee6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:38777,DS-7d308837-a054-458d-9d9d-e3f87de5ed60,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-c85e98b9-51b2-48cd-bd4a-f4e993a32885,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-3c8206c4-be98-4066-8c07-78d3b4183ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:38813,DS-d392c639-d4f4-433e-988c-cdeeb74c935d,DISK]]; indices=[4, 5, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1638317873-172.17.0.11-1597484714401:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46270,DS-a22d5591-503c-4e72-a192-652d665067b2,DISK], DatanodeInfoWithStorage[127.0.0.1:45855,DS-39b2559a-d768-409e-9a1a-46b4ed0ee6f5,DISK], DatanodeInfoWithStorage[127.0.0.1:38777,DS-7d308837-a054-458d-9d9d-e3f87de5ed60,DISK], DatanodeInfoWithStorage[127.0.0.1:35331,DS-c85e98b9-51b2-48cd-bd4a-f4e993a32885,DISK], DatanodeInfoWithStorage[127.0.0.1:39385,DS-3c8206c4-be98-4066-8c07-78d3b4183ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:38813,DS-d392c639-d4f4-433e-988c-cdeeb74c935d,DISK]]; indices=[4, 5, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-763967503-172.17.0.11-1597485024354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46423,DS-c1fa9f27-c534-4a4b-ac8b-86914db39632,DISK], DatanodeInfoWithStorage[127.0.0.1:42329,DS-d1f45e46-6331-4987-9dd5-1a28b685d94c,DISK], DatanodeInfoWithStorage[127.0.0.1:42337,DS-86213ca2-6f2b-4525-97b8-36e7235dc518,DISK], DatanodeInfoWithStorage[127.0.0.1:38800,DS-f44ac0a2-fb96-4d3d-aca6-420350a3e20b,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-30ae62dd-b49c-4418-9ec3-d9045295c804,DISK], DatanodeInfoWithStorage[127.0.0.1:38138,DS-8fe84a75-aed0-42f6-b928-7729dedc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:39161,DS-275cabed-762b-4a2c-9abe-b6db0f9d5335,DISK]]; indices=[2, 4, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-763967503-172.17.0.11-1597485024354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46423,DS-c1fa9f27-c534-4a4b-ac8b-86914db39632,DISK], DatanodeInfoWithStorage[127.0.0.1:42329,DS-d1f45e46-6331-4987-9dd5-1a28b685d94c,DISK], DatanodeInfoWithStorage[127.0.0.1:42337,DS-86213ca2-6f2b-4525-97b8-36e7235dc518,DISK], DatanodeInfoWithStorage[127.0.0.1:38800,DS-f44ac0a2-fb96-4d3d-aca6-420350a3e20b,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-30ae62dd-b49c-4418-9ec3-d9045295c804,DISK], DatanodeInfoWithStorage[127.0.0.1:38138,DS-8fe84a75-aed0-42f6-b928-7729dedc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:39161,DS-275cabed-762b-4a2c-9abe-b6db0f9d5335,DISK]]; indices=[2, 4, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-763967503-172.17.0.11-1597485024354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46423,DS-c1fa9f27-c534-4a4b-ac8b-86914db39632,DISK], DatanodeInfoWithStorage[127.0.0.1:42329,DS-d1f45e46-6331-4987-9dd5-1a28b685d94c,DISK], DatanodeInfoWithStorage[127.0.0.1:42337,DS-86213ca2-6f2b-4525-97b8-36e7235dc518,DISK], DatanodeInfoWithStorage[127.0.0.1:38800,DS-f44ac0a2-fb96-4d3d-aca6-420350a3e20b,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-30ae62dd-b49c-4418-9ec3-d9045295c804,DISK], DatanodeInfoWithStorage[127.0.0.1:38138,DS-8fe84a75-aed0-42f6-b928-7729dedc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:39161,DS-275cabed-762b-4a2c-9abe-b6db0f9d5335,DISK]]; indices=[2, 4, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-763967503-172.17.0.11-1597485024354:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46423,DS-c1fa9f27-c534-4a4b-ac8b-86914db39632,DISK], DatanodeInfoWithStorage[127.0.0.1:42329,DS-d1f45e46-6331-4987-9dd5-1a28b685d94c,DISK], DatanodeInfoWithStorage[127.0.0.1:42337,DS-86213ca2-6f2b-4525-97b8-36e7235dc518,DISK], DatanodeInfoWithStorage[127.0.0.1:38800,DS-f44ac0a2-fb96-4d3d-aca6-420350a3e20b,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-30ae62dd-b49c-4418-9ec3-d9045295c804,DISK], DatanodeInfoWithStorage[127.0.0.1:38138,DS-8fe84a75-aed0-42f6-b928-7729dedc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:39161,DS-275cabed-762b-4a2c-9abe-b6db0f9d5335,DISK]]; indices=[2, 4, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1283991733-172.17.0.11-1597485629247:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34901,DS-6a7adf76-3296-435e-a8d8-8a1e4f28f355,DISK], DatanodeInfoWithStorage[127.0.0.1:36821,DS-383eca50-08b5-4994-88d8-8d090cad8052,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-76ef2b29-2813-418a-b3b4-b0920b19f101,DISK], DatanodeInfoWithStorage[127.0.0.1:46487,DS-65596dbb-c022-44ea-b013-a25c42276caa,DISK], DatanodeInfoWithStorage[127.0.0.1:41072,DS-1393e6cf-6e14-4bbf-b62a-ef27e524916d,DISK]]; indices=[0, 1, 3, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1283991733-172.17.0.11-1597485629247:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34901,DS-6a7adf76-3296-435e-a8d8-8a1e4f28f355,DISK], DatanodeInfoWithStorage[127.0.0.1:36821,DS-383eca50-08b5-4994-88d8-8d090cad8052,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-76ef2b29-2813-418a-b3b4-b0920b19f101,DISK], DatanodeInfoWithStorage[127.0.0.1:46487,DS-65596dbb-c022-44ea-b013-a25c42276caa,DISK], DatanodeInfoWithStorage[127.0.0.1:41072,DS-1393e6cf-6e14-4bbf-b62a-ef27e524916d,DISK]]; indices=[0, 1, 3, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1283991733-172.17.0.11-1597485629247:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34901,DS-6a7adf76-3296-435e-a8d8-8a1e4f28f355,DISK], DatanodeInfoWithStorage[127.0.0.1:36821,DS-383eca50-08b5-4994-88d8-8d090cad8052,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-76ef2b29-2813-418a-b3b4-b0920b19f101,DISK], DatanodeInfoWithStorage[127.0.0.1:46487,DS-65596dbb-c022-44ea-b013-a25c42276caa,DISK], DatanodeInfoWithStorage[127.0.0.1:41072,DS-1393e6cf-6e14-4bbf-b62a-ef27e524916d,DISK]]; indices=[0, 1, 3, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1283991733-172.17.0.11-1597485629247:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34901,DS-6a7adf76-3296-435e-a8d8-8a1e4f28f355,DISK], DatanodeInfoWithStorage[127.0.0.1:36821,DS-383eca50-08b5-4994-88d8-8d090cad8052,DISK], DatanodeInfoWithStorage[127.0.0.1:40556,DS-76ef2b29-2813-418a-b3b4-b0920b19f101,DISK], DatanodeInfoWithStorage[127.0.0.1:46487,DS-65596dbb-c022-44ea-b013-a25c42276caa,DISK], DatanodeInfoWithStorage[127.0.0.1:41072,DS-1393e6cf-6e14-4bbf-b62a-ef27e524916d,DISK]]; indices=[0, 1, 3, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-17529106-172.17.0.11-1597485856118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37130,DS-54b50c2f-ac0a-4ab2-a097-8c74c422916f,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-eba20d93-84a3-4891-81ac-eec3b5b18d35,DISK], DatanodeInfoWithStorage[127.0.0.1:42034,DS-3625b957-9352-408d-97f2-b0bb58f157c8,DISK], DatanodeInfoWithStorage[127.0.0.1:41095,DS-4670122f-d4e5-41ae-acd3-f87be367a957,DISK], DatanodeInfoWithStorage[127.0.0.1:40874,DS-9b5cace0-2409-4af6-b089-2540701e8729,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-06599dd2-054f-4d96-b9a5-9353ea783587,DISK]]; indices=[2, 4, 5, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-17529106-172.17.0.11-1597485856118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37130,DS-54b50c2f-ac0a-4ab2-a097-8c74c422916f,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-eba20d93-84a3-4891-81ac-eec3b5b18d35,DISK], DatanodeInfoWithStorage[127.0.0.1:42034,DS-3625b957-9352-408d-97f2-b0bb58f157c8,DISK], DatanodeInfoWithStorage[127.0.0.1:41095,DS-4670122f-d4e5-41ae-acd3-f87be367a957,DISK], DatanodeInfoWithStorage[127.0.0.1:40874,DS-9b5cace0-2409-4af6-b089-2540701e8729,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-06599dd2-054f-4d96-b9a5-9353ea783587,DISK]]; indices=[2, 4, 5, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-17529106-172.17.0.11-1597485856118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37130,DS-54b50c2f-ac0a-4ab2-a097-8c74c422916f,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-eba20d93-84a3-4891-81ac-eec3b5b18d35,DISK], DatanodeInfoWithStorage[127.0.0.1:42034,DS-3625b957-9352-408d-97f2-b0bb58f157c8,DISK], DatanodeInfoWithStorage[127.0.0.1:41095,DS-4670122f-d4e5-41ae-acd3-f87be367a957,DISK], DatanodeInfoWithStorage[127.0.0.1:40874,DS-9b5cace0-2409-4af6-b089-2540701e8729,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-06599dd2-054f-4d96-b9a5-9353ea783587,DISK]]; indices=[2, 4, 5, 6, 10, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-17529106-172.17.0.11-1597485856118:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37130,DS-54b50c2f-ac0a-4ab2-a097-8c74c422916f,DISK], DatanodeInfoWithStorage[127.0.0.1:45836,DS-eba20d93-84a3-4891-81ac-eec3b5b18d35,DISK], DatanodeInfoWithStorage[127.0.0.1:42034,DS-3625b957-9352-408d-97f2-b0bb58f157c8,DISK], DatanodeInfoWithStorage[127.0.0.1:41095,DS-4670122f-d4e5-41ae-acd3-f87be367a957,DISK], DatanodeInfoWithStorage[127.0.0.1:40874,DS-9b5cace0-2409-4af6-b089-2540701e8729,DISK], DatanodeInfoWithStorage[127.0.0.1:43456,DS-06599dd2-054f-4d96-b9a5-9353ea783587,DISK]]; indices=[2, 4, 5, 6, 10, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-630873678-172.17.0.11-1597485999875:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41766,DS-45c6663c-7bcf-4017-a307-0e0ca243560e,DISK], DatanodeInfoWithStorage[127.0.0.1:34467,DS-de58072a-cad4-4880-bde7-855e472517b4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-2ad0a846-e262-45eb-bd6a-882088c4c955,DISK], DatanodeInfoWithStorage[127.0.0.1:43237,DS-5b930c6e-027a-45df-8acd-39f468b7a51d,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-e25f7fd1-679a-48a7-ada3-f0bbfcdda79a,DISK], DatanodeInfoWithStorage[127.0.0.1:36285,DS-ba0eecef-c1be-4d93-ae3b-4035767528d2,DISK]]; indices=[3, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-630873678-172.17.0.11-1597485999875:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41766,DS-45c6663c-7bcf-4017-a307-0e0ca243560e,DISK], DatanodeInfoWithStorage[127.0.0.1:34467,DS-de58072a-cad4-4880-bde7-855e472517b4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-2ad0a846-e262-45eb-bd6a-882088c4c955,DISK], DatanodeInfoWithStorage[127.0.0.1:43237,DS-5b930c6e-027a-45df-8acd-39f468b7a51d,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-e25f7fd1-679a-48a7-ada3-f0bbfcdda79a,DISK], DatanodeInfoWithStorage[127.0.0.1:36285,DS-ba0eecef-c1be-4d93-ae3b-4035767528d2,DISK]]; indices=[3, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-630873678-172.17.0.11-1597485999875:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41766,DS-45c6663c-7bcf-4017-a307-0e0ca243560e,DISK], DatanodeInfoWithStorage[127.0.0.1:34467,DS-de58072a-cad4-4880-bde7-855e472517b4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-2ad0a846-e262-45eb-bd6a-882088c4c955,DISK], DatanodeInfoWithStorage[127.0.0.1:43237,DS-5b930c6e-027a-45df-8acd-39f468b7a51d,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-e25f7fd1-679a-48a7-ada3-f0bbfcdda79a,DISK], DatanodeInfoWithStorage[127.0.0.1:36285,DS-ba0eecef-c1be-4d93-ae3b-4035767528d2,DISK]]; indices=[3, 5, 6, 7, 10, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-630873678-172.17.0.11-1597485999875:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41766,DS-45c6663c-7bcf-4017-a307-0e0ca243560e,DISK], DatanodeInfoWithStorage[127.0.0.1:34467,DS-de58072a-cad4-4880-bde7-855e472517b4,DISK], DatanodeInfoWithStorage[127.0.0.1:40274,DS-2ad0a846-e262-45eb-bd6a-882088c4c955,DISK], DatanodeInfoWithStorage[127.0.0.1:43237,DS-5b930c6e-027a-45df-8acd-39f468b7a51d,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-e25f7fd1-679a-48a7-ada3-f0bbfcdda79a,DISK], DatanodeInfoWithStorage[127.0.0.1:36285,DS-ba0eecef-c1be-4d93-ae3b-4035767528d2,DISK]]; indices=[3, 5, 6, 7, 10, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2124283757-172.17.0.11-1597486077591:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38358,DS-ebff10d2-bc5a-47dd-80ce-a0689f4e0d14,DISK], DatanodeInfoWithStorage[127.0.0.1:33089,DS-60f1f117-e93f-4961-9c45-4a27690c1afe,DISK], DatanodeInfoWithStorage[127.0.0.1:45848,DS-9a6920c3-1f0d-4f35-b13f-6b677fecb4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:37266,DS-ab6d734f-4d0b-4e57-92b4-55c0db4b57f5,DISK], DatanodeInfoWithStorage[127.0.0.1:33411,DS-cd3251a5-b7d8-48d7-be24-004c449a7d49,DISK]]; indices=[0, 1, 3, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2124283757-172.17.0.11-1597486077591:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38358,DS-ebff10d2-bc5a-47dd-80ce-a0689f4e0d14,DISK], DatanodeInfoWithStorage[127.0.0.1:33089,DS-60f1f117-e93f-4961-9c45-4a27690c1afe,DISK], DatanodeInfoWithStorage[127.0.0.1:45848,DS-9a6920c3-1f0d-4f35-b13f-6b677fecb4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:37266,DS-ab6d734f-4d0b-4e57-92b4-55c0db4b57f5,DISK], DatanodeInfoWithStorage[127.0.0.1:33411,DS-cd3251a5-b7d8-48d7-be24-004c449a7d49,DISK]]; indices=[0, 1, 3, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2124283757-172.17.0.11-1597486077591:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38358,DS-ebff10d2-bc5a-47dd-80ce-a0689f4e0d14,DISK], DatanodeInfoWithStorage[127.0.0.1:33089,DS-60f1f117-e93f-4961-9c45-4a27690c1afe,DISK], DatanodeInfoWithStorage[127.0.0.1:45848,DS-9a6920c3-1f0d-4f35-b13f-6b677fecb4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:37266,DS-ab6d734f-4d0b-4e57-92b4-55c0db4b57f5,DISK], DatanodeInfoWithStorage[127.0.0.1:33411,DS-cd3251a5-b7d8-48d7-be24-004c449a7d49,DISK]]; indices=[0, 1, 3, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2124283757-172.17.0.11-1597486077591:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38358,DS-ebff10d2-bc5a-47dd-80ce-a0689f4e0d14,DISK], DatanodeInfoWithStorage[127.0.0.1:33089,DS-60f1f117-e93f-4961-9c45-4a27690c1afe,DISK], DatanodeInfoWithStorage[127.0.0.1:45848,DS-9a6920c3-1f0d-4f35-b13f-6b677fecb4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:37266,DS-ab6d734f-4d0b-4e57-92b4-55c0db4b57f5,DISK], DatanodeInfoWithStorage[127.0.0.1:33411,DS-cd3251a5-b7d8-48d7-be24-004c449a7d49,DISK]]; indices=[0, 1, 3, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-177388843-172.17.0.11-1597486636106:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39056,DS-f4e9b536-15b3-4575-afe7-9d83f16e8922,DISK], DatanodeInfoWithStorage[127.0.0.1:39876,DS-ffd2eddd-14f2-4b01-bb25-0dff525e5a21,DISK], DatanodeInfoWithStorage[127.0.0.1:32980,DS-c4f47586-54db-43b2-8d5b-4c789b52a96f,DISK], DatanodeInfoWithStorage[127.0.0.1:34065,DS-f88f5b47-680f-4da7-95d5-6c3dfac2224b,DISK], DatanodeInfoWithStorage[127.0.0.1:37622,DS-622055cd-0548-46ff-9f6e-40ba3457b4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:39076,DS-c58830d3-5c63-4cfb-b903-eb2f2327b68f,DISK], DatanodeInfoWithStorage[127.0.0.1:42892,DS-726ca9ff-1728-4907-9e98-a4ae25e536a4,DISK]]; indices=[1, 3, 5, 6, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-177388843-172.17.0.11-1597486636106:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39056,DS-f4e9b536-15b3-4575-afe7-9d83f16e8922,DISK], DatanodeInfoWithStorage[127.0.0.1:39876,DS-ffd2eddd-14f2-4b01-bb25-0dff525e5a21,DISK], DatanodeInfoWithStorage[127.0.0.1:32980,DS-c4f47586-54db-43b2-8d5b-4c789b52a96f,DISK], DatanodeInfoWithStorage[127.0.0.1:34065,DS-f88f5b47-680f-4da7-95d5-6c3dfac2224b,DISK], DatanodeInfoWithStorage[127.0.0.1:37622,DS-622055cd-0548-46ff-9f6e-40ba3457b4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:39076,DS-c58830d3-5c63-4cfb-b903-eb2f2327b68f,DISK], DatanodeInfoWithStorage[127.0.0.1:42892,DS-726ca9ff-1728-4907-9e98-a4ae25e536a4,DISK]]; indices=[1, 3, 5, 6, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-177388843-172.17.0.11-1597486636106:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39056,DS-f4e9b536-15b3-4575-afe7-9d83f16e8922,DISK], DatanodeInfoWithStorage[127.0.0.1:39876,DS-ffd2eddd-14f2-4b01-bb25-0dff525e5a21,DISK], DatanodeInfoWithStorage[127.0.0.1:32980,DS-c4f47586-54db-43b2-8d5b-4c789b52a96f,DISK], DatanodeInfoWithStorage[127.0.0.1:34065,DS-f88f5b47-680f-4da7-95d5-6c3dfac2224b,DISK], DatanodeInfoWithStorage[127.0.0.1:37622,DS-622055cd-0548-46ff-9f6e-40ba3457b4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:39076,DS-c58830d3-5c63-4cfb-b903-eb2f2327b68f,DISK], DatanodeInfoWithStorage[127.0.0.1:42892,DS-726ca9ff-1728-4907-9e98-a4ae25e536a4,DISK]]; indices=[1, 3, 5, 6, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-177388843-172.17.0.11-1597486636106:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39056,DS-f4e9b536-15b3-4575-afe7-9d83f16e8922,DISK], DatanodeInfoWithStorage[127.0.0.1:39876,DS-ffd2eddd-14f2-4b01-bb25-0dff525e5a21,DISK], DatanodeInfoWithStorage[127.0.0.1:32980,DS-c4f47586-54db-43b2-8d5b-4c789b52a96f,DISK], DatanodeInfoWithStorage[127.0.0.1:34065,DS-f88f5b47-680f-4da7-95d5-6c3dfac2224b,DISK], DatanodeInfoWithStorage[127.0.0.1:37622,DS-622055cd-0548-46ff-9f6e-40ba3457b4ba,DISK], DatanodeInfoWithStorage[127.0.0.1:39076,DS-c58830d3-5c63-4cfb-b903-eb2f2327b68f,DISK], DatanodeInfoWithStorage[127.0.0.1:42892,DS-726ca9ff-1728-4907-9e98-a4ae25e536a4,DISK]]; indices=[1, 3, 5, 6, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.namenode.checkpoint.period
component: hdfs:NameNode
v1: 3600
v2: 3s
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-427315308-172.17.0.11-1597486774858:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41467,DS-d3afedf0-8d79-48c0-a22d-8f8e7dc8a547,DISK], DatanodeInfoWithStorage[127.0.0.1:38848,DS-29179e4e-6a7a-400b-af03-27ccb29ecb57,DISK], DatanodeInfoWithStorage[127.0.0.1:42292,DS-42095571-2382-4840-bb72-f862763a367d,DISK], DatanodeInfoWithStorage[127.0.0.1:46647,DS-109d0442-64c7-476e-9228-13344685d018,DISK], DatanodeInfoWithStorage[127.0.0.1:40395,DS-f9126703-3410-4061-a5df-baee08f4554c,DISK], DatanodeInfoWithStorage[127.0.0.1:40528,DS-2defbeb8-b107-44e9-af4a-8fcd46f71d7a,DISK]]; indices=[0, 1, 5, 6, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-427315308-172.17.0.11-1597486774858:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41467,DS-d3afedf0-8d79-48c0-a22d-8f8e7dc8a547,DISK], DatanodeInfoWithStorage[127.0.0.1:38848,DS-29179e4e-6a7a-400b-af03-27ccb29ecb57,DISK], DatanodeInfoWithStorage[127.0.0.1:42292,DS-42095571-2382-4840-bb72-f862763a367d,DISK], DatanodeInfoWithStorage[127.0.0.1:46647,DS-109d0442-64c7-476e-9228-13344685d018,DISK], DatanodeInfoWithStorage[127.0.0.1:40395,DS-f9126703-3410-4061-a5df-baee08f4554c,DISK], DatanodeInfoWithStorage[127.0.0.1:40528,DS-2defbeb8-b107-44e9-af4a-8fcd46f71d7a,DISK]]; indices=[0, 1, 5, 6, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-427315308-172.17.0.11-1597486774858:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41467,DS-d3afedf0-8d79-48c0-a22d-8f8e7dc8a547,DISK], DatanodeInfoWithStorage[127.0.0.1:38848,DS-29179e4e-6a7a-400b-af03-27ccb29ecb57,DISK], DatanodeInfoWithStorage[127.0.0.1:42292,DS-42095571-2382-4840-bb72-f862763a367d,DISK], DatanodeInfoWithStorage[127.0.0.1:46647,DS-109d0442-64c7-476e-9228-13344685d018,DISK], DatanodeInfoWithStorage[127.0.0.1:40395,DS-f9126703-3410-4061-a5df-baee08f4554c,DISK], DatanodeInfoWithStorage[127.0.0.1:40528,DS-2defbeb8-b107-44e9-af4a-8fcd46f71d7a,DISK]]; indices=[0, 1, 5, 6, 7, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-427315308-172.17.0.11-1597486774858:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41467,DS-d3afedf0-8d79-48c0-a22d-8f8e7dc8a547,DISK], DatanodeInfoWithStorage[127.0.0.1:38848,DS-29179e4e-6a7a-400b-af03-27ccb29ecb57,DISK], DatanodeInfoWithStorage[127.0.0.1:42292,DS-42095571-2382-4840-bb72-f862763a367d,DISK], DatanodeInfoWithStorage[127.0.0.1:46647,DS-109d0442-64c7-476e-9228-13344685d018,DISK], DatanodeInfoWithStorage[127.0.0.1:40395,DS-f9126703-3410-4061-a5df-baee08f4554c,DISK], DatanodeInfoWithStorage[127.0.0.1:40528,DS-2defbeb8-b107-44e9-af4a-8fcd46f71d7a,DISK]]; indices=[0, 1, 5, 6, 7, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 17 out of 50
result: false positive !!!
Total execution time in seconds : 6819
