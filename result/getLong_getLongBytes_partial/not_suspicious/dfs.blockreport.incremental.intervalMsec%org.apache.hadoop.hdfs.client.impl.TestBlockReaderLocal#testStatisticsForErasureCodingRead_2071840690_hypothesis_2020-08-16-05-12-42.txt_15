reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -3
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2146724769-172.17.0.7-1597556351418:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36175,DS-23d5c9b0-f29e-450d-aa1f-83a952e80098,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-e0f85d4f-047e-4f7b-900f-9ee0e0f2dede,DISK], DatanodeInfoWithStorage[127.0.0.1:40621,DS-16efd304-417d-45ac-957d-f253f51fcd1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41233,DS-dda44e3e-627f-4df6-b03f-bc8964ec871f,DISK], DatanodeInfoWithStorage[127.0.0.1:37696,DS-8249b4ba-385d-452e-bd40-9e5832a3dead,DISK], DatanodeInfoWithStorage[127.0.0.1:46402,DS-13242399-1b5c-46e6-b0c2-eb7e5d7bb9fa,DISK]]; indices=[3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2146724769-172.17.0.7-1597556351418:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36175,DS-23d5c9b0-f29e-450d-aa1f-83a952e80098,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-e0f85d4f-047e-4f7b-900f-9ee0e0f2dede,DISK], DatanodeInfoWithStorage[127.0.0.1:40621,DS-16efd304-417d-45ac-957d-f253f51fcd1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41233,DS-dda44e3e-627f-4df6-b03f-bc8964ec871f,DISK], DatanodeInfoWithStorage[127.0.0.1:37696,DS-8249b4ba-385d-452e-bd40-9e5832a3dead,DISK], DatanodeInfoWithStorage[127.0.0.1:46402,DS-13242399-1b5c-46e6-b0c2-eb7e5d7bb9fa,DISK]]; indices=[3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2146724769-172.17.0.7-1597556351418:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36175,DS-23d5c9b0-f29e-450d-aa1f-83a952e80098,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-e0f85d4f-047e-4f7b-900f-9ee0e0f2dede,DISK], DatanodeInfoWithStorage[127.0.0.1:40621,DS-16efd304-417d-45ac-957d-f253f51fcd1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41233,DS-dda44e3e-627f-4df6-b03f-bc8964ec871f,DISK], DatanodeInfoWithStorage[127.0.0.1:37696,DS-8249b4ba-385d-452e-bd40-9e5832a3dead,DISK], DatanodeInfoWithStorage[127.0.0.1:46402,DS-13242399-1b5c-46e6-b0c2-eb7e5d7bb9fa,DISK]]; indices=[3, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2146724769-172.17.0.7-1597556351418:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36175,DS-23d5c9b0-f29e-450d-aa1f-83a952e80098,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-e0f85d4f-047e-4f7b-900f-9ee0e0f2dede,DISK], DatanodeInfoWithStorage[127.0.0.1:40621,DS-16efd304-417d-45ac-957d-f253f51fcd1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41233,DS-dda44e3e-627f-4df6-b03f-bc8964ec871f,DISK], DatanodeInfoWithStorage[127.0.0.1:37696,DS-8249b4ba-385d-452e-bd40-9e5832a3dead,DISK], DatanodeInfoWithStorage[127.0.0.1:46402,DS-13242399-1b5c-46e6-b0c2-eb7e5d7bb9fa,DISK]]; indices=[3, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-802641374-172.17.0.7-1597557041361:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35791,DS-9c94001b-b02c-46fc-829c-c0c4b0fa538d,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-21e9504a-7c0e-4a7b-ad58-a65fad1bbdc3,DISK], DatanodeInfoWithStorage[127.0.0.1:37486,DS-12132301-d2e0-4a2b-b83f-ba975871f15d,DISK], DatanodeInfoWithStorage[127.0.0.1:40427,DS-8eb9cb2a-9d09-4363-bf0b-cbe575d705c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39416,DS-105fc67e-3644-472f-9746-2a3f17a2f4e8,DISK], DatanodeInfoWithStorage[127.0.0.1:39722,DS-d873de0b-a9a9-4e0e-9552-3c61f37b2983,DISK]]; indices=[0, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-802641374-172.17.0.7-1597557041361:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35791,DS-9c94001b-b02c-46fc-829c-c0c4b0fa538d,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-21e9504a-7c0e-4a7b-ad58-a65fad1bbdc3,DISK], DatanodeInfoWithStorage[127.0.0.1:37486,DS-12132301-d2e0-4a2b-b83f-ba975871f15d,DISK], DatanodeInfoWithStorage[127.0.0.1:40427,DS-8eb9cb2a-9d09-4363-bf0b-cbe575d705c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39416,DS-105fc67e-3644-472f-9746-2a3f17a2f4e8,DISK], DatanodeInfoWithStorage[127.0.0.1:39722,DS-d873de0b-a9a9-4e0e-9552-3c61f37b2983,DISK]]; indices=[0, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-802641374-172.17.0.7-1597557041361:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35791,DS-9c94001b-b02c-46fc-829c-c0c4b0fa538d,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-21e9504a-7c0e-4a7b-ad58-a65fad1bbdc3,DISK], DatanodeInfoWithStorage[127.0.0.1:37486,DS-12132301-d2e0-4a2b-b83f-ba975871f15d,DISK], DatanodeInfoWithStorage[127.0.0.1:40427,DS-8eb9cb2a-9d09-4363-bf0b-cbe575d705c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39416,DS-105fc67e-3644-472f-9746-2a3f17a2f4e8,DISK], DatanodeInfoWithStorage[127.0.0.1:39722,DS-d873de0b-a9a9-4e0e-9552-3c61f37b2983,DISK]]; indices=[0, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-802641374-172.17.0.7-1597557041361:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35791,DS-9c94001b-b02c-46fc-829c-c0c4b0fa538d,DISK], DatanodeInfoWithStorage[127.0.0.1:37408,DS-21e9504a-7c0e-4a7b-ad58-a65fad1bbdc3,DISK], DatanodeInfoWithStorage[127.0.0.1:37486,DS-12132301-d2e0-4a2b-b83f-ba975871f15d,DISK], DatanodeInfoWithStorage[127.0.0.1:40427,DS-8eb9cb2a-9d09-4363-bf0b-cbe575d705c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39416,DS-105fc67e-3644-472f-9746-2a3f17a2f4e8,DISK], DatanodeInfoWithStorage[127.0.0.1:39722,DS-d873de0b-a9a9-4e0e-9552-3c61f37b2983,DISK]]; indices=[0, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-120171399-172.17.0.7-1597558761278:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34425,DS-6e649a87-f72e-4193-a7e4-ee3dfb1402ae,DISK], DatanodeInfoWithStorage[127.0.0.1:42249,DS-c16f63aa-7e8b-4181-9622-fcd8a35fa069,DISK], DatanodeInfoWithStorage[127.0.0.1:46305,DS-6fd9b782-2a80-4e0a-bde6-08a95134b039,DISK], DatanodeInfoWithStorage[127.0.0.1:45724,DS-8bc424d4-4c57-4bce-bf7e-8f63f66a10b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41532,DS-bab8c25d-f887-42c9-b4a3-b72a7f3b9da0,DISK], DatanodeInfoWithStorage[127.0.0.1:33744,DS-fcfb7fec-c6f9-4ba5-9993-88da7d48dcf8,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-120171399-172.17.0.7-1597558761278:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34425,DS-6e649a87-f72e-4193-a7e4-ee3dfb1402ae,DISK], DatanodeInfoWithStorage[127.0.0.1:42249,DS-c16f63aa-7e8b-4181-9622-fcd8a35fa069,DISK], DatanodeInfoWithStorage[127.0.0.1:46305,DS-6fd9b782-2a80-4e0a-bde6-08a95134b039,DISK], DatanodeInfoWithStorage[127.0.0.1:45724,DS-8bc424d4-4c57-4bce-bf7e-8f63f66a10b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41532,DS-bab8c25d-f887-42c9-b4a3-b72a7f3b9da0,DISK], DatanodeInfoWithStorage[127.0.0.1:33744,DS-fcfb7fec-c6f9-4ba5-9993-88da7d48dcf8,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-120171399-172.17.0.7-1597558761278:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34425,DS-6e649a87-f72e-4193-a7e4-ee3dfb1402ae,DISK], DatanodeInfoWithStorage[127.0.0.1:42249,DS-c16f63aa-7e8b-4181-9622-fcd8a35fa069,DISK], DatanodeInfoWithStorage[127.0.0.1:46305,DS-6fd9b782-2a80-4e0a-bde6-08a95134b039,DISK], DatanodeInfoWithStorage[127.0.0.1:45724,DS-8bc424d4-4c57-4bce-bf7e-8f63f66a10b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41532,DS-bab8c25d-f887-42c9-b4a3-b72a7f3b9da0,DISK], DatanodeInfoWithStorage[127.0.0.1:33744,DS-fcfb7fec-c6f9-4ba5-9993-88da7d48dcf8,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-120171399-172.17.0.7-1597558761278:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34425,DS-6e649a87-f72e-4193-a7e4-ee3dfb1402ae,DISK], DatanodeInfoWithStorage[127.0.0.1:42249,DS-c16f63aa-7e8b-4181-9622-fcd8a35fa069,DISK], DatanodeInfoWithStorage[127.0.0.1:46305,DS-6fd9b782-2a80-4e0a-bde6-08a95134b039,DISK], DatanodeInfoWithStorage[127.0.0.1:45724,DS-8bc424d4-4c57-4bce-bf7e-8f63f66a10b3,DISK], DatanodeInfoWithStorage[127.0.0.1:41532,DS-bab8c25d-f887-42c9-b4a3-b72a7f3b9da0,DISK], DatanodeInfoWithStorage[127.0.0.1:33744,DS-fcfb7fec-c6f9-4ba5-9993-88da7d48dcf8,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1789646222-172.17.0.7-1597559481865:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36954,DS-f946954f-5b7c-4ad0-a213-bcfc19eb674b,DISK], DatanodeInfoWithStorage[127.0.0.1:36537,DS-3b0f37fc-b102-4242-9245-2bd5e9754d03,DISK], DatanodeInfoWithStorage[127.0.0.1:42858,DS-cd377518-0f1a-48ed-9dad-a8a2a317971f,DISK], DatanodeInfoWithStorage[127.0.0.1:44373,DS-d0d0625a-be84-4cca-9a2e-9c8641dd7a28,DISK], DatanodeInfoWithStorage[127.0.0.1:43680,DS-8a078f2f-dc13-40bd-b038-549387823ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:41052,DS-df6dcfe4-81da-434b-be82-628a733be9c5,DISK]]; indices=[1, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1789646222-172.17.0.7-1597559481865:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36954,DS-f946954f-5b7c-4ad0-a213-bcfc19eb674b,DISK], DatanodeInfoWithStorage[127.0.0.1:36537,DS-3b0f37fc-b102-4242-9245-2bd5e9754d03,DISK], DatanodeInfoWithStorage[127.0.0.1:42858,DS-cd377518-0f1a-48ed-9dad-a8a2a317971f,DISK], DatanodeInfoWithStorage[127.0.0.1:44373,DS-d0d0625a-be84-4cca-9a2e-9c8641dd7a28,DISK], DatanodeInfoWithStorage[127.0.0.1:43680,DS-8a078f2f-dc13-40bd-b038-549387823ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:41052,DS-df6dcfe4-81da-434b-be82-628a733be9c5,DISK]]; indices=[1, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1789646222-172.17.0.7-1597559481865:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36954,DS-f946954f-5b7c-4ad0-a213-bcfc19eb674b,DISK], DatanodeInfoWithStorage[127.0.0.1:36537,DS-3b0f37fc-b102-4242-9245-2bd5e9754d03,DISK], DatanodeInfoWithStorage[127.0.0.1:42858,DS-cd377518-0f1a-48ed-9dad-a8a2a317971f,DISK], DatanodeInfoWithStorage[127.0.0.1:44373,DS-d0d0625a-be84-4cca-9a2e-9c8641dd7a28,DISK], DatanodeInfoWithStorage[127.0.0.1:43680,DS-8a078f2f-dc13-40bd-b038-549387823ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:41052,DS-df6dcfe4-81da-434b-be82-628a733be9c5,DISK]]; indices=[1, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1789646222-172.17.0.7-1597559481865:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36954,DS-f946954f-5b7c-4ad0-a213-bcfc19eb674b,DISK], DatanodeInfoWithStorage[127.0.0.1:36537,DS-3b0f37fc-b102-4242-9245-2bd5e9754d03,DISK], DatanodeInfoWithStorage[127.0.0.1:42858,DS-cd377518-0f1a-48ed-9dad-a8a2a317971f,DISK], DatanodeInfoWithStorage[127.0.0.1:44373,DS-d0d0625a-be84-4cca-9a2e-9c8641dd7a28,DISK], DatanodeInfoWithStorage[127.0.0.1:43680,DS-8a078f2f-dc13-40bd-b038-549387823ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:41052,DS-df6dcfe4-81da-434b-be82-628a733be9c5,DISK]]; indices=[1, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1092025392-172.17.0.7-1597560072687:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38338,DS-a501fc65-b03c-4635-ab19-9734ca80009e,DISK], DatanodeInfoWithStorage[127.0.0.1:37278,DS-84c1a7ab-6b01-41b0-9659-a6892f7f79c7,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-3aef2342-7052-429d-8e86-4eedf7678043,DISK], DatanodeInfoWithStorage[127.0.0.1:41899,DS-1ce83dbf-8f5c-46b4-9ce4-251846563bf9,DISK], DatanodeInfoWithStorage[127.0.0.1:33448,DS-532d165e-5587-45eb-881c-8d4b98acc2ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-d6b7aef9-68f1-412a-b0db-3f8e305b4a1d,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1092025392-172.17.0.7-1597560072687:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38338,DS-a501fc65-b03c-4635-ab19-9734ca80009e,DISK], DatanodeInfoWithStorage[127.0.0.1:37278,DS-84c1a7ab-6b01-41b0-9659-a6892f7f79c7,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-3aef2342-7052-429d-8e86-4eedf7678043,DISK], DatanodeInfoWithStorage[127.0.0.1:41899,DS-1ce83dbf-8f5c-46b4-9ce4-251846563bf9,DISK], DatanodeInfoWithStorage[127.0.0.1:33448,DS-532d165e-5587-45eb-881c-8d4b98acc2ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-d6b7aef9-68f1-412a-b0db-3f8e305b4a1d,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1092025392-172.17.0.7-1597560072687:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38338,DS-a501fc65-b03c-4635-ab19-9734ca80009e,DISK], DatanodeInfoWithStorage[127.0.0.1:37278,DS-84c1a7ab-6b01-41b0-9659-a6892f7f79c7,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-3aef2342-7052-429d-8e86-4eedf7678043,DISK], DatanodeInfoWithStorage[127.0.0.1:41899,DS-1ce83dbf-8f5c-46b4-9ce4-251846563bf9,DISK], DatanodeInfoWithStorage[127.0.0.1:33448,DS-532d165e-5587-45eb-881c-8d4b98acc2ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-d6b7aef9-68f1-412a-b0db-3f8e305b4a1d,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1092025392-172.17.0.7-1597560072687:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38338,DS-a501fc65-b03c-4635-ab19-9734ca80009e,DISK], DatanodeInfoWithStorage[127.0.0.1:37278,DS-84c1a7ab-6b01-41b0-9659-a6892f7f79c7,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-3aef2342-7052-429d-8e86-4eedf7678043,DISK], DatanodeInfoWithStorage[127.0.0.1:41899,DS-1ce83dbf-8f5c-46b4-9ce4-251846563bf9,DISK], DatanodeInfoWithStorage[127.0.0.1:33448,DS-532d165e-5587-45eb-881c-8d4b98acc2ba,DISK], DatanodeInfoWithStorage[127.0.0.1:38415,DS-d6b7aef9-68f1-412a-b0db-3f8e305b4a1d,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 3 out of 50
v1v1v2v2 failed with probability 2 out of 50
result: might be true error
Total execution time in seconds : 5439
