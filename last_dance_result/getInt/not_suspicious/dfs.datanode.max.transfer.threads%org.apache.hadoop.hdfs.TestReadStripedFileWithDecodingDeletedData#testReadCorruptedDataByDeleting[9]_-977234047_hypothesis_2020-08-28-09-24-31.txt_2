reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1085145306-172.17.0.6-1598607412307:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33011,DS-30d2608b-69d0-4b28-b5f5-065987f623e1,DISK], DatanodeInfoWithStorage[127.0.0.1:44607,DS-4fc28a00-222d-45ab-9a6b-0428ecb1db0c,DISK], DatanodeInfoWithStorage[127.0.0.1:41151,DS-a3b2493a-d7a8-4ab6-8eba-de46bd7de231,DISK], DatanodeInfoWithStorage[127.0.0.1:42574,DS-1019044f-1f69-47d4-8a44-760f2d9b0f7d,DISK], DatanodeInfoWithStorage[127.0.0.1:45622,DS-6dd3ac2c-ca9d-4c24-a259-8efb90bf5079,DISK], DatanodeInfoWithStorage[127.0.0.1:39162,DS-6a2b1410-e380-4037-b606-2933da66060b,DISK], DatanodeInfoWithStorage[127.0.0.1:34066,DS-471977a5-f1ef-4965-bda2-22630d3ebd90,DISK], DatanodeInfoWithStorage[127.0.0.1:46071,DS-10353780-cbb7-45e3-b7c8-12ed04004fa6,DISK], DatanodeInfoWithStorage[127.0.0.1:40296,DS-d9004b4a-0451-47ae-ba91-a46ad7829d09,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1085145306-172.17.0.6-1598607412307:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33011,DS-fbecc48f-e062-4c88-a917-18ac77c2f24a,DISK], DatanodeInfoWithStorage[127.0.0.1:39162,DS-11800773-9bd5-4047-9e41-bdf85fef3020,DISK], DatanodeInfoWithStorage[127.0.0.1:41151,DS-311fc680-c932-4c1a-b6da-34b5d242b683,DISK], DatanodeInfoWithStorage[127.0.0.1:40296,DS-399ba89d-484c-43b9-8132-5ba958e374b9,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1085145306-172.17.0.6-1598607412307:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33011,DS-fbecc48f-e062-4c88-a917-18ac77c2f24a,DISK], DatanodeInfoWithStorage[127.0.0.1:39162,DS-11800773-9bd5-4047-9e41-bdf85fef3020,DISK], DatanodeInfoWithStorage[127.0.0.1:41151,DS-311fc680-c932-4c1a-b6da-34b5d242b683,DISK], DatanodeInfoWithStorage[127.0.0.1:40296,DS-399ba89d-484c-43b9-8132-5ba958e374b9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1085145306-172.17.0.6-1598607412307:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33011,DS-30d2608b-69d0-4b28-b5f5-065987f623e1,DISK], DatanodeInfoWithStorage[127.0.0.1:44607,DS-4fc28a00-222d-45ab-9a6b-0428ecb1db0c,DISK], DatanodeInfoWithStorage[127.0.0.1:41151,DS-a3b2493a-d7a8-4ab6-8eba-de46bd7de231,DISK], DatanodeInfoWithStorage[127.0.0.1:42574,DS-1019044f-1f69-47d4-8a44-760f2d9b0f7d,DISK], DatanodeInfoWithStorage[127.0.0.1:45622,DS-6dd3ac2c-ca9d-4c24-a259-8efb90bf5079,DISK], DatanodeInfoWithStorage[127.0.0.1:39162,DS-6a2b1410-e380-4037-b606-2933da66060b,DISK], DatanodeInfoWithStorage[127.0.0.1:34066,DS-471977a5-f1ef-4965-bda2-22630d3ebd90,DISK], DatanodeInfoWithStorage[127.0.0.1:46071,DS-10353780-cbb7-45e3-b7c8-12ed04004fa6,DISK], DatanodeInfoWithStorage[127.0.0.1:40296,DS-d9004b4a-0451-47ae-ba91-a46ad7829d09,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1085145306-172.17.0.6-1598607412307:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33011,DS-fbecc48f-e062-4c88-a917-18ac77c2f24a,DISK], DatanodeInfoWithStorage[127.0.0.1:39162,DS-11800773-9bd5-4047-9e41-bdf85fef3020,DISK], DatanodeInfoWithStorage[127.0.0.1:41151,DS-311fc680-c932-4c1a-b6da-34b5d242b683,DISK], DatanodeInfoWithStorage[127.0.0.1:40296,DS-399ba89d-484c-43b9-8132-5ba958e374b9,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1085145306-172.17.0.6-1598607412307:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33011,DS-fbecc48f-e062-4c88-a917-18ac77c2f24a,DISK], DatanodeInfoWithStorage[127.0.0.1:39162,DS-11800773-9bd5-4047-9e41-bdf85fef3020,DISK], DatanodeInfoWithStorage[127.0.0.1:41151,DS-311fc680-c932-4c1a-b6da-34b5d242b683,DISK], DatanodeInfoWithStorage[127.0.0.1:40296,DS-399ba89d-484c-43b9-8132-5ba958e374b9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-13689889-172.17.0.6-1598607451081:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37758,DS-34ecf198-e882-451c-8f76-87f495a9980e,DISK], DatanodeInfoWithStorage[127.0.0.1:44848,DS-0121d854-324c-4264-b2e6-0f73dbc6eb53,DISK], DatanodeInfoWithStorage[127.0.0.1:40529,DS-cd28300a-8903-46bd-8bf1-12b4ab68db09,DISK], DatanodeInfoWithStorage[127.0.0.1:39578,DS-8a59ddfc-2052-46ef-9f08-ec141b529fc5,DISK], DatanodeInfoWithStorage[127.0.0.1:36027,DS-ce7e9e4d-375f-4120-bb74-d2292b04fc63,DISK], DatanodeInfoWithStorage[127.0.0.1:43982,DS-f5fe7ba2-30b9-459e-8128-a1e633b29007,DISK], DatanodeInfoWithStorage[127.0.0.1:44939,DS-99d9a3fe-9194-4790-b161-9cf84fda3637,DISK], DatanodeInfoWithStorage[127.0.0.1:39355,DS-ad95af85-0d9e-43bb-a430-09dc2a38791e,DISK], DatanodeInfoWithStorage[127.0.0.1:39163,DS-0cf3b35e-5ea8-4df5-af84-496daaaa4c72,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-13689889-172.17.0.6-1598607451081:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40529,DS-d8470e65-2882-43c8-8fa0-c4da1791f9be,DISK], DatanodeInfoWithStorage[127.0.0.1:37758,DS-c4f77ab9-9c72-480b-aef7-7144cd35d3c9,DISK], DatanodeInfoWithStorage[127.0.0.1:44848,DS-84a6970f-dead-4cf9-8779-42e25605b1b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39578,DS-2a2292d7-3674-4d56-b382-aa959e24f177,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-13689889-172.17.0.6-1598607451081:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40529,DS-d8470e65-2882-43c8-8fa0-c4da1791f9be,DISK], DatanodeInfoWithStorage[127.0.0.1:37758,DS-c4f77ab9-9c72-480b-aef7-7144cd35d3c9,DISK], DatanodeInfoWithStorage[127.0.0.1:44848,DS-84a6970f-dead-4cf9-8779-42e25605b1b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39578,DS-2a2292d7-3674-4d56-b382-aa959e24f177,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-13689889-172.17.0.6-1598607451081:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37758,DS-34ecf198-e882-451c-8f76-87f495a9980e,DISK], DatanodeInfoWithStorage[127.0.0.1:44848,DS-0121d854-324c-4264-b2e6-0f73dbc6eb53,DISK], DatanodeInfoWithStorage[127.0.0.1:40529,DS-cd28300a-8903-46bd-8bf1-12b4ab68db09,DISK], DatanodeInfoWithStorage[127.0.0.1:39578,DS-8a59ddfc-2052-46ef-9f08-ec141b529fc5,DISK], DatanodeInfoWithStorage[127.0.0.1:36027,DS-ce7e9e4d-375f-4120-bb74-d2292b04fc63,DISK], DatanodeInfoWithStorage[127.0.0.1:43982,DS-f5fe7ba2-30b9-459e-8128-a1e633b29007,DISK], DatanodeInfoWithStorage[127.0.0.1:44939,DS-99d9a3fe-9194-4790-b161-9cf84fda3637,DISK], DatanodeInfoWithStorage[127.0.0.1:39355,DS-ad95af85-0d9e-43bb-a430-09dc2a38791e,DISK], DatanodeInfoWithStorage[127.0.0.1:39163,DS-0cf3b35e-5ea8-4df5-af84-496daaaa4c72,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-13689889-172.17.0.6-1598607451081:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40529,DS-d8470e65-2882-43c8-8fa0-c4da1791f9be,DISK], DatanodeInfoWithStorage[127.0.0.1:37758,DS-c4f77ab9-9c72-480b-aef7-7144cd35d3c9,DISK], DatanodeInfoWithStorage[127.0.0.1:44848,DS-84a6970f-dead-4cf9-8779-42e25605b1b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39578,DS-2a2292d7-3674-4d56-b382-aa959e24f177,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-13689889-172.17.0.6-1598607451081:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40529,DS-d8470e65-2882-43c8-8fa0-c4da1791f9be,DISK], DatanodeInfoWithStorage[127.0.0.1:37758,DS-c4f77ab9-9c72-480b-aef7-7144cd35d3c9,DISK], DatanodeInfoWithStorage[127.0.0.1:44848,DS-84a6970f-dead-4cf9-8779-42e25605b1b2,DISK], DatanodeInfoWithStorage[127.0.0.1:39578,DS-2a2292d7-3674-4d56-b382-aa959e24f177,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-72786988-172.17.0.6-1598607749107:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40943,DS-58e00907-b026-4be8-9884-501e454629af,DISK], DatanodeInfoWithStorage[127.0.0.1:39296,DS-1992413c-5005-495f-8201-16a1bd72f563,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-83fcda3e-98a9-473f-9b18-95b26c0bf73e,DISK], DatanodeInfoWithStorage[127.0.0.1:34708,DS-239c0d31-bed4-4cd4-b50e-983f0e22312c,DISK], DatanodeInfoWithStorage[127.0.0.1:39505,DS-efc82f56-7a0e-48b0-8495-df5e843bf2d2,DISK], DatanodeInfoWithStorage[127.0.0.1:34372,DS-976ce1cd-ed3f-4d82-b93a-2a2c6194460c,DISK], DatanodeInfoWithStorage[127.0.0.1:36565,DS-06fc02ee-e2f5-44b5-b3e6-d33bfcce578f,DISK], DatanodeInfoWithStorage[127.0.0.1:44397,DS-7292d3c2-ff13-402f-8d23-e0508055f4fa,DISK], DatanodeInfoWithStorage[127.0.0.1:41719,DS-3893d8b8-d209-4213-83c8-8b79054a51cc,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-72786988-172.17.0.6-1598607749107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36849,DS-88be341e-3ef1-4e38-8543-c8443ea66bf1,DISK], DatanodeInfoWithStorage[127.0.0.1:41719,DS-28ecf7f8-24e7-4814-9392-2dc435f88b59,DISK], DatanodeInfoWithStorage[127.0.0.1:36565,DS-6ed2d58c-3c38-4665-b90a-0959492f2048,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-72786988-172.17.0.6-1598607749107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34372,DS-de8c0e2a-6b65-4a07-b692-0b9268d78617,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-88be341e-3ef1-4e38-8543-c8443ea66bf1,DISK], DatanodeInfoWithStorage[127.0.0.1:41719,DS-28ecf7f8-24e7-4814-9392-2dc435f88b59,DISK], DatanodeInfoWithStorage[127.0.0.1:36565,DS-6ed2d58c-3c38-4665-b90a-0959492f2048,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-72786988-172.17.0.6-1598607749107:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40943,DS-58e00907-b026-4be8-9884-501e454629af,DISK], DatanodeInfoWithStorage[127.0.0.1:39296,DS-1992413c-5005-495f-8201-16a1bd72f563,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-83fcda3e-98a9-473f-9b18-95b26c0bf73e,DISK], DatanodeInfoWithStorage[127.0.0.1:34708,DS-239c0d31-bed4-4cd4-b50e-983f0e22312c,DISK], DatanodeInfoWithStorage[127.0.0.1:39505,DS-efc82f56-7a0e-48b0-8495-df5e843bf2d2,DISK], DatanodeInfoWithStorage[127.0.0.1:34372,DS-976ce1cd-ed3f-4d82-b93a-2a2c6194460c,DISK], DatanodeInfoWithStorage[127.0.0.1:36565,DS-06fc02ee-e2f5-44b5-b3e6-d33bfcce578f,DISK], DatanodeInfoWithStorage[127.0.0.1:44397,DS-7292d3c2-ff13-402f-8d23-e0508055f4fa,DISK], DatanodeInfoWithStorage[127.0.0.1:41719,DS-3893d8b8-d209-4213-83c8-8b79054a51cc,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-72786988-172.17.0.6-1598607749107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36849,DS-88be341e-3ef1-4e38-8543-c8443ea66bf1,DISK], DatanodeInfoWithStorage[127.0.0.1:41719,DS-28ecf7f8-24e7-4814-9392-2dc435f88b59,DISK], DatanodeInfoWithStorage[127.0.0.1:36565,DS-6ed2d58c-3c38-4665-b90a-0959492f2048,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-72786988-172.17.0.6-1598607749107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34372,DS-de8c0e2a-6b65-4a07-b692-0b9268d78617,DISK], DatanodeInfoWithStorage[127.0.0.1:36849,DS-88be341e-3ef1-4e38-8543-c8443ea66bf1,DISK], DatanodeInfoWithStorage[127.0.0.1:41719,DS-28ecf7f8-24e7-4814-9392-2dc435f88b59,DISK], DatanodeInfoWithStorage[127.0.0.1:36565,DS-6ed2d58c-3c38-4665-b90a-0959492f2048,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1805910954-172.17.0.6-1598608302948:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42023,DS-6f2de0bf-de4d-4a94-ba69-d865cf513b40,DISK], DatanodeInfoWithStorage[127.0.0.1:41145,DS-0c8cdb69-1bf0-4d0a-8df3-d99e35446deb,DISK], DatanodeInfoWithStorage[127.0.0.1:35090,DS-b8f0f84d-8dbc-4cbf-82ca-1a15591e4788,DISK], DatanodeInfoWithStorage[127.0.0.1:44124,DS-c21acad1-e636-46ee-b709-84877d521c5f,DISK], DatanodeInfoWithStorage[127.0.0.1:42848,DS-f5ce335e-7a47-48d3-bbc6-b7dfa297a4d0,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-2e61bddf-2a53-4b3b-9126-2ad4d8ba6b19,DISK], DatanodeInfoWithStorage[127.0.0.1:43894,DS-083a78f5-2cbd-4e09-8bb9-16f2ea304e87,DISK], DatanodeInfoWithStorage[127.0.0.1:39076,DS-16af3762-df11-4aa2-96a3-7e16a7df1555,DISK], DatanodeInfoWithStorage[127.0.0.1:43587,DS-0b87febf-7d8d-4a5c-ae6a-d52046f762fd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1805910954-172.17.0.6-1598608302948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42848,DS-325260b1-9351-4eab-af16-e95f08bc2f95,DISK], DatanodeInfoWithStorage[127.0.0.1:42023,DS-213c3d11-bcb6-4972-bddf-3bffd7464e2d,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-840f500e-3b34-45ee-ab90-0add07ff7814,DISK], DatanodeInfoWithStorage[127.0.0.1:44124,DS-4eebd5b3-2597-4289-8536-954ed2126ae6,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1805910954-172.17.0.6-1598608302948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42848,DS-325260b1-9351-4eab-af16-e95f08bc2f95,DISK], DatanodeInfoWithStorage[127.0.0.1:42023,DS-213c3d11-bcb6-4972-bddf-3bffd7464e2d,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-840f500e-3b34-45ee-ab90-0add07ff7814,DISK], DatanodeInfoWithStorage[127.0.0.1:44124,DS-4eebd5b3-2597-4289-8536-954ed2126ae6,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1805910954-172.17.0.6-1598608302948:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42023,DS-6f2de0bf-de4d-4a94-ba69-d865cf513b40,DISK], DatanodeInfoWithStorage[127.0.0.1:41145,DS-0c8cdb69-1bf0-4d0a-8df3-d99e35446deb,DISK], DatanodeInfoWithStorage[127.0.0.1:35090,DS-b8f0f84d-8dbc-4cbf-82ca-1a15591e4788,DISK], DatanodeInfoWithStorage[127.0.0.1:44124,DS-c21acad1-e636-46ee-b709-84877d521c5f,DISK], DatanodeInfoWithStorage[127.0.0.1:42848,DS-f5ce335e-7a47-48d3-bbc6-b7dfa297a4d0,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-2e61bddf-2a53-4b3b-9126-2ad4d8ba6b19,DISK], DatanodeInfoWithStorage[127.0.0.1:43894,DS-083a78f5-2cbd-4e09-8bb9-16f2ea304e87,DISK], DatanodeInfoWithStorage[127.0.0.1:39076,DS-16af3762-df11-4aa2-96a3-7e16a7df1555,DISK], DatanodeInfoWithStorage[127.0.0.1:43587,DS-0b87febf-7d8d-4a5c-ae6a-d52046f762fd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1805910954-172.17.0.6-1598608302948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42848,DS-325260b1-9351-4eab-af16-e95f08bc2f95,DISK], DatanodeInfoWithStorage[127.0.0.1:42023,DS-213c3d11-bcb6-4972-bddf-3bffd7464e2d,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-840f500e-3b34-45ee-ab90-0add07ff7814,DISK], DatanodeInfoWithStorage[127.0.0.1:44124,DS-4eebd5b3-2597-4289-8536-954ed2126ae6,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1805910954-172.17.0.6-1598608302948:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42848,DS-325260b1-9351-4eab-af16-e95f08bc2f95,DISK], DatanodeInfoWithStorage[127.0.0.1:42023,DS-213c3d11-bcb6-4972-bddf-3bffd7464e2d,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-840f500e-3b34-45ee-ab90-0add07ff7814,DISK], DatanodeInfoWithStorage[127.0.0.1:44124,DS-4eebd5b3-2597-4289-8536-954ed2126ae6,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=1048576, length=3145728, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1594276698-172.17.0.6-1598608929338:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40536,DS-92bb46b2-784c-4769-87bd-1ebc7ee83348,DISK], DatanodeInfoWithStorage[127.0.0.1:35288,DS-bdb4a172-132d-45a9-8dfb-a2f7ef92b7d0,DISK], DatanodeInfoWithStorage[127.0.0.1:32773,DS-3da89013-1381-44be-89ee-f1fe60290b3d,DISK], DatanodeInfoWithStorage[127.0.0.1:46814,DS-2967053b-0841-4e0a-9d3f-600625310355,DISK], DatanodeInfoWithStorage[127.0.0.1:37284,DS-9338b722-ad54-4fed-90d8-e3104e2d6d3e,DISK], DatanodeInfoWithStorage[127.0.0.1:36436,DS-d14766bb-dd35-46ab-83b5-2a8c6c3a4160,DISK], DatanodeInfoWithStorage[127.0.0.1:45130,DS-1a9bec8e-4f19-40f9-95c8-76ccf1a0e40a,DISK], DatanodeInfoWithStorage[127.0.0.1:37384,DS-70ba93fb-11a0-4d33-ab15-9cb3dce1a806,DISK], DatanodeInfoWithStorage[127.0.0.1:44045,DS-20e13bdc-d59a-4965-8dc0-de361914186e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1594276698-172.17.0.6-1598608929338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40536,DS-83228280-b00e-4875-933c-c003ff79b9f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46814,DS-81873daf-5a0e-4757-a347-ca0bae034e6a,DISK], DatanodeInfoWithStorage[127.0.0.1:37284,DS-ef5b93d9-1fde-4187-ad47-189f98b2cfb3,DISK], DatanodeInfoWithStorage[127.0.0.1:44045,DS-8e9e68d9-a774-4f24-96be-339db8ee38f1,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1594276698-172.17.0.6-1598608929338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40536,DS-83228280-b00e-4875-933c-c003ff79b9f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46814,DS-81873daf-5a0e-4757-a347-ca0bae034e6a,DISK], DatanodeInfoWithStorage[127.0.0.1:37284,DS-ef5b93d9-1fde-4187-ad47-189f98b2cfb3,DISK], DatanodeInfoWithStorage[127.0.0.1:44045,DS-8e9e68d9-a774-4f24-96be-339db8ee38f1,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=1048576, length=3145728, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1594276698-172.17.0.6-1598608929338:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40536,DS-92bb46b2-784c-4769-87bd-1ebc7ee83348,DISK], DatanodeInfoWithStorage[127.0.0.1:35288,DS-bdb4a172-132d-45a9-8dfb-a2f7ef92b7d0,DISK], DatanodeInfoWithStorage[127.0.0.1:32773,DS-3da89013-1381-44be-89ee-f1fe60290b3d,DISK], DatanodeInfoWithStorage[127.0.0.1:46814,DS-2967053b-0841-4e0a-9d3f-600625310355,DISK], DatanodeInfoWithStorage[127.0.0.1:37284,DS-9338b722-ad54-4fed-90d8-e3104e2d6d3e,DISK], DatanodeInfoWithStorage[127.0.0.1:36436,DS-d14766bb-dd35-46ab-83b5-2a8c6c3a4160,DISK], DatanodeInfoWithStorage[127.0.0.1:45130,DS-1a9bec8e-4f19-40f9-95c8-76ccf1a0e40a,DISK], DatanodeInfoWithStorage[127.0.0.1:37384,DS-70ba93fb-11a0-4d33-ab15-9cb3dce1a806,DISK], DatanodeInfoWithStorage[127.0.0.1:44045,DS-20e13bdc-d59a-4965-8dc0-de361914186e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1594276698-172.17.0.6-1598608929338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40536,DS-83228280-b00e-4875-933c-c003ff79b9f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46814,DS-81873daf-5a0e-4757-a347-ca0bae034e6a,DISK], DatanodeInfoWithStorage[127.0.0.1:37284,DS-ef5b93d9-1fde-4187-ad47-189f98b2cfb3,DISK], DatanodeInfoWithStorage[127.0.0.1:44045,DS-8e9e68d9-a774-4f24-96be-339db8ee38f1,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1594276698-172.17.0.6-1598608929338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40536,DS-83228280-b00e-4875-933c-c003ff79b9f9,DISK], DatanodeInfoWithStorage[127.0.0.1:46814,DS-81873daf-5a0e-4757-a347-ca0bae034e6a,DISK], DatanodeInfoWithStorage[127.0.0.1:37284,DS-ef5b93d9-1fde-4187-ad47-189f98b2cfb3,DISK], DatanodeInfoWithStorage[127.0.0.1:44045,DS-8e9e68d9-a774-4f24-96be-339db8ee38f1,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-545416164-172.17.0.6-1598609031782:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34329,DS-11097eb5-3db8-4d41-889c-14a7e772d8f3,DISK], DatanodeInfoWithStorage[127.0.0.1:36233,DS-e7071309-5411-4dfc-906b-779de991ce85,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-dfb2da74-0dc4-4b2c-b2f7-2197e6c6c326,DISK], DatanodeInfoWithStorage[127.0.0.1:42403,DS-a98db81e-57d1-4c23-81ba-b7e3e16210ce,DISK], DatanodeInfoWithStorage[127.0.0.1:38074,DS-5214f164-9493-45f3-b1f5-c5e56eae96a2,DISK], DatanodeInfoWithStorage[127.0.0.1:39151,DS-867d33db-367f-4796-b94e-ebf2bc2c071a,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-d3f9903e-31cd-4c9f-ba8d-811f7c295486,DISK], DatanodeInfoWithStorage[127.0.0.1:35113,DS-f534e109-4e20-4c86-af8a-d41c3993837a,DISK], DatanodeInfoWithStorage[127.0.0.1:40149,DS-a8cd3685-095d-4e60-9b7b-1d15a125e16f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-545416164-172.17.0.6-1598609031782:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42403,DS-c3386e84-e7bf-416e-a45f-7ca91deb104b,DISK], DatanodeInfoWithStorage[127.0.0.1:36233,DS-1cae00c6-3b6c-49ce-8285-f6b0b01235fe,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-834c8ac1-3ed3-4cc8-9223-efb068f01a39,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-1adb9367-63aa-4238-91bc-dbbbe80b1e78,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-545416164-172.17.0.6-1598609031782:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42403,DS-c3386e84-e7bf-416e-a45f-7ca91deb104b,DISK], DatanodeInfoWithStorage[127.0.0.1:36233,DS-1cae00c6-3b6c-49ce-8285-f6b0b01235fe,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-834c8ac1-3ed3-4cc8-9223-efb068f01a39,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-1adb9367-63aa-4238-91bc-dbbbe80b1e78,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-545416164-172.17.0.6-1598609031782:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34329,DS-11097eb5-3db8-4d41-889c-14a7e772d8f3,DISK], DatanodeInfoWithStorage[127.0.0.1:36233,DS-e7071309-5411-4dfc-906b-779de991ce85,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-dfb2da74-0dc4-4b2c-b2f7-2197e6c6c326,DISK], DatanodeInfoWithStorage[127.0.0.1:42403,DS-a98db81e-57d1-4c23-81ba-b7e3e16210ce,DISK], DatanodeInfoWithStorage[127.0.0.1:38074,DS-5214f164-9493-45f3-b1f5-c5e56eae96a2,DISK], DatanodeInfoWithStorage[127.0.0.1:39151,DS-867d33db-367f-4796-b94e-ebf2bc2c071a,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-d3f9903e-31cd-4c9f-ba8d-811f7c295486,DISK], DatanodeInfoWithStorage[127.0.0.1:35113,DS-f534e109-4e20-4c86-af8a-d41c3993837a,DISK], DatanodeInfoWithStorage[127.0.0.1:40149,DS-a8cd3685-095d-4e60-9b7b-1d15a125e16f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-545416164-172.17.0.6-1598609031782:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42403,DS-c3386e84-e7bf-416e-a45f-7ca91deb104b,DISK], DatanodeInfoWithStorage[127.0.0.1:36233,DS-1cae00c6-3b6c-49ce-8285-f6b0b01235fe,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-834c8ac1-3ed3-4cc8-9223-efb068f01a39,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-1adb9367-63aa-4238-91bc-dbbbe80b1e78,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-545416164-172.17.0.6-1598609031782:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42403,DS-c3386e84-e7bf-416e-a45f-7ca91deb104b,DISK], DatanodeInfoWithStorage[127.0.0.1:36233,DS-1cae00c6-3b6c-49ce-8285-f6b0b01235fe,DISK], DatanodeInfoWithStorage[127.0.0.1:45127,DS-834c8ac1-3ed3-4cc8-9223-efb068f01a39,DISK], DatanodeInfoWithStorage[127.0.0.1:46664,DS-1adb9367-63aa-4238-91bc-dbbbe80b1e78,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-657538451-172.17.0.6-1598609384038:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34285,DS-93383b94-4234-4345-b334-7d82bbaa6ecd,DISK], DatanodeInfoWithStorage[127.0.0.1:43833,DS-67e22312-9f34-4a92-b27c-96d220860009,DISK], DatanodeInfoWithStorage[127.0.0.1:33619,DS-35cb3e2c-ac55-4f87-a9f0-38e8eba52c2e,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-99d4d0c0-c120-4de5-8eb9-e1787cb968d2,DISK], DatanodeInfoWithStorage[127.0.0.1:37529,DS-afc13aac-576d-4027-acc1-0fd083015eb1,DISK], DatanodeInfoWithStorage[127.0.0.1:34875,DS-8fc69b59-22bf-4555-b8f6-172745dd056f,DISK], DatanodeInfoWithStorage[127.0.0.1:45479,DS-59874583-8938-46a2-85cf-19e541c58088,DISK], DatanodeInfoWithStorage[127.0.0.1:46364,DS-3e3a5e99-57eb-4dd1-9e30-818d2145ac77,DISK], DatanodeInfoWithStorage[127.0.0.1:37689,DS-dfae1091-ed7a-4c3d-8b21-38ab5f0a5216,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-657538451-172.17.0.6-1598609384038:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34207,DS-f94f8f4a-a2e4-43bd-bfee-3e035a2ff2d9,DISK], DatanodeInfoWithStorage[127.0.0.1:37689,DS-632c7a16-39fc-4278-8ec7-28b48afb85f9,DISK], DatanodeInfoWithStorage[127.0.0.1:34285,DS-6f745af6-d9c5-46fe-8b19-d9d9d09a522b,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-657538451-172.17.0.6-1598609384038:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34875,DS-3e3380c0-b696-4428-8dfb-fbe45a0ff5fb,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-f94f8f4a-a2e4-43bd-bfee-3e035a2ff2d9,DISK], DatanodeInfoWithStorage[127.0.0.1:37689,DS-632c7a16-39fc-4278-8ec7-28b48afb85f9,DISK], DatanodeInfoWithStorage[127.0.0.1:34285,DS-6f745af6-d9c5-46fe-8b19-d9d9d09a522b,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-657538451-172.17.0.6-1598609384038:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34285,DS-93383b94-4234-4345-b334-7d82bbaa6ecd,DISK], DatanodeInfoWithStorage[127.0.0.1:43833,DS-67e22312-9f34-4a92-b27c-96d220860009,DISK], DatanodeInfoWithStorage[127.0.0.1:33619,DS-35cb3e2c-ac55-4f87-a9f0-38e8eba52c2e,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-99d4d0c0-c120-4de5-8eb9-e1787cb968d2,DISK], DatanodeInfoWithStorage[127.0.0.1:37529,DS-afc13aac-576d-4027-acc1-0fd083015eb1,DISK], DatanodeInfoWithStorage[127.0.0.1:34875,DS-8fc69b59-22bf-4555-b8f6-172745dd056f,DISK], DatanodeInfoWithStorage[127.0.0.1:45479,DS-59874583-8938-46a2-85cf-19e541c58088,DISK], DatanodeInfoWithStorage[127.0.0.1:46364,DS-3e3a5e99-57eb-4dd1-9e30-818d2145ac77,DISK], DatanodeInfoWithStorage[127.0.0.1:37689,DS-dfae1091-ed7a-4c3d-8b21-38ab5f0a5216,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-657538451-172.17.0.6-1598609384038:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34207,DS-f94f8f4a-a2e4-43bd-bfee-3e035a2ff2d9,DISK], DatanodeInfoWithStorage[127.0.0.1:37689,DS-632c7a16-39fc-4278-8ec7-28b48afb85f9,DISK], DatanodeInfoWithStorage[127.0.0.1:34285,DS-6f745af6-d9c5-46fe-8b19-d9d9d09a522b,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-657538451-172.17.0.6-1598609384038:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34875,DS-3e3380c0-b696-4428-8dfb-fbe45a0ff5fb,DISK], DatanodeInfoWithStorage[127.0.0.1:34207,DS-f94f8f4a-a2e4-43bd-bfee-3e035a2ff2d9,DISK], DatanodeInfoWithStorage[127.0.0.1:37689,DS-632c7a16-39fc-4278-8ec7-28b48afb85f9,DISK], DatanodeInfoWithStorage[127.0.0.1:34285,DS-6f745af6-d9c5-46fe-8b19-d9d9d09a522b,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1502764761-172.17.0.6-1598609542794:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37634,DS-9c9997dd-acfc-4e13-bdf1-c908d26e056a,DISK], DatanodeInfoWithStorage[127.0.0.1:43160,DS-b604f1b0-46fa-4f68-b8d0-ddca2b9f1be4,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-f99ba59f-b7c7-4a43-bab7-b7829691ee01,DISK], DatanodeInfoWithStorage[127.0.0.1:44773,DS-290bc438-cc83-4963-b452-06ad30412ac6,DISK], DatanodeInfoWithStorage[127.0.0.1:45242,DS-fe1d6aba-9b44-4fc1-b6a1-d8930540dcc6,DISK], DatanodeInfoWithStorage[127.0.0.1:46501,DS-875cbc4a-1d59-4096-b231-841db2bdc41d,DISK], DatanodeInfoWithStorage[127.0.0.1:43640,DS-ff5755dc-021d-49df-bea2-cdebffb62ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:33691,DS-358b9d4c-1195-438c-addf-560b5eb754f2,DISK], DatanodeInfoWithStorage[127.0.0.1:45382,DS-12169f54-d2c1-4fe4-a877-e17004e5391c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1502764761-172.17.0.6-1598609542794:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33691,DS-69021f94-e671-46fa-a73b-36c2099c6d8b,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-c97e44a8-089e-4b55-a613-a59f96d26610,DISK], DatanodeInfoWithStorage[127.0.0.1:37634,DS-3fab9e8a-2288-4e36-9f2e-ddc001b9fc6f,DISK], DatanodeInfoWithStorage[127.0.0.1:46501,DS-06052464-4198-402f-8abd-73e801037f2d,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1502764761-172.17.0.6-1598609542794:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33691,DS-69021f94-e671-46fa-a73b-36c2099c6d8b,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-c97e44a8-089e-4b55-a613-a59f96d26610,DISK], DatanodeInfoWithStorage[127.0.0.1:37634,DS-3fab9e8a-2288-4e36-9f2e-ddc001b9fc6f,DISK], DatanodeInfoWithStorage[127.0.0.1:46501,DS-06052464-4198-402f-8abd-73e801037f2d,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1502764761-172.17.0.6-1598609542794:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37634,DS-9c9997dd-acfc-4e13-bdf1-c908d26e056a,DISK], DatanodeInfoWithStorage[127.0.0.1:43160,DS-b604f1b0-46fa-4f68-b8d0-ddca2b9f1be4,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-f99ba59f-b7c7-4a43-bab7-b7829691ee01,DISK], DatanodeInfoWithStorage[127.0.0.1:44773,DS-290bc438-cc83-4963-b452-06ad30412ac6,DISK], DatanodeInfoWithStorage[127.0.0.1:45242,DS-fe1d6aba-9b44-4fc1-b6a1-d8930540dcc6,DISK], DatanodeInfoWithStorage[127.0.0.1:46501,DS-875cbc4a-1d59-4096-b231-841db2bdc41d,DISK], DatanodeInfoWithStorage[127.0.0.1:43640,DS-ff5755dc-021d-49df-bea2-cdebffb62ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:33691,DS-358b9d4c-1195-438c-addf-560b5eb754f2,DISK], DatanodeInfoWithStorage[127.0.0.1:45382,DS-12169f54-d2c1-4fe4-a877-e17004e5391c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1502764761-172.17.0.6-1598609542794:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33691,DS-69021f94-e671-46fa-a73b-36c2099c6d8b,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-c97e44a8-089e-4b55-a613-a59f96d26610,DISK], DatanodeInfoWithStorage[127.0.0.1:37634,DS-3fab9e8a-2288-4e36-9f2e-ddc001b9fc6f,DISK], DatanodeInfoWithStorage[127.0.0.1:46501,DS-06052464-4198-402f-8abd-73e801037f2d,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1502764761-172.17.0.6-1598609542794:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33691,DS-69021f94-e671-46fa-a73b-36c2099c6d8b,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-c97e44a8-089e-4b55-a613-a59f96d26610,DISK], DatanodeInfoWithStorage[127.0.0.1:37634,DS-3fab9e8a-2288-4e36-9f2e-ddc001b9fc6f,DISK], DatanodeInfoWithStorage[127.0.0.1:46501,DS-06052464-4198-402f-8abd-73e801037f2d,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-941234611-172.17.0.6-1598609718283:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38574,DS-e2989ee3-699d-4c12-9879-1ec984d53f0d,DISK], DatanodeInfoWithStorage[127.0.0.1:39898,DS-898870dc-52ba-4a40-a0f0-d109b32d6f77,DISK], DatanodeInfoWithStorage[127.0.0.1:33988,DS-d3c9122b-2c59-46cd-8e35-402219a9a71c,DISK], DatanodeInfoWithStorage[127.0.0.1:42631,DS-d3dc7b69-1a1a-4e42-96c9-32cb72b370c6,DISK], DatanodeInfoWithStorage[127.0.0.1:45953,DS-d3bdf721-7003-4939-b7bf-2295d37cb239,DISK], DatanodeInfoWithStorage[127.0.0.1:38677,DS-07e6d7b4-4234-4087-9372-01718f923f1e,DISK], DatanodeInfoWithStorage[127.0.0.1:34753,DS-bbc83d4c-5910-4559-b196-35fab3aae887,DISK], DatanodeInfoWithStorage[127.0.0.1:33231,DS-112fea2b-baf7-44d1-86e9-8e70b4b944d0,DISK], DatanodeInfoWithStorage[127.0.0.1:33728,DS-7e564d8d-80f1-48ae-a589-24e935bca4be,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-941234611-172.17.0.6-1598609718283:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33728,DS-52ed49e2-d8fb-4307-ad88-a924932ec359,DISK], DatanodeInfoWithStorage[127.0.0.1:38574,DS-f2e046ca-18e2-446b-87a8-0f58c535aefc,DISK], DatanodeInfoWithStorage[127.0.0.1:33988,DS-d2a1ae97-b871-464c-ae63-5c935f6c1cbb,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-941234611-172.17.0.6-1598609718283:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34753,DS-f6d680b8-3f0d-40db-8f26-eba8c1e14059,DISK], DatanodeInfoWithStorage[127.0.0.1:33728,DS-52ed49e2-d8fb-4307-ad88-a924932ec359,DISK], DatanodeInfoWithStorage[127.0.0.1:38574,DS-f2e046ca-18e2-446b-87a8-0f58c535aefc,DISK], DatanodeInfoWithStorage[127.0.0.1:33988,DS-d2a1ae97-b871-464c-ae63-5c935f6c1cbb,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-941234611-172.17.0.6-1598609718283:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38574,DS-e2989ee3-699d-4c12-9879-1ec984d53f0d,DISK], DatanodeInfoWithStorage[127.0.0.1:39898,DS-898870dc-52ba-4a40-a0f0-d109b32d6f77,DISK], DatanodeInfoWithStorage[127.0.0.1:33988,DS-d3c9122b-2c59-46cd-8e35-402219a9a71c,DISK], DatanodeInfoWithStorage[127.0.0.1:42631,DS-d3dc7b69-1a1a-4e42-96c9-32cb72b370c6,DISK], DatanodeInfoWithStorage[127.0.0.1:45953,DS-d3bdf721-7003-4939-b7bf-2295d37cb239,DISK], DatanodeInfoWithStorage[127.0.0.1:38677,DS-07e6d7b4-4234-4087-9372-01718f923f1e,DISK], DatanodeInfoWithStorage[127.0.0.1:34753,DS-bbc83d4c-5910-4559-b196-35fab3aae887,DISK], DatanodeInfoWithStorage[127.0.0.1:33231,DS-112fea2b-baf7-44d1-86e9-8e70b4b944d0,DISK], DatanodeInfoWithStorage[127.0.0.1:33728,DS-7e564d8d-80f1-48ae-a589-24e935bca4be,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-941234611-172.17.0.6-1598609718283:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33728,DS-52ed49e2-d8fb-4307-ad88-a924932ec359,DISK], DatanodeInfoWithStorage[127.0.0.1:38574,DS-f2e046ca-18e2-446b-87a8-0f58c535aefc,DISK], DatanodeInfoWithStorage[127.0.0.1:33988,DS-d2a1ae97-b871-464c-ae63-5c935f6c1cbb,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-941234611-172.17.0.6-1598609718283:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34753,DS-f6d680b8-3f0d-40db-8f26-eba8c1e14059,DISK], DatanodeInfoWithStorage[127.0.0.1:33728,DS-52ed49e2-d8fb-4307-ad88-a924932ec359,DISK], DatanodeInfoWithStorage[127.0.0.1:38574,DS-f2e046ca-18e2-446b-87a8-0f58c535aefc,DISK], DatanodeInfoWithStorage[127.0.0.1:33988,DS-d2a1ae97-b871-464c-ae63-5c935f6c1cbb,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1353345778-172.17.0.6-1598609761852:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35217,DS-6089a5a7-0a67-4672-b606-f5381608748a,DISK], DatanodeInfoWithStorage[127.0.0.1:44608,DS-88588019-2e8b-47ef-9687-d20644e0895e,DISK], DatanodeInfoWithStorage[127.0.0.1:41799,DS-d11b096e-7a9f-48f9-b624-881fdfda241d,DISK], DatanodeInfoWithStorage[127.0.0.1:38975,DS-2e48ce98-4571-46c5-9567-ceb843e734cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45123,DS-a8f35f14-42a5-41c6-b56c-7bf474051f7c,DISK], DatanodeInfoWithStorage[127.0.0.1:41173,DS-06913cbd-2639-4db3-9b53-e3e5673a7423,DISK], DatanodeInfoWithStorage[127.0.0.1:34115,DS-c25e5d8f-1e3b-45d7-900c-39f362fafd3e,DISK], DatanodeInfoWithStorage[127.0.0.1:37405,DS-34572450-103c-400b-867e-95a278c0df83,DISK], DatanodeInfoWithStorage[127.0.0.1:39391,DS-d3250924-212e-4380-844f-a77aa99913a6,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1353345778-172.17.0.6-1598609761852:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35217,DS-ef233941-11d1-4f81-bfce-7cd598bcbb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44608,DS-26d71c55-fd1c-4bb7-a53b-e72cd531bc14,DISK], DatanodeInfoWithStorage[127.0.0.1:41799,DS-e6755808-fea9-4850-92b5-638853fb5c93,DISK], DatanodeInfoWithStorage[127.0.0.1:37405,DS-6a388b27-ce31-4a63-9a42-dca2df80219a,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1353345778-172.17.0.6-1598609761852:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35217,DS-ef233941-11d1-4f81-bfce-7cd598bcbb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44608,DS-26d71c55-fd1c-4bb7-a53b-e72cd531bc14,DISK], DatanodeInfoWithStorage[127.0.0.1:41799,DS-e6755808-fea9-4850-92b5-638853fb5c93,DISK], DatanodeInfoWithStorage[127.0.0.1:37405,DS-6a388b27-ce31-4a63-9a42-dca2df80219a,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1353345778-172.17.0.6-1598609761852:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35217,DS-6089a5a7-0a67-4672-b606-f5381608748a,DISK], DatanodeInfoWithStorage[127.0.0.1:44608,DS-88588019-2e8b-47ef-9687-d20644e0895e,DISK], DatanodeInfoWithStorage[127.0.0.1:41799,DS-d11b096e-7a9f-48f9-b624-881fdfda241d,DISK], DatanodeInfoWithStorage[127.0.0.1:38975,DS-2e48ce98-4571-46c5-9567-ceb843e734cd,DISK], DatanodeInfoWithStorage[127.0.0.1:45123,DS-a8f35f14-42a5-41c6-b56c-7bf474051f7c,DISK], DatanodeInfoWithStorage[127.0.0.1:41173,DS-06913cbd-2639-4db3-9b53-e3e5673a7423,DISK], DatanodeInfoWithStorage[127.0.0.1:34115,DS-c25e5d8f-1e3b-45d7-900c-39f362fafd3e,DISK], DatanodeInfoWithStorage[127.0.0.1:37405,DS-34572450-103c-400b-867e-95a278c0df83,DISK], DatanodeInfoWithStorage[127.0.0.1:39391,DS-d3250924-212e-4380-844f-a77aa99913a6,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1353345778-172.17.0.6-1598609761852:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35217,DS-ef233941-11d1-4f81-bfce-7cd598bcbb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44608,DS-26d71c55-fd1c-4bb7-a53b-e72cd531bc14,DISK], DatanodeInfoWithStorage[127.0.0.1:41799,DS-e6755808-fea9-4850-92b5-638853fb5c93,DISK], DatanodeInfoWithStorage[127.0.0.1:37405,DS-6a388b27-ce31-4a63-9a42-dca2df80219a,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1353345778-172.17.0.6-1598609761852:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35217,DS-ef233941-11d1-4f81-bfce-7cd598bcbb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44608,DS-26d71c55-fd1c-4bb7-a53b-e72cd531bc14,DISK], DatanodeInfoWithStorage[127.0.0.1:41799,DS-e6755808-fea9-4850-92b5-638853fb5c93,DISK], DatanodeInfoWithStorage[127.0.0.1:37405,DS-6a388b27-ce31-4a63-9a42-dca2df80219a,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2126147977-172.17.0.6-1598609873549:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39556,DS-b07712a1-8cdd-43ff-98c5-93a1024ebc42,DISK], DatanodeInfoWithStorage[127.0.0.1:43955,DS-c30f2204-12ef-476c-a5aa-1f9038db8d47,DISK], DatanodeInfoWithStorage[127.0.0.1:42923,DS-f93d0605-bbe3-4d02-81e1-7385cbacae84,DISK], DatanodeInfoWithStorage[127.0.0.1:38553,DS-bcab1c4b-5936-4c08-8c3b-94ede7050af9,DISK], DatanodeInfoWithStorage[127.0.0.1:42335,DS-373e1fbf-b033-4dff-bdeb-26315b74a77f,DISK], DatanodeInfoWithStorage[127.0.0.1:34834,DS-5f5ec56e-d01b-4c81-a61d-0708fa505f93,DISK], DatanodeInfoWithStorage[127.0.0.1:43961,DS-ab99f05a-aca4-43c9-89d3-9a9fef43bb26,DISK], DatanodeInfoWithStorage[127.0.0.1:39388,DS-399dbfcb-61f3-416d-9a7c-aae1254be022,DISK], DatanodeInfoWithStorage[127.0.0.1:38819,DS-8ac51ad5-53ec-4d57-8195-c192c408295b,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2126147977-172.17.0.6-1598609873549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43955,DS-83ae55f4-f765-4dd1-b056-400e71dfecf8,DISK], DatanodeInfoWithStorage[127.0.0.1:38819,DS-36358d66-ebfa-46b5-b13e-1a50e2a6abcd,DISK], DatanodeInfoWithStorage[127.0.0.1:42923,DS-4f3a72cf-5111-4382-a5cd-088f9ec03d1d,DISK], DatanodeInfoWithStorage[127.0.0.1:43961,DS-1bb308c5-6d16-413b-b50c-5761fa2b5cc7,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2126147977-172.17.0.6-1598609873549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43955,DS-83ae55f4-f765-4dd1-b056-400e71dfecf8,DISK], DatanodeInfoWithStorage[127.0.0.1:38819,DS-36358d66-ebfa-46b5-b13e-1a50e2a6abcd,DISK], DatanodeInfoWithStorage[127.0.0.1:42923,DS-4f3a72cf-5111-4382-a5cd-088f9ec03d1d,DISK], DatanodeInfoWithStorage[127.0.0.1:43961,DS-1bb308c5-6d16-413b-b50c-5761fa2b5cc7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2126147977-172.17.0.6-1598609873549:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39556,DS-b07712a1-8cdd-43ff-98c5-93a1024ebc42,DISK], DatanodeInfoWithStorage[127.0.0.1:43955,DS-c30f2204-12ef-476c-a5aa-1f9038db8d47,DISK], DatanodeInfoWithStorage[127.0.0.1:42923,DS-f93d0605-bbe3-4d02-81e1-7385cbacae84,DISK], DatanodeInfoWithStorage[127.0.0.1:38553,DS-bcab1c4b-5936-4c08-8c3b-94ede7050af9,DISK], DatanodeInfoWithStorage[127.0.0.1:42335,DS-373e1fbf-b033-4dff-bdeb-26315b74a77f,DISK], DatanodeInfoWithStorage[127.0.0.1:34834,DS-5f5ec56e-d01b-4c81-a61d-0708fa505f93,DISK], DatanodeInfoWithStorage[127.0.0.1:43961,DS-ab99f05a-aca4-43c9-89d3-9a9fef43bb26,DISK], DatanodeInfoWithStorage[127.0.0.1:39388,DS-399dbfcb-61f3-416d-9a7c-aae1254be022,DISK], DatanodeInfoWithStorage[127.0.0.1:38819,DS-8ac51ad5-53ec-4d57-8195-c192c408295b,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2126147977-172.17.0.6-1598609873549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43955,DS-83ae55f4-f765-4dd1-b056-400e71dfecf8,DISK], DatanodeInfoWithStorage[127.0.0.1:38819,DS-36358d66-ebfa-46b5-b13e-1a50e2a6abcd,DISK], DatanodeInfoWithStorage[127.0.0.1:42923,DS-4f3a72cf-5111-4382-a5cd-088f9ec03d1d,DISK], DatanodeInfoWithStorage[127.0.0.1:43961,DS-1bb308c5-6d16-413b-b50c-5761fa2b5cc7,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2126147977-172.17.0.6-1598609873549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43955,DS-83ae55f4-f765-4dd1-b056-400e71dfecf8,DISK], DatanodeInfoWithStorage[127.0.0.1:38819,DS-36358d66-ebfa-46b5-b13e-1a50e2a6abcd,DISK], DatanodeInfoWithStorage[127.0.0.1:42923,DS-4f3a72cf-5111-4382-a5cd-088f9ec03d1d,DISK], DatanodeInfoWithStorage[127.0.0.1:43961,DS-1bb308c5-6d16-413b-b50c-5761fa2b5cc7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-476572002-172.17.0.6-1598610048833:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45887,DS-66cbcd86-32fd-406c-bf01-2c8268fdf0a2,DISK], DatanodeInfoWithStorage[127.0.0.1:33710,DS-31ba02b2-a424-4a08-a4f1-fc1116296c56,DISK], DatanodeInfoWithStorage[127.0.0.1:43984,DS-cdfd7c47-ddde-46e4-b216-6bd397c45dbd,DISK], DatanodeInfoWithStorage[127.0.0.1:39308,DS-72e04f6c-4510-4ef6-a3c6-dcfad9cda80f,DISK], DatanodeInfoWithStorage[127.0.0.1:46486,DS-ea7b859c-7ea4-4241-9911-e4e614750875,DISK], DatanodeInfoWithStorage[127.0.0.1:41153,DS-1be31954-c435-4d1c-8093-3afb1045a558,DISK], DatanodeInfoWithStorage[127.0.0.1:34217,DS-5fa64c42-3c7d-49d9-ae29-fa449f73a11e,DISK], DatanodeInfoWithStorage[127.0.0.1:41717,DS-706dc039-d9f6-4a65-a3f9-c792dc61335f,DISK], DatanodeInfoWithStorage[127.0.0.1:39289,DS-f0893477-3c5f-4255-a958-2ae87650f43f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-476572002-172.17.0.6-1598610048833:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41153,DS-816dfdb4-f1d5-4a47-9d07-478acff6971b,DISK], DatanodeInfoWithStorage[127.0.0.1:39289,DS-19ea9c52-dce9-4101-a687-7f75811f713a,DISK], DatanodeInfoWithStorage[127.0.0.1:45887,DS-c3a29749-bb8d-48c9-9662-1af9c13e192f,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-476572002-172.17.0.6-1598610048833:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33710,DS-26229419-dfbe-4673-8b77-3ca3570649b2,DISK], DatanodeInfoWithStorage[127.0.0.1:41153,DS-816dfdb4-f1d5-4a47-9d07-478acff6971b,DISK], DatanodeInfoWithStorage[127.0.0.1:39289,DS-19ea9c52-dce9-4101-a687-7f75811f713a,DISK], DatanodeInfoWithStorage[127.0.0.1:45887,DS-c3a29749-bb8d-48c9-9662-1af9c13e192f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-476572002-172.17.0.6-1598610048833:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45887,DS-66cbcd86-32fd-406c-bf01-2c8268fdf0a2,DISK], DatanodeInfoWithStorage[127.0.0.1:33710,DS-31ba02b2-a424-4a08-a4f1-fc1116296c56,DISK], DatanodeInfoWithStorage[127.0.0.1:43984,DS-cdfd7c47-ddde-46e4-b216-6bd397c45dbd,DISK], DatanodeInfoWithStorage[127.0.0.1:39308,DS-72e04f6c-4510-4ef6-a3c6-dcfad9cda80f,DISK], DatanodeInfoWithStorage[127.0.0.1:46486,DS-ea7b859c-7ea4-4241-9911-e4e614750875,DISK], DatanodeInfoWithStorage[127.0.0.1:41153,DS-1be31954-c435-4d1c-8093-3afb1045a558,DISK], DatanodeInfoWithStorage[127.0.0.1:34217,DS-5fa64c42-3c7d-49d9-ae29-fa449f73a11e,DISK], DatanodeInfoWithStorage[127.0.0.1:41717,DS-706dc039-d9f6-4a65-a3f9-c792dc61335f,DISK], DatanodeInfoWithStorage[127.0.0.1:39289,DS-f0893477-3c5f-4255-a958-2ae87650f43f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-476572002-172.17.0.6-1598610048833:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41153,DS-816dfdb4-f1d5-4a47-9d07-478acff6971b,DISK], DatanodeInfoWithStorage[127.0.0.1:39289,DS-19ea9c52-dce9-4101-a687-7f75811f713a,DISK], DatanodeInfoWithStorage[127.0.0.1:45887,DS-c3a29749-bb8d-48c9-9662-1af9c13e192f,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-476572002-172.17.0.6-1598610048833:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33710,DS-26229419-dfbe-4673-8b77-3ca3570649b2,DISK], DatanodeInfoWithStorage[127.0.0.1:41153,DS-816dfdb4-f1d5-4a47-9d07-478acff6971b,DISK], DatanodeInfoWithStorage[127.0.0.1:39289,DS-19ea9c52-dce9-4101-a687-7f75811f713a,DISK], DatanodeInfoWithStorage[127.0.0.1:45887,DS-c3a29749-bb8d-48c9-9662-1af9c13e192f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1483149643-172.17.0.6-1598610991276:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35335,DS-be765f54-0f42-486a-a1f7-b946141041c9,DISK], DatanodeInfoWithStorage[127.0.0.1:46199,DS-184ca586-467e-44e8-840b-a9cca1e2cadb,DISK], DatanodeInfoWithStorage[127.0.0.1:34098,DS-38f4d25a-cd7d-40c3-a72b-86f9711bdf2a,DISK], DatanodeInfoWithStorage[127.0.0.1:43988,DS-81b97116-f90b-4152-ad84-e9b7991ffeab,DISK], DatanodeInfoWithStorage[127.0.0.1:43830,DS-9750621b-03f2-4723-ba23-e9db9c3fb0c0,DISK], DatanodeInfoWithStorage[127.0.0.1:43387,DS-6902c2df-8d18-46d5-9244-29b04aaf1967,DISK], DatanodeInfoWithStorage[127.0.0.1:45414,DS-df45c9d9-698e-4b8b-a64a-c06950e30ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:38929,DS-f082eee6-dd0a-4173-95e4-6650b1eabf12,DISK], DatanodeInfoWithStorage[127.0.0.1:42967,DS-da2d3191-d307-43b2-b064-0b104e11b6b7,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1483149643-172.17.0.6-1598610991276:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43988,DS-2720d4fe-6eff-4414-b8e0-4109a6aa4fac,DISK], DatanodeInfoWithStorage[127.0.0.1:34098,DS-6e6fc8ca-a2ea-4ae1-a24d-c9af1ed5336d,DISK], DatanodeInfoWithStorage[127.0.0.1:46199,DS-4651c049-455a-419f-96b0-427c20704f11,DISK], DatanodeInfoWithStorage[127.0.0.1:42967,DS-3dae54ba-6dae-4126-85f0-6d1f57d1497f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1483149643-172.17.0.6-1598610991276:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43988,DS-2720d4fe-6eff-4414-b8e0-4109a6aa4fac,DISK], DatanodeInfoWithStorage[127.0.0.1:34098,DS-6e6fc8ca-a2ea-4ae1-a24d-c9af1ed5336d,DISK], DatanodeInfoWithStorage[127.0.0.1:46199,DS-4651c049-455a-419f-96b0-427c20704f11,DISK], DatanodeInfoWithStorage[127.0.0.1:42967,DS-3dae54ba-6dae-4126-85f0-6d1f57d1497f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1483149643-172.17.0.6-1598610991276:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35335,DS-be765f54-0f42-486a-a1f7-b946141041c9,DISK], DatanodeInfoWithStorage[127.0.0.1:46199,DS-184ca586-467e-44e8-840b-a9cca1e2cadb,DISK], DatanodeInfoWithStorage[127.0.0.1:34098,DS-38f4d25a-cd7d-40c3-a72b-86f9711bdf2a,DISK], DatanodeInfoWithStorage[127.0.0.1:43988,DS-81b97116-f90b-4152-ad84-e9b7991ffeab,DISK], DatanodeInfoWithStorage[127.0.0.1:43830,DS-9750621b-03f2-4723-ba23-e9db9c3fb0c0,DISK], DatanodeInfoWithStorage[127.0.0.1:43387,DS-6902c2df-8d18-46d5-9244-29b04aaf1967,DISK], DatanodeInfoWithStorage[127.0.0.1:45414,DS-df45c9d9-698e-4b8b-a64a-c06950e30ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:38929,DS-f082eee6-dd0a-4173-95e4-6650b1eabf12,DISK], DatanodeInfoWithStorage[127.0.0.1:42967,DS-da2d3191-d307-43b2-b064-0b104e11b6b7,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1483149643-172.17.0.6-1598610991276:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43988,DS-2720d4fe-6eff-4414-b8e0-4109a6aa4fac,DISK], DatanodeInfoWithStorage[127.0.0.1:34098,DS-6e6fc8ca-a2ea-4ae1-a24d-c9af1ed5336d,DISK], DatanodeInfoWithStorage[127.0.0.1:46199,DS-4651c049-455a-419f-96b0-427c20704f11,DISK], DatanodeInfoWithStorage[127.0.0.1:42967,DS-3dae54ba-6dae-4126-85f0-6d1f57d1497f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1483149643-172.17.0.6-1598610991276:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43988,DS-2720d4fe-6eff-4414-b8e0-4109a6aa4fac,DISK], DatanodeInfoWithStorage[127.0.0.1:34098,DS-6e6fc8ca-a2ea-4ae1-a24d-c9af1ed5336d,DISK], DatanodeInfoWithStorage[127.0.0.1:46199,DS-4651c049-455a-419f-96b0-427c20704f11,DISK], DatanodeInfoWithStorage[127.0.0.1:42967,DS-3dae54ba-6dae-4126-85f0-6d1f57d1497f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1046074236-172.17.0.6-1598611718869:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42852,DS-e9705969-d355-49ea-aa6d-63c9c5f555f3,DISK], DatanodeInfoWithStorage[127.0.0.1:34900,DS-9931cdc2-c113-48a5-90e3-836804eabd08,DISK], DatanodeInfoWithStorage[127.0.0.1:37500,DS-97565687-6466-4afc-ad83-34fe7626301d,DISK], DatanodeInfoWithStorage[127.0.0.1:41162,DS-e56e97f1-cb9b-4d54-989b-0e83a4739e30,DISK], DatanodeInfoWithStorage[127.0.0.1:41219,DS-74c35933-7a5d-4df9-9dbd-a054f042ea45,DISK], DatanodeInfoWithStorage[127.0.0.1:35641,DS-f699246e-47d2-4196-aa89-de15e357ef87,DISK], DatanodeInfoWithStorage[127.0.0.1:40190,DS-58f17dbc-00c4-4e66-b611-2a6ae9306588,DISK], DatanodeInfoWithStorage[127.0.0.1:40173,DS-00e33959-4adc-4064-99fb-015923e47e03,DISK], DatanodeInfoWithStorage[127.0.0.1:42986,DS-35f326c5-db54-45a7-80bb-266f2d08007e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1046074236-172.17.0.6-1598611718869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35641,DS-9c7a7a09-6c2f-4675-a00a-e961d4ad70fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34900,DS-e50838a3-d20e-427b-b1de-c3ec8641311b,DISK], DatanodeInfoWithStorage[127.0.0.1:42986,DS-388ad93f-ff77-40dc-aafe-747b39b6c094,DISK], DatanodeInfoWithStorage[127.0.0.1:42852,DS-bb9cd698-72c4-4a78-afca-ab1922439f91,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1046074236-172.17.0.6-1598611718869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35641,DS-9c7a7a09-6c2f-4675-a00a-e961d4ad70fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34900,DS-e50838a3-d20e-427b-b1de-c3ec8641311b,DISK], DatanodeInfoWithStorage[127.0.0.1:42986,DS-388ad93f-ff77-40dc-aafe-747b39b6c094,DISK], DatanodeInfoWithStorage[127.0.0.1:42852,DS-bb9cd698-72c4-4a78-afca-ab1922439f91,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1046074236-172.17.0.6-1598611718869:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42852,DS-e9705969-d355-49ea-aa6d-63c9c5f555f3,DISK], DatanodeInfoWithStorage[127.0.0.1:34900,DS-9931cdc2-c113-48a5-90e3-836804eabd08,DISK], DatanodeInfoWithStorage[127.0.0.1:37500,DS-97565687-6466-4afc-ad83-34fe7626301d,DISK], DatanodeInfoWithStorage[127.0.0.1:41162,DS-e56e97f1-cb9b-4d54-989b-0e83a4739e30,DISK], DatanodeInfoWithStorage[127.0.0.1:41219,DS-74c35933-7a5d-4df9-9dbd-a054f042ea45,DISK], DatanodeInfoWithStorage[127.0.0.1:35641,DS-f699246e-47d2-4196-aa89-de15e357ef87,DISK], DatanodeInfoWithStorage[127.0.0.1:40190,DS-58f17dbc-00c4-4e66-b611-2a6ae9306588,DISK], DatanodeInfoWithStorage[127.0.0.1:40173,DS-00e33959-4adc-4064-99fb-015923e47e03,DISK], DatanodeInfoWithStorage[127.0.0.1:42986,DS-35f326c5-db54-45a7-80bb-266f2d08007e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1046074236-172.17.0.6-1598611718869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35641,DS-9c7a7a09-6c2f-4675-a00a-e961d4ad70fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34900,DS-e50838a3-d20e-427b-b1de-c3ec8641311b,DISK], DatanodeInfoWithStorage[127.0.0.1:42986,DS-388ad93f-ff77-40dc-aafe-747b39b6c094,DISK], DatanodeInfoWithStorage[127.0.0.1:42852,DS-bb9cd698-72c4-4a78-afca-ab1922439f91,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1046074236-172.17.0.6-1598611718869:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35641,DS-9c7a7a09-6c2f-4675-a00a-e961d4ad70fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34900,DS-e50838a3-d20e-427b-b1de-c3ec8641311b,DISK], DatanodeInfoWithStorage[127.0.0.1:42986,DS-388ad93f-ff77-40dc-aafe-747b39b6c094,DISK], DatanodeInfoWithStorage[127.0.0.1:42852,DS-bb9cd698-72c4-4a78-afca-ab1922439f91,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1105815933-172.17.0.6-1598611882570:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41004,DS-4db136a1-2f7c-4055-a585-abec277771d5,DISK], DatanodeInfoWithStorage[127.0.0.1:42508,DS-663dbaa5-e819-433f-acc1-27583d2a38cc,DISK], DatanodeInfoWithStorage[127.0.0.1:46200,DS-67936253-cf36-46c9-a609-55ce1e3a15f5,DISK], DatanodeInfoWithStorage[127.0.0.1:41584,DS-c981c125-3613-457e-9e37-f033ad452968,DISK], DatanodeInfoWithStorage[127.0.0.1:46430,DS-164f2281-08ca-4453-b622-bfc682c40857,DISK], DatanodeInfoWithStorage[127.0.0.1:36393,DS-bb635650-8226-4992-ada4-82dd28ee8a58,DISK], DatanodeInfoWithStorage[127.0.0.1:34564,DS-f883b10a-7bf1-4167-b4b8-db89d2f4bea4,DISK], DatanodeInfoWithStorage[127.0.0.1:43908,DS-6fa4f125-852d-4319-91d1-35ed92abeae3,DISK], DatanodeInfoWithStorage[127.0.0.1:34299,DS-1b84d7fc-3b90-4da9-859d-a520b071a3eb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1105815933-172.17.0.6-1598611882570:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36393,DS-1f1c8fab-1ef2-4eac-93b3-a2a62cf1bd9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43908,DS-4c986ae5-2256-4ebc-b72b-73b3dfdf3556,DISK], DatanodeInfoWithStorage[127.0.0.1:34299,DS-9135cd8c-71ed-4da8-9f78-4cb4f85e159c,DISK], DatanodeInfoWithStorage[127.0.0.1:46430,DS-60e4d058-68c8-4bf8-a1d7-686ee78cb0fc,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1105815933-172.17.0.6-1598611882570:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36393,DS-1f1c8fab-1ef2-4eac-93b3-a2a62cf1bd9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43908,DS-4c986ae5-2256-4ebc-b72b-73b3dfdf3556,DISK], DatanodeInfoWithStorage[127.0.0.1:34299,DS-9135cd8c-71ed-4da8-9f78-4cb4f85e159c,DISK], DatanodeInfoWithStorage[127.0.0.1:46430,DS-60e4d058-68c8-4bf8-a1d7-686ee78cb0fc,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1105815933-172.17.0.6-1598611882570:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41004,DS-4db136a1-2f7c-4055-a585-abec277771d5,DISK], DatanodeInfoWithStorage[127.0.0.1:42508,DS-663dbaa5-e819-433f-acc1-27583d2a38cc,DISK], DatanodeInfoWithStorage[127.0.0.1:46200,DS-67936253-cf36-46c9-a609-55ce1e3a15f5,DISK], DatanodeInfoWithStorage[127.0.0.1:41584,DS-c981c125-3613-457e-9e37-f033ad452968,DISK], DatanodeInfoWithStorage[127.0.0.1:46430,DS-164f2281-08ca-4453-b622-bfc682c40857,DISK], DatanodeInfoWithStorage[127.0.0.1:36393,DS-bb635650-8226-4992-ada4-82dd28ee8a58,DISK], DatanodeInfoWithStorage[127.0.0.1:34564,DS-f883b10a-7bf1-4167-b4b8-db89d2f4bea4,DISK], DatanodeInfoWithStorage[127.0.0.1:43908,DS-6fa4f125-852d-4319-91d1-35ed92abeae3,DISK], DatanodeInfoWithStorage[127.0.0.1:34299,DS-1b84d7fc-3b90-4da9-859d-a520b071a3eb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1105815933-172.17.0.6-1598611882570:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36393,DS-1f1c8fab-1ef2-4eac-93b3-a2a62cf1bd9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43908,DS-4c986ae5-2256-4ebc-b72b-73b3dfdf3556,DISK], DatanodeInfoWithStorage[127.0.0.1:34299,DS-9135cd8c-71ed-4da8-9f78-4cb4f85e159c,DISK], DatanodeInfoWithStorage[127.0.0.1:46430,DS-60e4d058-68c8-4bf8-a1d7-686ee78cb0fc,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1105815933-172.17.0.6-1598611882570:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36393,DS-1f1c8fab-1ef2-4eac-93b3-a2a62cf1bd9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43908,DS-4c986ae5-2256-4ebc-b72b-73b3dfdf3556,DISK], DatanodeInfoWithStorage[127.0.0.1:34299,DS-9135cd8c-71ed-4da8-9f78-4cb4f85e159c,DISK], DatanodeInfoWithStorage[127.0.0.1:46430,DS-60e4d058-68c8-4bf8-a1d7-686ee78cb0fc,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=102, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-186930389-172.17.0.6-1598611920719:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35350,DS-62374933-b2bc-4af0-a48a-10c9a5fd1c29,DISK], DatanodeInfoWithStorage[127.0.0.1:34958,DS-6f7c2233-61cc-49fa-8b2d-da4f06a904e4,DISK], DatanodeInfoWithStorage[127.0.0.1:44048,DS-53aabca2-1a53-40ac-82e0-e8864fdcbfb2,DISK], DatanodeInfoWithStorage[127.0.0.1:39594,DS-2d4f3a98-e435-4d8b-9b8b-b3fd4cd920d1,DISK], DatanodeInfoWithStorage[127.0.0.1:45277,DS-ef4ea47e-7560-4d3e-8059-9fcf58fc514f,DISK], DatanodeInfoWithStorage[127.0.0.1:38207,DS-fe210456-da06-40b2-a8c5-3caea1613af1,DISK], DatanodeInfoWithStorage[127.0.0.1:40037,DS-5e04d1c1-020f-4632-9554-adcaec0264f6,DISK], DatanodeInfoWithStorage[127.0.0.1:38882,DS-ec9aafaa-3ef2-4ddb-a12c-c80beff499e1,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-b795894f-e182-4259-a663-0bd708cb8b88,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-186930389-172.17.0.6-1598611920719:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40037,DS-baf65f9b-ab0c-4f1f-b8f2-b94e698cb899,DISK], DatanodeInfoWithStorage[127.0.0.1:38207,DS-ad27bd89-9974-44b5-8b97-2d758da6263a,DISK], DatanodeInfoWithStorage[127.0.0.1:45277,DS-4945dd01-274e-4edc-99e4-c5d71b17315b,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-13212db5-badb-478b-85cb-6b3c52bfdcb2,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-186930389-172.17.0.6-1598611920719:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40037,DS-baf65f9b-ab0c-4f1f-b8f2-b94e698cb899,DISK], DatanodeInfoWithStorage[127.0.0.1:38207,DS-ad27bd89-9974-44b5-8b97-2d758da6263a,DISK], DatanodeInfoWithStorage[127.0.0.1:45277,DS-4945dd01-274e-4edc-99e4-c5d71b17315b,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-13212db5-badb-478b-85cb-6b3c52bfdcb2,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=102, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-186930389-172.17.0.6-1598611920719:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35350,DS-62374933-b2bc-4af0-a48a-10c9a5fd1c29,DISK], DatanodeInfoWithStorage[127.0.0.1:34958,DS-6f7c2233-61cc-49fa-8b2d-da4f06a904e4,DISK], DatanodeInfoWithStorage[127.0.0.1:44048,DS-53aabca2-1a53-40ac-82e0-e8864fdcbfb2,DISK], DatanodeInfoWithStorage[127.0.0.1:39594,DS-2d4f3a98-e435-4d8b-9b8b-b3fd4cd920d1,DISK], DatanodeInfoWithStorage[127.0.0.1:45277,DS-ef4ea47e-7560-4d3e-8059-9fcf58fc514f,DISK], DatanodeInfoWithStorage[127.0.0.1:38207,DS-fe210456-da06-40b2-a8c5-3caea1613af1,DISK], DatanodeInfoWithStorage[127.0.0.1:40037,DS-5e04d1c1-020f-4632-9554-adcaec0264f6,DISK], DatanodeInfoWithStorage[127.0.0.1:38882,DS-ec9aafaa-3ef2-4ddb-a12c-c80beff499e1,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-b795894f-e182-4259-a663-0bd708cb8b88,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-186930389-172.17.0.6-1598611920719:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40037,DS-baf65f9b-ab0c-4f1f-b8f2-b94e698cb899,DISK], DatanodeInfoWithStorage[127.0.0.1:38207,DS-ad27bd89-9974-44b5-8b97-2d758da6263a,DISK], DatanodeInfoWithStorage[127.0.0.1:45277,DS-4945dd01-274e-4edc-99e4-c5d71b17315b,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-13212db5-badb-478b-85cb-6b3c52bfdcb2,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-186930389-172.17.0.6-1598611920719:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40037,DS-baf65f9b-ab0c-4f1f-b8f2-b94e698cb899,DISK], DatanodeInfoWithStorage[127.0.0.1:38207,DS-ad27bd89-9974-44b5-8b97-2d758da6263a,DISK], DatanodeInfoWithStorage[127.0.0.1:45277,DS-4945dd01-274e-4edc-99e4-c5d71b17315b,DISK], DatanodeInfoWithStorage[127.0.0.1:41501,DS-13212db5-badb-478b-85cb-6b3c52bfdcb2,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-119229009-172.17.0.6-1598612620411:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46283,DS-17884b5e-a7a0-46a2-b2bb-5ecceba16563,DISK], DatanodeInfoWithStorage[127.0.0.1:44552,DS-1e8478de-6e5e-40b0-9583-515f76353104,DISK], DatanodeInfoWithStorage[127.0.0.1:39567,DS-219dddb3-55c8-4dcf-9f30-40f28be2a42b,DISK], DatanodeInfoWithStorage[127.0.0.1:37748,DS-6cd05ee3-1683-4aac-bc9d-d7604b677f84,DISK], DatanodeInfoWithStorage[127.0.0.1:40520,DS-1410b48c-459a-4a08-a0f8-5cc072072e51,DISK], DatanodeInfoWithStorage[127.0.0.1:33452,DS-6350fe41-8756-4289-8b43-81f2e87aaa49,DISK], DatanodeInfoWithStorage[127.0.0.1:40154,DS-44f1196d-9564-421a-99d4-f5a1601ef9ce,DISK], DatanodeInfoWithStorage[127.0.0.1:36115,DS-63d31692-8de3-4211-9073-445ee943fe11,DISK], DatanodeInfoWithStorage[127.0.0.1:32877,DS-47add4e7-2588-4adb-854d-558b5aee7ae5,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-119229009-172.17.0.6-1598612620411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40154,DS-4c423c1b-18ba-4c7e-ace6-1c6cb71f1cac,DISK], DatanodeInfoWithStorage[127.0.0.1:39567,DS-34aa7c4e-e6f0-41d6-b711-a55f5ef4b88a,DISK], DatanodeInfoWithStorage[127.0.0.1:44552,DS-54f54165-ac5b-4d4d-aa2b-6c7297c392b3,DISK], DatanodeInfoWithStorage[127.0.0.1:40520,DS-c02c257e-4885-475f-8586-1f8f9c650e72,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-119229009-172.17.0.6-1598612620411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40154,DS-4c423c1b-18ba-4c7e-ace6-1c6cb71f1cac,DISK], DatanodeInfoWithStorage[127.0.0.1:39567,DS-34aa7c4e-e6f0-41d6-b711-a55f5ef4b88a,DISK], DatanodeInfoWithStorage[127.0.0.1:44552,DS-54f54165-ac5b-4d4d-aa2b-6c7297c392b3,DISK], DatanodeInfoWithStorage[127.0.0.1:40520,DS-c02c257e-4885-475f-8586-1f8f9c650e72,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-119229009-172.17.0.6-1598612620411:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46283,DS-17884b5e-a7a0-46a2-b2bb-5ecceba16563,DISK], DatanodeInfoWithStorage[127.0.0.1:44552,DS-1e8478de-6e5e-40b0-9583-515f76353104,DISK], DatanodeInfoWithStorage[127.0.0.1:39567,DS-219dddb3-55c8-4dcf-9f30-40f28be2a42b,DISK], DatanodeInfoWithStorage[127.0.0.1:37748,DS-6cd05ee3-1683-4aac-bc9d-d7604b677f84,DISK], DatanodeInfoWithStorage[127.0.0.1:40520,DS-1410b48c-459a-4a08-a0f8-5cc072072e51,DISK], DatanodeInfoWithStorage[127.0.0.1:33452,DS-6350fe41-8756-4289-8b43-81f2e87aaa49,DISK], DatanodeInfoWithStorage[127.0.0.1:40154,DS-44f1196d-9564-421a-99d4-f5a1601ef9ce,DISK], DatanodeInfoWithStorage[127.0.0.1:36115,DS-63d31692-8de3-4211-9073-445ee943fe11,DISK], DatanodeInfoWithStorage[127.0.0.1:32877,DS-47add4e7-2588-4adb-854d-558b5aee7ae5,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-119229009-172.17.0.6-1598612620411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40154,DS-4c423c1b-18ba-4c7e-ace6-1c6cb71f1cac,DISK], DatanodeInfoWithStorage[127.0.0.1:39567,DS-34aa7c4e-e6f0-41d6-b711-a55f5ef4b88a,DISK], DatanodeInfoWithStorage[127.0.0.1:44552,DS-54f54165-ac5b-4d4d-aa2b-6c7297c392b3,DISK], DatanodeInfoWithStorage[127.0.0.1:40520,DS-c02c257e-4885-475f-8586-1f8f9c650e72,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-119229009-172.17.0.6-1598612620411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40154,DS-4c423c1b-18ba-4c7e-ace6-1c6cb71f1cac,DISK], DatanodeInfoWithStorage[127.0.0.1:39567,DS-34aa7c4e-e6f0-41d6-b711-a55f5ef4b88a,DISK], DatanodeInfoWithStorage[127.0.0.1:44552,DS-54f54165-ac5b-4d4d-aa2b-6c7297c392b3,DISK], DatanodeInfoWithStorage[127.0.0.1:40520,DS-c02c257e-4885-475f-8586-1f8f9c650e72,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-639182385-172.17.0.6-1598612656306:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45840,DS-bcf761a8-b350-43e7-92c3-072a2c0a57cd,DISK], DatanodeInfoWithStorage[127.0.0.1:33443,DS-f0cce8c5-c501-4758-98be-b2ba4348cb8d,DISK], DatanodeInfoWithStorage[127.0.0.1:39452,DS-f9379812-62fc-4320-b291-ae213d284ceb,DISK], DatanodeInfoWithStorage[127.0.0.1:37430,DS-877036e8-fe41-4d46-8811-5cb0ede624a7,DISK], DatanodeInfoWithStorage[127.0.0.1:34027,DS-c4ad2922-b908-40d0-a0fe-7ae036cb5658,DISK], DatanodeInfoWithStorage[127.0.0.1:46319,DS-60187e41-569a-41c3-a8e4-2ceaad3ca476,DISK], DatanodeInfoWithStorage[127.0.0.1:40437,DS-65c528a4-ac3a-4e92-baa2-7905770c7442,DISK], DatanodeInfoWithStorage[127.0.0.1:39434,DS-4e164682-820d-4f7b-bbc0-f8ff20023ec0,DISK], DatanodeInfoWithStorage[127.0.0.1:42839,DS-57658e92-afc1-4e32-8aaa-56d20ef200cc,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-639182385-172.17.0.6-1598612656306:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39452,DS-f9d418e6-8d60-4852-95d7-5fbb38b6e191,DISK], DatanodeInfoWithStorage[127.0.0.1:45840,DS-d5c8c83e-00b9-4f1c-9553-08cc45684010,DISK], DatanodeInfoWithStorage[127.0.0.1:34027,DS-41b5be35-d0d1-44a0-91a0-6d5210b99068,DISK], DatanodeInfoWithStorage[127.0.0.1:39434,DS-6f62d5f0-d3ed-4699-adb9-1b1e8e67e7e3,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-639182385-172.17.0.6-1598612656306:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39452,DS-f9d418e6-8d60-4852-95d7-5fbb38b6e191,DISK], DatanodeInfoWithStorage[127.0.0.1:45840,DS-d5c8c83e-00b9-4f1c-9553-08cc45684010,DISK], DatanodeInfoWithStorage[127.0.0.1:34027,DS-41b5be35-d0d1-44a0-91a0-6d5210b99068,DISK], DatanodeInfoWithStorage[127.0.0.1:39434,DS-6f62d5f0-d3ed-4699-adb9-1b1e8e67e7e3,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-639182385-172.17.0.6-1598612656306:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45840,DS-bcf761a8-b350-43e7-92c3-072a2c0a57cd,DISK], DatanodeInfoWithStorage[127.0.0.1:33443,DS-f0cce8c5-c501-4758-98be-b2ba4348cb8d,DISK], DatanodeInfoWithStorage[127.0.0.1:39452,DS-f9379812-62fc-4320-b291-ae213d284ceb,DISK], DatanodeInfoWithStorage[127.0.0.1:37430,DS-877036e8-fe41-4d46-8811-5cb0ede624a7,DISK], DatanodeInfoWithStorage[127.0.0.1:34027,DS-c4ad2922-b908-40d0-a0fe-7ae036cb5658,DISK], DatanodeInfoWithStorage[127.0.0.1:46319,DS-60187e41-569a-41c3-a8e4-2ceaad3ca476,DISK], DatanodeInfoWithStorage[127.0.0.1:40437,DS-65c528a4-ac3a-4e92-baa2-7905770c7442,DISK], DatanodeInfoWithStorage[127.0.0.1:39434,DS-4e164682-820d-4f7b-bbc0-f8ff20023ec0,DISK], DatanodeInfoWithStorage[127.0.0.1:42839,DS-57658e92-afc1-4e32-8aaa-56d20ef200cc,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-639182385-172.17.0.6-1598612656306:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39452,DS-f9d418e6-8d60-4852-95d7-5fbb38b6e191,DISK], DatanodeInfoWithStorage[127.0.0.1:45840,DS-d5c8c83e-00b9-4f1c-9553-08cc45684010,DISK], DatanodeInfoWithStorage[127.0.0.1:34027,DS-41b5be35-d0d1-44a0-91a0-6d5210b99068,DISK], DatanodeInfoWithStorage[127.0.0.1:39434,DS-6f62d5f0-d3ed-4699-adb9-1b1e8e67e7e3,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-639182385-172.17.0.6-1598612656306:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39452,DS-f9d418e6-8d60-4852-95d7-5fbb38b6e191,DISK], DatanodeInfoWithStorage[127.0.0.1:45840,DS-d5c8c83e-00b9-4f1c-9553-08cc45684010,DISK], DatanodeInfoWithStorage[127.0.0.1:34027,DS-41b5be35-d0d1-44a0-91a0-6d5210b99068,DISK], DatanodeInfoWithStorage[127.0.0.1:39434,DS-6f62d5f0-d3ed-4699-adb9-1b1e8e67e7e3,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-725483940-172.17.0.6-1598612761995:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46620,DS-18cd2a11-e704-4316-85e3-3f762e1052e0,DISK], DatanodeInfoWithStorage[127.0.0.1:42821,DS-90385f95-aa75-4342-863f-eb60489e5ec7,DISK], DatanodeInfoWithStorage[127.0.0.1:45997,DS-cc0d6a3a-75e8-427a-bc5d-1cfed55a1aa3,DISK], DatanodeInfoWithStorage[127.0.0.1:39301,DS-9cd4c32f-30cf-429e-95c1-05385b5e6cac,DISK], DatanodeInfoWithStorage[127.0.0.1:37437,DS-d5bd4260-79b8-45bf-b788-2a431211a75b,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-2c9fb740-505e-4ac2-9fa7-4192c34e0e2a,DISK], DatanodeInfoWithStorage[127.0.0.1:38577,DS-4e0965dd-db81-4144-ab91-855881a94bec,DISK], DatanodeInfoWithStorage[127.0.0.1:35774,DS-2354ab5b-c867-4b1e-ab81-a8ed492d4f0a,DISK], DatanodeInfoWithStorage[127.0.0.1:45419,DS-ef12cd13-1adb-417e-845b-2fa1a9340db7,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-725483940-172.17.0.6-1598612761995:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35774,DS-8c33c314-9778-4c35-9f97-18d6d339d1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:37437,DS-d381be90-caad-403c-89ed-d847c9ae243f,DISK], DatanodeInfoWithStorage[127.0.0.1:45997,DS-076828cf-6b7d-466b-928f-40a6a69cb750,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-725483940-172.17.0.6-1598612761995:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38577,DS-e0351ce9-60cd-49f5-ba46-d28f3a4991d5,DISK], DatanodeInfoWithStorage[127.0.0.1:35774,DS-8c33c314-9778-4c35-9f97-18d6d339d1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:37437,DS-d381be90-caad-403c-89ed-d847c9ae243f,DISK], DatanodeInfoWithStorage[127.0.0.1:45997,DS-076828cf-6b7d-466b-928f-40a6a69cb750,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-725483940-172.17.0.6-1598612761995:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46620,DS-18cd2a11-e704-4316-85e3-3f762e1052e0,DISK], DatanodeInfoWithStorage[127.0.0.1:42821,DS-90385f95-aa75-4342-863f-eb60489e5ec7,DISK], DatanodeInfoWithStorage[127.0.0.1:45997,DS-cc0d6a3a-75e8-427a-bc5d-1cfed55a1aa3,DISK], DatanodeInfoWithStorage[127.0.0.1:39301,DS-9cd4c32f-30cf-429e-95c1-05385b5e6cac,DISK], DatanodeInfoWithStorage[127.0.0.1:37437,DS-d5bd4260-79b8-45bf-b788-2a431211a75b,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-2c9fb740-505e-4ac2-9fa7-4192c34e0e2a,DISK], DatanodeInfoWithStorage[127.0.0.1:38577,DS-4e0965dd-db81-4144-ab91-855881a94bec,DISK], DatanodeInfoWithStorage[127.0.0.1:35774,DS-2354ab5b-c867-4b1e-ab81-a8ed492d4f0a,DISK], DatanodeInfoWithStorage[127.0.0.1:45419,DS-ef12cd13-1adb-417e-845b-2fa1a9340db7,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-725483940-172.17.0.6-1598612761995:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35774,DS-8c33c314-9778-4c35-9f97-18d6d339d1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:37437,DS-d381be90-caad-403c-89ed-d847c9ae243f,DISK], DatanodeInfoWithStorage[127.0.0.1:45997,DS-076828cf-6b7d-466b-928f-40a6a69cb750,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-725483940-172.17.0.6-1598612761995:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38577,DS-e0351ce9-60cd-49f5-ba46-d28f3a4991d5,DISK], DatanodeInfoWithStorage[127.0.0.1:35774,DS-8c33c314-9778-4c35-9f97-18d6d339d1e0,DISK], DatanodeInfoWithStorage[127.0.0.1:37437,DS-d381be90-caad-403c-89ed-d847c9ae243f,DISK], DatanodeInfoWithStorage[127.0.0.1:45997,DS-076828cf-6b7d-466b-928f-40a6a69cb750,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1979354360-172.17.0.6-1598612935082:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44590,DS-8905d14b-10bb-4512-81c9-3d9874453d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:34289,DS-82a4990c-2823-47e6-acdc-8c58686dd8ac,DISK], DatanodeInfoWithStorage[127.0.0.1:36963,DS-6c43e675-4988-4111-a85d-954666fba4c9,DISK], DatanodeInfoWithStorage[127.0.0.1:40684,DS-6d9c0e5b-79d4-4e25-bae2-18b6aaf55cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:32860,DS-e278ef23-612a-464f-b01e-f6ca4c88271d,DISK], DatanodeInfoWithStorage[127.0.0.1:34096,DS-ac60125a-dcf0-40c8-9c8e-c7da63101602,DISK], DatanodeInfoWithStorage[127.0.0.1:39592,DS-0432919b-880e-4e0d-b89e-03c70422de52,DISK], DatanodeInfoWithStorage[127.0.0.1:34308,DS-aa3ac2c8-4975-4d76-8144-0c842b0579a0,DISK], DatanodeInfoWithStorage[127.0.0.1:45363,DS-153585c4-646f-419b-aa35-bcdd8413a3e4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1979354360-172.17.0.6-1598612935082:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36963,DS-5ff265ae-dc21-4e3d-ae68-1a800ff98dfc,DISK], DatanodeInfoWithStorage[127.0.0.1:40684,DS-34c58b9f-dbcd-4d11-a7e0-b0ab00a557bd,DISK], DatanodeInfoWithStorage[127.0.0.1:45363,DS-448dc353-2fb6-4a8a-b9ab-6876c5ffb930,DISK], DatanodeInfoWithStorage[127.0.0.1:39592,DS-7bb31754-3cff-4b8d-b9d6-065f4ca56e87,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1979354360-172.17.0.6-1598612935082:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36963,DS-5ff265ae-dc21-4e3d-ae68-1a800ff98dfc,DISK], DatanodeInfoWithStorage[127.0.0.1:40684,DS-34c58b9f-dbcd-4d11-a7e0-b0ab00a557bd,DISK], DatanodeInfoWithStorage[127.0.0.1:45363,DS-448dc353-2fb6-4a8a-b9ab-6876c5ffb930,DISK], DatanodeInfoWithStorage[127.0.0.1:39592,DS-7bb31754-3cff-4b8d-b9d6-065f4ca56e87,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1979354360-172.17.0.6-1598612935082:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44590,DS-8905d14b-10bb-4512-81c9-3d9874453d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:34289,DS-82a4990c-2823-47e6-acdc-8c58686dd8ac,DISK], DatanodeInfoWithStorage[127.0.0.1:36963,DS-6c43e675-4988-4111-a85d-954666fba4c9,DISK], DatanodeInfoWithStorage[127.0.0.1:40684,DS-6d9c0e5b-79d4-4e25-bae2-18b6aaf55cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:32860,DS-e278ef23-612a-464f-b01e-f6ca4c88271d,DISK], DatanodeInfoWithStorage[127.0.0.1:34096,DS-ac60125a-dcf0-40c8-9c8e-c7da63101602,DISK], DatanodeInfoWithStorage[127.0.0.1:39592,DS-0432919b-880e-4e0d-b89e-03c70422de52,DISK], DatanodeInfoWithStorage[127.0.0.1:34308,DS-aa3ac2c8-4975-4d76-8144-0c842b0579a0,DISK], DatanodeInfoWithStorage[127.0.0.1:45363,DS-153585c4-646f-419b-aa35-bcdd8413a3e4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1979354360-172.17.0.6-1598612935082:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36963,DS-5ff265ae-dc21-4e3d-ae68-1a800ff98dfc,DISK], DatanodeInfoWithStorage[127.0.0.1:40684,DS-34c58b9f-dbcd-4d11-a7e0-b0ab00a557bd,DISK], DatanodeInfoWithStorage[127.0.0.1:45363,DS-448dc353-2fb6-4a8a-b9ab-6876c5ffb930,DISK], DatanodeInfoWithStorage[127.0.0.1:39592,DS-7bb31754-3cff-4b8d-b9d6-065f4ca56e87,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1979354360-172.17.0.6-1598612935082:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36963,DS-5ff265ae-dc21-4e3d-ae68-1a800ff98dfc,DISK], DatanodeInfoWithStorage[127.0.0.1:40684,DS-34c58b9f-dbcd-4d11-a7e0-b0ab00a557bd,DISK], DatanodeInfoWithStorage[127.0.0.1:45363,DS-448dc353-2fb6-4a8a-b9ab-6876c5ffb930,DISK], DatanodeInfoWithStorage[127.0.0.1:39592,DS-7bb31754-3cff-4b8d-b9d6-065f4ca56e87,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=1048576, length=3145728, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1798478289-172.17.0.6-1598613174411:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46334,DS-6911a3e9-8542-4db4-978d-735b92be7b28,DISK], DatanodeInfoWithStorage[127.0.0.1:39371,DS-61201738-4010-45fc-a426-a22d84c1ac1f,DISK], DatanodeInfoWithStorage[127.0.0.1:36908,DS-48ddb343-8e34-4e97-8199-bcf5c14f7188,DISK], DatanodeInfoWithStorage[127.0.0.1:43849,DS-614f6090-3baa-41dd-a7d7-e389ddf5cb8a,DISK], DatanodeInfoWithStorage[127.0.0.1:39811,DS-7317c5f0-7cea-48dd-bc60-ad5be8dd4eea,DISK], DatanodeInfoWithStorage[127.0.0.1:39899,DS-425900f1-d769-4a1a-a57e-75e89b13e882,DISK], DatanodeInfoWithStorage[127.0.0.1:39394,DS-4b10b3fe-64cb-4bbd-afe1-9dd1345bcc68,DISK], DatanodeInfoWithStorage[127.0.0.1:35622,DS-40876a2f-343c-42fb-b5fb-0d6e9798dd2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-a4d5936f-2732-491d-b59c-6669e4f571d3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1798478289-172.17.0.6-1598613174411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43849,DS-22ed2f6e-8a03-4cf2-9aba-7634dd36ed02,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-1fc8690e-f768-4e7a-82e5-a6844c01483d,DISK], DatanodeInfoWithStorage[127.0.0.1:36908,DS-cdb6803a-24f6-485d-9b61-9f5fe5d23fdd,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1798478289-172.17.0.6-1598613174411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39371,DS-056a58fd-fe16-4129-845b-89ad7eb19f1e,DISK], DatanodeInfoWithStorage[127.0.0.1:43849,DS-22ed2f6e-8a03-4cf2-9aba-7634dd36ed02,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-1fc8690e-f768-4e7a-82e5-a6844c01483d,DISK], DatanodeInfoWithStorage[127.0.0.1:36908,DS-cdb6803a-24f6-485d-9b61-9f5fe5d23fdd,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=1048576, length=3145728, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1798478289-172.17.0.6-1598613174411:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46334,DS-6911a3e9-8542-4db4-978d-735b92be7b28,DISK], DatanodeInfoWithStorage[127.0.0.1:39371,DS-61201738-4010-45fc-a426-a22d84c1ac1f,DISK], DatanodeInfoWithStorage[127.0.0.1:36908,DS-48ddb343-8e34-4e97-8199-bcf5c14f7188,DISK], DatanodeInfoWithStorage[127.0.0.1:43849,DS-614f6090-3baa-41dd-a7d7-e389ddf5cb8a,DISK], DatanodeInfoWithStorage[127.0.0.1:39811,DS-7317c5f0-7cea-48dd-bc60-ad5be8dd4eea,DISK], DatanodeInfoWithStorage[127.0.0.1:39899,DS-425900f1-d769-4a1a-a57e-75e89b13e882,DISK], DatanodeInfoWithStorage[127.0.0.1:39394,DS-4b10b3fe-64cb-4bbd-afe1-9dd1345bcc68,DISK], DatanodeInfoWithStorage[127.0.0.1:35622,DS-40876a2f-343c-42fb-b5fb-0d6e9798dd2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-a4d5936f-2732-491d-b59c-6669e4f571d3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1798478289-172.17.0.6-1598613174411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43849,DS-22ed2f6e-8a03-4cf2-9aba-7634dd36ed02,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-1fc8690e-f768-4e7a-82e5-a6844c01483d,DISK], DatanodeInfoWithStorage[127.0.0.1:36908,DS-cdb6803a-24f6-485d-9b61-9f5fe5d23fdd,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1798478289-172.17.0.6-1598613174411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39371,DS-056a58fd-fe16-4129-845b-89ad7eb19f1e,DISK], DatanodeInfoWithStorage[127.0.0.1:43849,DS-22ed2f6e-8a03-4cf2-9aba-7634dd36ed02,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-1fc8690e-f768-4e7a-82e5-a6844c01483d,DISK], DatanodeInfoWithStorage[127.0.0.1:36908,DS-cdb6803a-24f6-485d-9b61-9f5fe5d23fdd,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-45979688-172.17.0.6-1598613282144:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35724,DS-3d14c957-28bf-48d0-a442-1a8bd67673a9,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-ba0a0afe-9b51-49ce-8d83-4b7027c3f2ad,DISK], DatanodeInfoWithStorage[127.0.0.1:37005,DS-4633d50b-9338-4c40-9850-171371cfbcf0,DISK], DatanodeInfoWithStorage[127.0.0.1:43283,DS-23296a77-eec0-44ae-aff3-f5b4d94c57bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35477,DS-6207d971-d127-40ec-bb91-78068766db95,DISK], DatanodeInfoWithStorage[127.0.0.1:33990,DS-8484698d-0cb7-4b44-97bc-615bfdb815e2,DISK], DatanodeInfoWithStorage[127.0.0.1:39722,DS-e3e76c46-b4e7-43d7-8b7d-bff3f017f56b,DISK], DatanodeInfoWithStorage[127.0.0.1:46835,DS-8d1b13c5-93df-4054-963b-e4e193bdf088,DISK], DatanodeInfoWithStorage[127.0.0.1:38546,DS-855a81e1-b54a-45fc-91c4-c0781ae6d4a6,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-45979688-172.17.0.6-1598613282144:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38546,DS-c9a0a817-6558-40b5-b187-e2e393c79927,DISK], DatanodeInfoWithStorage[127.0.0.1:37005,DS-3ce51fc1-a3c7-4946-a87f-6ee5bb5da52f,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-1221868e-2cf3-4c61-89f2-f40266b06836,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-45979688-172.17.0.6-1598613282144:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35477,DS-caa98283-137f-4f2c-8844-5fc19fcc0402,DISK], DatanodeInfoWithStorage[127.0.0.1:38546,DS-c9a0a817-6558-40b5-b187-e2e393c79927,DISK], DatanodeInfoWithStorage[127.0.0.1:37005,DS-3ce51fc1-a3c7-4946-a87f-6ee5bb5da52f,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-1221868e-2cf3-4c61-89f2-f40266b06836,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-45979688-172.17.0.6-1598613282144:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35724,DS-3d14c957-28bf-48d0-a442-1a8bd67673a9,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-ba0a0afe-9b51-49ce-8d83-4b7027c3f2ad,DISK], DatanodeInfoWithStorage[127.0.0.1:37005,DS-4633d50b-9338-4c40-9850-171371cfbcf0,DISK], DatanodeInfoWithStorage[127.0.0.1:43283,DS-23296a77-eec0-44ae-aff3-f5b4d94c57bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35477,DS-6207d971-d127-40ec-bb91-78068766db95,DISK], DatanodeInfoWithStorage[127.0.0.1:33990,DS-8484698d-0cb7-4b44-97bc-615bfdb815e2,DISK], DatanodeInfoWithStorage[127.0.0.1:39722,DS-e3e76c46-b4e7-43d7-8b7d-bff3f017f56b,DISK], DatanodeInfoWithStorage[127.0.0.1:46835,DS-8d1b13c5-93df-4054-963b-e4e193bdf088,DISK], DatanodeInfoWithStorage[127.0.0.1:38546,DS-855a81e1-b54a-45fc-91c4-c0781ae6d4a6,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-45979688-172.17.0.6-1598613282144:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38546,DS-c9a0a817-6558-40b5-b187-e2e393c79927,DISK], DatanodeInfoWithStorage[127.0.0.1:37005,DS-3ce51fc1-a3c7-4946-a87f-6ee5bb5da52f,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-1221868e-2cf3-4c61-89f2-f40266b06836,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-45979688-172.17.0.6-1598613282144:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35477,DS-caa98283-137f-4f2c-8844-5fc19fcc0402,DISK], DatanodeInfoWithStorage[127.0.0.1:38546,DS-c9a0a817-6558-40b5-b187-e2e393c79927,DISK], DatanodeInfoWithStorage[127.0.0.1:37005,DS-3ce51fc1-a3c7-4946-a87f-6ee5bb5da52f,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-1221868e-2cf3-4c61-89f2-f40266b06836,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1000301677-172.17.0.6-1598613322295:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35270,DS-44ea4392-f862-4c61-9c42-6a5e10f6b3de,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-8e43e2ae-ff7a-4b1b-a693-09003708dffa,DISK], DatanodeInfoWithStorage[127.0.0.1:33414,DS-32492d7d-84bb-4961-85d9-0de5f5562db0,DISK], DatanodeInfoWithStorage[127.0.0.1:44330,DS-918b6c77-0541-423f-8f75-cf09a948d22f,DISK], DatanodeInfoWithStorage[127.0.0.1:40127,DS-a9d931b4-7d7d-4b08-a41f-78072687acbe,DISK], DatanodeInfoWithStorage[127.0.0.1:42806,DS-4a0986f1-4aa3-424e-bc79-1c99555aab2a,DISK], DatanodeInfoWithStorage[127.0.0.1:39583,DS-a48bf376-c373-4214-9ac9-b1dbb091a6a9,DISK], DatanodeInfoWithStorage[127.0.0.1:41574,DS-c6f3d5d0-04c6-4137-8522-f51e4751fc91,DISK], DatanodeInfoWithStorage[127.0.0.1:34435,DS-e0030bd3-5bc7-4911-9bff-f9786328608a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1000301677-172.17.0.6-1598613322295:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34435,DS-75f96e18-4c57-4b2b-b598-83ed885b98b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40127,DS-7dcd0398-a787-4903-9c41-dd78c6e1c0e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44330,DS-a490e371-0c77-4498-86e9-bab8b55019e8,DISK], DatanodeInfoWithStorage[127.0.0.1:33414,DS-4d4e4715-5351-46ac-be73-97f5be03c438,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1000301677-172.17.0.6-1598613322295:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34435,DS-75f96e18-4c57-4b2b-b598-83ed885b98b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40127,DS-7dcd0398-a787-4903-9c41-dd78c6e1c0e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44330,DS-a490e371-0c77-4498-86e9-bab8b55019e8,DISK], DatanodeInfoWithStorage[127.0.0.1:33414,DS-4d4e4715-5351-46ac-be73-97f5be03c438,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1000301677-172.17.0.6-1598613322295:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35270,DS-44ea4392-f862-4c61-9c42-6a5e10f6b3de,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-8e43e2ae-ff7a-4b1b-a693-09003708dffa,DISK], DatanodeInfoWithStorage[127.0.0.1:33414,DS-32492d7d-84bb-4961-85d9-0de5f5562db0,DISK], DatanodeInfoWithStorage[127.0.0.1:44330,DS-918b6c77-0541-423f-8f75-cf09a948d22f,DISK], DatanodeInfoWithStorage[127.0.0.1:40127,DS-a9d931b4-7d7d-4b08-a41f-78072687acbe,DISK], DatanodeInfoWithStorage[127.0.0.1:42806,DS-4a0986f1-4aa3-424e-bc79-1c99555aab2a,DISK], DatanodeInfoWithStorage[127.0.0.1:39583,DS-a48bf376-c373-4214-9ac9-b1dbb091a6a9,DISK], DatanodeInfoWithStorage[127.0.0.1:41574,DS-c6f3d5d0-04c6-4137-8522-f51e4751fc91,DISK], DatanodeInfoWithStorage[127.0.0.1:34435,DS-e0030bd3-5bc7-4911-9bff-f9786328608a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1000301677-172.17.0.6-1598613322295:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34435,DS-75f96e18-4c57-4b2b-b598-83ed885b98b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40127,DS-7dcd0398-a787-4903-9c41-dd78c6e1c0e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44330,DS-a490e371-0c77-4498-86e9-bab8b55019e8,DISK], DatanodeInfoWithStorage[127.0.0.1:33414,DS-4d4e4715-5351-46ac-be73-97f5be03c438,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1000301677-172.17.0.6-1598613322295:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34435,DS-75f96e18-4c57-4b2b-b598-83ed885b98b2,DISK], DatanodeInfoWithStorage[127.0.0.1:40127,DS-7dcd0398-a787-4903-9c41-dd78c6e1c0e2,DISK], DatanodeInfoWithStorage[127.0.0.1:44330,DS-a490e371-0c77-4498-86e9-bab8b55019e8,DISK], DatanodeInfoWithStorage[127.0.0.1:33414,DS-4d4e4715-5351-46ac-be73-97f5be03c438,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-132281365-172.17.0.6-1598613412821:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44836,DS-2083855e-7a35-4db6-a93d-b17d88d1f6b5,DISK], DatanodeInfoWithStorage[127.0.0.1:41533,DS-9640f85e-79d9-4410-98ac-e073c76ed993,DISK], DatanodeInfoWithStorage[127.0.0.1:39494,DS-9266ca68-08f5-4c68-8268-13c345b397a8,DISK], DatanodeInfoWithStorage[127.0.0.1:36632,DS-4cf181d6-a12f-41bc-a114-ff597b69aec7,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-4bafcad9-246d-4063-86f4-5c0a9b23c07c,DISK], DatanodeInfoWithStorage[127.0.0.1:35647,DS-d03a8fcf-788d-49ed-a006-0cfd89374e75,DISK], DatanodeInfoWithStorage[127.0.0.1:40168,DS-882ac15d-62da-4118-bd32-d5c340c41f3f,DISK], DatanodeInfoWithStorage[127.0.0.1:46676,DS-55896c3d-2647-43d3-b0bb-7d75e7aeeb0f,DISK], DatanodeInfoWithStorage[127.0.0.1:46278,DS-cf1970a2-5754-42da-9c3a-2ba1d076bb38,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-132281365-172.17.0.6-1598613412821:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41533,DS-e99cdbfc-f143-4d83-b99d-c72e5329ba69,DISK], DatanodeInfoWithStorage[127.0.0.1:36632,DS-b7b5c1df-c7f3-4d89-8d74-8e93b3c03685,DISK], DatanodeInfoWithStorage[127.0.0.1:35647,DS-6c1d79b9-1679-40d9-997e-132348215436,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-ae64ae46-b4f2-464f-bbcf-112e07165c35,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-132281365-172.17.0.6-1598613412821:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41533,DS-e99cdbfc-f143-4d83-b99d-c72e5329ba69,DISK], DatanodeInfoWithStorage[127.0.0.1:36632,DS-b7b5c1df-c7f3-4d89-8d74-8e93b3c03685,DISK], DatanodeInfoWithStorage[127.0.0.1:35647,DS-6c1d79b9-1679-40d9-997e-132348215436,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-ae64ae46-b4f2-464f-bbcf-112e07165c35,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-132281365-172.17.0.6-1598613412821:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44836,DS-2083855e-7a35-4db6-a93d-b17d88d1f6b5,DISK], DatanodeInfoWithStorage[127.0.0.1:41533,DS-9640f85e-79d9-4410-98ac-e073c76ed993,DISK], DatanodeInfoWithStorage[127.0.0.1:39494,DS-9266ca68-08f5-4c68-8268-13c345b397a8,DISK], DatanodeInfoWithStorage[127.0.0.1:36632,DS-4cf181d6-a12f-41bc-a114-ff597b69aec7,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-4bafcad9-246d-4063-86f4-5c0a9b23c07c,DISK], DatanodeInfoWithStorage[127.0.0.1:35647,DS-d03a8fcf-788d-49ed-a006-0cfd89374e75,DISK], DatanodeInfoWithStorage[127.0.0.1:40168,DS-882ac15d-62da-4118-bd32-d5c340c41f3f,DISK], DatanodeInfoWithStorage[127.0.0.1:46676,DS-55896c3d-2647-43d3-b0bb-7d75e7aeeb0f,DISK], DatanodeInfoWithStorage[127.0.0.1:46278,DS-cf1970a2-5754-42da-9c3a-2ba1d076bb38,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-132281365-172.17.0.6-1598613412821:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41533,DS-e99cdbfc-f143-4d83-b99d-c72e5329ba69,DISK], DatanodeInfoWithStorage[127.0.0.1:36632,DS-b7b5c1df-c7f3-4d89-8d74-8e93b3c03685,DISK], DatanodeInfoWithStorage[127.0.0.1:35647,DS-6c1d79b9-1679-40d9-997e-132348215436,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-ae64ae46-b4f2-464f-bbcf-112e07165c35,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-132281365-172.17.0.6-1598613412821:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41533,DS-e99cdbfc-f143-4d83-b99d-c72e5329ba69,DISK], DatanodeInfoWithStorage[127.0.0.1:36632,DS-b7b5c1df-c7f3-4d89-8d74-8e93b3c03685,DISK], DatanodeInfoWithStorage[127.0.0.1:35647,DS-6c1d79b9-1679-40d9-997e-132348215436,DISK], DatanodeInfoWithStorage[127.0.0.1:40075,DS-ae64ae46-b4f2-464f-bbcf-112e07165c35,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-384868873-172.17.0.6-1598615088509:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38561,DS-603a305b-061b-4d70-8089-2268a5240d6f,DISK], DatanodeInfoWithStorage[127.0.0.1:36575,DS-1ecf73cd-f037-4886-a692-906c45e6b2d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44908,DS-18d1f8f9-7796-4e2c-afae-1059fe98d335,DISK], DatanodeInfoWithStorage[127.0.0.1:38043,DS-01340b38-b47f-4776-b0a2-69b63e6b72fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38673,DS-5445cfb0-cde0-4d15-8197-c845cc57d3ac,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-d41c7a4f-09c5-46e4-b8b0-8a326b4c078f,DISK], DatanodeInfoWithStorage[127.0.0.1:41218,DS-1558fda8-ec21-412d-97f7-1076b3e7a326,DISK], DatanodeInfoWithStorage[127.0.0.1:40533,DS-0f8d2ba5-c44c-4492-b042-5f0822d0b5f0,DISK], DatanodeInfoWithStorage[127.0.0.1:40759,DS-004c3643-ba29-40c5-b262-52b6c798715a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-384868873-172.17.0.6-1598615088509:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36575,DS-0497478f-77e5-4a13-b4e6-fa3d80562b33,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-687423b4-79b7-4a4d-a688-f22f8e2d7eeb,DISK], DatanodeInfoWithStorage[127.0.0.1:38673,DS-8230f38c-741f-4b26-929e-52132da386fc,DISK], DatanodeInfoWithStorage[127.0.0.1:40533,DS-640af5c9-24b1-4e4c-b976-887c02cac547,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-384868873-172.17.0.6-1598615088509:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36575,DS-0497478f-77e5-4a13-b4e6-fa3d80562b33,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-687423b4-79b7-4a4d-a688-f22f8e2d7eeb,DISK], DatanodeInfoWithStorage[127.0.0.1:38673,DS-8230f38c-741f-4b26-929e-52132da386fc,DISK], DatanodeInfoWithStorage[127.0.0.1:40533,DS-640af5c9-24b1-4e4c-b976-887c02cac547,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-384868873-172.17.0.6-1598615088509:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38561,DS-603a305b-061b-4d70-8089-2268a5240d6f,DISK], DatanodeInfoWithStorage[127.0.0.1:36575,DS-1ecf73cd-f037-4886-a692-906c45e6b2d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44908,DS-18d1f8f9-7796-4e2c-afae-1059fe98d335,DISK], DatanodeInfoWithStorage[127.0.0.1:38043,DS-01340b38-b47f-4776-b0a2-69b63e6b72fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38673,DS-5445cfb0-cde0-4d15-8197-c845cc57d3ac,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-d41c7a4f-09c5-46e4-b8b0-8a326b4c078f,DISK], DatanodeInfoWithStorage[127.0.0.1:41218,DS-1558fda8-ec21-412d-97f7-1076b3e7a326,DISK], DatanodeInfoWithStorage[127.0.0.1:40533,DS-0f8d2ba5-c44c-4492-b042-5f0822d0b5f0,DISK], DatanodeInfoWithStorage[127.0.0.1:40759,DS-004c3643-ba29-40c5-b262-52b6c798715a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-384868873-172.17.0.6-1598615088509:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36575,DS-0497478f-77e5-4a13-b4e6-fa3d80562b33,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-687423b4-79b7-4a4d-a688-f22f8e2d7eeb,DISK], DatanodeInfoWithStorage[127.0.0.1:38673,DS-8230f38c-741f-4b26-929e-52132da386fc,DISK], DatanodeInfoWithStorage[127.0.0.1:40533,DS-640af5c9-24b1-4e4c-b976-887c02cac547,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-384868873-172.17.0.6-1598615088509:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36575,DS-0497478f-77e5-4a13-b4e6-fa3d80562b33,DISK], DatanodeInfoWithStorage[127.0.0.1:38025,DS-687423b4-79b7-4a4d-a688-f22f8e2d7eeb,DISK], DatanodeInfoWithStorage[127.0.0.1:38673,DS-8230f38c-741f-4b26-929e-52132da386fc,DISK], DatanodeInfoWithStorage[127.0.0.1:40533,DS-640af5c9-24b1-4e4c-b976-887c02cac547,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=1048576, length=3145728, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-306002774-172.17.0.6-1598615130958:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44936,DS-762f29db-d2ad-4e37-bde1-6bfcfebf33e6,DISK], DatanodeInfoWithStorage[127.0.0.1:34789,DS-6b655c8d-7734-4f44-8f75-e32311cfd690,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-277629b9-defa-4f29-b687-9fc6937e1048,DISK], DatanodeInfoWithStorage[127.0.0.1:41152,DS-f938f4a3-04ee-4aca-8212-c358ecd5a147,DISK], DatanodeInfoWithStorage[127.0.0.1:45180,DS-72e3ebad-6ea4-4701-aa84-e8564770932d,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-e29aa661-2e2a-4a09-aaa4-dd68a9958dbc,DISK], DatanodeInfoWithStorage[127.0.0.1:33297,DS-2e635f3d-4e4d-4853-9fc5-8f7a34a56efc,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-e5475c21-ab9f-403b-874c-3475dc48a3c5,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-ecfc0934-2c92-4db0-a0aa-8717ca86bfbb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-306002774-172.17.0.6-1598615130958:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44936,DS-617f19c3-cf3f-4de0-84f0-cc40453c33e5,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-26cda1b0-7c26-494b-b057-4e1708b103e3,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-2c966ecb-1f54-424b-8361-1d66cef45cde,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-306002774-172.17.0.6-1598615130958:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40200,DS-4e9002ab-a6ee-432e-b0a2-0f8020d6a8c3,DISK], DatanodeInfoWithStorage[127.0.0.1:44936,DS-617f19c3-cf3f-4de0-84f0-cc40453c33e5,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-26cda1b0-7c26-494b-b057-4e1708b103e3,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-2c966ecb-1f54-424b-8361-1d66cef45cde,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=1048576, length=3145728, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-306002774-172.17.0.6-1598615130958:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44936,DS-762f29db-d2ad-4e37-bde1-6bfcfebf33e6,DISK], DatanodeInfoWithStorage[127.0.0.1:34789,DS-6b655c8d-7734-4f44-8f75-e32311cfd690,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-277629b9-defa-4f29-b687-9fc6937e1048,DISK], DatanodeInfoWithStorage[127.0.0.1:41152,DS-f938f4a3-04ee-4aca-8212-c358ecd5a147,DISK], DatanodeInfoWithStorage[127.0.0.1:45180,DS-72e3ebad-6ea4-4701-aa84-e8564770932d,DISK], DatanodeInfoWithStorage[127.0.0.1:40200,DS-e29aa661-2e2a-4a09-aaa4-dd68a9958dbc,DISK], DatanodeInfoWithStorage[127.0.0.1:33297,DS-2e635f3d-4e4d-4853-9fc5-8f7a34a56efc,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-e5475c21-ab9f-403b-874c-3475dc48a3c5,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-ecfc0934-2c92-4db0-a0aa-8717ca86bfbb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-306002774-172.17.0.6-1598615130958:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44936,DS-617f19c3-cf3f-4de0-84f0-cc40453c33e5,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-26cda1b0-7c26-494b-b057-4e1708b103e3,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-2c966ecb-1f54-424b-8361-1d66cef45cde,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-306002774-172.17.0.6-1598615130958:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40200,DS-4e9002ab-a6ee-432e-b0a2-0f8020d6a8c3,DISK], DatanodeInfoWithStorage[127.0.0.1:44936,DS-617f19c3-cf3f-4de0-84f0-cc40453c33e5,DISK], DatanodeInfoWithStorage[127.0.0.1:45672,DS-26cda1b0-7c26-494b-b057-4e1708b103e3,DISK], DatanodeInfoWithStorage[127.0.0.1:46353,DS-2c966ecb-1f54-424b-8361-1d66cef45cde,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[9]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1170370180-172.17.0.6-1598615240461:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37341,DS-e2c74192-192d-4c6f-8026-959808a934a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43391,DS-9ada4b7a-4876-42b0-b718-625e2365feff,DISK], DatanodeInfoWithStorage[127.0.0.1:37275,DS-e8b1b9e3-a05a-40d1-9ad2-c0073c112596,DISK], DatanodeInfoWithStorage[127.0.0.1:44922,DS-7c083ed1-c741-4b16-88cd-47e8565e8f5c,DISK], DatanodeInfoWithStorage[127.0.0.1:43815,DS-157366ca-3e39-45db-bab1-6f8178e81bd2,DISK], DatanodeInfoWithStorage[127.0.0.1:37163,DS-f6f5d3e6-5d86-4f62-8210-88f4e499f071,DISK], DatanodeInfoWithStorage[127.0.0.1:33663,DS-f3f7a5d5-d98a-459b-8545-8b13bdd6d6d2,DISK], DatanodeInfoWithStorage[127.0.0.1:42179,DS-373a1df6-de86-4a07-998e-7f11cc1e38c0,DISK], DatanodeInfoWithStorage[127.0.0.1:38472,DS-69e04457-4788-4470-b6fd-351daa42470e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1170370180-172.17.0.6-1598615240461:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43815,DS-f9ac7f43-2e3d-497f-b741-86b3cdb20228,DISK], DatanodeInfoWithStorage[127.0.0.1:44922,DS-e5a685b9-c977-43ca-861d-b8ab70e30c91,DISK], DatanodeInfoWithStorage[127.0.0.1:38472,DS-4d59b512-79fd-4a02-95a5-fddd208ec271,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1170370180-172.17.0.6-1598615240461:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37275,DS-71a1e6de-6414-4da9-98c0-83d6e3cb4ec5,DISK], DatanodeInfoWithStorage[127.0.0.1:43815,DS-f9ac7f43-2e3d-497f-b741-86b3cdb20228,DISK], DatanodeInfoWithStorage[127.0.0.1:44922,DS-e5a685b9-c977-43ca-861d-b8ab70e30c91,DISK], DatanodeInfoWithStorage[127.0.0.1:38472,DS-4d59b512-79fd-4a02-95a5-fddd208ec271,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1170370180-172.17.0.6-1598615240461:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37341,DS-e2c74192-192d-4c6f-8026-959808a934a0,DISK], DatanodeInfoWithStorage[127.0.0.1:43391,DS-9ada4b7a-4876-42b0-b718-625e2365feff,DISK], DatanodeInfoWithStorage[127.0.0.1:37275,DS-e8b1b9e3-a05a-40d1-9ad2-c0073c112596,DISK], DatanodeInfoWithStorage[127.0.0.1:44922,DS-7c083ed1-c741-4b16-88cd-47e8565e8f5c,DISK], DatanodeInfoWithStorage[127.0.0.1:43815,DS-157366ca-3e39-45db-bab1-6f8178e81bd2,DISK], DatanodeInfoWithStorage[127.0.0.1:37163,DS-f6f5d3e6-5d86-4f62-8210-88f4e499f071,DISK], DatanodeInfoWithStorage[127.0.0.1:33663,DS-f3f7a5d5-d98a-459b-8545-8b13bdd6d6d2,DISK], DatanodeInfoWithStorage[127.0.0.1:42179,DS-373a1df6-de86-4a07-998e-7f11cc1e38c0,DISK], DatanodeInfoWithStorage[127.0.0.1:38472,DS-69e04457-4788-4470-b6fd-351daa42470e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1170370180-172.17.0.6-1598615240461:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43815,DS-f9ac7f43-2e3d-497f-b741-86b3cdb20228,DISK], DatanodeInfoWithStorage[127.0.0.1:44922,DS-e5a685b9-c977-43ca-861d-b8ab70e30c91,DISK], DatanodeInfoWithStorage[127.0.0.1:38472,DS-4d59b512-79fd-4a02-95a5-fddd208ec271,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1170370180-172.17.0.6-1598615240461:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37275,DS-71a1e6de-6414-4da9-98c0-83d6e3cb4ec5,DISK], DatanodeInfoWithStorage[127.0.0.1:43815,DS-f9ac7f43-2e3d-497f-b741-86b3cdb20228,DISK], DatanodeInfoWithStorage[127.0.0.1:44922,DS-e5a685b9-c977-43ca-861d-b8ab70e30c91,DISK], DatanodeInfoWithStorage[127.0.0.1:38472,DS-4d59b512-79fd-4a02-95a5-fddd208ec271,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 19 out of 50
result: false positive !!!
Total execution time in seconds : 8978
