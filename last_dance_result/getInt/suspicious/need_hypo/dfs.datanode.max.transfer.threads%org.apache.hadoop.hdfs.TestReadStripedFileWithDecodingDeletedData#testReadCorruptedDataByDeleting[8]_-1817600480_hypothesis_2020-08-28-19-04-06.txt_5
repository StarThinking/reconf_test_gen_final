reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1810406396-172.17.0.4-1598641459150:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37765,DS-dd53d09b-8d1d-40b4-b6c1-d804efafa18f,DISK], DatanodeInfoWithStorage[127.0.0.1:41844,DS-3b6b79cd-c08f-452e-932b-9a06d1e260f1,DISK], DatanodeInfoWithStorage[127.0.0.1:34232,DS-b813b7c4-259f-4ec4-98fb-3f5065daedb5,DISK], DatanodeInfoWithStorage[127.0.0.1:44515,DS-06833f2d-8c29-4bbc-a93b-63eef02e68b9,DISK], DatanodeInfoWithStorage[127.0.0.1:34455,DS-afc0b92a-d4ca-4e03-94bd-87b6ca28457e,DISK], DatanodeInfoWithStorage[127.0.0.1:39586,DS-84f9edd7-b1d7-4709-9a40-ebae0cd3a840,DISK], DatanodeInfoWithStorage[127.0.0.1:41803,DS-a9abb08f-3fad-494b-b8e7-dad209e4d661,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-42a2c8d0-bfc8-454b-90d3-5a603d7e1721,DISK], DatanodeInfoWithStorage[127.0.0.1:37143,DS-6374fe38-1de2-490b-9f38-488b16e39b4d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1810406396-172.17.0.4-1598641459150:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34455,DS-8660cc2c-6b3b-4cb3-a4b2-9cbca9d72bab,DISK], DatanodeInfoWithStorage[127.0.0.1:37143,DS-655ed156-49eb-4694-9ace-fa532b9a2437,DISK], DatanodeInfoWithStorage[127.0.0.1:39586,DS-d78e3454-b71a-4a28-a183-dafe610d9c0d,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-7f0b940d-4022-4e3d-ab0c-25ff0cca23cd,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1810406396-172.17.0.4-1598641459150:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34455,DS-8660cc2c-6b3b-4cb3-a4b2-9cbca9d72bab,DISK], DatanodeInfoWithStorage[127.0.0.1:37143,DS-655ed156-49eb-4694-9ace-fa532b9a2437,DISK], DatanodeInfoWithStorage[127.0.0.1:39586,DS-d78e3454-b71a-4a28-a183-dafe610d9c0d,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-7f0b940d-4022-4e3d-ab0c-25ff0cca23cd,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1810406396-172.17.0.4-1598641459150:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37765,DS-dd53d09b-8d1d-40b4-b6c1-d804efafa18f,DISK], DatanodeInfoWithStorage[127.0.0.1:41844,DS-3b6b79cd-c08f-452e-932b-9a06d1e260f1,DISK], DatanodeInfoWithStorage[127.0.0.1:34232,DS-b813b7c4-259f-4ec4-98fb-3f5065daedb5,DISK], DatanodeInfoWithStorage[127.0.0.1:44515,DS-06833f2d-8c29-4bbc-a93b-63eef02e68b9,DISK], DatanodeInfoWithStorage[127.0.0.1:34455,DS-afc0b92a-d4ca-4e03-94bd-87b6ca28457e,DISK], DatanodeInfoWithStorage[127.0.0.1:39586,DS-84f9edd7-b1d7-4709-9a40-ebae0cd3a840,DISK], DatanodeInfoWithStorage[127.0.0.1:41803,DS-a9abb08f-3fad-494b-b8e7-dad209e4d661,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-42a2c8d0-bfc8-454b-90d3-5a603d7e1721,DISK], DatanodeInfoWithStorage[127.0.0.1:37143,DS-6374fe38-1de2-490b-9f38-488b16e39b4d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1810406396-172.17.0.4-1598641459150:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34455,DS-8660cc2c-6b3b-4cb3-a4b2-9cbca9d72bab,DISK], DatanodeInfoWithStorage[127.0.0.1:37143,DS-655ed156-49eb-4694-9ace-fa532b9a2437,DISK], DatanodeInfoWithStorage[127.0.0.1:39586,DS-d78e3454-b71a-4a28-a183-dafe610d9c0d,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-7f0b940d-4022-4e3d-ab0c-25ff0cca23cd,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1810406396-172.17.0.4-1598641459150:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34455,DS-8660cc2c-6b3b-4cb3-a4b2-9cbca9d72bab,DISK], DatanodeInfoWithStorage[127.0.0.1:37143,DS-655ed156-49eb-4694-9ace-fa532b9a2437,DISK], DatanodeInfoWithStorage[127.0.0.1:39586,DS-d78e3454-b71a-4a28-a183-dafe610d9c0d,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-7f0b940d-4022-4e3d-ab0c-25ff0cca23cd,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-532330452-172.17.0.4-1598641742672:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34852,DS-fb61d252-4f06-4c73-a825-3012405cee57,DISK], DatanodeInfoWithStorage[127.0.0.1:43871,DS-55e424d7-b5bc-4e8e-9723-512f74e58f79,DISK], DatanodeInfoWithStorage[127.0.0.1:45663,DS-0da6a496-2757-439b-93f4-4dab4081336f,DISK], DatanodeInfoWithStorage[127.0.0.1:37995,DS-1b3f3e7d-7c22-4d44-a48a-5ac9550e3c78,DISK], DatanodeInfoWithStorage[127.0.0.1:44412,DS-441cbf6d-ff5c-44df-8316-33829649276e,DISK], DatanodeInfoWithStorage[127.0.0.1:33953,DS-49e7fbf6-7e72-440d-a36d-81da48a1ddef,DISK], DatanodeInfoWithStorage[127.0.0.1:44450,DS-cc1667e3-8995-43be-aa20-fd2d122ac546,DISK], DatanodeInfoWithStorage[127.0.0.1:34037,DS-f0a08ecc-9f60-4f96-9da0-a925accbd441,DISK], DatanodeInfoWithStorage[127.0.0.1:37138,DS-d52a854c-ebc6-4df1-b4cf-d664dc0aeddb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-532330452-172.17.0.4-1598641742672:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-130f866c-3633-48d9-9aa1-9c18474e6f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:43871,DS-b7990143-9a0b-4cae-8add-99419ccc080e,DISK], DatanodeInfoWithStorage[127.0.0.1:34037,DS-51b0ef0f-f063-4d34-9778-aabc3ea4d072,DISK], DatanodeInfoWithStorage[127.0.0.1:37138,DS-aeb6bb3f-893c-4811-a17e-029ac3ffd101,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-532330452-172.17.0.4-1598641742672:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-130f866c-3633-48d9-9aa1-9c18474e6f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:43871,DS-b7990143-9a0b-4cae-8add-99419ccc080e,DISK], DatanodeInfoWithStorage[127.0.0.1:34037,DS-51b0ef0f-f063-4d34-9778-aabc3ea4d072,DISK], DatanodeInfoWithStorage[127.0.0.1:37138,DS-aeb6bb3f-893c-4811-a17e-029ac3ffd101,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-532330452-172.17.0.4-1598641742672:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34852,DS-fb61d252-4f06-4c73-a825-3012405cee57,DISK], DatanodeInfoWithStorage[127.0.0.1:43871,DS-55e424d7-b5bc-4e8e-9723-512f74e58f79,DISK], DatanodeInfoWithStorage[127.0.0.1:45663,DS-0da6a496-2757-439b-93f4-4dab4081336f,DISK], DatanodeInfoWithStorage[127.0.0.1:37995,DS-1b3f3e7d-7c22-4d44-a48a-5ac9550e3c78,DISK], DatanodeInfoWithStorage[127.0.0.1:44412,DS-441cbf6d-ff5c-44df-8316-33829649276e,DISK], DatanodeInfoWithStorage[127.0.0.1:33953,DS-49e7fbf6-7e72-440d-a36d-81da48a1ddef,DISK], DatanodeInfoWithStorage[127.0.0.1:44450,DS-cc1667e3-8995-43be-aa20-fd2d122ac546,DISK], DatanodeInfoWithStorage[127.0.0.1:34037,DS-f0a08ecc-9f60-4f96-9da0-a925accbd441,DISK], DatanodeInfoWithStorage[127.0.0.1:37138,DS-d52a854c-ebc6-4df1-b4cf-d664dc0aeddb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-532330452-172.17.0.4-1598641742672:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-130f866c-3633-48d9-9aa1-9c18474e6f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:43871,DS-b7990143-9a0b-4cae-8add-99419ccc080e,DISK], DatanodeInfoWithStorage[127.0.0.1:34037,DS-51b0ef0f-f063-4d34-9778-aabc3ea4d072,DISK], DatanodeInfoWithStorage[127.0.0.1:37138,DS-aeb6bb3f-893c-4811-a17e-029ac3ffd101,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-532330452-172.17.0.4-1598641742672:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-130f866c-3633-48d9-9aa1-9c18474e6f2b,DISK], DatanodeInfoWithStorage[127.0.0.1:43871,DS-b7990143-9a0b-4cae-8add-99419ccc080e,DISK], DatanodeInfoWithStorage[127.0.0.1:34037,DS-51b0ef0f-f063-4d34-9778-aabc3ea4d072,DISK], DatanodeInfoWithStorage[127.0.0.1:37138,DS-aeb6bb3f-893c-4811-a17e-029ac3ffd101,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1909023230-172.17.0.4-1598641967243:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41791,DS-3a53d51b-9367-47c5-83c5-3c3971364ce1,DISK], DatanodeInfoWithStorage[127.0.0.1:45461,DS-eb307e14-f656-45ea-bd20-142e6aa48731,DISK], DatanodeInfoWithStorage[127.0.0.1:34270,DS-6b255aac-5c63-45a1-b1fc-251542bcecee,DISK], DatanodeInfoWithStorage[127.0.0.1:40198,DS-223504ee-f84d-4dc4-aaa0-be89b6aab6e5,DISK], DatanodeInfoWithStorage[127.0.0.1:41498,DS-2ea2278e-92a7-41cf-8b4e-64a9cfa0811b,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-dd33d985-de56-40ef-85e7-c490be559646,DISK], DatanodeInfoWithStorage[127.0.0.1:33189,DS-d9e36fcd-4c68-4521-a52d-5637f973ce25,DISK], DatanodeInfoWithStorage[127.0.0.1:42746,DS-9224cbf8-da4c-4d0d-84a5-03e0fa992530,DISK], DatanodeInfoWithStorage[127.0.0.1:33115,DS-4a5552b6-a7c1-4070-ad49-fa4660830f9c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1909023230-172.17.0.4-1598641967243:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41791,DS-89d35168-e659-45eb-aed5-93a86bdd279a,DISK], DatanodeInfoWithStorage[127.0.0.1:45461,DS-8aaa2fe2-c2c4-49e3-aced-a3697a257485,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-5d267d96-16e4-468c-814b-11eaafe5536b,DISK], DatanodeInfoWithStorage[127.0.0.1:34270,DS-22a0bfe9-a97e-45c9-9dad-f532dcb36347,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1909023230-172.17.0.4-1598641967243:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41791,DS-89d35168-e659-45eb-aed5-93a86bdd279a,DISK], DatanodeInfoWithStorage[127.0.0.1:45461,DS-8aaa2fe2-c2c4-49e3-aced-a3697a257485,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-5d267d96-16e4-468c-814b-11eaafe5536b,DISK], DatanodeInfoWithStorage[127.0.0.1:34270,DS-22a0bfe9-a97e-45c9-9dad-f532dcb36347,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1909023230-172.17.0.4-1598641967243:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41791,DS-3a53d51b-9367-47c5-83c5-3c3971364ce1,DISK], DatanodeInfoWithStorage[127.0.0.1:45461,DS-eb307e14-f656-45ea-bd20-142e6aa48731,DISK], DatanodeInfoWithStorage[127.0.0.1:34270,DS-6b255aac-5c63-45a1-b1fc-251542bcecee,DISK], DatanodeInfoWithStorage[127.0.0.1:40198,DS-223504ee-f84d-4dc4-aaa0-be89b6aab6e5,DISK], DatanodeInfoWithStorage[127.0.0.1:41498,DS-2ea2278e-92a7-41cf-8b4e-64a9cfa0811b,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-dd33d985-de56-40ef-85e7-c490be559646,DISK], DatanodeInfoWithStorage[127.0.0.1:33189,DS-d9e36fcd-4c68-4521-a52d-5637f973ce25,DISK], DatanodeInfoWithStorage[127.0.0.1:42746,DS-9224cbf8-da4c-4d0d-84a5-03e0fa992530,DISK], DatanodeInfoWithStorage[127.0.0.1:33115,DS-4a5552b6-a7c1-4070-ad49-fa4660830f9c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1909023230-172.17.0.4-1598641967243:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41791,DS-89d35168-e659-45eb-aed5-93a86bdd279a,DISK], DatanodeInfoWithStorage[127.0.0.1:45461,DS-8aaa2fe2-c2c4-49e3-aced-a3697a257485,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-5d267d96-16e4-468c-814b-11eaafe5536b,DISK], DatanodeInfoWithStorage[127.0.0.1:34270,DS-22a0bfe9-a97e-45c9-9dad-f532dcb36347,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1909023230-172.17.0.4-1598641967243:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41791,DS-89d35168-e659-45eb-aed5-93a86bdd279a,DISK], DatanodeInfoWithStorage[127.0.0.1:45461,DS-8aaa2fe2-c2c4-49e3-aced-a3697a257485,DISK], DatanodeInfoWithStorage[127.0.0.1:40669,DS-5d267d96-16e4-468c-814b-11eaafe5536b,DISK], DatanodeInfoWithStorage[127.0.0.1:34270,DS-22a0bfe9-a97e-45c9-9dad-f532dcb36347,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=102, length=1048474, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1011804864-172.17.0.4-1598642142879:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39153,DS-343bebe6-dc56-4efa-9c67-9643961aea15,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-7d2f3081-ae94-40ae-a77d-c9ae8fcb5293,DISK], DatanodeInfoWithStorage[127.0.0.1:38435,DS-c19d13ff-72b8-43f8-83c4-2c93bf009d7f,DISK], DatanodeInfoWithStorage[127.0.0.1:45755,DS-d262a6d9-c4c0-4555-afdb-8e800b552b98,DISK], DatanodeInfoWithStorage[127.0.0.1:37466,DS-8643a8d3-aba6-4c12-aec4-a05d7c5c4195,DISK], DatanodeInfoWithStorage[127.0.0.1:44833,DS-10b3b277-4a9b-482c-8b52-81fa85d71b32,DISK], DatanodeInfoWithStorage[127.0.0.1:35113,DS-56d381ca-9161-4d70-8114-2f9391e23b38,DISK], DatanodeInfoWithStorage[127.0.0.1:38547,DS-b4d3b175-7a35-4152-85d8-3ef4811c655c,DISK], DatanodeInfoWithStorage[127.0.0.1:33373,DS-d7ff8c4e-952e-4a49-8412-093876da4ca9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1011804864-172.17.0.4-1598642142879:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35113,DS-957d134e-2cb2-44c0-8c8b-b05f4eba71e8,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-8661eb8a-6de1-43ed-8b4f-95ebd7ccd571,DISK], DatanodeInfoWithStorage[127.0.0.1:44833,DS-3ad02c49-9f05-46a3-a61e-975180beefc3,DISK], DatanodeInfoWithStorage[127.0.0.1:33373,DS-4e7bf6f0-8a31-4f28-ba76-91d2ccf9ef15,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1011804864-172.17.0.4-1598642142879:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35113,DS-957d134e-2cb2-44c0-8c8b-b05f4eba71e8,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-8661eb8a-6de1-43ed-8b4f-95ebd7ccd571,DISK], DatanodeInfoWithStorage[127.0.0.1:44833,DS-3ad02c49-9f05-46a3-a61e-975180beefc3,DISK], DatanodeInfoWithStorage[127.0.0.1:33373,DS-4e7bf6f0-8a31-4f28-ba76-91d2ccf9ef15,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=102, length=1048474, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1011804864-172.17.0.4-1598642142879:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39153,DS-343bebe6-dc56-4efa-9c67-9643961aea15,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-7d2f3081-ae94-40ae-a77d-c9ae8fcb5293,DISK], DatanodeInfoWithStorage[127.0.0.1:38435,DS-c19d13ff-72b8-43f8-83c4-2c93bf009d7f,DISK], DatanodeInfoWithStorage[127.0.0.1:45755,DS-d262a6d9-c4c0-4555-afdb-8e800b552b98,DISK], DatanodeInfoWithStorage[127.0.0.1:37466,DS-8643a8d3-aba6-4c12-aec4-a05d7c5c4195,DISK], DatanodeInfoWithStorage[127.0.0.1:44833,DS-10b3b277-4a9b-482c-8b52-81fa85d71b32,DISK], DatanodeInfoWithStorage[127.0.0.1:35113,DS-56d381ca-9161-4d70-8114-2f9391e23b38,DISK], DatanodeInfoWithStorage[127.0.0.1:38547,DS-b4d3b175-7a35-4152-85d8-3ef4811c655c,DISK], DatanodeInfoWithStorage[127.0.0.1:33373,DS-d7ff8c4e-952e-4a49-8412-093876da4ca9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1011804864-172.17.0.4-1598642142879:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35113,DS-957d134e-2cb2-44c0-8c8b-b05f4eba71e8,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-8661eb8a-6de1-43ed-8b4f-95ebd7ccd571,DISK], DatanodeInfoWithStorage[127.0.0.1:44833,DS-3ad02c49-9f05-46a3-a61e-975180beefc3,DISK], DatanodeInfoWithStorage[127.0.0.1:33373,DS-4e7bf6f0-8a31-4f28-ba76-91d2ccf9ef15,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1011804864-172.17.0.4-1598642142879:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35113,DS-957d134e-2cb2-44c0-8c8b-b05f4eba71e8,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-8661eb8a-6de1-43ed-8b4f-95ebd7ccd571,DISK], DatanodeInfoWithStorage[127.0.0.1:44833,DS-3ad02c49-9f05-46a3-a61e-975180beefc3,DISK], DatanodeInfoWithStorage[127.0.0.1:33373,DS-4e7bf6f0-8a31-4f28-ba76-91d2ccf9ef15,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1575871113-172.17.0.4-1598642896071:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46832,DS-918ba8c1-e017-4495-962b-0407789b0d2a,DISK], DatanodeInfoWithStorage[127.0.0.1:34161,DS-74c8bad4-d619-46cf-a0ed-42dceae0591d,DISK], DatanodeInfoWithStorage[127.0.0.1:36080,DS-81c6abc9-f9f1-45cd-abe9-f69bdbb9155f,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-81a85929-8dcf-4fad-aa5c-c7414fd23911,DISK], DatanodeInfoWithStorage[127.0.0.1:35284,DS-fa1ff46c-5021-4846-9d1a-c19b628849a1,DISK], DatanodeInfoWithStorage[127.0.0.1:33498,DS-16320e3e-2588-42ea-b556-b00220331f29,DISK], DatanodeInfoWithStorage[127.0.0.1:39644,DS-42eb29c5-4611-4d58-b228-ab43c8b24ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:44873,DS-e155794c-f998-4ac2-9c87-05c739afa06c,DISK], DatanodeInfoWithStorage[127.0.0.1:43365,DS-837e4bac-b81a-4ecc-b69d-d7a2ffddedae,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1575871113-172.17.0.4-1598642896071:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33498,DS-cc8ccb91-52de-4bef-82a0-eb197ce15c63,DISK], DatanodeInfoWithStorage[127.0.0.1:44873,DS-4701706a-2385-43bf-b1a0-22dd543d1995,DISK], DatanodeInfoWithStorage[127.0.0.1:35284,DS-816b5743-5008-4903-b085-4e71a5773d99,DISK], DatanodeInfoWithStorage[127.0.0.1:39644,DS-554f7c25-8bf9-43dd-baaa-36a0c6184be6,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1575871113-172.17.0.4-1598642896071:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33498,DS-cc8ccb91-52de-4bef-82a0-eb197ce15c63,DISK], DatanodeInfoWithStorage[127.0.0.1:44873,DS-4701706a-2385-43bf-b1a0-22dd543d1995,DISK], DatanodeInfoWithStorage[127.0.0.1:35284,DS-816b5743-5008-4903-b085-4e71a5773d99,DISK], DatanodeInfoWithStorage[127.0.0.1:39644,DS-554f7c25-8bf9-43dd-baaa-36a0c6184be6,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1575871113-172.17.0.4-1598642896071:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46832,DS-918ba8c1-e017-4495-962b-0407789b0d2a,DISK], DatanodeInfoWithStorage[127.0.0.1:34161,DS-74c8bad4-d619-46cf-a0ed-42dceae0591d,DISK], DatanodeInfoWithStorage[127.0.0.1:36080,DS-81c6abc9-f9f1-45cd-abe9-f69bdbb9155f,DISK], DatanodeInfoWithStorage[127.0.0.1:45827,DS-81a85929-8dcf-4fad-aa5c-c7414fd23911,DISK], DatanodeInfoWithStorage[127.0.0.1:35284,DS-fa1ff46c-5021-4846-9d1a-c19b628849a1,DISK], DatanodeInfoWithStorage[127.0.0.1:33498,DS-16320e3e-2588-42ea-b556-b00220331f29,DISK], DatanodeInfoWithStorage[127.0.0.1:39644,DS-42eb29c5-4611-4d58-b228-ab43c8b24ba3,DISK], DatanodeInfoWithStorage[127.0.0.1:44873,DS-e155794c-f998-4ac2-9c87-05c739afa06c,DISK], DatanodeInfoWithStorage[127.0.0.1:43365,DS-837e4bac-b81a-4ecc-b69d-d7a2ffddedae,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1575871113-172.17.0.4-1598642896071:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33498,DS-cc8ccb91-52de-4bef-82a0-eb197ce15c63,DISK], DatanodeInfoWithStorage[127.0.0.1:44873,DS-4701706a-2385-43bf-b1a0-22dd543d1995,DISK], DatanodeInfoWithStorage[127.0.0.1:35284,DS-816b5743-5008-4903-b085-4e71a5773d99,DISK], DatanodeInfoWithStorage[127.0.0.1:39644,DS-554f7c25-8bf9-43dd-baaa-36a0c6184be6,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1575871113-172.17.0.4-1598642896071:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33498,DS-cc8ccb91-52de-4bef-82a0-eb197ce15c63,DISK], DatanodeInfoWithStorage[127.0.0.1:44873,DS-4701706a-2385-43bf-b1a0-22dd543d1995,DISK], DatanodeInfoWithStorage[127.0.0.1:35284,DS-816b5743-5008-4903-b085-4e71a5773d99,DISK], DatanodeInfoWithStorage[127.0.0.1:39644,DS-554f7c25-8bf9-43dd-baaa-36a0c6184be6,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-110381447-172.17.0.4-1598643054564:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-3ff73a25-a03b-4339-97f5-047e8b6d4ef4,DISK], DatanodeInfoWithStorage[127.0.0.1:38360,DS-3b5e321c-52d3-4d55-bd6c-37c894b85a96,DISK], DatanodeInfoWithStorage[127.0.0.1:40824,DS-7fc97cc6-3f0c-4d6b-9d15-1da6893b4568,DISK], DatanodeInfoWithStorage[127.0.0.1:41134,DS-5fa21d6e-8a81-4a5b-b284-6745fd6c71db,DISK], DatanodeInfoWithStorage[127.0.0.1:38098,DS-30188d37-21fb-4b70-9c54-4ff9208e4672,DISK], DatanodeInfoWithStorage[127.0.0.1:41098,DS-87888d1e-0e3a-41f3-9df1-a96e27473f86,DISK], DatanodeInfoWithStorage[127.0.0.1:34844,DS-4248b305-206d-458b-ac7f-b5749b6c79e4,DISK], DatanodeInfoWithStorage[127.0.0.1:41256,DS-89d7497c-48b5-4173-8e5d-89f4a396c80c,DISK], DatanodeInfoWithStorage[127.0.0.1:36876,DS-ad8b34c9-316e-4fba-887e-8cf9114d8f39,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-110381447-172.17.0.4-1598643054564:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-89f5bf7b-36ec-4cd6-a30b-4dfb27fbf5a2,DISK], DatanodeInfoWithStorage[127.0.0.1:41098,DS-e85b91d9-8226-4712-b3d4-5777444959fd,DISK], DatanodeInfoWithStorage[127.0.0.1:41134,DS-6979d54b-4af5-426f-a27e-61a1f140875b,DISK], DatanodeInfoWithStorage[127.0.0.1:40824,DS-4e448646-3d3c-41c4-a6b2-d378af91232f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-110381447-172.17.0.4-1598643054564:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-89f5bf7b-36ec-4cd6-a30b-4dfb27fbf5a2,DISK], DatanodeInfoWithStorage[127.0.0.1:41098,DS-e85b91d9-8226-4712-b3d4-5777444959fd,DISK], DatanodeInfoWithStorage[127.0.0.1:41134,DS-6979d54b-4af5-426f-a27e-61a1f140875b,DISK], DatanodeInfoWithStorage[127.0.0.1:40824,DS-4e448646-3d3c-41c4-a6b2-d378af91232f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-110381447-172.17.0.4-1598643054564:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-3ff73a25-a03b-4339-97f5-047e8b6d4ef4,DISK], DatanodeInfoWithStorage[127.0.0.1:38360,DS-3b5e321c-52d3-4d55-bd6c-37c894b85a96,DISK], DatanodeInfoWithStorage[127.0.0.1:40824,DS-7fc97cc6-3f0c-4d6b-9d15-1da6893b4568,DISK], DatanodeInfoWithStorage[127.0.0.1:41134,DS-5fa21d6e-8a81-4a5b-b284-6745fd6c71db,DISK], DatanodeInfoWithStorage[127.0.0.1:38098,DS-30188d37-21fb-4b70-9c54-4ff9208e4672,DISK], DatanodeInfoWithStorage[127.0.0.1:41098,DS-87888d1e-0e3a-41f3-9df1-a96e27473f86,DISK], DatanodeInfoWithStorage[127.0.0.1:34844,DS-4248b305-206d-458b-ac7f-b5749b6c79e4,DISK], DatanodeInfoWithStorage[127.0.0.1:41256,DS-89d7497c-48b5-4173-8e5d-89f4a396c80c,DISK], DatanodeInfoWithStorage[127.0.0.1:36876,DS-ad8b34c9-316e-4fba-887e-8cf9114d8f39,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-110381447-172.17.0.4-1598643054564:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-89f5bf7b-36ec-4cd6-a30b-4dfb27fbf5a2,DISK], DatanodeInfoWithStorage[127.0.0.1:41098,DS-e85b91d9-8226-4712-b3d4-5777444959fd,DISK], DatanodeInfoWithStorage[127.0.0.1:41134,DS-6979d54b-4af5-426f-a27e-61a1f140875b,DISK], DatanodeInfoWithStorage[127.0.0.1:40824,DS-4e448646-3d3c-41c4-a6b2-d378af91232f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-110381447-172.17.0.4-1598643054564:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46238,DS-89f5bf7b-36ec-4cd6-a30b-4dfb27fbf5a2,DISK], DatanodeInfoWithStorage[127.0.0.1:41098,DS-e85b91d9-8226-4712-b3d4-5777444959fd,DISK], DatanodeInfoWithStorage[127.0.0.1:41134,DS-6979d54b-4af5-426f-a27e-61a1f140875b,DISK], DatanodeInfoWithStorage[127.0.0.1:40824,DS-4e448646-3d3c-41c4-a6b2-d378af91232f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-257469180-172.17.0.4-1598643399959:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34213,DS-0824073a-dcec-45d5-9363-a42bc2843c53,DISK], DatanodeInfoWithStorage[127.0.0.1:44043,DS-62eea22c-7353-41d4-95b8-e36eb9ceb221,DISK], DatanodeInfoWithStorage[127.0.0.1:34043,DS-486c9c8b-5c02-4ce4-b5bf-cf5003cf2f86,DISK], DatanodeInfoWithStorage[127.0.0.1:38768,DS-6cd5bb68-19e7-404e-8ce1-57d57a76008d,DISK], DatanodeInfoWithStorage[127.0.0.1:35023,DS-0dd39c07-07e5-4122-9d7f-aaaa18264972,DISK], DatanodeInfoWithStorage[127.0.0.1:46380,DS-65c058c3-2d10-4ece-a98b-37b8fb08ebd0,DISK], DatanodeInfoWithStorage[127.0.0.1:39167,DS-1cc8fdfe-f055-4dc6-8168-bd0dd2af1d8f,DISK], DatanodeInfoWithStorage[127.0.0.1:43293,DS-ee1d8079-50ef-4e16-bdfd-2df3c2f6f779,DISK], DatanodeInfoWithStorage[127.0.0.1:36735,DS-f76000ed-72e0-4522-886d-792048265c6a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-257469180-172.17.0.4-1598643399959:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39167,DS-5a92d7e2-6142-4306-bd3f-476a9e31a437,DISK], DatanodeInfoWithStorage[127.0.0.1:34043,DS-693a84d5-423a-49ef-b019-87482f460eae,DISK], DatanodeInfoWithStorage[127.0.0.1:43293,DS-580e7c65-cbcf-484f-a212-96552b6d785d,DISK], DatanodeInfoWithStorage[127.0.0.1:35023,DS-bfaa559d-c2cf-4f8e-a696-75b262acd601,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-257469180-172.17.0.4-1598643399959:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39167,DS-5a92d7e2-6142-4306-bd3f-476a9e31a437,DISK], DatanodeInfoWithStorage[127.0.0.1:34043,DS-693a84d5-423a-49ef-b019-87482f460eae,DISK], DatanodeInfoWithStorage[127.0.0.1:43293,DS-580e7c65-cbcf-484f-a212-96552b6d785d,DISK], DatanodeInfoWithStorage[127.0.0.1:35023,DS-bfaa559d-c2cf-4f8e-a696-75b262acd601,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-257469180-172.17.0.4-1598643399959:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34213,DS-0824073a-dcec-45d5-9363-a42bc2843c53,DISK], DatanodeInfoWithStorage[127.0.0.1:44043,DS-62eea22c-7353-41d4-95b8-e36eb9ceb221,DISK], DatanodeInfoWithStorage[127.0.0.1:34043,DS-486c9c8b-5c02-4ce4-b5bf-cf5003cf2f86,DISK], DatanodeInfoWithStorage[127.0.0.1:38768,DS-6cd5bb68-19e7-404e-8ce1-57d57a76008d,DISK], DatanodeInfoWithStorage[127.0.0.1:35023,DS-0dd39c07-07e5-4122-9d7f-aaaa18264972,DISK], DatanodeInfoWithStorage[127.0.0.1:46380,DS-65c058c3-2d10-4ece-a98b-37b8fb08ebd0,DISK], DatanodeInfoWithStorage[127.0.0.1:39167,DS-1cc8fdfe-f055-4dc6-8168-bd0dd2af1d8f,DISK], DatanodeInfoWithStorage[127.0.0.1:43293,DS-ee1d8079-50ef-4e16-bdfd-2df3c2f6f779,DISK], DatanodeInfoWithStorage[127.0.0.1:36735,DS-f76000ed-72e0-4522-886d-792048265c6a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-257469180-172.17.0.4-1598643399959:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39167,DS-5a92d7e2-6142-4306-bd3f-476a9e31a437,DISK], DatanodeInfoWithStorage[127.0.0.1:34043,DS-693a84d5-423a-49ef-b019-87482f460eae,DISK], DatanodeInfoWithStorage[127.0.0.1:43293,DS-580e7c65-cbcf-484f-a212-96552b6d785d,DISK], DatanodeInfoWithStorage[127.0.0.1:35023,DS-bfaa559d-c2cf-4f8e-a696-75b262acd601,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-257469180-172.17.0.4-1598643399959:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39167,DS-5a92d7e2-6142-4306-bd3f-476a9e31a437,DISK], DatanodeInfoWithStorage[127.0.0.1:34043,DS-693a84d5-423a-49ef-b019-87482f460eae,DISK], DatanodeInfoWithStorage[127.0.0.1:43293,DS-580e7c65-cbcf-484f-a212-96552b6d785d,DISK], DatanodeInfoWithStorage[127.0.0.1:35023,DS-bfaa559d-c2cf-4f8e-a696-75b262acd601,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:836)
	at org.apache.hadoop.fs.FSDataInputStream.read(FSDataInputStream.java:147)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:144)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1958155257-172.17.0.4-1598643726289:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43216,DS-43dc7579-2832-4a70-ad35-5ec6815974ca,DISK], DatanodeInfoWithStorage[127.0.0.1:44969,DS-ddbcb695-5663-47e1-8812-8210e6f18cff,DISK], DatanodeInfoWithStorage[127.0.0.1:46718,DS-d0d7768d-7270-4f65-961b-0fb87d4c79ce,DISK], DatanodeInfoWithStorage[127.0.0.1:38803,DS-dbd580a1-543a-4ffa-97de-8e4299d30483,DISK], DatanodeInfoWithStorage[127.0.0.1:41133,DS-5306d7ff-9ac1-457d-95c7-929fa2877bbd,DISK], DatanodeInfoWithStorage[127.0.0.1:42300,DS-f5106d54-500a-4c3e-927d-a7782619b5b9,DISK], DatanodeInfoWithStorage[127.0.0.1:43687,DS-7e20d41b-141f-4b69-aad9-7eac049e3f06,DISK], DatanodeInfoWithStorage[127.0.0.1:40468,DS-4833c9fb-3e8a-448a-8ef8-2623467b7200,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-f124436b-ffb9-4da0-aef4-2bf20e9ef3e2,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1958155257-172.17.0.4-1598643726289:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40468,DS-28a7a29d-33d8-4e4b-911c-90ac79cf7111,DISK], DatanodeInfoWithStorage[127.0.0.1:46718,DS-724bf8da-ae31-4416-a4a6-94c910ef6201,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1958155257-172.17.0.4-1598643726289:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41133,DS-1f890776-353a-4254-b187-f78f9bea34c8,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-9d1b34ee-be9d-47c5-91c2-76f0e7f1d9a6,DISK], DatanodeInfoWithStorage[127.0.0.1:40468,DS-28a7a29d-33d8-4e4b-911c-90ac79cf7111,DISK], DatanodeInfoWithStorage[127.0.0.1:46718,DS-724bf8da-ae31-4416-a4a6-94c910ef6201,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1958155257-172.17.0.4-1598643726289:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43216,DS-43dc7579-2832-4a70-ad35-5ec6815974ca,DISK], DatanodeInfoWithStorage[127.0.0.1:44969,DS-ddbcb695-5663-47e1-8812-8210e6f18cff,DISK], DatanodeInfoWithStorage[127.0.0.1:46718,DS-d0d7768d-7270-4f65-961b-0fb87d4c79ce,DISK], DatanodeInfoWithStorage[127.0.0.1:38803,DS-dbd580a1-543a-4ffa-97de-8e4299d30483,DISK], DatanodeInfoWithStorage[127.0.0.1:41133,DS-5306d7ff-9ac1-457d-95c7-929fa2877bbd,DISK], DatanodeInfoWithStorage[127.0.0.1:42300,DS-f5106d54-500a-4c3e-927d-a7782619b5b9,DISK], DatanodeInfoWithStorage[127.0.0.1:43687,DS-7e20d41b-141f-4b69-aad9-7eac049e3f06,DISK], DatanodeInfoWithStorage[127.0.0.1:40468,DS-4833c9fb-3e8a-448a-8ef8-2623467b7200,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-f124436b-ffb9-4da0-aef4-2bf20e9ef3e2,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1958155257-172.17.0.4-1598643726289:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40468,DS-28a7a29d-33d8-4e4b-911c-90ac79cf7111,DISK], DatanodeInfoWithStorage[127.0.0.1:46718,DS-724bf8da-ae31-4416-a4a6-94c910ef6201,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1958155257-172.17.0.4-1598643726289:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41133,DS-1f890776-353a-4254-b187-f78f9bea34c8,DISK], DatanodeInfoWithStorage[127.0.0.1:43937,DS-9d1b34ee-be9d-47c5-91c2-76f0e7f1d9a6,DISK], DatanodeInfoWithStorage[127.0.0.1:40468,DS-28a7a29d-33d8-4e4b-911c-90ac79cf7111,DISK], DatanodeInfoWithStorage[127.0.0.1:46718,DS-724bf8da-ae31-4416-a4a6-94c910ef6201,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-73888184-172.17.0.4-1598643822898:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41152,DS-2e41e99a-7e63-4f68-bbcb-5d39571a07b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39052,DS-f6d78ad4-f16e-4725-bc76-ccf4821a6029,DISK], DatanodeInfoWithStorage[127.0.0.1:33438,DS-b207d117-3d8c-4652-b02a-645a0f2a1080,DISK], DatanodeInfoWithStorage[127.0.0.1:38434,DS-fda68aa2-19ed-46e2-aa8c-d3c88ea2d32e,DISK], DatanodeInfoWithStorage[127.0.0.1:43278,DS-c7d4a8e1-e07c-41e6-9e85-5dc02f921806,DISK], DatanodeInfoWithStorage[127.0.0.1:44797,DS-c1a2abe2-72f2-43bd-8586-02f3c3df0c08,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-f00267db-3fde-46e2-982f-89fbc506a1eb,DISK], DatanodeInfoWithStorage[127.0.0.1:39809,DS-fc0678f2-e034-43a5-8ed5-519975c97011,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-d7afe18b-6edc-4750-8c05-22bcf1ae336c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-73888184-172.17.0.4-1598643822898:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33438,DS-523485ba-ff79-4900-bb6e-8646c2427584,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-5656bb61-2bb3-46c1-9a7a-8dd015ea81b9,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-73888184-172.17.0.4-1598643822898:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43278,DS-d7e444cf-c55b-43ca-8775-376b96aaa011,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-4032c83e-d603-498b-b510-6041f7010194,DISK], DatanodeInfoWithStorage[127.0.0.1:33438,DS-523485ba-ff79-4900-bb6e-8646c2427584,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-5656bb61-2bb3-46c1-9a7a-8dd015ea81b9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-73888184-172.17.0.4-1598643822898:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41152,DS-2e41e99a-7e63-4f68-bbcb-5d39571a07b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39052,DS-f6d78ad4-f16e-4725-bc76-ccf4821a6029,DISK], DatanodeInfoWithStorage[127.0.0.1:33438,DS-b207d117-3d8c-4652-b02a-645a0f2a1080,DISK], DatanodeInfoWithStorage[127.0.0.1:38434,DS-fda68aa2-19ed-46e2-aa8c-d3c88ea2d32e,DISK], DatanodeInfoWithStorage[127.0.0.1:43278,DS-c7d4a8e1-e07c-41e6-9e85-5dc02f921806,DISK], DatanodeInfoWithStorage[127.0.0.1:44797,DS-c1a2abe2-72f2-43bd-8586-02f3c3df0c08,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-f00267db-3fde-46e2-982f-89fbc506a1eb,DISK], DatanodeInfoWithStorage[127.0.0.1:39809,DS-fc0678f2-e034-43a5-8ed5-519975c97011,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-d7afe18b-6edc-4750-8c05-22bcf1ae336c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-73888184-172.17.0.4-1598643822898:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33438,DS-523485ba-ff79-4900-bb6e-8646c2427584,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-5656bb61-2bb3-46c1-9a7a-8dd015ea81b9,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-73888184-172.17.0.4-1598643822898:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43278,DS-d7e444cf-c55b-43ca-8775-376b96aaa011,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-4032c83e-d603-498b-b510-6041f7010194,DISK], DatanodeInfoWithStorage[127.0.0.1:33438,DS-523485ba-ff79-4900-bb6e-8646c2427584,DISK], DatanodeInfoWithStorage[127.0.0.1:35074,DS-5656bb61-2bb3-46c1-9a7a-8dd015ea81b9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-431620354-172.17.0.4-1598643854893:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40506,DS-dff7691a-9640-4cbf-8605-93de28510bc6,DISK], DatanodeInfoWithStorage[127.0.0.1:36401,DS-c3d7916e-467e-4397-a8c9-e39eddb803d4,DISK], DatanodeInfoWithStorage[127.0.0.1:41961,DS-a360b979-1a43-4610-a1ce-c9272952628f,DISK], DatanodeInfoWithStorage[127.0.0.1:43076,DS-692662aa-2517-4242-9de6-f88a4f9be4ed,DISK], DatanodeInfoWithStorage[127.0.0.1:45736,DS-7480f98d-7ffa-45f6-ac2e-4a06de541dbe,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-fc482356-0b5c-41ee-8e51-d6dafe2e9114,DISK], DatanodeInfoWithStorage[127.0.0.1:41395,DS-74c0a993-aff1-44a2-bc28-92e4ceac438a,DISK], DatanodeInfoWithStorage[127.0.0.1:45548,DS-e4dd22e6-f8fe-4e7d-8e57-45e6e471d63f,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-44be6c55-e36a-46b5-9a76-e85b9c1aa15d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-431620354-172.17.0.4-1598643854893:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45548,DS-fdb6346d-5e16-45c0-9b31-146268f24c91,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-a0c8ac30-9e7c-4d61-8703-48fe707156aa,DISK], DatanodeInfoWithStorage[127.0.0.1:45736,DS-5bbc4a79-6b05-4f18-932a-1cfc45cae14f,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-7bcdc6bc-a26f-45a4-88b6-bcc5c2653896,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-431620354-172.17.0.4-1598643854893:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45548,DS-fdb6346d-5e16-45c0-9b31-146268f24c91,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-a0c8ac30-9e7c-4d61-8703-48fe707156aa,DISK], DatanodeInfoWithStorage[127.0.0.1:45736,DS-5bbc4a79-6b05-4f18-932a-1cfc45cae14f,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-7bcdc6bc-a26f-45a4-88b6-bcc5c2653896,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-431620354-172.17.0.4-1598643854893:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40506,DS-dff7691a-9640-4cbf-8605-93de28510bc6,DISK], DatanodeInfoWithStorage[127.0.0.1:36401,DS-c3d7916e-467e-4397-a8c9-e39eddb803d4,DISK], DatanodeInfoWithStorage[127.0.0.1:41961,DS-a360b979-1a43-4610-a1ce-c9272952628f,DISK], DatanodeInfoWithStorage[127.0.0.1:43076,DS-692662aa-2517-4242-9de6-f88a4f9be4ed,DISK], DatanodeInfoWithStorage[127.0.0.1:45736,DS-7480f98d-7ffa-45f6-ac2e-4a06de541dbe,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-fc482356-0b5c-41ee-8e51-d6dafe2e9114,DISK], DatanodeInfoWithStorage[127.0.0.1:41395,DS-74c0a993-aff1-44a2-bc28-92e4ceac438a,DISK], DatanodeInfoWithStorage[127.0.0.1:45548,DS-e4dd22e6-f8fe-4e7d-8e57-45e6e471d63f,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-44be6c55-e36a-46b5-9a76-e85b9c1aa15d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-431620354-172.17.0.4-1598643854893:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45548,DS-fdb6346d-5e16-45c0-9b31-146268f24c91,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-a0c8ac30-9e7c-4d61-8703-48fe707156aa,DISK], DatanodeInfoWithStorage[127.0.0.1:45736,DS-5bbc4a79-6b05-4f18-932a-1cfc45cae14f,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-7bcdc6bc-a26f-45a4-88b6-bcc5c2653896,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-431620354-172.17.0.4-1598643854893:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45548,DS-fdb6346d-5e16-45c0-9b31-146268f24c91,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-a0c8ac30-9e7c-4d61-8703-48fe707156aa,DISK], DatanodeInfoWithStorage[127.0.0.1:45736,DS-5bbc4a79-6b05-4f18-932a-1cfc45cae14f,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-7bcdc6bc-a26f-45a4-88b6-bcc5c2653896,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-769806265-172.17.0.4-1598643958245:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36827,DS-7bbbcb11-ad13-4b9a-8aeb-c2e842b04158,DISK], DatanodeInfoWithStorage[127.0.0.1:33673,DS-59768df2-23c7-4c3e-88f7-887be119abbe,DISK], DatanodeInfoWithStorage[127.0.0.1:42440,DS-fe6a2b95-fd05-4722-b009-a5fe6037b3de,DISK], DatanodeInfoWithStorage[127.0.0.1:36408,DS-3e4e3c92-6385-4c58-9001-9069f54d54dc,DISK], DatanodeInfoWithStorage[127.0.0.1:33079,DS-92a8b8e5-b92a-4aee-ac39-2a269c1a63af,DISK], DatanodeInfoWithStorage[127.0.0.1:35977,DS-3e6184dd-b959-4798-8c0f-7bd4c78a74a2,DISK], DatanodeInfoWithStorage[127.0.0.1:46144,DS-e2e95dbb-f0c2-45d9-bd61-673f83730e38,DISK], DatanodeInfoWithStorage[127.0.0.1:45978,DS-969f1577-674f-4fc1-b6bd-fa89c04f09c5,DISK], DatanodeInfoWithStorage[127.0.0.1:32900,DS-135dbfa4-999d-4051-979e-745e5468a496,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-769806265-172.17.0.4-1598643958245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32900,DS-80550b31-c033-4b05-920c-726b4a4067f9,DISK], DatanodeInfoWithStorage[127.0.0.1:35977,DS-fd8a793f-71f4-452a-a765-cbc77c903bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:36827,DS-1b1fae05-025b-4c6a-b7a0-db4849ae58f2,DISK], DatanodeInfoWithStorage[127.0.0.1:46144,DS-69c30779-2ca5-4960-a81f-203bdfd0a595,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-769806265-172.17.0.4-1598643958245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32900,DS-80550b31-c033-4b05-920c-726b4a4067f9,DISK], DatanodeInfoWithStorage[127.0.0.1:35977,DS-fd8a793f-71f4-452a-a765-cbc77c903bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:36827,DS-1b1fae05-025b-4c6a-b7a0-db4849ae58f2,DISK], DatanodeInfoWithStorage[127.0.0.1:46144,DS-69c30779-2ca5-4960-a81f-203bdfd0a595,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-769806265-172.17.0.4-1598643958245:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36827,DS-7bbbcb11-ad13-4b9a-8aeb-c2e842b04158,DISK], DatanodeInfoWithStorage[127.0.0.1:33673,DS-59768df2-23c7-4c3e-88f7-887be119abbe,DISK], DatanodeInfoWithStorage[127.0.0.1:42440,DS-fe6a2b95-fd05-4722-b009-a5fe6037b3de,DISK], DatanodeInfoWithStorage[127.0.0.1:36408,DS-3e4e3c92-6385-4c58-9001-9069f54d54dc,DISK], DatanodeInfoWithStorage[127.0.0.1:33079,DS-92a8b8e5-b92a-4aee-ac39-2a269c1a63af,DISK], DatanodeInfoWithStorage[127.0.0.1:35977,DS-3e6184dd-b959-4798-8c0f-7bd4c78a74a2,DISK], DatanodeInfoWithStorage[127.0.0.1:46144,DS-e2e95dbb-f0c2-45d9-bd61-673f83730e38,DISK], DatanodeInfoWithStorage[127.0.0.1:45978,DS-969f1577-674f-4fc1-b6bd-fa89c04f09c5,DISK], DatanodeInfoWithStorage[127.0.0.1:32900,DS-135dbfa4-999d-4051-979e-745e5468a496,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-769806265-172.17.0.4-1598643958245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32900,DS-80550b31-c033-4b05-920c-726b4a4067f9,DISK], DatanodeInfoWithStorage[127.0.0.1:35977,DS-fd8a793f-71f4-452a-a765-cbc77c903bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:36827,DS-1b1fae05-025b-4c6a-b7a0-db4849ae58f2,DISK], DatanodeInfoWithStorage[127.0.0.1:46144,DS-69c30779-2ca5-4960-a81f-203bdfd0a595,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-769806265-172.17.0.4-1598643958245:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32900,DS-80550b31-c033-4b05-920c-726b4a4067f9,DISK], DatanodeInfoWithStorage[127.0.0.1:35977,DS-fd8a793f-71f4-452a-a765-cbc77c903bf4,DISK], DatanodeInfoWithStorage[127.0.0.1:36827,DS-1b1fae05-025b-4c6a-b7a0-db4849ae58f2,DISK], DatanodeInfoWithStorage[127.0.0.1:46144,DS-69c30779-2ca5-4960-a81f-203bdfd0a595,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-320866944-172.17.0.4-1598644186546:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43255,DS-c58c0a26-c74f-4f89-8361-563dce443553,DISK], DatanodeInfoWithStorage[127.0.0.1:37550,DS-99ecc7aa-7089-4950-8c86-0402a0b1650c,DISK], DatanodeInfoWithStorage[127.0.0.1:45369,DS-f9e6e751-7eef-475a-83b7-cd080725a96d,DISK], DatanodeInfoWithStorage[127.0.0.1:44375,DS-946a24d3-3291-4dd1-9ae6-4f5901d52006,DISK], DatanodeInfoWithStorage[127.0.0.1:34490,DS-4f3ec2bd-d704-4634-8a27-91c241be9b7e,DISK], DatanodeInfoWithStorage[127.0.0.1:37697,DS-5db6a637-7d24-4263-bb91-2f5dc03faf55,DISK], DatanodeInfoWithStorage[127.0.0.1:40304,DS-3e1b8911-1a02-48a6-b551-2bd05c1d8b4c,DISK], DatanodeInfoWithStorage[127.0.0.1:40168,DS-8719683a-19b5-4f2f-bb26-e69bfcd712c3,DISK], DatanodeInfoWithStorage[127.0.0.1:44003,DS-2160f57b-2b02-4a7c-9b39-3521d54b16d3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-320866944-172.17.0.4-1598644186546:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40304,DS-bcbb7325-90b9-492d-93a2-ee98d6b8a0c7,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-320866944-172.17.0.4-1598644186546:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44003,DS-3ff8692d-958d-4ab3-93e0-ebb121941f5d,DISK], DatanodeInfoWithStorage[127.0.0.1:37550,DS-e9af78f4-00c9-49dd-9431-e0e6f9e88999,DISK], DatanodeInfoWithStorage[127.0.0.1:43255,DS-88c30165-a581-40e8-8559-37124acadaae,DISK], DatanodeInfoWithStorage[127.0.0.1:40304,DS-bcbb7325-90b9-492d-93a2-ee98d6b8a0c7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-320866944-172.17.0.4-1598644186546:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43255,DS-c58c0a26-c74f-4f89-8361-563dce443553,DISK], DatanodeInfoWithStorage[127.0.0.1:37550,DS-99ecc7aa-7089-4950-8c86-0402a0b1650c,DISK], DatanodeInfoWithStorage[127.0.0.1:45369,DS-f9e6e751-7eef-475a-83b7-cd080725a96d,DISK], DatanodeInfoWithStorage[127.0.0.1:44375,DS-946a24d3-3291-4dd1-9ae6-4f5901d52006,DISK], DatanodeInfoWithStorage[127.0.0.1:34490,DS-4f3ec2bd-d704-4634-8a27-91c241be9b7e,DISK], DatanodeInfoWithStorage[127.0.0.1:37697,DS-5db6a637-7d24-4263-bb91-2f5dc03faf55,DISK], DatanodeInfoWithStorage[127.0.0.1:40304,DS-3e1b8911-1a02-48a6-b551-2bd05c1d8b4c,DISK], DatanodeInfoWithStorage[127.0.0.1:40168,DS-8719683a-19b5-4f2f-bb26-e69bfcd712c3,DISK], DatanodeInfoWithStorage[127.0.0.1:44003,DS-2160f57b-2b02-4a7c-9b39-3521d54b16d3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-320866944-172.17.0.4-1598644186546:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40304,DS-bcbb7325-90b9-492d-93a2-ee98d6b8a0c7,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-320866944-172.17.0.4-1598644186546:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44003,DS-3ff8692d-958d-4ab3-93e0-ebb121941f5d,DISK], DatanodeInfoWithStorage[127.0.0.1:37550,DS-e9af78f4-00c9-49dd-9431-e0e6f9e88999,DISK], DatanodeInfoWithStorage[127.0.0.1:43255,DS-88c30165-a581-40e8-8559-37124acadaae,DISK], DatanodeInfoWithStorage[127.0.0.1:40304,DS-bcbb7325-90b9-492d-93a2-ee98d6b8a0c7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-903802939-172.17.0.4-1598644284692:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44001,DS-f6f7735f-18a4-4d5d-8815-16fc5fed1dd5,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-561028ed-6188-4e47-997c-1ba09a99ade8,DISK], DatanodeInfoWithStorage[127.0.0.1:37788,DS-71753c52-5f40-48d5-86b6-c76a6da14716,DISK], DatanodeInfoWithStorage[127.0.0.1:42553,DS-6fce6e66-2502-4964-9674-9c08debcb51d,DISK], DatanodeInfoWithStorage[127.0.0.1:40561,DS-5e25e5db-50d7-4be4-8bc0-c938c2ac9080,DISK], DatanodeInfoWithStorage[127.0.0.1:45438,DS-db27fe16-b1cc-47e0-a009-576f04dbecba,DISK], DatanodeInfoWithStorage[127.0.0.1:35535,DS-84774aed-af2a-4913-85cb-a067bf5d6f41,DISK], DatanodeInfoWithStorage[127.0.0.1:36564,DS-131d3362-dc8d-4106-91f9-93bfc89e5d01,DISK], DatanodeInfoWithStorage[127.0.0.1:37711,DS-db397d6e-cb85-4bf3-a3ec-cd70b4fab2cf,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-903802939-172.17.0.4-1598644284692:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35535,DS-2d7ac36b-9c03-443e-8856-06f5f0a17923,DISK], DatanodeInfoWithStorage[127.0.0.1:36564,DS-d855b98a-1a8d-4e03-95d3-ddd8d3a542a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-fc7c787b-2d17-42f6-b325-ec64dd99ecfa,DISK], DatanodeInfoWithStorage[127.0.0.1:37711,DS-098b3514-f03d-48e7-9bfc-3e746e73cfa9,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-903802939-172.17.0.4-1598644284692:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35535,DS-2d7ac36b-9c03-443e-8856-06f5f0a17923,DISK], DatanodeInfoWithStorage[127.0.0.1:36564,DS-d855b98a-1a8d-4e03-95d3-ddd8d3a542a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-fc7c787b-2d17-42f6-b325-ec64dd99ecfa,DISK], DatanodeInfoWithStorage[127.0.0.1:37711,DS-098b3514-f03d-48e7-9bfc-3e746e73cfa9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-903802939-172.17.0.4-1598644284692:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44001,DS-f6f7735f-18a4-4d5d-8815-16fc5fed1dd5,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-561028ed-6188-4e47-997c-1ba09a99ade8,DISK], DatanodeInfoWithStorage[127.0.0.1:37788,DS-71753c52-5f40-48d5-86b6-c76a6da14716,DISK], DatanodeInfoWithStorage[127.0.0.1:42553,DS-6fce6e66-2502-4964-9674-9c08debcb51d,DISK], DatanodeInfoWithStorage[127.0.0.1:40561,DS-5e25e5db-50d7-4be4-8bc0-c938c2ac9080,DISK], DatanodeInfoWithStorage[127.0.0.1:45438,DS-db27fe16-b1cc-47e0-a009-576f04dbecba,DISK], DatanodeInfoWithStorage[127.0.0.1:35535,DS-84774aed-af2a-4913-85cb-a067bf5d6f41,DISK], DatanodeInfoWithStorage[127.0.0.1:36564,DS-131d3362-dc8d-4106-91f9-93bfc89e5d01,DISK], DatanodeInfoWithStorage[127.0.0.1:37711,DS-db397d6e-cb85-4bf3-a3ec-cd70b4fab2cf,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-903802939-172.17.0.4-1598644284692:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35535,DS-2d7ac36b-9c03-443e-8856-06f5f0a17923,DISK], DatanodeInfoWithStorage[127.0.0.1:36564,DS-d855b98a-1a8d-4e03-95d3-ddd8d3a542a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-fc7c787b-2d17-42f6-b325-ec64dd99ecfa,DISK], DatanodeInfoWithStorage[127.0.0.1:37711,DS-098b3514-f03d-48e7-9bfc-3e746e73cfa9,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-903802939-172.17.0.4-1598644284692:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35535,DS-2d7ac36b-9c03-443e-8856-06f5f0a17923,DISK], DatanodeInfoWithStorage[127.0.0.1:36564,DS-d855b98a-1a8d-4e03-95d3-ddd8d3a542a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42434,DS-fc7c787b-2d17-42f6-b325-ec64dd99ecfa,DISK], DatanodeInfoWithStorage[127.0.0.1:37711,DS-098b3514-f03d-48e7-9bfc-3e746e73cfa9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-825349251-172.17.0.4-1598644517169:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41382,DS-b0c496e2-ca15-46c5-b893-45b00a0606b6,DISK], DatanodeInfoWithStorage[127.0.0.1:39538,DS-954edd61-dfb1-40ff-ae99-060a65de411c,DISK], DatanodeInfoWithStorage[127.0.0.1:36611,DS-0019bf0a-9d40-49d6-898e-c46538a0c129,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-d3b688aa-7316-41ab-aafb-f0f277224338,DISK], DatanodeInfoWithStorage[127.0.0.1:45576,DS-10a3aff3-3b66-45b2-b82f-e7b845118b6d,DISK], DatanodeInfoWithStorage[127.0.0.1:46627,DS-c7e6a81c-8310-4e3b-8f79-42d295d79d90,DISK], DatanodeInfoWithStorage[127.0.0.1:40077,DS-00d6e824-66b8-46b0-a47e-dafa60b9becb,DISK], DatanodeInfoWithStorage[127.0.0.1:35684,DS-37eae43d-b021-4d30-a0c9-3b9029f83d4e,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-68ec861c-293e-4626-bb0b-c12f93424911,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-825349251-172.17.0.4-1598644517169:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35684,DS-2aa8cda6-9335-45cc-a560-8f23fa450eb0,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-979f98af-62b3-4aa5-a573-e1ab2b1cd435,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-16f16d02-50e5-4df5-91a6-38361b4b666c,DISK], DatanodeInfoWithStorage[127.0.0.1:40077,DS-2f44c021-2e85-4ae9-bd95-80dd2b1cb65e,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-825349251-172.17.0.4-1598644517169:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35684,DS-2aa8cda6-9335-45cc-a560-8f23fa450eb0,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-979f98af-62b3-4aa5-a573-e1ab2b1cd435,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-16f16d02-50e5-4df5-91a6-38361b4b666c,DISK], DatanodeInfoWithStorage[127.0.0.1:40077,DS-2f44c021-2e85-4ae9-bd95-80dd2b1cb65e,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-825349251-172.17.0.4-1598644517169:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41382,DS-b0c496e2-ca15-46c5-b893-45b00a0606b6,DISK], DatanodeInfoWithStorage[127.0.0.1:39538,DS-954edd61-dfb1-40ff-ae99-060a65de411c,DISK], DatanodeInfoWithStorage[127.0.0.1:36611,DS-0019bf0a-9d40-49d6-898e-c46538a0c129,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-d3b688aa-7316-41ab-aafb-f0f277224338,DISK], DatanodeInfoWithStorage[127.0.0.1:45576,DS-10a3aff3-3b66-45b2-b82f-e7b845118b6d,DISK], DatanodeInfoWithStorage[127.0.0.1:46627,DS-c7e6a81c-8310-4e3b-8f79-42d295d79d90,DISK], DatanodeInfoWithStorage[127.0.0.1:40077,DS-00d6e824-66b8-46b0-a47e-dafa60b9becb,DISK], DatanodeInfoWithStorage[127.0.0.1:35684,DS-37eae43d-b021-4d30-a0c9-3b9029f83d4e,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-68ec861c-293e-4626-bb0b-c12f93424911,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-825349251-172.17.0.4-1598644517169:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35684,DS-2aa8cda6-9335-45cc-a560-8f23fa450eb0,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-979f98af-62b3-4aa5-a573-e1ab2b1cd435,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-16f16d02-50e5-4df5-91a6-38361b4b666c,DISK], DatanodeInfoWithStorage[127.0.0.1:40077,DS-2f44c021-2e85-4ae9-bd95-80dd2b1cb65e,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-825349251-172.17.0.4-1598644517169:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35684,DS-2aa8cda6-9335-45cc-a560-8f23fa450eb0,DISK], DatanodeInfoWithStorage[127.0.0.1:44005,DS-979f98af-62b3-4aa5-a573-e1ab2b1cd435,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-16f16d02-50e5-4df5-91a6-38361b4b666c,DISK], DatanodeInfoWithStorage[127.0.0.1:40077,DS-2f44c021-2e85-4ae9-bd95-80dd2b1cb65e,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1599352061-172.17.0.4-1598645333188:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41556,DS-3a344a91-3996-4b29-8fad-c27effbf997f,DISK], DatanodeInfoWithStorage[127.0.0.1:46820,DS-18494f42-d5eb-467b-89e7-f4e6067d423e,DISK], DatanodeInfoWithStorage[127.0.0.1:42927,DS-5baf73c4-3913-4759-8bbc-65dd738dc953,DISK], DatanodeInfoWithStorage[127.0.0.1:37778,DS-6c127621-855c-42da-a723-90d4b23c0a63,DISK], DatanodeInfoWithStorage[127.0.0.1:39886,DS-0dad2c79-cf03-40e6-a35b-ba99d76652c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35301,DS-d387e019-f145-4766-8b67-51c414a630cf,DISK], DatanodeInfoWithStorage[127.0.0.1:36062,DS-d9b2bafa-c788-4ffa-87b6-47d689bdda77,DISK], DatanodeInfoWithStorage[127.0.0.1:36427,DS-9ce36100-df76-4732-9de2-dbecbd7f1722,DISK], DatanodeInfoWithStorage[127.0.0.1:33896,DS-a11f9030-ddd8-4637-9677-fb832cca2a97,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1599352061-172.17.0.4-1598645333188:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46820,DS-4fc0c7e0-59d9-4838-81d0-98a30da08d7f,DISK], DatanodeInfoWithStorage[127.0.0.1:37778,DS-8c6cd246-1da9-4ac8-a4ac-30d3d88f5fbc,DISK], DatanodeInfoWithStorage[127.0.0.1:42927,DS-c28a5b7a-2f60-4293-801d-17897c5d363d,DISK], DatanodeInfoWithStorage[127.0.0.1:33896,DS-ad9e25df-8401-4ca3-bee3-70819a47c704,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1599352061-172.17.0.4-1598645333188:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46820,DS-4fc0c7e0-59d9-4838-81d0-98a30da08d7f,DISK], DatanodeInfoWithStorage[127.0.0.1:37778,DS-8c6cd246-1da9-4ac8-a4ac-30d3d88f5fbc,DISK], DatanodeInfoWithStorage[127.0.0.1:42927,DS-c28a5b7a-2f60-4293-801d-17897c5d363d,DISK], DatanodeInfoWithStorage[127.0.0.1:33896,DS-ad9e25df-8401-4ca3-bee3-70819a47c704,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1599352061-172.17.0.4-1598645333188:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41556,DS-3a344a91-3996-4b29-8fad-c27effbf997f,DISK], DatanodeInfoWithStorage[127.0.0.1:46820,DS-18494f42-d5eb-467b-89e7-f4e6067d423e,DISK], DatanodeInfoWithStorage[127.0.0.1:42927,DS-5baf73c4-3913-4759-8bbc-65dd738dc953,DISK], DatanodeInfoWithStorage[127.0.0.1:37778,DS-6c127621-855c-42da-a723-90d4b23c0a63,DISK], DatanodeInfoWithStorage[127.0.0.1:39886,DS-0dad2c79-cf03-40e6-a35b-ba99d76652c9,DISK], DatanodeInfoWithStorage[127.0.0.1:35301,DS-d387e019-f145-4766-8b67-51c414a630cf,DISK], DatanodeInfoWithStorage[127.0.0.1:36062,DS-d9b2bafa-c788-4ffa-87b6-47d689bdda77,DISK], DatanodeInfoWithStorage[127.0.0.1:36427,DS-9ce36100-df76-4732-9de2-dbecbd7f1722,DISK], DatanodeInfoWithStorage[127.0.0.1:33896,DS-a11f9030-ddd8-4637-9677-fb832cca2a97,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1599352061-172.17.0.4-1598645333188:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46820,DS-4fc0c7e0-59d9-4838-81d0-98a30da08d7f,DISK], DatanodeInfoWithStorage[127.0.0.1:37778,DS-8c6cd246-1da9-4ac8-a4ac-30d3d88f5fbc,DISK], DatanodeInfoWithStorage[127.0.0.1:42927,DS-c28a5b7a-2f60-4293-801d-17897c5d363d,DISK], DatanodeInfoWithStorage[127.0.0.1:33896,DS-ad9e25df-8401-4ca3-bee3-70819a47c704,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1599352061-172.17.0.4-1598645333188:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46820,DS-4fc0c7e0-59d9-4838-81d0-98a30da08d7f,DISK], DatanodeInfoWithStorage[127.0.0.1:37778,DS-8c6cd246-1da9-4ac8-a4ac-30d3d88f5fbc,DISK], DatanodeInfoWithStorage[127.0.0.1:42927,DS-c28a5b7a-2f60-4293-801d-17897c5d363d,DISK], DatanodeInfoWithStorage[127.0.0.1:33896,DS-ad9e25df-8401-4ca3-bee3-70819a47c704,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-35578429-172.17.0.4-1598645486107:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44792,DS-be243b4a-5bd0-42e5-93b3-a1930238fe77,DISK], DatanodeInfoWithStorage[127.0.0.1:42982,DS-f6dc525e-0c3d-4c11-bd38-1c6235cfb41d,DISK], DatanodeInfoWithStorage[127.0.0.1:41537,DS-b62cd653-947e-4d81-b07a-fe4ba51fb920,DISK], DatanodeInfoWithStorage[127.0.0.1:36114,DS-b96de455-ded3-47a3-b8d7-fbacffffab65,DISK], DatanodeInfoWithStorage[127.0.0.1:43953,DS-616b7ec6-4b30-45a0-a200-a26ab6902e61,DISK], DatanodeInfoWithStorage[127.0.0.1:46618,DS-86add636-0ba8-47fd-92b5-c6b3d85f5157,DISK], DatanodeInfoWithStorage[127.0.0.1:42069,DS-c462c3a1-87b8-4a53-88d5-ab8169dcf34e,DISK], DatanodeInfoWithStorage[127.0.0.1:34948,DS-7139db0c-edd4-4061-ba17-dd9fa79af72e,DISK], DatanodeInfoWithStorage[127.0.0.1:42658,DS-25491297-0aea-45d4-85ce-3e582789d3e7,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-35578429-172.17.0.4-1598645486107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34948,DS-9fa6b927-0679-4d4c-922e-3d20c00e5e31,DISK], DatanodeInfoWithStorage[127.0.0.1:42069,DS-f47794eb-74ed-41d6-a839-235a73af0873,DISK], DatanodeInfoWithStorage[127.0.0.1:42982,DS-46ba2276-9b57-40b2-a8ac-0f94462b3237,DISK], DatanodeInfoWithStorage[127.0.0.1:36114,DS-5b4d473d-0fb0-4583-a499-cc68e481321c,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-35578429-172.17.0.4-1598645486107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34948,DS-9fa6b927-0679-4d4c-922e-3d20c00e5e31,DISK], DatanodeInfoWithStorage[127.0.0.1:42069,DS-f47794eb-74ed-41d6-a839-235a73af0873,DISK], DatanodeInfoWithStorage[127.0.0.1:42982,DS-46ba2276-9b57-40b2-a8ac-0f94462b3237,DISK], DatanodeInfoWithStorage[127.0.0.1:36114,DS-5b4d473d-0fb0-4583-a499-cc68e481321c,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-35578429-172.17.0.4-1598645486107:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44792,DS-be243b4a-5bd0-42e5-93b3-a1930238fe77,DISK], DatanodeInfoWithStorage[127.0.0.1:42982,DS-f6dc525e-0c3d-4c11-bd38-1c6235cfb41d,DISK], DatanodeInfoWithStorage[127.0.0.1:41537,DS-b62cd653-947e-4d81-b07a-fe4ba51fb920,DISK], DatanodeInfoWithStorage[127.0.0.1:36114,DS-b96de455-ded3-47a3-b8d7-fbacffffab65,DISK], DatanodeInfoWithStorage[127.0.0.1:43953,DS-616b7ec6-4b30-45a0-a200-a26ab6902e61,DISK], DatanodeInfoWithStorage[127.0.0.1:46618,DS-86add636-0ba8-47fd-92b5-c6b3d85f5157,DISK], DatanodeInfoWithStorage[127.0.0.1:42069,DS-c462c3a1-87b8-4a53-88d5-ab8169dcf34e,DISK], DatanodeInfoWithStorage[127.0.0.1:34948,DS-7139db0c-edd4-4061-ba17-dd9fa79af72e,DISK], DatanodeInfoWithStorage[127.0.0.1:42658,DS-25491297-0aea-45d4-85ce-3e582789d3e7,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-35578429-172.17.0.4-1598645486107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34948,DS-9fa6b927-0679-4d4c-922e-3d20c00e5e31,DISK], DatanodeInfoWithStorage[127.0.0.1:42069,DS-f47794eb-74ed-41d6-a839-235a73af0873,DISK], DatanodeInfoWithStorage[127.0.0.1:42982,DS-46ba2276-9b57-40b2-a8ac-0f94462b3237,DISK], DatanodeInfoWithStorage[127.0.0.1:36114,DS-5b4d473d-0fb0-4583-a499-cc68e481321c,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-35578429-172.17.0.4-1598645486107:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34948,DS-9fa6b927-0679-4d4c-922e-3d20c00e5e31,DISK], DatanodeInfoWithStorage[127.0.0.1:42069,DS-f47794eb-74ed-41d6-a839-235a73af0873,DISK], DatanodeInfoWithStorage[127.0.0.1:42982,DS-46ba2276-9b57-40b2-a8ac-0f94462b3237,DISK], DatanodeInfoWithStorage[127.0.0.1:36114,DS-5b4d473d-0fb0-4583-a499-cc68e481321c,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-948842589-172.17.0.4-1598646039377:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36129,DS-80586214-1322-46f1-b266-952aa79fd385,DISK], DatanodeInfoWithStorage[127.0.0.1:37856,DS-4892af2e-4036-4f01-baae-520d78b1124d,DISK], DatanodeInfoWithStorage[127.0.0.1:35617,DS-36908cac-06d1-413e-b4b3-96a17ff8b7a9,DISK], DatanodeInfoWithStorage[127.0.0.1:32874,DS-1e1cff65-8c70-4836-a910-378825f43cb1,DISK], DatanodeInfoWithStorage[127.0.0.1:45137,DS-c2e0b9dd-b8be-4aac-84f4-dc9c564c0e3c,DISK], DatanodeInfoWithStorage[127.0.0.1:43263,DS-f9522f98-8f14-48b5-b660-a8ff0f3d23b7,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-65954507-c5e7-4ed5-b56d-9722b43ebdc3,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-5a4c33e1-ad79-41ac-bb0b-c34072c65be6,DISK], DatanodeInfoWithStorage[127.0.0.1:44374,DS-abc19f62-8c34-47b2-88d2-45882e429327,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-948842589-172.17.0.4-1598646039377:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45137,DS-0a671a3a-eb47-4220-9a1c-137a3b544f44,DISK], DatanodeInfoWithStorage[127.0.0.1:43263,DS-c50c0221-f086-4be6-81d4-2445f59bbc1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-52b7f9e5-c827-4f72-be78-688c85d2e15f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-206e4fc6-0266-4aba-90cd-f772e929ba46,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-948842589-172.17.0.4-1598646039377:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45137,DS-0a671a3a-eb47-4220-9a1c-137a3b544f44,DISK], DatanodeInfoWithStorage[127.0.0.1:43263,DS-c50c0221-f086-4be6-81d4-2445f59bbc1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-52b7f9e5-c827-4f72-be78-688c85d2e15f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-206e4fc6-0266-4aba-90cd-f772e929ba46,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-948842589-172.17.0.4-1598646039377:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36129,DS-80586214-1322-46f1-b266-952aa79fd385,DISK], DatanodeInfoWithStorage[127.0.0.1:37856,DS-4892af2e-4036-4f01-baae-520d78b1124d,DISK], DatanodeInfoWithStorage[127.0.0.1:35617,DS-36908cac-06d1-413e-b4b3-96a17ff8b7a9,DISK], DatanodeInfoWithStorage[127.0.0.1:32874,DS-1e1cff65-8c70-4836-a910-378825f43cb1,DISK], DatanodeInfoWithStorage[127.0.0.1:45137,DS-c2e0b9dd-b8be-4aac-84f4-dc9c564c0e3c,DISK], DatanodeInfoWithStorage[127.0.0.1:43263,DS-f9522f98-8f14-48b5-b660-a8ff0f3d23b7,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-65954507-c5e7-4ed5-b56d-9722b43ebdc3,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-5a4c33e1-ad79-41ac-bb0b-c34072c65be6,DISK], DatanodeInfoWithStorage[127.0.0.1:44374,DS-abc19f62-8c34-47b2-88d2-45882e429327,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-948842589-172.17.0.4-1598646039377:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45137,DS-0a671a3a-eb47-4220-9a1c-137a3b544f44,DISK], DatanodeInfoWithStorage[127.0.0.1:43263,DS-c50c0221-f086-4be6-81d4-2445f59bbc1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-52b7f9e5-c827-4f72-be78-688c85d2e15f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-206e4fc6-0266-4aba-90cd-f772e929ba46,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-948842589-172.17.0.4-1598646039377:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45137,DS-0a671a3a-eb47-4220-9a1c-137a3b544f44,DISK], DatanodeInfoWithStorage[127.0.0.1:43263,DS-c50c0221-f086-4be6-81d4-2445f59bbc1b,DISK], DatanodeInfoWithStorage[127.0.0.1:41471,DS-52b7f9e5-c827-4f72-be78-688c85d2e15f,DISK], DatanodeInfoWithStorage[127.0.0.1:35600,DS-206e4fc6-0266-4aba-90cd-f772e929ba46,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1592493896-172.17.0.4-1598646076052:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33728,DS-48b359c5-6f96-49e2-a5cf-96e3ff32e691,DISK], DatanodeInfoWithStorage[127.0.0.1:43648,DS-5cda24ba-7c36-4003-b2f2-bac971e019da,DISK], DatanodeInfoWithStorage[127.0.0.1:45611,DS-f6081d18-49e1-4e58-b635-b45e5f3b3594,DISK], DatanodeInfoWithStorage[127.0.0.1:41657,DS-c6c8d057-b318-4210-8b71-8bf15717d30d,DISK], DatanodeInfoWithStorage[127.0.0.1:40125,DS-c671f0f9-69ec-40e0-b9bc-71b1c7a32da2,DISK], DatanodeInfoWithStorage[127.0.0.1:32828,DS-1c98b5fc-6842-4d51-8b85-a00cfc2bf156,DISK], DatanodeInfoWithStorage[127.0.0.1:35570,DS-3ba5c98c-c812-47c2-b628-f6b27c1c4662,DISK], DatanodeInfoWithStorage[127.0.0.1:36844,DS-970347c6-14c8-43a4-9918-6dcbb7e0cec0,DISK], DatanodeInfoWithStorage[127.0.0.1:42795,DS-98e2e78e-03ad-4261-a750-c71ad385cc0e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1592493896-172.17.0.4-1598646076052:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42795,DS-e788fad0-95ed-417b-b2d2-2f65c8bc64b0,DISK], DatanodeInfoWithStorage[127.0.0.1:40125,DS-255fc0c4-129f-4cba-abc6-122a427cfdb7,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1592493896-172.17.0.4-1598646076052:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33728,DS-b31ee462-5bc2-42d1-ba1e-4d16d8c343ef,DISK], DatanodeInfoWithStorage[127.0.0.1:32828,DS-5a3ffa4d-14f8-4334-b415-d784126a9dff,DISK], DatanodeInfoWithStorage[127.0.0.1:42795,DS-e788fad0-95ed-417b-b2d2-2f65c8bc64b0,DISK], DatanodeInfoWithStorage[127.0.0.1:40125,DS-255fc0c4-129f-4cba-abc6-122a427cfdb7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1592493896-172.17.0.4-1598646076052:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33728,DS-48b359c5-6f96-49e2-a5cf-96e3ff32e691,DISK], DatanodeInfoWithStorage[127.0.0.1:43648,DS-5cda24ba-7c36-4003-b2f2-bac971e019da,DISK], DatanodeInfoWithStorage[127.0.0.1:45611,DS-f6081d18-49e1-4e58-b635-b45e5f3b3594,DISK], DatanodeInfoWithStorage[127.0.0.1:41657,DS-c6c8d057-b318-4210-8b71-8bf15717d30d,DISK], DatanodeInfoWithStorage[127.0.0.1:40125,DS-c671f0f9-69ec-40e0-b9bc-71b1c7a32da2,DISK], DatanodeInfoWithStorage[127.0.0.1:32828,DS-1c98b5fc-6842-4d51-8b85-a00cfc2bf156,DISK], DatanodeInfoWithStorage[127.0.0.1:35570,DS-3ba5c98c-c812-47c2-b628-f6b27c1c4662,DISK], DatanodeInfoWithStorage[127.0.0.1:36844,DS-970347c6-14c8-43a4-9918-6dcbb7e0cec0,DISK], DatanodeInfoWithStorage[127.0.0.1:42795,DS-98e2e78e-03ad-4261-a750-c71ad385cc0e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1592493896-172.17.0.4-1598646076052:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42795,DS-e788fad0-95ed-417b-b2d2-2f65c8bc64b0,DISK], DatanodeInfoWithStorage[127.0.0.1:40125,DS-255fc0c4-129f-4cba-abc6-122a427cfdb7,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1592493896-172.17.0.4-1598646076052:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33728,DS-b31ee462-5bc2-42d1-ba1e-4d16d8c343ef,DISK], DatanodeInfoWithStorage[127.0.0.1:32828,DS-5a3ffa4d-14f8-4334-b415-d784126a9dff,DISK], DatanodeInfoWithStorage[127.0.0.1:42795,DS-e788fad0-95ed-417b-b2d2-2f65c8bc64b0,DISK], DatanodeInfoWithStorage[127.0.0.1:40125,DS-255fc0c4-129f-4cba-abc6-122a427cfdb7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1598217122-172.17.0.4-1598646180338:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40755,DS-606e35f7-bab3-4c69-865d-dab54c474184,DISK], DatanodeInfoWithStorage[127.0.0.1:39882,DS-16b36b8c-5d2b-407a-8b6e-1e52c980913d,DISK], DatanodeInfoWithStorage[127.0.0.1:37332,DS-23703813-6098-4478-829f-e36804985b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:38453,DS-d18aacf3-15bb-40b4-8fcf-abe7dc41ec11,DISK], DatanodeInfoWithStorage[127.0.0.1:43883,DS-12964f77-52cd-4cc2-bd3a-f3ce245eb7b7,DISK], DatanodeInfoWithStorage[127.0.0.1:42889,DS-51afe3c4-da0c-426f-81b5-922165556097,DISK], DatanodeInfoWithStorage[127.0.0.1:44764,DS-008c57eb-4201-420c-a9de-7e37145781e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44144,DS-af3b95a5-bfd9-48e5-a96e-127a399e7224,DISK], DatanodeInfoWithStorage[127.0.0.1:35960,DS-40fd6a4f-f2a2-493c-bb9a-2c89b17df799,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1598217122-172.17.0.4-1598646180338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43883,DS-13dca9db-4a2a-4f06-83f0-cb3e3b24f0e4,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1598217122-172.17.0.4-1598646180338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39882,DS-6eda2dba-dbc0-461c-a093-86c461f4c323,DISK], DatanodeInfoWithStorage[127.0.0.1:37332,DS-b3937954-becc-4a9c-b1c6-a3ac71d5d0e0,DISK], DatanodeInfoWithStorage[127.0.0.1:35960,DS-ca31f3d2-8a09-4d44-ac8b-4cacb6cbd249,DISK], DatanodeInfoWithStorage[127.0.0.1:43883,DS-13dca9db-4a2a-4f06-83f0-cb3e3b24f0e4,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1598217122-172.17.0.4-1598646180338:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40755,DS-606e35f7-bab3-4c69-865d-dab54c474184,DISK], DatanodeInfoWithStorage[127.0.0.1:39882,DS-16b36b8c-5d2b-407a-8b6e-1e52c980913d,DISK], DatanodeInfoWithStorage[127.0.0.1:37332,DS-23703813-6098-4478-829f-e36804985b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:38453,DS-d18aacf3-15bb-40b4-8fcf-abe7dc41ec11,DISK], DatanodeInfoWithStorage[127.0.0.1:43883,DS-12964f77-52cd-4cc2-bd3a-f3ce245eb7b7,DISK], DatanodeInfoWithStorage[127.0.0.1:42889,DS-51afe3c4-da0c-426f-81b5-922165556097,DISK], DatanodeInfoWithStorage[127.0.0.1:44764,DS-008c57eb-4201-420c-a9de-7e37145781e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44144,DS-af3b95a5-bfd9-48e5-a96e-127a399e7224,DISK], DatanodeInfoWithStorage[127.0.0.1:35960,DS-40fd6a4f-f2a2-493c-bb9a-2c89b17df799,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1598217122-172.17.0.4-1598646180338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43883,DS-13dca9db-4a2a-4f06-83f0-cb3e3b24f0e4,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1598217122-172.17.0.4-1598646180338:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39882,DS-6eda2dba-dbc0-461c-a093-86c461f4c323,DISK], DatanodeInfoWithStorage[127.0.0.1:37332,DS-b3937954-becc-4a9c-b1c6-a3ac71d5d0e0,DISK], DatanodeInfoWithStorage[127.0.0.1:35960,DS-ca31f3d2-8a09-4d44-ac8b-4cacb6cbd249,DISK], DatanodeInfoWithStorage[127.0.0.1:43883,DS-13dca9db-4a2a-4f06-83f0-cb3e3b24f0e4,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-264293052-172.17.0.4-1598646342402:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34741,DS-4f6ba461-5d47-4d9c-83a6-b526551072b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39182,DS-28797d18-00d6-4942-baf6-bbc6250e13ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34859,DS-2c14ac72-2190-444c-9854-dfba43d8dbfc,DISK], DatanodeInfoWithStorage[127.0.0.1:34497,DS-69548e27-c7fc-4303-901b-666f19824d4f,DISK], DatanodeInfoWithStorage[127.0.0.1:42948,DS-df28e6f9-64ac-44f4-afbf-07a56506c69b,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-b3ab163b-fb45-4037-9813-77905fd6251e,DISK], DatanodeInfoWithStorage[127.0.0.1:40552,DS-f97b20bb-2380-4618-b4c0-1a503b0a6937,DISK], DatanodeInfoWithStorage[127.0.0.1:40415,DS-a17794e2-004d-4c4b-b22f-604f5590c456,DISK], DatanodeInfoWithStorage[127.0.0.1:40333,DS-c6c1ce35-ec37-4ff4-8312-d3908c6e0236,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-264293052-172.17.0.4-1598646342402:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39182,DS-10f3b9b9-150e-40e6-974c-11e6ca5a04df,DISK], DatanodeInfoWithStorage[127.0.0.1:40333,DS-17813255-51f4-4800-8f50-799059d696ae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-0dc875d1-bd73-4e9f-8f69-4c91cb72919c,DISK], DatanodeInfoWithStorage[127.0.0.1:34741,DS-ba137a36-f2c2-44bb-b43f-3824fc54de1b,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-264293052-172.17.0.4-1598646342402:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39182,DS-10f3b9b9-150e-40e6-974c-11e6ca5a04df,DISK], DatanodeInfoWithStorage[127.0.0.1:40333,DS-17813255-51f4-4800-8f50-799059d696ae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-0dc875d1-bd73-4e9f-8f69-4c91cb72919c,DISK], DatanodeInfoWithStorage[127.0.0.1:34741,DS-ba137a36-f2c2-44bb-b43f-3824fc54de1b,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-264293052-172.17.0.4-1598646342402:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34741,DS-4f6ba461-5d47-4d9c-83a6-b526551072b7,DISK], DatanodeInfoWithStorage[127.0.0.1:39182,DS-28797d18-00d6-4942-baf6-bbc6250e13ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34859,DS-2c14ac72-2190-444c-9854-dfba43d8dbfc,DISK], DatanodeInfoWithStorage[127.0.0.1:34497,DS-69548e27-c7fc-4303-901b-666f19824d4f,DISK], DatanodeInfoWithStorage[127.0.0.1:42948,DS-df28e6f9-64ac-44f4-afbf-07a56506c69b,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-b3ab163b-fb45-4037-9813-77905fd6251e,DISK], DatanodeInfoWithStorage[127.0.0.1:40552,DS-f97b20bb-2380-4618-b4c0-1a503b0a6937,DISK], DatanodeInfoWithStorage[127.0.0.1:40415,DS-a17794e2-004d-4c4b-b22f-604f5590c456,DISK], DatanodeInfoWithStorage[127.0.0.1:40333,DS-c6c1ce35-ec37-4ff4-8312-d3908c6e0236,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-264293052-172.17.0.4-1598646342402:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39182,DS-10f3b9b9-150e-40e6-974c-11e6ca5a04df,DISK], DatanodeInfoWithStorage[127.0.0.1:40333,DS-17813255-51f4-4800-8f50-799059d696ae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-0dc875d1-bd73-4e9f-8f69-4c91cb72919c,DISK], DatanodeInfoWithStorage[127.0.0.1:34741,DS-ba137a36-f2c2-44bb-b43f-3824fc54de1b,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-264293052-172.17.0.4-1598646342402:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39182,DS-10f3b9b9-150e-40e6-974c-11e6ca5a04df,DISK], DatanodeInfoWithStorage[127.0.0.1:40333,DS-17813255-51f4-4800-8f50-799059d696ae,DISK], DatanodeInfoWithStorage[127.0.0.1:34235,DS-0dc875d1-bd73-4e9f-8f69-4c91cb72919c,DISK], DatanodeInfoWithStorage[127.0.0.1:34741,DS-ba137a36-f2c2-44bb-b43f-3824fc54de1b,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-268964903-172.17.0.4-1598646377992:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42708,DS-d5fe20ee-c211-4dd6-95b6-3912905b3fd3,DISK], DatanodeInfoWithStorage[127.0.0.1:33550,DS-0fa29c2a-1dbb-49d8-9a8f-de2c527c5dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:34660,DS-5f6ed854-22df-4e34-9cb4-d7c332ee042f,DISK], DatanodeInfoWithStorage[127.0.0.1:45896,DS-e327bb67-6957-4235-b7db-463953a163e7,DISK], DatanodeInfoWithStorage[127.0.0.1:42846,DS-9b14a3a2-2f2d-426b-a7a4-4b083d8fddf4,DISK], DatanodeInfoWithStorage[127.0.0.1:41310,DS-ea1aba6e-c96b-4780-b5e9-6e9a151869ab,DISK], DatanodeInfoWithStorage[127.0.0.1:36051,DS-241b940c-aec0-4dbd-8025-ee52fc1505e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44693,DS-0bbe6d2c-3a63-4200-948c-856573f058ba,DISK], DatanodeInfoWithStorage[127.0.0.1:46607,DS-f22f89f3-70dd-4886-9ec1-ed51d0a7e139,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-268964903-172.17.0.4-1598646377992:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46607,DS-a3b035aa-c435-4b2a-bddd-365ff217486a,DISK], DatanodeInfoWithStorage[127.0.0.1:44693,DS-05d7947e-6aba-487a-977d-c6f59088ce3c,DISK], DatanodeInfoWithStorage[127.0.0.1:42708,DS-16677386-334d-4a7f-b737-7aef9c7753eb,DISK], DatanodeInfoWithStorage[127.0.0.1:45896,DS-90caf7d1-881e-499b-819a-52721289061c,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-268964903-172.17.0.4-1598646377992:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46607,DS-a3b035aa-c435-4b2a-bddd-365ff217486a,DISK], DatanodeInfoWithStorage[127.0.0.1:44693,DS-05d7947e-6aba-487a-977d-c6f59088ce3c,DISK], DatanodeInfoWithStorage[127.0.0.1:42708,DS-16677386-334d-4a7f-b737-7aef9c7753eb,DISK], DatanodeInfoWithStorage[127.0.0.1:45896,DS-90caf7d1-881e-499b-819a-52721289061c,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-268964903-172.17.0.4-1598646377992:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42708,DS-d5fe20ee-c211-4dd6-95b6-3912905b3fd3,DISK], DatanodeInfoWithStorage[127.0.0.1:33550,DS-0fa29c2a-1dbb-49d8-9a8f-de2c527c5dd4,DISK], DatanodeInfoWithStorage[127.0.0.1:34660,DS-5f6ed854-22df-4e34-9cb4-d7c332ee042f,DISK], DatanodeInfoWithStorage[127.0.0.1:45896,DS-e327bb67-6957-4235-b7db-463953a163e7,DISK], DatanodeInfoWithStorage[127.0.0.1:42846,DS-9b14a3a2-2f2d-426b-a7a4-4b083d8fddf4,DISK], DatanodeInfoWithStorage[127.0.0.1:41310,DS-ea1aba6e-c96b-4780-b5e9-6e9a151869ab,DISK], DatanodeInfoWithStorage[127.0.0.1:36051,DS-241b940c-aec0-4dbd-8025-ee52fc1505e9,DISK], DatanodeInfoWithStorage[127.0.0.1:44693,DS-0bbe6d2c-3a63-4200-948c-856573f058ba,DISK], DatanodeInfoWithStorage[127.0.0.1:46607,DS-f22f89f3-70dd-4886-9ec1-ed51d0a7e139,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-268964903-172.17.0.4-1598646377992:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46607,DS-a3b035aa-c435-4b2a-bddd-365ff217486a,DISK], DatanodeInfoWithStorage[127.0.0.1:44693,DS-05d7947e-6aba-487a-977d-c6f59088ce3c,DISK], DatanodeInfoWithStorage[127.0.0.1:42708,DS-16677386-334d-4a7f-b737-7aef9c7753eb,DISK], DatanodeInfoWithStorage[127.0.0.1:45896,DS-90caf7d1-881e-499b-819a-52721289061c,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-268964903-172.17.0.4-1598646377992:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46607,DS-a3b035aa-c435-4b2a-bddd-365ff217486a,DISK], DatanodeInfoWithStorage[127.0.0.1:44693,DS-05d7947e-6aba-487a-977d-c6f59088ce3c,DISK], DatanodeInfoWithStorage[127.0.0.1:42708,DS-16677386-334d-4a7f-b737-7aef9c7753eb,DISK], DatanodeInfoWithStorage[127.0.0.1:45896,DS-90caf7d1-881e-499b-819a-52721289061c,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1180013789-172.17.0.4-1598646480341:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41489,DS-7dd1ca55-a2c9-4ee2-b061-c9d6d7ca43ef,DISK], DatanodeInfoWithStorage[127.0.0.1:39137,DS-14dd28fa-f122-4b5d-9bbd-6c7abc0ad7fd,DISK], DatanodeInfoWithStorage[127.0.0.1:33704,DS-c68b2cb2-585f-41df-9dfb-6de0ffd83638,DISK], DatanodeInfoWithStorage[127.0.0.1:42610,DS-a8bcc952-1601-48f6-b124-ed422fed74b6,DISK], DatanodeInfoWithStorage[127.0.0.1:37580,DS-fe35cd18-f7ba-4ed8-856d-81378c3233f9,DISK], DatanodeInfoWithStorage[127.0.0.1:40705,DS-5d1bea83-1a55-4c6f-94b7-04876643f15f,DISK], DatanodeInfoWithStorage[127.0.0.1:34682,DS-fe3b24f4-92f5-40d4-afd0-5506a289ffcf,DISK], DatanodeInfoWithStorage[127.0.0.1:33779,DS-d7c8d2cf-55f1-493c-8c08-b9d3c7713457,DISK], DatanodeInfoWithStorage[127.0.0.1:39803,DS-4bfc68db-2f2b-462d-a6ff-9d9b0b1482ea,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1180013789-172.17.0.4-1598646480341:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41489,DS-b26183f8-bc8d-42e5-85f6-f07a6085976e,DISK], DatanodeInfoWithStorage[127.0.0.1:33779,DS-f9344a5c-5ba5-4b9a-839e-e3541b198322,DISK], DatanodeInfoWithStorage[127.0.0.1:39137,DS-87fad411-b596-4c8c-8489-bc54c15666a9,DISK], DatanodeInfoWithStorage[127.0.0.1:37580,DS-ea31a4b9-eeec-44ea-a77e-8e606a8dc723,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1180013789-172.17.0.4-1598646480341:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41489,DS-b26183f8-bc8d-42e5-85f6-f07a6085976e,DISK], DatanodeInfoWithStorage[127.0.0.1:33779,DS-f9344a5c-5ba5-4b9a-839e-e3541b198322,DISK], DatanodeInfoWithStorage[127.0.0.1:39137,DS-87fad411-b596-4c8c-8489-bc54c15666a9,DISK], DatanodeInfoWithStorage[127.0.0.1:37580,DS-ea31a4b9-eeec-44ea-a77e-8e606a8dc723,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1180013789-172.17.0.4-1598646480341:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41489,DS-7dd1ca55-a2c9-4ee2-b061-c9d6d7ca43ef,DISK], DatanodeInfoWithStorage[127.0.0.1:39137,DS-14dd28fa-f122-4b5d-9bbd-6c7abc0ad7fd,DISK], DatanodeInfoWithStorage[127.0.0.1:33704,DS-c68b2cb2-585f-41df-9dfb-6de0ffd83638,DISK], DatanodeInfoWithStorage[127.0.0.1:42610,DS-a8bcc952-1601-48f6-b124-ed422fed74b6,DISK], DatanodeInfoWithStorage[127.0.0.1:37580,DS-fe35cd18-f7ba-4ed8-856d-81378c3233f9,DISK], DatanodeInfoWithStorage[127.0.0.1:40705,DS-5d1bea83-1a55-4c6f-94b7-04876643f15f,DISK], DatanodeInfoWithStorage[127.0.0.1:34682,DS-fe3b24f4-92f5-40d4-afd0-5506a289ffcf,DISK], DatanodeInfoWithStorage[127.0.0.1:33779,DS-d7c8d2cf-55f1-493c-8c08-b9d3c7713457,DISK], DatanodeInfoWithStorage[127.0.0.1:39803,DS-4bfc68db-2f2b-462d-a6ff-9d9b0b1482ea,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1180013789-172.17.0.4-1598646480341:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41489,DS-b26183f8-bc8d-42e5-85f6-f07a6085976e,DISK], DatanodeInfoWithStorage[127.0.0.1:33779,DS-f9344a5c-5ba5-4b9a-839e-e3541b198322,DISK], DatanodeInfoWithStorage[127.0.0.1:39137,DS-87fad411-b596-4c8c-8489-bc54c15666a9,DISK], DatanodeInfoWithStorage[127.0.0.1:37580,DS-ea31a4b9-eeec-44ea-a77e-8e606a8dc723,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1180013789-172.17.0.4-1598646480341:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41489,DS-b26183f8-bc8d-42e5-85f6-f07a6085976e,DISK], DatanodeInfoWithStorage[127.0.0.1:33779,DS-f9344a5c-5ba5-4b9a-839e-e3541b198322,DISK], DatanodeInfoWithStorage[127.0.0.1:39137,DS-87fad411-b596-4c8c-8489-bc54c15666a9,DISK], DatanodeInfoWithStorage[127.0.0.1:37580,DS-ea31a4b9-eeec-44ea-a77e-8e606a8dc723,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-950753593-172.17.0.4-1598646518710:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43795,DS-c979d2f0-8322-4aee-ab0f-605eed4108ee,DISK], DatanodeInfoWithStorage[127.0.0.1:41508,DS-4306b11b-072e-431f-93c1-a5a86ed2dca8,DISK], DatanodeInfoWithStorage[127.0.0.1:44354,DS-523e5aa5-8b46-496a-a9ca-2684f7d4a330,DISK], DatanodeInfoWithStorage[127.0.0.1:45083,DS-836c43b8-2b5a-43aa-8b80-f8b7863add1b,DISK], DatanodeInfoWithStorage[127.0.0.1:35798,DS-1de7780e-8de5-4d16-a4e8-e3e1a867737f,DISK], DatanodeInfoWithStorage[127.0.0.1:45204,DS-3b6266ac-7f0d-40d7-90d3-10be9e9e5d5d,DISK], DatanodeInfoWithStorage[127.0.0.1:36144,DS-02585f34-764f-4590-a78d-ff1db96bbad8,DISK], DatanodeInfoWithStorage[127.0.0.1:45418,DS-b4922c93-0202-4e9d-8366-be119deb2b1a,DISK], DatanodeInfoWithStorage[127.0.0.1:43331,DS-77550197-1cdf-461a-b4f1-2095efc56aaf,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-950753593-172.17.0.4-1598646518710:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41508,DS-ca9b1a1f-2c7e-443d-aa7a-6f1bc085aa47,DISK], DatanodeInfoWithStorage[127.0.0.1:43331,DS-f9e0db56-1d21-468f-9df1-e1733405fe10,DISK], DatanodeInfoWithStorage[127.0.0.1:36144,DS-42687a33-d118-4928-a624-61e2bdca4ad2,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-950753593-172.17.0.4-1598646518710:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41508,DS-ca9b1a1f-2c7e-443d-aa7a-6f1bc085aa47,DISK], DatanodeInfoWithStorage[127.0.0.1:44354,DS-65557e77-6f02-49f0-88c0-195b13d938cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43331,DS-f9e0db56-1d21-468f-9df1-e1733405fe10,DISK], DatanodeInfoWithStorage[127.0.0.1:36144,DS-42687a33-d118-4928-a624-61e2bdca4ad2,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-950753593-172.17.0.4-1598646518710:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43795,DS-c979d2f0-8322-4aee-ab0f-605eed4108ee,DISK], DatanodeInfoWithStorage[127.0.0.1:41508,DS-4306b11b-072e-431f-93c1-a5a86ed2dca8,DISK], DatanodeInfoWithStorage[127.0.0.1:44354,DS-523e5aa5-8b46-496a-a9ca-2684f7d4a330,DISK], DatanodeInfoWithStorage[127.0.0.1:45083,DS-836c43b8-2b5a-43aa-8b80-f8b7863add1b,DISK], DatanodeInfoWithStorage[127.0.0.1:35798,DS-1de7780e-8de5-4d16-a4e8-e3e1a867737f,DISK], DatanodeInfoWithStorage[127.0.0.1:45204,DS-3b6266ac-7f0d-40d7-90d3-10be9e9e5d5d,DISK], DatanodeInfoWithStorage[127.0.0.1:36144,DS-02585f34-764f-4590-a78d-ff1db96bbad8,DISK], DatanodeInfoWithStorage[127.0.0.1:45418,DS-b4922c93-0202-4e9d-8366-be119deb2b1a,DISK], DatanodeInfoWithStorage[127.0.0.1:43331,DS-77550197-1cdf-461a-b4f1-2095efc56aaf,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-950753593-172.17.0.4-1598646518710:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41508,DS-ca9b1a1f-2c7e-443d-aa7a-6f1bc085aa47,DISK], DatanodeInfoWithStorage[127.0.0.1:43331,DS-f9e0db56-1d21-468f-9df1-e1733405fe10,DISK], DatanodeInfoWithStorage[127.0.0.1:36144,DS-42687a33-d118-4928-a624-61e2bdca4ad2,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-950753593-172.17.0.4-1598646518710:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41508,DS-ca9b1a1f-2c7e-443d-aa7a-6f1bc085aa47,DISK], DatanodeInfoWithStorage[127.0.0.1:44354,DS-65557e77-6f02-49f0-88c0-195b13d938cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43331,DS-f9e0db56-1d21-468f-9df1-e1733405fe10,DISK], DatanodeInfoWithStorage[127.0.0.1:36144,DS-42687a33-d118-4928-a624-61e2bdca4ad2,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1434773430-172.17.0.4-1598646619215:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38791,DS-472dfe19-55a5-4873-84de-53c09bf168e9,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-a32290e2-6000-416b-87c7-9614f7b57b21,DISK], DatanodeInfoWithStorage[127.0.0.1:46605,DS-fa7606e4-2592-4116-bae6-c75d587f75de,DISK], DatanodeInfoWithStorage[127.0.0.1:34005,DS-ab1dae0a-952b-4a1a-8ae4-36c56b28ba14,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-ea8abdff-220f-4244-8943-dce2f5cfead5,DISK], DatanodeInfoWithStorage[127.0.0.1:45509,DS-c788332f-739d-4fcb-bd22-b2f3aa1700d6,DISK], DatanodeInfoWithStorage[127.0.0.1:42931,DS-a982ae1f-3500-4eb7-a784-d1064dcfa626,DISK], DatanodeInfoWithStorage[127.0.0.1:43275,DS-25d8cfe2-11d3-490d-8750-c0062b2d2311,DISK], DatanodeInfoWithStorage[127.0.0.1:41637,DS-c5033f6e-1878-4730-bc56-cf9c419b74fb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1434773430-172.17.0.4-1598646619215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43275,DS-9c97bee8-44ed-4635-98c1-3f3b0ddc2dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:45509,DS-91daaedc-acb7-4853-95f3-72215f940ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:41637,DS-42ebcfb0-f237-42b3-a138-0cde7bc03d48,DISK], DatanodeInfoWithStorage[127.0.0.1:34005,DS-6e5a9309-282f-40a1-9409-27711ba89f3f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1434773430-172.17.0.4-1598646619215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43275,DS-9c97bee8-44ed-4635-98c1-3f3b0ddc2dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:45509,DS-91daaedc-acb7-4853-95f3-72215f940ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:41637,DS-42ebcfb0-f237-42b3-a138-0cde7bc03d48,DISK], DatanodeInfoWithStorage[127.0.0.1:34005,DS-6e5a9309-282f-40a1-9409-27711ba89f3f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1434773430-172.17.0.4-1598646619215:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38791,DS-472dfe19-55a5-4873-84de-53c09bf168e9,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-a32290e2-6000-416b-87c7-9614f7b57b21,DISK], DatanodeInfoWithStorage[127.0.0.1:46605,DS-fa7606e4-2592-4116-bae6-c75d587f75de,DISK], DatanodeInfoWithStorage[127.0.0.1:34005,DS-ab1dae0a-952b-4a1a-8ae4-36c56b28ba14,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-ea8abdff-220f-4244-8943-dce2f5cfead5,DISK], DatanodeInfoWithStorage[127.0.0.1:45509,DS-c788332f-739d-4fcb-bd22-b2f3aa1700d6,DISK], DatanodeInfoWithStorage[127.0.0.1:42931,DS-a982ae1f-3500-4eb7-a784-d1064dcfa626,DISK], DatanodeInfoWithStorage[127.0.0.1:43275,DS-25d8cfe2-11d3-490d-8750-c0062b2d2311,DISK], DatanodeInfoWithStorage[127.0.0.1:41637,DS-c5033f6e-1878-4730-bc56-cf9c419b74fb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1434773430-172.17.0.4-1598646619215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43275,DS-9c97bee8-44ed-4635-98c1-3f3b0ddc2dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:45509,DS-91daaedc-acb7-4853-95f3-72215f940ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:41637,DS-42ebcfb0-f237-42b3-a138-0cde7bc03d48,DISK], DatanodeInfoWithStorage[127.0.0.1:34005,DS-6e5a9309-282f-40a1-9409-27711ba89f3f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1434773430-172.17.0.4-1598646619215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43275,DS-9c97bee8-44ed-4635-98c1-3f3b0ddc2dc6,DISK], DatanodeInfoWithStorage[127.0.0.1:45509,DS-91daaedc-acb7-4853-95f3-72215f940ed9,DISK], DatanodeInfoWithStorage[127.0.0.1:41637,DS-42ebcfb0-f237-42b3-a138-0cde7bc03d48,DISK], DatanodeInfoWithStorage[127.0.0.1:34005,DS-6e5a9309-282f-40a1-9409-27711ba89f3f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1912070295-172.17.0.4-1598646653006:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38214,DS-b3607c93-ce5a-4dec-8c3f-414f545f23fb,DISK], DatanodeInfoWithStorage[127.0.0.1:40826,DS-05bf1b42-6cdf-42d1-a79d-56ac9cbe930a,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-82d8db58-266f-412d-befa-abf8b8d62dc2,DISK], DatanodeInfoWithStorage[127.0.0.1:46260,DS-2d4b351f-3fa1-479e-b662-481155318dec,DISK], DatanodeInfoWithStorage[127.0.0.1:40605,DS-54d46fe1-b665-4471-a9bd-211f88335661,DISK], DatanodeInfoWithStorage[127.0.0.1:39171,DS-55bd4f57-9172-403a-aebc-87b0626eb895,DISK], DatanodeInfoWithStorage[127.0.0.1:40152,DS-da0a1004-5f33-4af3-a245-9feba5ceeab6,DISK], DatanodeInfoWithStorage[127.0.0.1:34932,DS-a78b018b-066b-41b5-ac95-156abdecf97e,DISK], DatanodeInfoWithStorage[127.0.0.1:44590,DS-c4cfb67b-f256-4151-80b0-8dbba5433c11,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1912070295-172.17.0.4-1598646653006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46260,DS-02c76bc0-fd80-408d-8384-da6c770fa28e,DISK], DatanodeInfoWithStorage[127.0.0.1:40605,DS-efb1d1ca-4e9f-4c86-a1ca-b2243c5840b5,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-16372ffa-1aa9-4dbd-b26e-a9516d130016,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1912070295-172.17.0.4-1598646653006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46260,DS-02c76bc0-fd80-408d-8384-da6c770fa28e,DISK], DatanodeInfoWithStorage[127.0.0.1:40152,DS-3e713119-48e2-4716-9a57-bc15fa24d673,DISK], DatanodeInfoWithStorage[127.0.0.1:40605,DS-efb1d1ca-4e9f-4c86-a1ca-b2243c5840b5,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-16372ffa-1aa9-4dbd-b26e-a9516d130016,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1912070295-172.17.0.4-1598646653006:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38214,DS-b3607c93-ce5a-4dec-8c3f-414f545f23fb,DISK], DatanodeInfoWithStorage[127.0.0.1:40826,DS-05bf1b42-6cdf-42d1-a79d-56ac9cbe930a,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-82d8db58-266f-412d-befa-abf8b8d62dc2,DISK], DatanodeInfoWithStorage[127.0.0.1:46260,DS-2d4b351f-3fa1-479e-b662-481155318dec,DISK], DatanodeInfoWithStorage[127.0.0.1:40605,DS-54d46fe1-b665-4471-a9bd-211f88335661,DISK], DatanodeInfoWithStorage[127.0.0.1:39171,DS-55bd4f57-9172-403a-aebc-87b0626eb895,DISK], DatanodeInfoWithStorage[127.0.0.1:40152,DS-da0a1004-5f33-4af3-a245-9feba5ceeab6,DISK], DatanodeInfoWithStorage[127.0.0.1:34932,DS-a78b018b-066b-41b5-ac95-156abdecf97e,DISK], DatanodeInfoWithStorage[127.0.0.1:44590,DS-c4cfb67b-f256-4151-80b0-8dbba5433c11,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1912070295-172.17.0.4-1598646653006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46260,DS-02c76bc0-fd80-408d-8384-da6c770fa28e,DISK], DatanodeInfoWithStorage[127.0.0.1:40605,DS-efb1d1ca-4e9f-4c86-a1ca-b2243c5840b5,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-16372ffa-1aa9-4dbd-b26e-a9516d130016,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1912070295-172.17.0.4-1598646653006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46260,DS-02c76bc0-fd80-408d-8384-da6c770fa28e,DISK], DatanodeInfoWithStorage[127.0.0.1:40152,DS-3e713119-48e2-4716-9a57-bc15fa24d673,DISK], DatanodeInfoWithStorage[127.0.0.1:40605,DS-efb1d1ca-4e9f-4c86-a1ca-b2243c5840b5,DISK], DatanodeInfoWithStorage[127.0.0.1:32850,DS-16372ffa-1aa9-4dbd-b26e-a9516d130016,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1807525779-172.17.0.4-1598646763217:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46028,DS-5662df50-a73b-48da-be39-31a622f1a426,DISK], DatanodeInfoWithStorage[127.0.0.1:46391,DS-19a5160c-fad4-4096-a5f4-c7d42e6024bb,DISK], DatanodeInfoWithStorage[127.0.0.1:43777,DS-119632f5-bccd-4202-bc8e-a74077384ca2,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-b835f242-d02b-4834-a1c3-9f50b6f49b29,DISK], DatanodeInfoWithStorage[127.0.0.1:34498,DS-4ee29a3b-4744-47b4-ac21-3ef407bd5c55,DISK], DatanodeInfoWithStorage[127.0.0.1:37416,DS-58eddf9a-9a0f-48b3-bf1e-1397f66885f5,DISK], DatanodeInfoWithStorage[127.0.0.1:45857,DS-c0f5c2a4-28d2-4779-bca5-8b94f1a40fc7,DISK], DatanodeInfoWithStorage[127.0.0.1:44235,DS-2f30c7f4-e540-4e1b-aa84-ab7f270a61ce,DISK], DatanodeInfoWithStorage[127.0.0.1:38886,DS-6a562925-12b4-4784-ace3-8ea6088690b8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1807525779-172.17.0.4-1598646763217:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34498,DS-7e53c069-38b8-436b-85f2-9e6550e2b96f,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-0e485469-3455-49c9-b77e-edc3dc013e79,DISK], DatanodeInfoWithStorage[127.0.0.1:43777,DS-5a1c7534-878d-4b0d-9d79-93f711dd8588,DISK], DatanodeInfoWithStorage[127.0.0.1:37416,DS-88ff5092-9ff6-4281-908b-614c861420a7,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1807525779-172.17.0.4-1598646763217:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34498,DS-7e53c069-38b8-436b-85f2-9e6550e2b96f,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-0e485469-3455-49c9-b77e-edc3dc013e79,DISK], DatanodeInfoWithStorage[127.0.0.1:43777,DS-5a1c7534-878d-4b0d-9d79-93f711dd8588,DISK], DatanodeInfoWithStorage[127.0.0.1:37416,DS-88ff5092-9ff6-4281-908b-614c861420a7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1807525779-172.17.0.4-1598646763217:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46028,DS-5662df50-a73b-48da-be39-31a622f1a426,DISK], DatanodeInfoWithStorage[127.0.0.1:46391,DS-19a5160c-fad4-4096-a5f4-c7d42e6024bb,DISK], DatanodeInfoWithStorage[127.0.0.1:43777,DS-119632f5-bccd-4202-bc8e-a74077384ca2,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-b835f242-d02b-4834-a1c3-9f50b6f49b29,DISK], DatanodeInfoWithStorage[127.0.0.1:34498,DS-4ee29a3b-4744-47b4-ac21-3ef407bd5c55,DISK], DatanodeInfoWithStorage[127.0.0.1:37416,DS-58eddf9a-9a0f-48b3-bf1e-1397f66885f5,DISK], DatanodeInfoWithStorage[127.0.0.1:45857,DS-c0f5c2a4-28d2-4779-bca5-8b94f1a40fc7,DISK], DatanodeInfoWithStorage[127.0.0.1:44235,DS-2f30c7f4-e540-4e1b-aa84-ab7f270a61ce,DISK], DatanodeInfoWithStorage[127.0.0.1:38886,DS-6a562925-12b4-4784-ace3-8ea6088690b8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1807525779-172.17.0.4-1598646763217:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34498,DS-7e53c069-38b8-436b-85f2-9e6550e2b96f,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-0e485469-3455-49c9-b77e-edc3dc013e79,DISK], DatanodeInfoWithStorage[127.0.0.1:43777,DS-5a1c7534-878d-4b0d-9d79-93f711dd8588,DISK], DatanodeInfoWithStorage[127.0.0.1:37416,DS-88ff5092-9ff6-4281-908b-614c861420a7,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1807525779-172.17.0.4-1598646763217:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34498,DS-7e53c069-38b8-436b-85f2-9e6550e2b96f,DISK], DatanodeInfoWithStorage[127.0.0.1:44039,DS-0e485469-3455-49c9-b77e-edc3dc013e79,DISK], DatanodeInfoWithStorage[127.0.0.1:43777,DS-5a1c7534-878d-4b0d-9d79-93f711dd8588,DISK], DatanodeInfoWithStorage[127.0.0.1:37416,DS-88ff5092-9ff6-4281-908b-614c861420a7,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-569352129-172.17.0.4-1598647200210:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34336,DS-8412ec3e-4cfc-4e0d-ac4d-14648faa6c8b,DISK], DatanodeInfoWithStorage[127.0.0.1:32965,DS-ec0ed66e-8187-4352-8d13-74bf31d884db,DISK], DatanodeInfoWithStorage[127.0.0.1:45765,DS-4bf608c4-2e05-4fc4-bbf7-66adfa23d8b5,DISK], DatanodeInfoWithStorage[127.0.0.1:36664,DS-9e8990d0-c11f-45a9-b37a-f5cf4b64ac71,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-aece5374-0ff7-426f-a69a-e631c322444b,DISK], DatanodeInfoWithStorage[127.0.0.1:33618,DS-d5158ed9-bf34-455d-a743-5cbdefc814cb,DISK], DatanodeInfoWithStorage[127.0.0.1:42331,DS-8a9f5701-a92e-4131-b325-32416130bca8,DISK], DatanodeInfoWithStorage[127.0.0.1:37422,DS-7982beb7-e07c-414b-8c0f-e4308d276d6b,DISK], DatanodeInfoWithStorage[127.0.0.1:43576,DS-5246a349-b4bc-41fd-ae6d-5d517b9717a5,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-569352129-172.17.0.4-1598647200210:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43576,DS-e8d7303c-c9ff-4fe3-b0fa-ed255148d5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45765,DS-78ce0785-5161-4653-9c8d-2cd2b6328cad,DISK], DatanodeInfoWithStorage[127.0.0.1:34336,DS-8a969d96-2d6d-41b1-8019-73a762bf2c9b,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-9bbc97e1-2968-4de3-b7ae-3d66561c5130,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-569352129-172.17.0.4-1598647200210:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43576,DS-e8d7303c-c9ff-4fe3-b0fa-ed255148d5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45765,DS-78ce0785-5161-4653-9c8d-2cd2b6328cad,DISK], DatanodeInfoWithStorage[127.0.0.1:34336,DS-8a969d96-2d6d-41b1-8019-73a762bf2c9b,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-9bbc97e1-2968-4de3-b7ae-3d66561c5130,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-569352129-172.17.0.4-1598647200210:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34336,DS-8412ec3e-4cfc-4e0d-ac4d-14648faa6c8b,DISK], DatanodeInfoWithStorage[127.0.0.1:32965,DS-ec0ed66e-8187-4352-8d13-74bf31d884db,DISK], DatanodeInfoWithStorage[127.0.0.1:45765,DS-4bf608c4-2e05-4fc4-bbf7-66adfa23d8b5,DISK], DatanodeInfoWithStorage[127.0.0.1:36664,DS-9e8990d0-c11f-45a9-b37a-f5cf4b64ac71,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-aece5374-0ff7-426f-a69a-e631c322444b,DISK], DatanodeInfoWithStorage[127.0.0.1:33618,DS-d5158ed9-bf34-455d-a743-5cbdefc814cb,DISK], DatanodeInfoWithStorage[127.0.0.1:42331,DS-8a9f5701-a92e-4131-b325-32416130bca8,DISK], DatanodeInfoWithStorage[127.0.0.1:37422,DS-7982beb7-e07c-414b-8c0f-e4308d276d6b,DISK], DatanodeInfoWithStorage[127.0.0.1:43576,DS-5246a349-b4bc-41fd-ae6d-5d517b9717a5,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-569352129-172.17.0.4-1598647200210:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43576,DS-e8d7303c-c9ff-4fe3-b0fa-ed255148d5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45765,DS-78ce0785-5161-4653-9c8d-2cd2b6328cad,DISK], DatanodeInfoWithStorage[127.0.0.1:34336,DS-8a969d96-2d6d-41b1-8019-73a762bf2c9b,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-9bbc97e1-2968-4de3-b7ae-3d66561c5130,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-569352129-172.17.0.4-1598647200210:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43576,DS-e8d7303c-c9ff-4fe3-b0fa-ed255148d5e8,DISK], DatanodeInfoWithStorage[127.0.0.1:45765,DS-78ce0785-5161-4653-9c8d-2cd2b6328cad,DISK], DatanodeInfoWithStorage[127.0.0.1:34336,DS-8a969d96-2d6d-41b1-8019-73a762bf2c9b,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-9bbc97e1-2968-4de3-b7ae-3d66561c5130,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2079909561-172.17.0.4-1598647298154:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43384,DS-a57c3644-e20c-4a69-8cb8-f932b94e5cc1,DISK], DatanodeInfoWithStorage[127.0.0.1:33620,DS-3b991f5c-17aa-4a4c-a156-6b4c548fd9b7,DISK], DatanodeInfoWithStorage[127.0.0.1:43014,DS-ea87ec1b-258a-4e8c-a9ba-c8d7160e9cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:35327,DS-a34f8f06-8f2b-419a-a36b-fdb80a5529d4,DISK], DatanodeInfoWithStorage[127.0.0.1:34949,DS-76a36558-63e4-45db-bdde-c93932e178d7,DISK], DatanodeInfoWithStorage[127.0.0.1:43329,DS-7d5e5933-0952-43f1-804e-b9a972a38514,DISK], DatanodeInfoWithStorage[127.0.0.1:41124,DS-98ceca30-a4b8-4c5e-b745-06d9de3d55d8,DISK], DatanodeInfoWithStorage[127.0.0.1:36414,DS-5fe8622a-469d-4d5e-817e-c84e04dc4ff2,DISK], DatanodeInfoWithStorage[127.0.0.1:40581,DS-6287e9f3-7751-45b6-a31b-502f8a079b20,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2079909561-172.17.0.4-1598647298154:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34949,DS-09e729b2-7c04-4b81-bfe2-ed8dde8a1fec,DISK], DatanodeInfoWithStorage[127.0.0.1:33620,DS-b184cb40-0956-48b5-bcad-47d0df784baa,DISK], DatanodeInfoWithStorage[127.0.0.1:43384,DS-40b66a4b-9e36-46cb-b812-555ab6df57b9,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2079909561-172.17.0.4-1598647298154:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43329,DS-8e4f70a8-21d9-43a2-bbce-818ac98f94cd,DISK], DatanodeInfoWithStorage[127.0.0.1:34949,DS-09e729b2-7c04-4b81-bfe2-ed8dde8a1fec,DISK], DatanodeInfoWithStorage[127.0.0.1:33620,DS-b184cb40-0956-48b5-bcad-47d0df784baa,DISK], DatanodeInfoWithStorage[127.0.0.1:43384,DS-40b66a4b-9e36-46cb-b812-555ab6df57b9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2079909561-172.17.0.4-1598647298154:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43384,DS-a57c3644-e20c-4a69-8cb8-f932b94e5cc1,DISK], DatanodeInfoWithStorage[127.0.0.1:33620,DS-3b991f5c-17aa-4a4c-a156-6b4c548fd9b7,DISK], DatanodeInfoWithStorage[127.0.0.1:43014,DS-ea87ec1b-258a-4e8c-a9ba-c8d7160e9cdc,DISK], DatanodeInfoWithStorage[127.0.0.1:35327,DS-a34f8f06-8f2b-419a-a36b-fdb80a5529d4,DISK], DatanodeInfoWithStorage[127.0.0.1:34949,DS-76a36558-63e4-45db-bdde-c93932e178d7,DISK], DatanodeInfoWithStorage[127.0.0.1:43329,DS-7d5e5933-0952-43f1-804e-b9a972a38514,DISK], DatanodeInfoWithStorage[127.0.0.1:41124,DS-98ceca30-a4b8-4c5e-b745-06d9de3d55d8,DISK], DatanodeInfoWithStorage[127.0.0.1:36414,DS-5fe8622a-469d-4d5e-817e-c84e04dc4ff2,DISK], DatanodeInfoWithStorage[127.0.0.1:40581,DS-6287e9f3-7751-45b6-a31b-502f8a079b20,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2079909561-172.17.0.4-1598647298154:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34949,DS-09e729b2-7c04-4b81-bfe2-ed8dde8a1fec,DISK], DatanodeInfoWithStorage[127.0.0.1:33620,DS-b184cb40-0956-48b5-bcad-47d0df784baa,DISK], DatanodeInfoWithStorage[127.0.0.1:43384,DS-40b66a4b-9e36-46cb-b812-555ab6df57b9,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2079909561-172.17.0.4-1598647298154:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:43329,DS-8e4f70a8-21d9-43a2-bbce-818ac98f94cd,DISK], DatanodeInfoWithStorage[127.0.0.1:34949,DS-09e729b2-7c04-4b81-bfe2-ed8dde8a1fec,DISK], DatanodeInfoWithStorage[127.0.0.1:33620,DS-b184cb40-0956-48b5-bcad-47d0df784baa,DISK], DatanodeInfoWithStorage[127.0.0.1:43384,DS-40b66a4b-9e36-46cb-b812-555ab6df57b9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1667533866-172.17.0.4-1598647330349:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42413,DS-8e944fd2-cc10-4ff8-ac5c-02984dac5d43,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-cda90b73-6bd7-413c-8212-1a1931f79e1e,DISK], DatanodeInfoWithStorage[127.0.0.1:43515,DS-1b303074-7b2d-4cbc-a3f0-91195989388f,DISK], DatanodeInfoWithStorage[127.0.0.1:37395,DS-141f6c8e-adfc-4f7d-a6b0-09a22c5cf749,DISK], DatanodeInfoWithStorage[127.0.0.1:37621,DS-59130fd2-6c72-4d94-be85-3dab70a65ca0,DISK], DatanodeInfoWithStorage[127.0.0.1:34363,DS-10f2f529-739c-48ac-9af2-908ebc65f612,DISK], DatanodeInfoWithStorage[127.0.0.1:32950,DS-a6746479-9090-4f1a-a477-c04e5f738024,DISK], DatanodeInfoWithStorage[127.0.0.1:36830,DS-866f16ac-65c1-4411-8846-e30dea364c59,DISK], DatanodeInfoWithStorage[127.0.0.1:46535,DS-00ea7305-2d94-4686-b3ae-478dcabbc2d6,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1667533866-172.17.0.4-1598647330349:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34857,DS-f4bc135d-a502-4806-ab6f-737767be56ce,DISK], DatanodeInfoWithStorage[127.0.0.1:46535,DS-183775f0-d206-42b4-9d96-8192b6859e14,DISK], DatanodeInfoWithStorage[127.0.0.1:32950,DS-a8350eaa-c8e4-4cbc-9f14-e4830a5d55ac,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1667533866-172.17.0.4-1598647330349:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37395,DS-d3a97663-7911-46a0-b745-808ede499380,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-f4bc135d-a502-4806-ab6f-737767be56ce,DISK], DatanodeInfoWithStorage[127.0.0.1:46535,DS-183775f0-d206-42b4-9d96-8192b6859e14,DISK], DatanodeInfoWithStorage[127.0.0.1:32950,DS-a8350eaa-c8e4-4cbc-9f14-e4830a5d55ac,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1667533866-172.17.0.4-1598647330349:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42413,DS-8e944fd2-cc10-4ff8-ac5c-02984dac5d43,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-cda90b73-6bd7-413c-8212-1a1931f79e1e,DISK], DatanodeInfoWithStorage[127.0.0.1:43515,DS-1b303074-7b2d-4cbc-a3f0-91195989388f,DISK], DatanodeInfoWithStorage[127.0.0.1:37395,DS-141f6c8e-adfc-4f7d-a6b0-09a22c5cf749,DISK], DatanodeInfoWithStorage[127.0.0.1:37621,DS-59130fd2-6c72-4d94-be85-3dab70a65ca0,DISK], DatanodeInfoWithStorage[127.0.0.1:34363,DS-10f2f529-739c-48ac-9af2-908ebc65f612,DISK], DatanodeInfoWithStorage[127.0.0.1:32950,DS-a6746479-9090-4f1a-a477-c04e5f738024,DISK], DatanodeInfoWithStorage[127.0.0.1:36830,DS-866f16ac-65c1-4411-8846-e30dea364c59,DISK], DatanodeInfoWithStorage[127.0.0.1:46535,DS-00ea7305-2d94-4686-b3ae-478dcabbc2d6,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1667533866-172.17.0.4-1598647330349:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34857,DS-f4bc135d-a502-4806-ab6f-737767be56ce,DISK], DatanodeInfoWithStorage[127.0.0.1:46535,DS-183775f0-d206-42b4-9d96-8192b6859e14,DISK], DatanodeInfoWithStorage[127.0.0.1:32950,DS-a8350eaa-c8e4-4cbc-9f14-e4830a5d55ac,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1667533866-172.17.0.4-1598647330349:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37395,DS-d3a97663-7911-46a0-b745-808ede499380,DISK], DatanodeInfoWithStorage[127.0.0.1:34857,DS-f4bc135d-a502-4806-ab6f-737767be56ce,DISK], DatanodeInfoWithStorage[127.0.0.1:46535,DS-183775f0-d206-42b4-9d96-8192b6859e14,DISK], DatanodeInfoWithStorage[127.0.0.1:32950,DS-a8350eaa-c8e4-4cbc-9f14-e4830a5d55ac,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1260626870-172.17.0.4-1598647437778:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35274,DS-ff7fa6dd-c4b9-4245-bbe0-eb8ba0e22c3a,DISK], DatanodeInfoWithStorage[127.0.0.1:39801,DS-3935104e-b36e-432c-8e5d-b941235fde80,DISK], DatanodeInfoWithStorage[127.0.0.1:44446,DS-bb69e4af-c810-4022-a41b-e9d8595529fa,DISK], DatanodeInfoWithStorage[127.0.0.1:40001,DS-7104887c-6064-4526-a7ef-92013240f927,DISK], DatanodeInfoWithStorage[127.0.0.1:35175,DS-4cf55380-3401-4598-adca-63e0435f2860,DISK], DatanodeInfoWithStorage[127.0.0.1:37917,DS-e0c3f5a3-a11e-43df-90e2-e9654e5aab7f,DISK], DatanodeInfoWithStorage[127.0.0.1:44022,DS-5ddc8f06-3bc0-4296-8702-d81ddfa4e59f,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-61994788-5ced-4fde-ac9c-b801d67d7933,DISK], DatanodeInfoWithStorage[127.0.0.1:39331,DS-439f5fc6-69c9-48e9-bdea-ad7d9c693769,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1260626870-172.17.0.4-1598647437778:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39331,DS-60db49c8-f2e5-496d-bc86-0d731ed2b489,DISK], DatanodeInfoWithStorage[127.0.0.1:40001,DS-b3a24031-29d4-4e72-b407-ca4b6e784d84,DISK], DatanodeInfoWithStorage[127.0.0.1:44022,DS-5ca1a15c-1401-4669-99c8-479a30f2b235,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1260626870-172.17.0.4-1598647437778:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39331,DS-60db49c8-f2e5-496d-bc86-0d731ed2b489,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-7bd8e95d-632e-4a33-9ea0-b847afa10e6a,DISK], DatanodeInfoWithStorage[127.0.0.1:40001,DS-b3a24031-29d4-4e72-b407-ca4b6e784d84,DISK], DatanodeInfoWithStorage[127.0.0.1:44022,DS-5ca1a15c-1401-4669-99c8-479a30f2b235,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1260626870-172.17.0.4-1598647437778:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35274,DS-ff7fa6dd-c4b9-4245-bbe0-eb8ba0e22c3a,DISK], DatanodeInfoWithStorage[127.0.0.1:39801,DS-3935104e-b36e-432c-8e5d-b941235fde80,DISK], DatanodeInfoWithStorage[127.0.0.1:44446,DS-bb69e4af-c810-4022-a41b-e9d8595529fa,DISK], DatanodeInfoWithStorage[127.0.0.1:40001,DS-7104887c-6064-4526-a7ef-92013240f927,DISK], DatanodeInfoWithStorage[127.0.0.1:35175,DS-4cf55380-3401-4598-adca-63e0435f2860,DISK], DatanodeInfoWithStorage[127.0.0.1:37917,DS-e0c3f5a3-a11e-43df-90e2-e9654e5aab7f,DISK], DatanodeInfoWithStorage[127.0.0.1:44022,DS-5ddc8f06-3bc0-4296-8702-d81ddfa4e59f,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-61994788-5ced-4fde-ac9c-b801d67d7933,DISK], DatanodeInfoWithStorage[127.0.0.1:39331,DS-439f5fc6-69c9-48e9-bdea-ad7d9c693769,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1260626870-172.17.0.4-1598647437778:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39331,DS-60db49c8-f2e5-496d-bc86-0d731ed2b489,DISK], DatanodeInfoWithStorage[127.0.0.1:40001,DS-b3a24031-29d4-4e72-b407-ca4b6e784d84,DISK], DatanodeInfoWithStorage[127.0.0.1:44022,DS-5ca1a15c-1401-4669-99c8-479a30f2b235,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1260626870-172.17.0.4-1598647437778:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39331,DS-60db49c8-f2e5-496d-bc86-0d731ed2b489,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-7bd8e95d-632e-4a33-9ea0-b847afa10e6a,DISK], DatanodeInfoWithStorage[127.0.0.1:40001,DS-b3a24031-29d4-4e72-b407-ca4b6e784d84,DISK], DatanodeInfoWithStorage[127.0.0.1:44022,DS-5ca1a15c-1401-4669-99c8-479a30f2b235,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-696823618-172.17.0.4-1598647480292:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34761,DS-61d3704a-963a-48ae-b1b6-b25b5d061a7f,DISK], DatanodeInfoWithStorage[127.0.0.1:33327,DS-01113975-bbc0-45ba-be0f-6d2ca477df0b,DISK], DatanodeInfoWithStorage[127.0.0.1:46003,DS-06a0c07f-c535-429f-9b13-291384a6b6a2,DISK], DatanodeInfoWithStorage[127.0.0.1:35070,DS-f017342f-365a-4f64-981c-0daadf88ed82,DISK], DatanodeInfoWithStorage[127.0.0.1:45115,DS-8dc0b099-d3f7-4001-b4ee-383e96424bf1,DISK], DatanodeInfoWithStorage[127.0.0.1:43636,DS-96f6be5b-4812-4ca6-84e6-add8510567a0,DISK], DatanodeInfoWithStorage[127.0.0.1:34870,DS-2b7055e4-3044-4dd5-b1ac-437f1f1bc6c8,DISK], DatanodeInfoWithStorage[127.0.0.1:46265,DS-dd5bd411-53bc-4397-b5db-efd845a63242,DISK], DatanodeInfoWithStorage[127.0.0.1:36238,DS-a8d0ca2b-f91c-4de6-99f2-bfafd4fc80e3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-696823618-172.17.0.4-1598647480292:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34870,DS-7750685b-33d5-456e-8f49-173f1e36af15,DISK], DatanodeInfoWithStorage[127.0.0.1:33327,DS-699c000c-4447-4349-b24f-98d669f4e8d9,DISK], DatanodeInfoWithStorage[127.0.0.1:35070,DS-14ab7b87-445f-429b-b225-86e9e92eb013,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-696823618-172.17.0.4-1598647480292:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45115,DS-d9c64d4c-8f66-41fa-aa7f-ecbbb6798bcd,DISK], DatanodeInfoWithStorage[127.0.0.1:34870,DS-7750685b-33d5-456e-8f49-173f1e36af15,DISK], DatanodeInfoWithStorage[127.0.0.1:33327,DS-699c000c-4447-4349-b24f-98d669f4e8d9,DISK], DatanodeInfoWithStorage[127.0.0.1:35070,DS-14ab7b87-445f-429b-b225-86e9e92eb013,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-696823618-172.17.0.4-1598647480292:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34761,DS-61d3704a-963a-48ae-b1b6-b25b5d061a7f,DISK], DatanodeInfoWithStorage[127.0.0.1:33327,DS-01113975-bbc0-45ba-be0f-6d2ca477df0b,DISK], DatanodeInfoWithStorage[127.0.0.1:46003,DS-06a0c07f-c535-429f-9b13-291384a6b6a2,DISK], DatanodeInfoWithStorage[127.0.0.1:35070,DS-f017342f-365a-4f64-981c-0daadf88ed82,DISK], DatanodeInfoWithStorage[127.0.0.1:45115,DS-8dc0b099-d3f7-4001-b4ee-383e96424bf1,DISK], DatanodeInfoWithStorage[127.0.0.1:43636,DS-96f6be5b-4812-4ca6-84e6-add8510567a0,DISK], DatanodeInfoWithStorage[127.0.0.1:34870,DS-2b7055e4-3044-4dd5-b1ac-437f1f1bc6c8,DISK], DatanodeInfoWithStorage[127.0.0.1:46265,DS-dd5bd411-53bc-4397-b5db-efd845a63242,DISK], DatanodeInfoWithStorage[127.0.0.1:36238,DS-a8d0ca2b-f91c-4de6-99f2-bfafd4fc80e3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-696823618-172.17.0.4-1598647480292:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34870,DS-7750685b-33d5-456e-8f49-173f1e36af15,DISK], DatanodeInfoWithStorage[127.0.0.1:33327,DS-699c000c-4447-4349-b24f-98d669f4e8d9,DISK], DatanodeInfoWithStorage[127.0.0.1:35070,DS-14ab7b87-445f-429b-b225-86e9e92eb013,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-696823618-172.17.0.4-1598647480292:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45115,DS-d9c64d4c-8f66-41fa-aa7f-ecbbb6798bcd,DISK], DatanodeInfoWithStorage[127.0.0.1:34870,DS-7750685b-33d5-456e-8f49-173f1e36af15,DISK], DatanodeInfoWithStorage[127.0.0.1:33327,DS-699c000c-4447-4349-b24f-98d669f4e8d9,DISK], DatanodeInfoWithStorage[127.0.0.1:35070,DS-14ab7b87-445f-429b-b225-86e9e92eb013,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1138074636-172.17.0.4-1598647646502:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36409,DS-201a572a-6a20-4f68-94c4-cf10553ce4e2,DISK], DatanodeInfoWithStorage[127.0.0.1:45497,DS-4f65a7ff-a973-4513-974a-3994d555f432,DISK], DatanodeInfoWithStorage[127.0.0.1:46531,DS-9ba89259-a485-4c50-ba50-3efde30006bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35008,DS-368e6c8c-9326-4785-8071-8ce6fc2d2a54,DISK], DatanodeInfoWithStorage[127.0.0.1:34163,DS-2d50c890-3a4a-4804-91b3-9df1b13fc659,DISK], DatanodeInfoWithStorage[127.0.0.1:39483,DS-c27d1b37-ccd8-4cd3-a4ed-f6aa2ddaa7d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-94f32cab-b62e-4446-ad29-18465c5be862,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-d603c44b-4b68-49fc-86fc-427c660616bf,DISK], DatanodeInfoWithStorage[127.0.0.1:41439,DS-29da5d99-caf8-411b-a87e-93871930fa9e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1138074636-172.17.0.4-1598647646502:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46531,DS-ce573a7a-e6ca-4f3c-b1af-b5cd940fa8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-abfdb5e1-df61-4d93-b1a3-6048c6d1dd2d,DISK], DatanodeInfoWithStorage[127.0.0.1:35008,DS-8861b5e1-92b1-40f0-905a-8653fd2060e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34163,DS-2c790263-6a9a-4a63-851a-cef7f486983c,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1138074636-172.17.0.4-1598647646502:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46531,DS-ce573a7a-e6ca-4f3c-b1af-b5cd940fa8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-abfdb5e1-df61-4d93-b1a3-6048c6d1dd2d,DISK], DatanodeInfoWithStorage[127.0.0.1:35008,DS-8861b5e1-92b1-40f0-905a-8653fd2060e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34163,DS-2c790263-6a9a-4a63-851a-cef7f486983c,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1138074636-172.17.0.4-1598647646502:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36409,DS-201a572a-6a20-4f68-94c4-cf10553ce4e2,DISK], DatanodeInfoWithStorage[127.0.0.1:45497,DS-4f65a7ff-a973-4513-974a-3994d555f432,DISK], DatanodeInfoWithStorage[127.0.0.1:46531,DS-9ba89259-a485-4c50-ba50-3efde30006bf,DISK], DatanodeInfoWithStorage[127.0.0.1:35008,DS-368e6c8c-9326-4785-8071-8ce6fc2d2a54,DISK], DatanodeInfoWithStorage[127.0.0.1:34163,DS-2d50c890-3a4a-4804-91b3-9df1b13fc659,DISK], DatanodeInfoWithStorage[127.0.0.1:39483,DS-c27d1b37-ccd8-4cd3-a4ed-f6aa2ddaa7d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37779,DS-94f32cab-b62e-4446-ad29-18465c5be862,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-d603c44b-4b68-49fc-86fc-427c660616bf,DISK], DatanodeInfoWithStorage[127.0.0.1:41439,DS-29da5d99-caf8-411b-a87e-93871930fa9e,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1138074636-172.17.0.4-1598647646502:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46531,DS-ce573a7a-e6ca-4f3c-b1af-b5cd940fa8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-abfdb5e1-df61-4d93-b1a3-6048c6d1dd2d,DISK], DatanodeInfoWithStorage[127.0.0.1:35008,DS-8861b5e1-92b1-40f0-905a-8653fd2060e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34163,DS-2c790263-6a9a-4a63-851a-cef7f486983c,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1138074636-172.17.0.4-1598647646502:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46531,DS-ce573a7a-e6ca-4f3c-b1af-b5cd940fa8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:45087,DS-abfdb5e1-df61-4d93-b1a3-6048c6d1dd2d,DISK], DatanodeInfoWithStorage[127.0.0.1:35008,DS-8861b5e1-92b1-40f0-905a-8653fd2060e8,DISK], DatanodeInfoWithStorage[127.0.0.1:34163,DS-2c790263-6a9a-4a63-851a-cef7f486983c,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1044776571-172.17.0.4-1598648206633:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37169,DS-a9f59a53-df28-4c91-8a59-e42cf8542939,DISK], DatanodeInfoWithStorage[127.0.0.1:42024,DS-75592aea-0262-4202-9b8b-214335d59421,DISK], DatanodeInfoWithStorage[127.0.0.1:38037,DS-3adc9a51-8e6b-4f4b-8392-8adc41b3afcc,DISK], DatanodeInfoWithStorage[127.0.0.1:34915,DS-67b0c900-f1d1-4f61-b77d-09acda0e9f75,DISK], DatanodeInfoWithStorage[127.0.0.1:37021,DS-c77c5ad6-858a-4e1f-9459-95de2a1a462d,DISK], DatanodeInfoWithStorage[127.0.0.1:41851,DS-808c6a40-ecc8-4690-8a7b-f2fe97a27580,DISK], DatanodeInfoWithStorage[127.0.0.1:37891,DS-0a506d7c-15e6-4ed2-bb65-fc8c51c26855,DISK], DatanodeInfoWithStorage[127.0.0.1:42550,DS-2f26a435-17d1-4926-9afd-07d4daaf2825,DISK], DatanodeInfoWithStorage[127.0.0.1:42353,DS-1a1bdf74-1baa-41a6-a496-395955f5b09b,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1044776571-172.17.0.4-1598648206633:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37891,DS-9ee5892b-ba8f-49e8-9a4a-930b59594af4,DISK], DatanodeInfoWithStorage[127.0.0.1:37021,DS-3c92f9a2-191c-4588-8e07-1bfd0e2b069f,DISK], DatanodeInfoWithStorage[127.0.0.1:37169,DS-16acca86-f8f3-4b9f-8e42-8dcd803f89f4,DISK], DatanodeInfoWithStorage[127.0.0.1:42550,DS-05a87e40-1c59-468f-ab52-6f42252711f9,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1044776571-172.17.0.4-1598648206633:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37891,DS-9ee5892b-ba8f-49e8-9a4a-930b59594af4,DISK], DatanodeInfoWithStorage[127.0.0.1:37021,DS-3c92f9a2-191c-4588-8e07-1bfd0e2b069f,DISK], DatanodeInfoWithStorage[127.0.0.1:37169,DS-16acca86-f8f3-4b9f-8e42-8dcd803f89f4,DISK], DatanodeInfoWithStorage[127.0.0.1:42550,DS-05a87e40-1c59-468f-ab52-6f42252711f9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1044776571-172.17.0.4-1598648206633:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37169,DS-a9f59a53-df28-4c91-8a59-e42cf8542939,DISK], DatanodeInfoWithStorage[127.0.0.1:42024,DS-75592aea-0262-4202-9b8b-214335d59421,DISK], DatanodeInfoWithStorage[127.0.0.1:38037,DS-3adc9a51-8e6b-4f4b-8392-8adc41b3afcc,DISK], DatanodeInfoWithStorage[127.0.0.1:34915,DS-67b0c900-f1d1-4f61-b77d-09acda0e9f75,DISK], DatanodeInfoWithStorage[127.0.0.1:37021,DS-c77c5ad6-858a-4e1f-9459-95de2a1a462d,DISK], DatanodeInfoWithStorage[127.0.0.1:41851,DS-808c6a40-ecc8-4690-8a7b-f2fe97a27580,DISK], DatanodeInfoWithStorage[127.0.0.1:37891,DS-0a506d7c-15e6-4ed2-bb65-fc8c51c26855,DISK], DatanodeInfoWithStorage[127.0.0.1:42550,DS-2f26a435-17d1-4926-9afd-07d4daaf2825,DISK], DatanodeInfoWithStorage[127.0.0.1:42353,DS-1a1bdf74-1baa-41a6-a496-395955f5b09b,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1044776571-172.17.0.4-1598648206633:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37891,DS-9ee5892b-ba8f-49e8-9a4a-930b59594af4,DISK], DatanodeInfoWithStorage[127.0.0.1:37021,DS-3c92f9a2-191c-4588-8e07-1bfd0e2b069f,DISK], DatanodeInfoWithStorage[127.0.0.1:37169,DS-16acca86-f8f3-4b9f-8e42-8dcd803f89f4,DISK], DatanodeInfoWithStorage[127.0.0.1:42550,DS-05a87e40-1c59-468f-ab52-6f42252711f9,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1044776571-172.17.0.4-1598648206633:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37891,DS-9ee5892b-ba8f-49e8-9a4a-930b59594af4,DISK], DatanodeInfoWithStorage[127.0.0.1:37021,DS-3c92f9a2-191c-4588-8e07-1bfd0e2b069f,DISK], DatanodeInfoWithStorage[127.0.0.1:37169,DS-16acca86-f8f3-4b9f-8e42-8dcd803f89f4,DISK], DatanodeInfoWithStorage[127.0.0.1:42550,DS-05a87e40-1c59-468f-ab52-6f42252711f9,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-217412255-172.17.0.4-1598648765734:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40856,DS-551b1f66-f84c-4ad8-879f-e584a79cbb9d,DISK], DatanodeInfoWithStorage[127.0.0.1:40795,DS-41fd47dc-cd0b-4184-9736-5b364014e903,DISK], DatanodeInfoWithStorage[127.0.0.1:40573,DS-c7e76482-4398-4a14-94cf-b8f65e9f8d0c,DISK], DatanodeInfoWithStorage[127.0.0.1:32898,DS-fb969e09-aa4c-4979-be68-230c95aeae9b,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-f89093b1-3065-4079-bdf3-a8d3359d9191,DISK], DatanodeInfoWithStorage[127.0.0.1:42813,DS-ff849977-b2a8-4935-ae73-a139d970cf71,DISK], DatanodeInfoWithStorage[127.0.0.1:40227,DS-5453b90e-b8c3-47e0-9f72-0fa77e74e295,DISK], DatanodeInfoWithStorage[127.0.0.1:35741,DS-4de8af04-da89-424a-94f8-47e91cc75d86,DISK], DatanodeInfoWithStorage[127.0.0.1:46419,DS-fbf75ce5-f0cb-4901-82cc-819b3893c372,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-217412255-172.17.0.4-1598648765734:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37868,DS-1bcdb56f-d6c6-495b-84cd-605bfe69f00d,DISK], DatanodeInfoWithStorage[127.0.0.1:35741,DS-c978245e-b3ee-442e-8806-9a986b3beda3,DISK], DatanodeInfoWithStorage[127.0.0.1:32898,DS-2a4b1ada-4d90-419c-ac4a-dcc7644b790f,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-217412255-172.17.0.4-1598648765734:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40795,DS-b02a5d12-4971-47b0-9f87-f13c11184ed2,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-1bcdb56f-d6c6-495b-84cd-605bfe69f00d,DISK], DatanodeInfoWithStorage[127.0.0.1:35741,DS-c978245e-b3ee-442e-8806-9a986b3beda3,DISK], DatanodeInfoWithStorage[127.0.0.1:32898,DS-2a4b1ada-4d90-419c-ac4a-dcc7644b790f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-217412255-172.17.0.4-1598648765734:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40856,DS-551b1f66-f84c-4ad8-879f-e584a79cbb9d,DISK], DatanodeInfoWithStorage[127.0.0.1:40795,DS-41fd47dc-cd0b-4184-9736-5b364014e903,DISK], DatanodeInfoWithStorage[127.0.0.1:40573,DS-c7e76482-4398-4a14-94cf-b8f65e9f8d0c,DISK], DatanodeInfoWithStorage[127.0.0.1:32898,DS-fb969e09-aa4c-4979-be68-230c95aeae9b,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-f89093b1-3065-4079-bdf3-a8d3359d9191,DISK], DatanodeInfoWithStorage[127.0.0.1:42813,DS-ff849977-b2a8-4935-ae73-a139d970cf71,DISK], DatanodeInfoWithStorage[127.0.0.1:40227,DS-5453b90e-b8c3-47e0-9f72-0fa77e74e295,DISK], DatanodeInfoWithStorage[127.0.0.1:35741,DS-4de8af04-da89-424a-94f8-47e91cc75d86,DISK], DatanodeInfoWithStorage[127.0.0.1:46419,DS-fbf75ce5-f0cb-4901-82cc-819b3893c372,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-217412255-172.17.0.4-1598648765734:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37868,DS-1bcdb56f-d6c6-495b-84cd-605bfe69f00d,DISK], DatanodeInfoWithStorage[127.0.0.1:35741,DS-c978245e-b3ee-442e-8806-9a986b3beda3,DISK], DatanodeInfoWithStorage[127.0.0.1:32898,DS-2a4b1ada-4d90-419c-ac4a-dcc7644b790f,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-217412255-172.17.0.4-1598648765734:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40795,DS-b02a5d12-4971-47b0-9f87-f13c11184ed2,DISK], DatanodeInfoWithStorage[127.0.0.1:37868,DS-1bcdb56f-d6c6-495b-84cd-605bfe69f00d,DISK], DatanodeInfoWithStorage[127.0.0.1:35741,DS-c978245e-b3ee-442e-8806-9a986b3beda3,DISK], DatanodeInfoWithStorage[127.0.0.1:32898,DS-2a4b1ada-4d90-419c-ac4a-dcc7644b790f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-248189811-172.17.0.4-1598648863430:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40611,DS-38eee04c-5fc3-4a8a-9e37-6dfdaf0644e8,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-b00f10c2-04c1-4059-8a78-68a20e145cf0,DISK], DatanodeInfoWithStorage[127.0.0.1:39617,DS-f8cda031-9ab6-4299-99e2-c7f4943c3cbb,DISK], DatanodeInfoWithStorage[127.0.0.1:45011,DS-5f843c3f-4c84-4df1-9760-f98cbbe05b85,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-a14f563e-5e76-4fa4-b137-08ffbeebbc2b,DISK], DatanodeInfoWithStorage[127.0.0.1:33723,DS-9e3e174e-ccd6-4965-bee6-eea0da1c1e57,DISK], DatanodeInfoWithStorage[127.0.0.1:38223,DS-d07ab443-3fa1-4784-b5b1-379951dc9b71,DISK], DatanodeInfoWithStorage[127.0.0.1:36890,DS-4c343dd0-837a-4572-b03c-a357b3d854c1,DISK], DatanodeInfoWithStorage[127.0.0.1:39971,DS-f4ad5273-10de-4278-a476-e1bc152ce414,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-248189811-172.17.0.4-1598648863430:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40611,DS-dbfbc071-4df1-462c-9f7b-48ee08542cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-fbfb8de0-db1a-4238-a117-33be1dfe6556,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-85baa7aa-0ded-4ede-9c29-63a63a414623,DISK], DatanodeInfoWithStorage[127.0.0.1:39617,DS-209313e6-cc94-42bb-935e-e60eddbf30ec,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-248189811-172.17.0.4-1598648863430:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40611,DS-dbfbc071-4df1-462c-9f7b-48ee08542cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-fbfb8de0-db1a-4238-a117-33be1dfe6556,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-85baa7aa-0ded-4ede-9c29-63a63a414623,DISK], DatanodeInfoWithStorage[127.0.0.1:39617,DS-209313e6-cc94-42bb-935e-e60eddbf30ec,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=102, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-248189811-172.17.0.4-1598648863430:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40611,DS-38eee04c-5fc3-4a8a-9e37-6dfdaf0644e8,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-b00f10c2-04c1-4059-8a78-68a20e145cf0,DISK], DatanodeInfoWithStorage[127.0.0.1:39617,DS-f8cda031-9ab6-4299-99e2-c7f4943c3cbb,DISK], DatanodeInfoWithStorage[127.0.0.1:45011,DS-5f843c3f-4c84-4df1-9760-f98cbbe05b85,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-a14f563e-5e76-4fa4-b137-08ffbeebbc2b,DISK], DatanodeInfoWithStorage[127.0.0.1:33723,DS-9e3e174e-ccd6-4965-bee6-eea0da1c1e57,DISK], DatanodeInfoWithStorage[127.0.0.1:38223,DS-d07ab443-3fa1-4784-b5b1-379951dc9b71,DISK], DatanodeInfoWithStorage[127.0.0.1:36890,DS-4c343dd0-837a-4572-b03c-a357b3d854c1,DISK], DatanodeInfoWithStorage[127.0.0.1:39971,DS-f4ad5273-10de-4278-a476-e1bc152ce414,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-248189811-172.17.0.4-1598648863430:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40611,DS-dbfbc071-4df1-462c-9f7b-48ee08542cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-fbfb8de0-db1a-4238-a117-33be1dfe6556,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-85baa7aa-0ded-4ede-9c29-63a63a414623,DISK], DatanodeInfoWithStorage[127.0.0.1:39617,DS-209313e6-cc94-42bb-935e-e60eddbf30ec,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-248189811-172.17.0.4-1598648863430:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40611,DS-dbfbc071-4df1-462c-9f7b-48ee08542cbc,DISK], DatanodeInfoWithStorage[127.0.0.1:39943,DS-fbfb8de0-db1a-4238-a117-33be1dfe6556,DISK], DatanodeInfoWithStorage[127.0.0.1:36490,DS-85baa7aa-0ded-4ede-9c29-63a63a414623,DISK], DatanodeInfoWithStorage[127.0.0.1:39617,DS-209313e6-cc94-42bb-935e-e60eddbf30ec,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1104862769-172.17.0.4-1598649292617:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46601,DS-8f1e00d7-76b0-4464-bb58-4b6603f249be,DISK], DatanodeInfoWithStorage[127.0.0.1:40622,DS-447cfe43-b256-4e32-8fa2-ecbb4ae085ae,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-154fea29-bac1-41e9-9b4b-e2fcdbc618e9,DISK], DatanodeInfoWithStorage[127.0.0.1:37565,DS-f858631e-2d6a-43b2-9d3a-eaf6a1c3f761,DISK], DatanodeInfoWithStorage[127.0.0.1:33237,DS-9fa9125e-5bd5-4856-9c9f-50f202ab426b,DISK], DatanodeInfoWithStorage[127.0.0.1:42749,DS-da3ff51b-f29c-4ec8-99f3-362c004d7a89,DISK], DatanodeInfoWithStorage[127.0.0.1:39423,DS-3d6b5fdb-1564-4d4a-a45f-beb6f210a571,DISK], DatanodeInfoWithStorage[127.0.0.1:41810,DS-ef8619a5-0b80-473a-a41c-90679a4866e7,DISK], DatanodeInfoWithStorage[127.0.0.1:46691,DS-d7c5fe34-5a96-4932-8d9d-5cca417f54e9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1104862769-172.17.0.4-1598649292617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46378,DS-5ff62854-43e8-42f8-85e1-4f1391158fa3,DISK], DatanodeInfoWithStorage[127.0.0.1:37565,DS-3d2c3c63-1350-430f-95bf-2be6e066a88c,DISK], DatanodeInfoWithStorage[127.0.0.1:40622,DS-c75cde4d-56b0-47d4-a10d-989352ba9508,DISK], DatanodeInfoWithStorage[127.0.0.1:46691,DS-728f8701-6698-48ce-92a5-27b5161f662f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1104862769-172.17.0.4-1598649292617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46378,DS-5ff62854-43e8-42f8-85e1-4f1391158fa3,DISK], DatanodeInfoWithStorage[127.0.0.1:37565,DS-3d2c3c63-1350-430f-95bf-2be6e066a88c,DISK], DatanodeInfoWithStorage[127.0.0.1:40622,DS-c75cde4d-56b0-47d4-a10d-989352ba9508,DISK], DatanodeInfoWithStorage[127.0.0.1:46691,DS-728f8701-6698-48ce-92a5-27b5161f662f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1104862769-172.17.0.4-1598649292617:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46601,DS-8f1e00d7-76b0-4464-bb58-4b6603f249be,DISK], DatanodeInfoWithStorage[127.0.0.1:40622,DS-447cfe43-b256-4e32-8fa2-ecbb4ae085ae,DISK], DatanodeInfoWithStorage[127.0.0.1:46378,DS-154fea29-bac1-41e9-9b4b-e2fcdbc618e9,DISK], DatanodeInfoWithStorage[127.0.0.1:37565,DS-f858631e-2d6a-43b2-9d3a-eaf6a1c3f761,DISK], DatanodeInfoWithStorage[127.0.0.1:33237,DS-9fa9125e-5bd5-4856-9c9f-50f202ab426b,DISK], DatanodeInfoWithStorage[127.0.0.1:42749,DS-da3ff51b-f29c-4ec8-99f3-362c004d7a89,DISK], DatanodeInfoWithStorage[127.0.0.1:39423,DS-3d6b5fdb-1564-4d4a-a45f-beb6f210a571,DISK], DatanodeInfoWithStorage[127.0.0.1:41810,DS-ef8619a5-0b80-473a-a41c-90679a4866e7,DISK], DatanodeInfoWithStorage[127.0.0.1:46691,DS-d7c5fe34-5a96-4932-8d9d-5cca417f54e9,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1104862769-172.17.0.4-1598649292617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46378,DS-5ff62854-43e8-42f8-85e1-4f1391158fa3,DISK], DatanodeInfoWithStorage[127.0.0.1:37565,DS-3d2c3c63-1350-430f-95bf-2be6e066a88c,DISK], DatanodeInfoWithStorage[127.0.0.1:40622,DS-c75cde4d-56b0-47d4-a10d-989352ba9508,DISK], DatanodeInfoWithStorage[127.0.0.1:46691,DS-728f8701-6698-48ce-92a5-27b5161f662f,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1104862769-172.17.0.4-1598649292617:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46378,DS-5ff62854-43e8-42f8-85e1-4f1391158fa3,DISK], DatanodeInfoWithStorage[127.0.0.1:37565,DS-3d2c3c63-1350-430f-95bf-2be6e066a88c,DISK], DatanodeInfoWithStorage[127.0.0.1:40622,DS-c75cde4d-56b0-47d4-a10d-989352ba9508,DISK], DatanodeInfoWithStorage[127.0.0.1:46691,DS-728f8701-6698-48ce-92a5-27b5161f662f,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1479818167-172.17.0.4-1598649666655:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34002,DS-6e696d5c-1763-4cc5-9082-dc4d4ea58bda,DISK], DatanodeInfoWithStorage[127.0.0.1:41832,DS-57137de9-7fc5-441e-b435-973b7fa6c4fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34754,DS-d7b591e6-d005-4ed4-a2ee-6cd717566b6c,DISK], DatanodeInfoWithStorage[127.0.0.1:44943,DS-ad47aa77-ce65-4e6f-96ee-5af976d19fda,DISK], DatanodeInfoWithStorage[127.0.0.1:43218,DS-12540f0a-ed8f-403f-b747-79b16efeed2c,DISK], DatanodeInfoWithStorage[127.0.0.1:38072,DS-8f430391-bf47-46f3-8237-daaf220a4ec0,DISK], DatanodeInfoWithStorage[127.0.0.1:40020,DS-0796eef6-9cc4-4f77-b6c0-96c755cd2be2,DISK], DatanodeInfoWithStorage[127.0.0.1:36667,DS-204f7eef-8920-4015-aeda-2d2c8a9ef83c,DISK], DatanodeInfoWithStorage[127.0.0.1:36762,DS-2f48af7f-2caf-42a1-8418-8c889c44c45f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1479818167-172.17.0.4-1598649666655:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40020,DS-c2c0c596-f516-4752-9663-b633975f5b00,DISK], DatanodeInfoWithStorage[127.0.0.1:34754,DS-7a14aa3f-ca7b-4ec4-8c0b-4be2132b63c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34002,DS-cb8dbb19-2ecb-4635-bf57-d4a1a42ec94d,DISK], DatanodeInfoWithStorage[127.0.0.1:36762,DS-8c334a53-3add-4b3e-ba05-909fa06fb52a,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1479818167-172.17.0.4-1598649666655:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40020,DS-c2c0c596-f516-4752-9663-b633975f5b00,DISK], DatanodeInfoWithStorage[127.0.0.1:34754,DS-7a14aa3f-ca7b-4ec4-8c0b-4be2132b63c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34002,DS-cb8dbb19-2ecb-4635-bf57-d4a1a42ec94d,DISK], DatanodeInfoWithStorage[127.0.0.1:36762,DS-8c334a53-3add-4b3e-ba05-909fa06fb52a,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1479818167-172.17.0.4-1598649666655:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34002,DS-6e696d5c-1763-4cc5-9082-dc4d4ea58bda,DISK], DatanodeInfoWithStorage[127.0.0.1:41832,DS-57137de9-7fc5-441e-b435-973b7fa6c4fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34754,DS-d7b591e6-d005-4ed4-a2ee-6cd717566b6c,DISK], DatanodeInfoWithStorage[127.0.0.1:44943,DS-ad47aa77-ce65-4e6f-96ee-5af976d19fda,DISK], DatanodeInfoWithStorage[127.0.0.1:43218,DS-12540f0a-ed8f-403f-b747-79b16efeed2c,DISK], DatanodeInfoWithStorage[127.0.0.1:38072,DS-8f430391-bf47-46f3-8237-daaf220a4ec0,DISK], DatanodeInfoWithStorage[127.0.0.1:40020,DS-0796eef6-9cc4-4f77-b6c0-96c755cd2be2,DISK], DatanodeInfoWithStorage[127.0.0.1:36667,DS-204f7eef-8920-4015-aeda-2d2c8a9ef83c,DISK], DatanodeInfoWithStorage[127.0.0.1:36762,DS-2f48af7f-2caf-42a1-8418-8c889c44c45f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1479818167-172.17.0.4-1598649666655:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40020,DS-c2c0c596-f516-4752-9663-b633975f5b00,DISK], DatanodeInfoWithStorage[127.0.0.1:34754,DS-7a14aa3f-ca7b-4ec4-8c0b-4be2132b63c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34002,DS-cb8dbb19-2ecb-4635-bf57-d4a1a42ec94d,DISK], DatanodeInfoWithStorage[127.0.0.1:36762,DS-8c334a53-3add-4b3e-ba05-909fa06fb52a,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1479818167-172.17.0.4-1598649666655:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40020,DS-c2c0c596-f516-4752-9663-b633975f5b00,DISK], DatanodeInfoWithStorage[127.0.0.1:34754,DS-7a14aa3f-ca7b-4ec4-8c0b-4be2132b63c4,DISK], DatanodeInfoWithStorage[127.0.0.1:34002,DS-cb8dbb19-2ecb-4635-bf57-d4a1a42ec94d,DISK], DatanodeInfoWithStorage[127.0.0.1:36762,DS-8c334a53-3add-4b3e-ba05-909fa06fb52a,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.datanode.max.transfer.threads
component: hdfs:DataNode
v1: 4096
v2: 1
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -3
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1333625175-172.17.0.4-1598649764645:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45137,DS-5120e928-bf65-4761-912c-58c17f59495e,DISK], DatanodeInfoWithStorage[127.0.0.1:45724,DS-00af3fd3-4740-425b-9faf-968be2e930fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34039,DS-f0d455c0-626d-4c20-8550-d5d202153e44,DISK], DatanodeInfoWithStorage[127.0.0.1:38320,DS-33ed67a4-32da-4db4-b0bd-f24e2d3df0af,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-0455381c-a685-48c1-8884-9729f5951a5f,DISK], DatanodeInfoWithStorage[127.0.0.1:41778,DS-0c048c67-ce81-4674-9138-9b5a525e0fb4,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-06937394-82a5-4773-a514-c76f4f994ead,DISK], DatanodeInfoWithStorage[127.0.0.1:38784,DS-9b5b6de0-77c7-4606-80f1-31a10a183642,DISK], DatanodeInfoWithStorage[127.0.0.1:44783,DS-851b8468-7f2b-4f94-96a7-41a76dd5ef39,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1333625175-172.17.0.4-1598649764645:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38320,DS-9d0f8ff5-14ef-4675-ba9f-b65e5898d37f,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-293ab7c8-35eb-4e7f-92d3-77dac10609bf,DISK], DatanodeInfoWithStorage[127.0.0.1:34039,DS-249f1039-409a-431e-bfa4-1ab43a5f1d14,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1333625175-172.17.0.4-1598649764645:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44783,DS-ae5824db-c54d-4a62-a5e0-be2034945d64,DISK], DatanodeInfoWithStorage[127.0.0.1:38320,DS-9d0f8ff5-14ef-4675-ba9f-b65e5898d37f,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-293ab7c8-35eb-4e7f-92d3-77dac10609bf,DISK], DatanodeInfoWithStorage[127.0.0.1:34039,DS-249f1039-409a-431e-bfa4-1ab43a5f1d14,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048474, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1333625175-172.17.0.4-1598649764645:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45137,DS-5120e928-bf65-4761-912c-58c17f59495e,DISK], DatanodeInfoWithStorage[127.0.0.1:45724,DS-00af3fd3-4740-425b-9faf-968be2e930fd,DISK], DatanodeInfoWithStorage[127.0.0.1:34039,DS-f0d455c0-626d-4c20-8550-d5d202153e44,DISK], DatanodeInfoWithStorage[127.0.0.1:38320,DS-33ed67a4-32da-4db4-b0bd-f24e2d3df0af,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-0455381c-a685-48c1-8884-9729f5951a5f,DISK], DatanodeInfoWithStorage[127.0.0.1:41778,DS-0c048c67-ce81-4674-9138-9b5a525e0fb4,DISK], DatanodeInfoWithStorage[127.0.0.1:32971,DS-06937394-82a5-4773-a514-c76f4f994ead,DISK], DatanodeInfoWithStorage[127.0.0.1:38784,DS-9b5b6de0-77c7-4606-80f1-31a10a183642,DISK], DatanodeInfoWithStorage[127.0.0.1:44783,DS-851b8468-7f2b-4f94-96a7-41a76dd5ef39,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1333625175-172.17.0.4-1598649764645:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38320,DS-9d0f8ff5-14ef-4675-ba9f-b65e5898d37f,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-293ab7c8-35eb-4e7f-92d3-77dac10609bf,DISK], DatanodeInfoWithStorage[127.0.0.1:34039,DS-249f1039-409a-431e-bfa4-1ab43a5f1d14,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1333625175-172.17.0.4-1598649764645:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44783,DS-ae5824db-c54d-4a62-a5e0-be2034945d64,DISK], DatanodeInfoWithStorage[127.0.0.1:38320,DS-9d0f8ff5-14ef-4675-ba9f-b65e5898d37f,DISK], DatanodeInfoWithStorage[127.0.0.1:39994,DS-293ab7c8-35eb-4e7f-92d3-77dac10609bf,DISK], DatanodeInfoWithStorage[127.0.0.1:34039,DS-249f1039-409a-431e-bfa4-1ab43a5f1d14,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 22 out of 50
v1v1v2v2 failed with probability 16 out of 50
result: might be true error
Total execution time in seconds : 8527
