reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-240005772-172.17.0.4-1599295159940:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43633,DS-1b29be41-855b-4d39-9d65-f3af532fcc24,DISK], DatanodeInfoWithStorage[127.0.0.1:37099,DS-e2a536aa-0fb7-4daf-a13c-30da4bb346aa,DISK], DatanodeInfoWithStorage[127.0.0.1:34062,DS-9dc13011-1f77-4f8f-a6ad-7427277183a7,DISK], DatanodeInfoWithStorage[127.0.0.1:34040,DS-8f884aeb-8144-4c19-8c73-525da444ea52,DISK], DatanodeInfoWithStorage[127.0.0.1:40826,DS-b1dcd968-9aa3-4c10-b5cb-5cf8b0ebbfce,DISK]]; indices=[2, 3, 4, 5, 6]}, LocatedStripedBlock{BP-240005772-172.17.0.4-1599295159940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40826,DS-87a82d41-ea9a-4ad6-8f9a-923bf85124eb,DISK], DatanodeInfoWithStorage[127.0.0.1:37099,DS-51296624-1d82-4935-8d8a-084d0c5cee41,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-240005772-172.17.0.4-1599295159940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40826,DS-87a82d41-ea9a-4ad6-8f9a-923bf85124eb,DISK], DatanodeInfoWithStorage[127.0.0.1:37099,DS-51296624-1d82-4935-8d8a-084d0c5cee41,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-240005772-172.17.0.4-1599295159940:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43633,DS-1b29be41-855b-4d39-9d65-f3af532fcc24,DISK], DatanodeInfoWithStorage[127.0.0.1:37099,DS-e2a536aa-0fb7-4daf-a13c-30da4bb346aa,DISK], DatanodeInfoWithStorage[127.0.0.1:34062,DS-9dc13011-1f77-4f8f-a6ad-7427277183a7,DISK], DatanodeInfoWithStorage[127.0.0.1:34040,DS-8f884aeb-8144-4c19-8c73-525da444ea52,DISK], DatanodeInfoWithStorage[127.0.0.1:40826,DS-b1dcd968-9aa3-4c10-b5cb-5cf8b0ebbfce,DISK]]; indices=[2, 3, 4, 5, 6]}, LocatedStripedBlock{BP-240005772-172.17.0.4-1599295159940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40826,DS-87a82d41-ea9a-4ad6-8f9a-923bf85124eb,DISK], DatanodeInfoWithStorage[127.0.0.1:37099,DS-51296624-1d82-4935-8d8a-084d0c5cee41,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-240005772-172.17.0.4-1599295159940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40826,DS-87a82d41-ea9a-4ad6-8f9a-923bf85124eb,DISK], DatanodeInfoWithStorage[127.0.0.1:37099,DS-51296624-1d82-4935-8d8a-084d0c5cee41,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.assertSeekAndRead(StripedFileTestUtil.java:207)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifySeek(StripedFileTestUtil.java:157)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:132)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-183667314-172.17.0.4-1599298402115:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44205,DS-d26cfef4-48fb-4061-868a-12bcf7c1b22f,DISK], DatanodeInfoWithStorage[127.0.0.1:36175,DS-e477aad3-a462-43cd-954f-f6a8bb03573d,DISK], DatanodeInfoWithStorage[127.0.0.1:38861,DS-4b575706-6f44-4d72-b86a-abf9a1cc8aa1,DISK], DatanodeInfoWithStorage[127.0.0.1:39311,DS-60831470-06de-47e6-93d9-ff9369976b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-13323e6c-5f4c-4043-b86b-f99f2e88c57d,DISK]]; indices=[3, 4, 5, 6, 8]}, LocatedStripedBlock{BP-183667314-172.17.0.4-1599298402115:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39311,DS-d0e4c2ac-1f56-4a3b-83cc-4ccf5443a5b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44205,DS-0be3727d-fe57-48c8-aa32-8d789d84b5aa,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-183667314-172.17.0.4-1599298402115:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39311,DS-d0e4c2ac-1f56-4a3b-83cc-4ccf5443a5b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44205,DS-0be3727d-fe57-48c8-aa32-8d789d84b5aa,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-183667314-172.17.0.4-1599298402115:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44205,DS-d26cfef4-48fb-4061-868a-12bcf7c1b22f,DISK], DatanodeInfoWithStorage[127.0.0.1:36175,DS-e477aad3-a462-43cd-954f-f6a8bb03573d,DISK], DatanodeInfoWithStorage[127.0.0.1:38861,DS-4b575706-6f44-4d72-b86a-abf9a1cc8aa1,DISK], DatanodeInfoWithStorage[127.0.0.1:39311,DS-60831470-06de-47e6-93d9-ff9369976b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:40084,DS-13323e6c-5f4c-4043-b86b-f99f2e88c57d,DISK]]; indices=[3, 4, 5, 6, 8]}, LocatedStripedBlock{BP-183667314-172.17.0.4-1599298402115:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39311,DS-d0e4c2ac-1f56-4a3b-83cc-4ccf5443a5b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44205,DS-0be3727d-fe57-48c8-aa32-8d789d84b5aa,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-183667314-172.17.0.4-1599298402115:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39311,DS-d0e4c2ac-1f56-4a3b-83cc-4ccf5443a5b9,DISK], DatanodeInfoWithStorage[127.0.0.1:44205,DS-0be3727d-fe57-48c8-aa32-8d789d84b5aa,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.assertSeekAndRead(StripedFileTestUtil.java:207)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifySeek(StripedFileTestUtil.java:157)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:132)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1694869853-172.17.0.4-1599302433469:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44764,DS-671a0d7e-87ab-48ac-b6ed-24df4a9b0b86,DISK], DatanodeInfoWithStorage[127.0.0.1:33074,DS-ea15f4df-79db-4175-bca1-b87bd8d68cea,DISK], DatanodeInfoWithStorage[127.0.0.1:45473,DS-27053b15-54e6-485a-a0cd-cf123165b9bf,DISK], DatanodeInfoWithStorage[127.0.0.1:40632,DS-9bad75c9-f3a7-4954-8f19-243755a9deb4,DISK], DatanodeInfoWithStorage[127.0.0.1:40802,DS-fb903532-d8ca-47cd-8911-743b0c376916,DISK]]; indices=[4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1694869853-172.17.0.4-1599302433469:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40632,DS-d0ab3df9-8af9-4ec4-816a-2d409e32ca1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44764,DS-f1c43fbd-ee16-4ec8-8dcf-d80cbd35f654,DISK], DatanodeInfoWithStorage[127.0.0.1:40580,DS-2c5e50ad-c7b3-4a37-b2a0-2b61884e062f,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1694869853-172.17.0.4-1599302433469:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40632,DS-d0ab3df9-8af9-4ec4-816a-2d409e32ca1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44764,DS-f1c43fbd-ee16-4ec8-8dcf-d80cbd35f654,DISK], DatanodeInfoWithStorage[127.0.0.1:40580,DS-2c5e50ad-c7b3-4a37-b2a0-2b61884e062f,DISK]]; indices=[0, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1694869853-172.17.0.4-1599302433469:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44764,DS-671a0d7e-87ab-48ac-b6ed-24df4a9b0b86,DISK], DatanodeInfoWithStorage[127.0.0.1:33074,DS-ea15f4df-79db-4175-bca1-b87bd8d68cea,DISK], DatanodeInfoWithStorage[127.0.0.1:45473,DS-27053b15-54e6-485a-a0cd-cf123165b9bf,DISK], DatanodeInfoWithStorage[127.0.0.1:40632,DS-9bad75c9-f3a7-4954-8f19-243755a9deb4,DISK], DatanodeInfoWithStorage[127.0.0.1:40802,DS-fb903532-d8ca-47cd-8911-743b0c376916,DISK]]; indices=[4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1694869853-172.17.0.4-1599302433469:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40632,DS-d0ab3df9-8af9-4ec4-816a-2d409e32ca1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44764,DS-f1c43fbd-ee16-4ec8-8dcf-d80cbd35f654,DISK], DatanodeInfoWithStorage[127.0.0.1:40580,DS-2c5e50ad-c7b3-4a37-b2a0-2b61884e062f,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1694869853-172.17.0.4-1599302433469:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40632,DS-d0ab3df9-8af9-4ec4-816a-2d409e32ca1e,DISK], DatanodeInfoWithStorage[127.0.0.1:44764,DS-f1c43fbd-ee16-4ec8-8dcf-d80cbd35f654,DISK], DatanodeInfoWithStorage[127.0.0.1:40580,DS-2c5e50ad-c7b3-4a37-b2a0-2b61884e062f,DISK]]; indices=[0, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.assertSeekAndRead(StripedFileTestUtil.java:207)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifySeek(StripedFileTestUtil.java:157)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:132)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-973112117-172.17.0.4-1599309001364:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37632,DS-ec57de51-75e4-46e9-8397-28565b8c5b0e,DISK], DatanodeInfoWithStorage[127.0.0.1:33970,DS-65002cc7-bc27-490a-84d0-e82d68a700d9,DISK], DatanodeInfoWithStorage[127.0.0.1:40788,DS-3a0140a2-ca1e-4bae-8db8-5777f57088d3,DISK], DatanodeInfoWithStorage[127.0.0.1:34921,DS-d3f79c9f-3d1b-4e2b-b4a1-d859eb0ca5fc,DISK], DatanodeInfoWithStorage[127.0.0.1:46369,DS-4f9f23c1-f887-4a86-9949-c9a8e59647a2,DISK]]; indices=[4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-973112117-172.17.0.4-1599309001364:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39363,DS-4d2d1fc0-607c-45d4-bb93-7700f6bb9f88,DISK], DatanodeInfoWithStorage[127.0.0.1:40788,DS-ea79a321-8d02-4f09-aa89-6473727bddbc,DISK], DatanodeInfoWithStorage[127.0.0.1:37632,DS-77362f7d-1957-4dfa-846e-0eb517f24d77,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-973112117-172.17.0.4-1599309001364:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39363,DS-4d2d1fc0-607c-45d4-bb93-7700f6bb9f88,DISK], DatanodeInfoWithStorage[127.0.0.1:40788,DS-ea79a321-8d02-4f09-aa89-6473727bddbc,DISK], DatanodeInfoWithStorage[127.0.0.1:37632,DS-77362f7d-1957-4dfa-846e-0eb517f24d77,DISK]]; indices=[6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-973112117-172.17.0.4-1599309001364:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37632,DS-ec57de51-75e4-46e9-8397-28565b8c5b0e,DISK], DatanodeInfoWithStorage[127.0.0.1:33970,DS-65002cc7-bc27-490a-84d0-e82d68a700d9,DISK], DatanodeInfoWithStorage[127.0.0.1:40788,DS-3a0140a2-ca1e-4bae-8db8-5777f57088d3,DISK], DatanodeInfoWithStorage[127.0.0.1:34921,DS-d3f79c9f-3d1b-4e2b-b4a1-d859eb0ca5fc,DISK], DatanodeInfoWithStorage[127.0.0.1:46369,DS-4f9f23c1-f887-4a86-9949-c9a8e59647a2,DISK]]; indices=[4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-973112117-172.17.0.4-1599309001364:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39363,DS-4d2d1fc0-607c-45d4-bb93-7700f6bb9f88,DISK], DatanodeInfoWithStorage[127.0.0.1:40788,DS-ea79a321-8d02-4f09-aa89-6473727bddbc,DISK], DatanodeInfoWithStorage[127.0.0.1:37632,DS-77362f7d-1957-4dfa-846e-0eb517f24d77,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-973112117-172.17.0.4-1599309001364:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:39363,DS-4d2d1fc0-607c-45d4-bb93-7700f6bb9f88,DISK], DatanodeInfoWithStorage[127.0.0.1:40788,DS-ea79a321-8d02-4f09-aa89-6473727bddbc,DISK], DatanodeInfoWithStorage[127.0.0.1:37632,DS-77362f7d-1957-4dfa-846e-0eb517f24d77,DISK]]; indices=[6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readDataForDecoding(StripeReader.java:197)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:339)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.assertSeekAndRead(StripedFileTestUtil.java:207)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifySeek(StripedFileTestUtil.java:157)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:132)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-678375610-172.17.0.4-1599313105277:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39485,DS-49f5e9ff-02c3-4f54-a032-f320bc09d148,DISK], DatanodeInfoWithStorage[127.0.0.1:45620,DS-b44579ed-4b8c-42e0-9ba2-a5743f12c66e,DISK], DatanodeInfoWithStorage[127.0.0.1:37903,DS-e4ca6cc4-99cc-412c-8b8b-85faea499efd,DISK], DatanodeInfoWithStorage[127.0.0.1:33882,DS-daeb58c5-3b8f-4456-8ee5-7bedb62690df,DISK], DatanodeInfoWithStorage[127.0.0.1:43371,DS-d453e790-f4d2-4318-95ff-85ec29648763,DISK]]; indices=[3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-678375610-172.17.0.4-1599313105277:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45090,DS-254306cb-b6a0-405e-968a-0be84b5a6ef3,DISK], DatanodeInfoWithStorage[127.0.0.1:38004,DS-b8445f4f-d665-42cd-8c7f-ce76401ea729,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-678375610-172.17.0.4-1599313105277:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45090,DS-254306cb-b6a0-405e-968a-0be84b5a6ef3,DISK], DatanodeInfoWithStorage[127.0.0.1:38004,DS-b8445f4f-d665-42cd-8c7f-ce76401ea729,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-678375610-172.17.0.4-1599313105277:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39485,DS-49f5e9ff-02c3-4f54-a032-f320bc09d148,DISK], DatanodeInfoWithStorage[127.0.0.1:45620,DS-b44579ed-4b8c-42e0-9ba2-a5743f12c66e,DISK], DatanodeInfoWithStorage[127.0.0.1:37903,DS-e4ca6cc4-99cc-412c-8b8b-85faea499efd,DISK], DatanodeInfoWithStorage[127.0.0.1:33882,DS-daeb58c5-3b8f-4456-8ee5-7bedb62690df,DISK], DatanodeInfoWithStorage[127.0.0.1:43371,DS-d453e790-f4d2-4318-95ff-85ec29648763,DISK]]; indices=[3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-678375610-172.17.0.4-1599313105277:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45090,DS-254306cb-b6a0-405e-968a-0be84b5a6ef3,DISK], DatanodeInfoWithStorage[127.0.0.1:38004,DS-b8445f4f-d665-42cd-8c7f-ce76401ea729,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-678375610-172.17.0.4-1599313105277:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45090,DS-254306cb-b6a0-405e-968a-0be84b5a6ef3,DISK], DatanodeInfoWithStorage[127.0.0.1:38004,DS-b8445f4f-d665-42cd-8c7f-ce76401ea729,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.assertSeekAndRead(StripedFileTestUtil.java:207)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifySeek(StripedFileTestUtil.java:157)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:132)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1024965160-172.17.0.4-1599314423721:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45289,DS-03dae934-6221-4b62-a4d1-630f67263b1f,DISK], DatanodeInfoWithStorage[127.0.0.1:39691,DS-e0204193-3efe-4d98-8980-1a893d62ecb4,DISK], DatanodeInfoWithStorage[127.0.0.1:34650,DS-aa12b251-3de4-4b0c-9470-46373ffb5c2d,DISK], DatanodeInfoWithStorage[127.0.0.1:39026,DS-48377b94-fec8-46ec-a296-2e8d2865ab5b,DISK], DatanodeInfoWithStorage[127.0.0.1:42018,DS-340043f7-8634-4356-ac1e-556ddc626f09,DISK]]; indices=[2, 3, 4, 5, 6]}, LocatedStripedBlock{BP-1024965160-172.17.0.4-1599314423721:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42018,DS-e08e9570-0bb0-4fa0-8820-628de5a2c389,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-2474249c-3339-40c6-bb3b-d40b73609749,DISK], DatanodeInfoWithStorage[127.0.0.1:38639,DS-9faa9952-04ff-4006-9ac1-83ffc4fec047,DISK], DatanodeInfoWithStorage[127.0.0.1:34650,DS-458f87d1-0bd4-497b-9f7e-fa48846c03b5,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1024965160-172.17.0.4-1599314423721:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42018,DS-e08e9570-0bb0-4fa0-8820-628de5a2c389,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-2474249c-3339-40c6-bb3b-d40b73609749,DISK], DatanodeInfoWithStorage[127.0.0.1:38639,DS-9faa9952-04ff-4006-9ac1-83ffc4fec047,DISK], DatanodeInfoWithStorage[127.0.0.1:34650,DS-458f87d1-0bd4-497b-9f7e-fa48846c03b5,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=2097152, length=61, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1024965160-172.17.0.4-1599314423721:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45289,DS-03dae934-6221-4b62-a4d1-630f67263b1f,DISK], DatanodeInfoWithStorage[127.0.0.1:39691,DS-e0204193-3efe-4d98-8980-1a893d62ecb4,DISK], DatanodeInfoWithStorage[127.0.0.1:34650,DS-aa12b251-3de4-4b0c-9470-46373ffb5c2d,DISK], DatanodeInfoWithStorage[127.0.0.1:39026,DS-48377b94-fec8-46ec-a296-2e8d2865ab5b,DISK], DatanodeInfoWithStorage[127.0.0.1:42018,DS-340043f7-8634-4356-ac1e-556ddc626f09,DISK]]; indices=[2, 3, 4, 5, 6]}, LocatedStripedBlock{BP-1024965160-172.17.0.4-1599314423721:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42018,DS-e08e9570-0bb0-4fa0-8820-628de5a2c389,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-2474249c-3339-40c6-bb3b-d40b73609749,DISK], DatanodeInfoWithStorage[127.0.0.1:38639,DS-9faa9952-04ff-4006-9ac1-83ffc4fec047,DISK], DatanodeInfoWithStorage[127.0.0.1:34650,DS-458f87d1-0bd4-497b-9f7e-fa48846c03b5,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1024965160-172.17.0.4-1599314423721:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42018,DS-e08e9570-0bb0-4fa0-8820-628de5a2c389,DISK], DatanodeInfoWithStorage[127.0.0.1:37219,DS-2474249c-3339-40c6-bb3b-d40b73609749,DISK], DatanodeInfoWithStorage[127.0.0.1:38639,DS-9faa9952-04ff-4006-9ac1-83ffc4fec047,DISK], DatanodeInfoWithStorage[127.0.0.1:34650,DS-458f87d1-0bd4-497b-9f7e-fa48846c03b5,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.assertSeekAndRead(StripedFileTestUtil.java:207)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifySeek(StripedFileTestUtil.java:157)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:132)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks#testReadFileWithMissingBlocks
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.restartDataNode(MiniDFSCluster.java:2368)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.restartDeadDataNodes(TestReadStripedFileWithMissingBlocks.java:145)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.readFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:138)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithMissingBlocks.testReadFileWithMissingBlocks(TestReadStripedFileWithMissingBlocks.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


v1v2 failed with probability 4 out of 50
v1v1v2v2 failed with probability 11 out of 50
result: false positive !!!
Total execution time in seconds : 34460
