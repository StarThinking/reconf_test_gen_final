reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1877387574-172.17.0.8-1599288872244:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44286,DS-336c9081-caa7-42d1-be4c-2b2a4e4e06a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35953,DS-19402c1d-0299-4e1d-ac1e-b382f2d1a55f,DISK], DatanodeInfoWithStorage[127.0.0.1:42103,DS-2a64a218-a006-45f6-ae29-58fadf4ee1d7,DISK], DatanodeInfoWithStorage[127.0.0.1:33468,DS-51c8525b-8ed9-4598-a3c1-ad43ba4a9dbd,DISK], DatanodeInfoWithStorage[127.0.0.1:42480,DS-364684d6-ebfb-4221-b8b0-8bd4e156c827,DISK], DatanodeInfoWithStorage[127.0.0.1:34502,DS-b1a0f673-39f9-42eb-8bf2-748e88f5b421,DISK], DatanodeInfoWithStorage[127.0.0.1:44753,DS-57bf0c5c-3fd2-47f0-80ad-4e8c2b0e3a86,DISK]]; indices=[0, 1, 2, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1877387574-172.17.0.8-1599288872244:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44286,DS-336c9081-caa7-42d1-be4c-2b2a4e4e06a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35953,DS-19402c1d-0299-4e1d-ac1e-b382f2d1a55f,DISK], DatanodeInfoWithStorage[127.0.0.1:42103,DS-2a64a218-a006-45f6-ae29-58fadf4ee1d7,DISK], DatanodeInfoWithStorage[127.0.0.1:33468,DS-51c8525b-8ed9-4598-a3c1-ad43ba4a9dbd,DISK], DatanodeInfoWithStorage[127.0.0.1:42480,DS-364684d6-ebfb-4221-b8b0-8bd4e156c827,DISK], DatanodeInfoWithStorage[127.0.0.1:44753,DS-57bf0c5c-3fd2-47f0-80ad-4e8c2b0e3a86,DISK]]; indices=[0, 1, 2, 3, 4, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1877387574-172.17.0.8-1599288872244:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44286,DS-336c9081-caa7-42d1-be4c-2b2a4e4e06a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35953,DS-19402c1d-0299-4e1d-ac1e-b382f2d1a55f,DISK], DatanodeInfoWithStorage[127.0.0.1:42103,DS-2a64a218-a006-45f6-ae29-58fadf4ee1d7,DISK], DatanodeInfoWithStorage[127.0.0.1:33468,DS-51c8525b-8ed9-4598-a3c1-ad43ba4a9dbd,DISK], DatanodeInfoWithStorage[127.0.0.1:42480,DS-364684d6-ebfb-4221-b8b0-8bd4e156c827,DISK], DatanodeInfoWithStorage[127.0.0.1:34502,DS-b1a0f673-39f9-42eb-8bf2-748e88f5b421,DISK], DatanodeInfoWithStorage[127.0.0.1:44753,DS-57bf0c5c-3fd2-47f0-80ad-4e8c2b0e3a86,DISK]]; indices=[0, 1, 2, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1877387574-172.17.0.8-1599288872244:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44286,DS-336c9081-caa7-42d1-be4c-2b2a4e4e06a0,DISK], DatanodeInfoWithStorage[127.0.0.1:35953,DS-19402c1d-0299-4e1d-ac1e-b382f2d1a55f,DISK], DatanodeInfoWithStorage[127.0.0.1:42103,DS-2a64a218-a006-45f6-ae29-58fadf4ee1d7,DISK], DatanodeInfoWithStorage[127.0.0.1:33468,DS-51c8525b-8ed9-4598-a3c1-ad43ba4a9dbd,DISK], DatanodeInfoWithStorage[127.0.0.1:42480,DS-364684d6-ebfb-4221-b8b0-8bd4e156c827,DISK], DatanodeInfoWithStorage[127.0.0.1:44753,DS-57bf0c5c-3fd2-47f0-80ad-4e8c2b0e3a86,DISK]]; indices=[0, 1, 2, 3, 4, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1091110802-172.17.0.8-1599289107039:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45096,DS-d4a6293e-f2a1-446f-8a86-435d22386711,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-74c4c3f6-5f83-426c-aa72-4f07aab85c40,DISK], DatanodeInfoWithStorage[127.0.0.1:34224,DS-5d10e7bd-c1b4-45c3-a01f-604431afaa88,DISK], DatanodeInfoWithStorage[127.0.0.1:45460,DS-589060f9-655d-47f5-b6a2-7c5224a8ab3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34619,DS-8348014e-bf2e-4753-afc3-caffb660c913,DISK], DatanodeInfoWithStorage[127.0.0.1:43436,DS-0a61dc15-25f2-4194-892a-eb94f158df2a,DISK]]; indices=[0, 1, 2, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1091110802-172.17.0.8-1599289107039:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45096,DS-d4a6293e-f2a1-446f-8a86-435d22386711,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-74c4c3f6-5f83-426c-aa72-4f07aab85c40,DISK], DatanodeInfoWithStorage[127.0.0.1:34224,DS-5d10e7bd-c1b4-45c3-a01f-604431afaa88,DISK], DatanodeInfoWithStorage[127.0.0.1:45460,DS-589060f9-655d-47f5-b6a2-7c5224a8ab3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34619,DS-8348014e-bf2e-4753-afc3-caffb660c913,DISK], DatanodeInfoWithStorage[127.0.0.1:43436,DS-0a61dc15-25f2-4194-892a-eb94f158df2a,DISK]]; indices=[0, 1, 2, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1091110802-172.17.0.8-1599289107039:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45096,DS-d4a6293e-f2a1-446f-8a86-435d22386711,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-74c4c3f6-5f83-426c-aa72-4f07aab85c40,DISK], DatanodeInfoWithStorage[127.0.0.1:34224,DS-5d10e7bd-c1b4-45c3-a01f-604431afaa88,DISK], DatanodeInfoWithStorage[127.0.0.1:45460,DS-589060f9-655d-47f5-b6a2-7c5224a8ab3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34619,DS-8348014e-bf2e-4753-afc3-caffb660c913,DISK], DatanodeInfoWithStorage[127.0.0.1:43436,DS-0a61dc15-25f2-4194-892a-eb94f158df2a,DISK]]; indices=[0, 1, 2, 4, 5, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1091110802-172.17.0.8-1599289107039:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45096,DS-d4a6293e-f2a1-446f-8a86-435d22386711,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-74c4c3f6-5f83-426c-aa72-4f07aab85c40,DISK], DatanodeInfoWithStorage[127.0.0.1:34224,DS-5d10e7bd-c1b4-45c3-a01f-604431afaa88,DISK], DatanodeInfoWithStorage[127.0.0.1:45460,DS-589060f9-655d-47f5-b6a2-7c5224a8ab3b,DISK], DatanodeInfoWithStorage[127.0.0.1:34619,DS-8348014e-bf2e-4753-afc3-caffb660c913,DISK], DatanodeInfoWithStorage[127.0.0.1:43436,DS-0a61dc15-25f2-4194-892a-eb94f158df2a,DISK]]; indices=[0, 1, 2, 4, 5, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1239445729-172.17.0.8-1599289328677:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40521,DS-23dad6ba-2f06-430b-a310-7c72f6a85b57,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-67fc2273-3e4e-4193-b4c2-5395d83c524f,DISK], DatanodeInfoWithStorage[127.0.0.1:46593,DS-3236dff1-f3f0-4b67-af1d-f968dc26deac,DISK], DatanodeInfoWithStorage[127.0.0.1:46158,DS-03d7c3c3-395a-4b24-b27a-8b3067e0ccc5,DISK], DatanodeInfoWithStorage[127.0.0.1:33852,DS-295b7925-ab6f-4ad3-9cb8-d67e85127615,DISK], DatanodeInfoWithStorage[127.0.0.1:36619,DS-fe0f915f-6875-4d10-95bc-2131046b1623,DISK]]; indices=[2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1239445729-172.17.0.8-1599289328677:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40521,DS-23dad6ba-2f06-430b-a310-7c72f6a85b57,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-67fc2273-3e4e-4193-b4c2-5395d83c524f,DISK], DatanodeInfoWithStorage[127.0.0.1:46593,DS-3236dff1-f3f0-4b67-af1d-f968dc26deac,DISK], DatanodeInfoWithStorage[127.0.0.1:46158,DS-03d7c3c3-395a-4b24-b27a-8b3067e0ccc5,DISK], DatanodeInfoWithStorage[127.0.0.1:33852,DS-295b7925-ab6f-4ad3-9cb8-d67e85127615,DISK], DatanodeInfoWithStorage[127.0.0.1:36619,DS-fe0f915f-6875-4d10-95bc-2131046b1623,DISK]]; indices=[2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1239445729-172.17.0.8-1599289328677:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40521,DS-23dad6ba-2f06-430b-a310-7c72f6a85b57,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-67fc2273-3e4e-4193-b4c2-5395d83c524f,DISK], DatanodeInfoWithStorage[127.0.0.1:46593,DS-3236dff1-f3f0-4b67-af1d-f968dc26deac,DISK], DatanodeInfoWithStorage[127.0.0.1:46158,DS-03d7c3c3-395a-4b24-b27a-8b3067e0ccc5,DISK], DatanodeInfoWithStorage[127.0.0.1:33852,DS-295b7925-ab6f-4ad3-9cb8-d67e85127615,DISK], DatanodeInfoWithStorage[127.0.0.1:36619,DS-fe0f915f-6875-4d10-95bc-2131046b1623,DISK]]; indices=[2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1239445729-172.17.0.8-1599289328677:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40521,DS-23dad6ba-2f06-430b-a310-7c72f6a85b57,DISK], DatanodeInfoWithStorage[127.0.0.1:45425,DS-67fc2273-3e4e-4193-b4c2-5395d83c524f,DISK], DatanodeInfoWithStorage[127.0.0.1:46593,DS-3236dff1-f3f0-4b67-af1d-f968dc26deac,DISK], DatanodeInfoWithStorage[127.0.0.1:46158,DS-03d7c3c3-395a-4b24-b27a-8b3067e0ccc5,DISK], DatanodeInfoWithStorage[127.0.0.1:33852,DS-295b7925-ab6f-4ad3-9cb8-d67e85127615,DISK], DatanodeInfoWithStorage[127.0.0.1:36619,DS-fe0f915f-6875-4d10-95bc-2131046b1623,DISK]]; indices=[2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1139415656-172.17.0.8-1599289449183:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44364,DS-1ea42d26-8715-4ea9-a544-d33daad3c9a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42453,DS-fe2a5f74-f1f9-4a80-b837-9b973827fb65,DISK], DatanodeInfoWithStorage[127.0.0.1:45268,DS-0a597dbd-28e3-46fb-8a76-562ed2c8bef7,DISK], DatanodeInfoWithStorage[127.0.0.1:39222,DS-68581e3c-18fc-4808-84d4-904e305dfae8,DISK], DatanodeInfoWithStorage[127.0.0.1:36103,DS-fc9ff76a-f287-4890-9998-d10b68cae8c1,DISK], DatanodeInfoWithStorage[127.0.0.1:45025,DS-ec741860-cd76-418e-9d29-d83c5d57a844,DISK]]; indices=[0, 1, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1139415656-172.17.0.8-1599289449183:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44364,DS-1ea42d26-8715-4ea9-a544-d33daad3c9a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42453,DS-fe2a5f74-f1f9-4a80-b837-9b973827fb65,DISK], DatanodeInfoWithStorage[127.0.0.1:45268,DS-0a597dbd-28e3-46fb-8a76-562ed2c8bef7,DISK], DatanodeInfoWithStorage[127.0.0.1:39222,DS-68581e3c-18fc-4808-84d4-904e305dfae8,DISK], DatanodeInfoWithStorage[127.0.0.1:36103,DS-fc9ff76a-f287-4890-9998-d10b68cae8c1,DISK], DatanodeInfoWithStorage[127.0.0.1:45025,DS-ec741860-cd76-418e-9d29-d83c5d57a844,DISK]]; indices=[0, 1, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1139415656-172.17.0.8-1599289449183:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44364,DS-1ea42d26-8715-4ea9-a544-d33daad3c9a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42453,DS-fe2a5f74-f1f9-4a80-b837-9b973827fb65,DISK], DatanodeInfoWithStorage[127.0.0.1:45268,DS-0a597dbd-28e3-46fb-8a76-562ed2c8bef7,DISK], DatanodeInfoWithStorage[127.0.0.1:39222,DS-68581e3c-18fc-4808-84d4-904e305dfae8,DISK], DatanodeInfoWithStorage[127.0.0.1:36103,DS-fc9ff76a-f287-4890-9998-d10b68cae8c1,DISK], DatanodeInfoWithStorage[127.0.0.1:45025,DS-ec741860-cd76-418e-9d29-d83c5d57a844,DISK]]; indices=[0, 1, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1139415656-172.17.0.8-1599289449183:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44364,DS-1ea42d26-8715-4ea9-a544-d33daad3c9a4,DISK], DatanodeInfoWithStorage[127.0.0.1:42453,DS-fe2a5f74-f1f9-4a80-b837-9b973827fb65,DISK], DatanodeInfoWithStorage[127.0.0.1:45268,DS-0a597dbd-28e3-46fb-8a76-562ed2c8bef7,DISK], DatanodeInfoWithStorage[127.0.0.1:39222,DS-68581e3c-18fc-4808-84d4-904e305dfae8,DISK], DatanodeInfoWithStorage[127.0.0.1:36103,DS-fc9ff76a-f287-4890-9998-d10b68cae8c1,DISK], DatanodeInfoWithStorage[127.0.0.1:45025,DS-ec741860-cd76-418e-9d29-d83c5d57a844,DISK]]; indices=[0, 1, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1391320319-172.17.0.8-1599289684072:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39274,DS-df08cfb2-8379-4aa5-8cc5-3364001b7b76,DISK], DatanodeInfoWithStorage[127.0.0.1:42121,DS-f903bc23-4247-4742-ae54-06505cd22dd0,DISK], DatanodeInfoWithStorage[127.0.0.1:45160,DS-edda040d-fc54-4ddc-b6be-797a8caa8c00,DISK], DatanodeInfoWithStorage[127.0.0.1:40457,DS-6109088f-22c1-4161-b3bf-e9b2b06830f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33634,DS-3b8a9ead-c87e-4e30-8cc3-9c98b636b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:44095,DS-6f289ec5-04cf-4f8e-b8e2-65031119187e,DISK]]; indices=[2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1391320319-172.17.0.8-1599289684072:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39274,DS-df08cfb2-8379-4aa5-8cc5-3364001b7b76,DISK], DatanodeInfoWithStorage[127.0.0.1:42121,DS-f903bc23-4247-4742-ae54-06505cd22dd0,DISK], DatanodeInfoWithStorage[127.0.0.1:45160,DS-edda040d-fc54-4ddc-b6be-797a8caa8c00,DISK], DatanodeInfoWithStorage[127.0.0.1:40457,DS-6109088f-22c1-4161-b3bf-e9b2b06830f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33634,DS-3b8a9ead-c87e-4e30-8cc3-9c98b636b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:44095,DS-6f289ec5-04cf-4f8e-b8e2-65031119187e,DISK]]; indices=[2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1391320319-172.17.0.8-1599289684072:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39274,DS-df08cfb2-8379-4aa5-8cc5-3364001b7b76,DISK], DatanodeInfoWithStorage[127.0.0.1:42121,DS-f903bc23-4247-4742-ae54-06505cd22dd0,DISK], DatanodeInfoWithStorage[127.0.0.1:45160,DS-edda040d-fc54-4ddc-b6be-797a8caa8c00,DISK], DatanodeInfoWithStorage[127.0.0.1:40457,DS-6109088f-22c1-4161-b3bf-e9b2b06830f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33634,DS-3b8a9ead-c87e-4e30-8cc3-9c98b636b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:44095,DS-6f289ec5-04cf-4f8e-b8e2-65031119187e,DISK]]; indices=[2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1391320319-172.17.0.8-1599289684072:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39274,DS-df08cfb2-8379-4aa5-8cc5-3364001b7b76,DISK], DatanodeInfoWithStorage[127.0.0.1:42121,DS-f903bc23-4247-4742-ae54-06505cd22dd0,DISK], DatanodeInfoWithStorage[127.0.0.1:45160,DS-edda040d-fc54-4ddc-b6be-797a8caa8c00,DISK], DatanodeInfoWithStorage[127.0.0.1:40457,DS-6109088f-22c1-4161-b3bf-e9b2b06830f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33634,DS-3b8a9ead-c87e-4e30-8cc3-9c98b636b36b,DISK], DatanodeInfoWithStorage[127.0.0.1:44095,DS-6f289ec5-04cf-4f8e-b8e2-65031119187e,DISK]]; indices=[2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1383071107-172.17.0.8-1599290147492:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33638,DS-33089776-89d9-46b5-839f-813b69f70edd,DISK], DatanodeInfoWithStorage[127.0.0.1:44484,DS-2a317661-59a5-46f5-bf2b-26b64f6f1efd,DISK], DatanodeInfoWithStorage[127.0.0.1:41369,DS-d542cc86-f6db-4e92-a555-27d5ad61d872,DISK], DatanodeInfoWithStorage[127.0.0.1:36442,DS-1ae75ade-6efa-4e1e-90ee-163ba1333c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-743f9761-89bb-4e9e-ac5b-f9f7ec80a538,DISK], DatanodeInfoWithStorage[127.0.0.1:44956,DS-fd052b3c-d07c-4410-bb07-dfb01d5cb637,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1383071107-172.17.0.8-1599290147492:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33638,DS-33089776-89d9-46b5-839f-813b69f70edd,DISK], DatanodeInfoWithStorage[127.0.0.1:44484,DS-2a317661-59a5-46f5-bf2b-26b64f6f1efd,DISK], DatanodeInfoWithStorage[127.0.0.1:41369,DS-d542cc86-f6db-4e92-a555-27d5ad61d872,DISK], DatanodeInfoWithStorage[127.0.0.1:36442,DS-1ae75ade-6efa-4e1e-90ee-163ba1333c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-743f9761-89bb-4e9e-ac5b-f9f7ec80a538,DISK], DatanodeInfoWithStorage[127.0.0.1:44956,DS-fd052b3c-d07c-4410-bb07-dfb01d5cb637,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1383071107-172.17.0.8-1599290147492:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33638,DS-33089776-89d9-46b5-839f-813b69f70edd,DISK], DatanodeInfoWithStorage[127.0.0.1:44484,DS-2a317661-59a5-46f5-bf2b-26b64f6f1efd,DISK], DatanodeInfoWithStorage[127.0.0.1:41369,DS-d542cc86-f6db-4e92-a555-27d5ad61d872,DISK], DatanodeInfoWithStorage[127.0.0.1:36442,DS-1ae75ade-6efa-4e1e-90ee-163ba1333c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-743f9761-89bb-4e9e-ac5b-f9f7ec80a538,DISK], DatanodeInfoWithStorage[127.0.0.1:44956,DS-fd052b3c-d07c-4410-bb07-dfb01d5cb637,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1383071107-172.17.0.8-1599290147492:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33638,DS-33089776-89d9-46b5-839f-813b69f70edd,DISK], DatanodeInfoWithStorage[127.0.0.1:44484,DS-2a317661-59a5-46f5-bf2b-26b64f6f1efd,DISK], DatanodeInfoWithStorage[127.0.0.1:41369,DS-d542cc86-f6db-4e92-a555-27d5ad61d872,DISK], DatanodeInfoWithStorage[127.0.0.1:36442,DS-1ae75ade-6efa-4e1e-90ee-163ba1333c9e,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-743f9761-89bb-4e9e-ac5b-f9f7ec80a538,DISK], DatanodeInfoWithStorage[127.0.0.1:44956,DS-fd052b3c-d07c-4410-bb07-dfb01d5cb637,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1258295175-172.17.0.8-1599290313892:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33862,DS-1c31bb9f-8b30-4e3b-999c-b92610c9d4e3,DISK], DatanodeInfoWithStorage[127.0.0.1:34437,DS-7ccb815d-c813-428f-a476-793db0dd210f,DISK], DatanodeInfoWithStorage[127.0.0.1:42330,DS-1ebe82fe-429c-41ba-94ac-e75ea3e8662f,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-dedf2499-c9e2-4b78-9c8f-a48f00d88b9c,DISK], DatanodeInfoWithStorage[127.0.0.1:39383,DS-ca39ad43-4d41-4cbb-b290-0da9dd75a73d,DISK], DatanodeInfoWithStorage[127.0.0.1:41551,DS-865e51a4-5e4a-42d2-b735-e656382bb04f,DISK]]; indices=[0, 1, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1258295175-172.17.0.8-1599290313892:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33862,DS-1c31bb9f-8b30-4e3b-999c-b92610c9d4e3,DISK], DatanodeInfoWithStorage[127.0.0.1:34437,DS-7ccb815d-c813-428f-a476-793db0dd210f,DISK], DatanodeInfoWithStorage[127.0.0.1:42330,DS-1ebe82fe-429c-41ba-94ac-e75ea3e8662f,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-dedf2499-c9e2-4b78-9c8f-a48f00d88b9c,DISK], DatanodeInfoWithStorage[127.0.0.1:39383,DS-ca39ad43-4d41-4cbb-b290-0da9dd75a73d,DISK], DatanodeInfoWithStorage[127.0.0.1:41551,DS-865e51a4-5e4a-42d2-b735-e656382bb04f,DISK]]; indices=[0, 1, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1258295175-172.17.0.8-1599290313892:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33862,DS-1c31bb9f-8b30-4e3b-999c-b92610c9d4e3,DISK], DatanodeInfoWithStorage[127.0.0.1:34437,DS-7ccb815d-c813-428f-a476-793db0dd210f,DISK], DatanodeInfoWithStorage[127.0.0.1:42330,DS-1ebe82fe-429c-41ba-94ac-e75ea3e8662f,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-dedf2499-c9e2-4b78-9c8f-a48f00d88b9c,DISK], DatanodeInfoWithStorage[127.0.0.1:39383,DS-ca39ad43-4d41-4cbb-b290-0da9dd75a73d,DISK], DatanodeInfoWithStorage[127.0.0.1:41551,DS-865e51a4-5e4a-42d2-b735-e656382bb04f,DISK]]; indices=[0, 1, 3, 4, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1258295175-172.17.0.8-1599290313892:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33862,DS-1c31bb9f-8b30-4e3b-999c-b92610c9d4e3,DISK], DatanodeInfoWithStorage[127.0.0.1:34437,DS-7ccb815d-c813-428f-a476-793db0dd210f,DISK], DatanodeInfoWithStorage[127.0.0.1:42330,DS-1ebe82fe-429c-41ba-94ac-e75ea3e8662f,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-dedf2499-c9e2-4b78-9c8f-a48f00d88b9c,DISK], DatanodeInfoWithStorage[127.0.0.1:39383,DS-ca39ad43-4d41-4cbb-b290-0da9dd75a73d,DISK], DatanodeInfoWithStorage[127.0.0.1:41551,DS-865e51a4-5e4a-42d2-b735-e656382bb04f,DISK]]; indices=[0, 1, 3, 4, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-364986043-172.17.0.8-1599290646576:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34596,DS-37c7d0f8-1ddc-435f-8e12-0695358cc1ce,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-28076844-4456-420b-a665-361bd47f184a,DISK], DatanodeInfoWithStorage[127.0.0.1:34055,DS-cbebaefb-0b41-4dc9-9d09-0e5b2e63ba5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39879,DS-48d8b9a5-dda3-4494-b0e0-26df36a211de,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-b4a9085f-4290-45fe-b76f-5476816cc625,DISK], DatanodeInfoWithStorage[127.0.0.1:42185,DS-014ddae8-3584-493f-a522-31fe4b9d082e,DISK]]; indices=[0, 1, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-364986043-172.17.0.8-1599290646576:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34596,DS-37c7d0f8-1ddc-435f-8e12-0695358cc1ce,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-28076844-4456-420b-a665-361bd47f184a,DISK], DatanodeInfoWithStorage[127.0.0.1:34055,DS-cbebaefb-0b41-4dc9-9d09-0e5b2e63ba5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39879,DS-48d8b9a5-dda3-4494-b0e0-26df36a211de,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-b4a9085f-4290-45fe-b76f-5476816cc625,DISK], DatanodeInfoWithStorage[127.0.0.1:42185,DS-014ddae8-3584-493f-a522-31fe4b9d082e,DISK]]; indices=[0, 1, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-364986043-172.17.0.8-1599290646576:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34596,DS-37c7d0f8-1ddc-435f-8e12-0695358cc1ce,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-28076844-4456-420b-a665-361bd47f184a,DISK], DatanodeInfoWithStorage[127.0.0.1:34055,DS-cbebaefb-0b41-4dc9-9d09-0e5b2e63ba5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39879,DS-48d8b9a5-dda3-4494-b0e0-26df36a211de,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-b4a9085f-4290-45fe-b76f-5476816cc625,DISK], DatanodeInfoWithStorage[127.0.0.1:42185,DS-014ddae8-3584-493f-a522-31fe4b9d082e,DISK]]; indices=[0, 1, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-364986043-172.17.0.8-1599290646576:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34596,DS-37c7d0f8-1ddc-435f-8e12-0695358cc1ce,DISK], DatanodeInfoWithStorage[127.0.0.1:42606,DS-28076844-4456-420b-a665-361bd47f184a,DISK], DatanodeInfoWithStorage[127.0.0.1:34055,DS-cbebaefb-0b41-4dc9-9d09-0e5b2e63ba5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39879,DS-48d8b9a5-dda3-4494-b0e0-26df36a211de,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-b4a9085f-4290-45fe-b76f-5476816cc625,DISK], DatanodeInfoWithStorage[127.0.0.1:42185,DS-014ddae8-3584-493f-a522-31fe4b9d082e,DISK]]; indices=[0, 1, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-10711350-172.17.0.8-1599290674617:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39286,DS-c0c316f9-5222-4461-aedd-eacc34ed5d08,DISK], DatanodeInfoWithStorage[127.0.0.1:46554,DS-14fb4b1a-8b4e-4b02-9677-7d6a01648240,DISK], DatanodeInfoWithStorage[127.0.0.1:33150,DS-42a059e7-52f3-4a17-a3d5-bed3adb22658,DISK], DatanodeInfoWithStorage[127.0.0.1:45418,DS-50abfb6f-e993-4c00-82d9-d6673a13190e,DISK], DatanodeInfoWithStorage[127.0.0.1:34375,DS-bffd235b-0070-4e16-92e2-ba04ad52276d,DISK], DatanodeInfoWithStorage[127.0.0.1:42026,DS-45f03718-a98c-4197-9823-473ba201b50b,DISK]]; indices=[1, 2, 3, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-10711350-172.17.0.8-1599290674617:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39286,DS-c0c316f9-5222-4461-aedd-eacc34ed5d08,DISK], DatanodeInfoWithStorage[127.0.0.1:46554,DS-14fb4b1a-8b4e-4b02-9677-7d6a01648240,DISK], DatanodeInfoWithStorage[127.0.0.1:33150,DS-42a059e7-52f3-4a17-a3d5-bed3adb22658,DISK], DatanodeInfoWithStorage[127.0.0.1:45418,DS-50abfb6f-e993-4c00-82d9-d6673a13190e,DISK], DatanodeInfoWithStorage[127.0.0.1:34375,DS-bffd235b-0070-4e16-92e2-ba04ad52276d,DISK], DatanodeInfoWithStorage[127.0.0.1:42026,DS-45f03718-a98c-4197-9823-473ba201b50b,DISK]]; indices=[1, 2, 3, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-10711350-172.17.0.8-1599290674617:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39286,DS-c0c316f9-5222-4461-aedd-eacc34ed5d08,DISK], DatanodeInfoWithStorage[127.0.0.1:46554,DS-14fb4b1a-8b4e-4b02-9677-7d6a01648240,DISK], DatanodeInfoWithStorage[127.0.0.1:33150,DS-42a059e7-52f3-4a17-a3d5-bed3adb22658,DISK], DatanodeInfoWithStorage[127.0.0.1:45418,DS-50abfb6f-e993-4c00-82d9-d6673a13190e,DISK], DatanodeInfoWithStorage[127.0.0.1:34375,DS-bffd235b-0070-4e16-92e2-ba04ad52276d,DISK], DatanodeInfoWithStorage[127.0.0.1:42026,DS-45f03718-a98c-4197-9823-473ba201b50b,DISK]]; indices=[1, 2, 3, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-10711350-172.17.0.8-1599290674617:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39286,DS-c0c316f9-5222-4461-aedd-eacc34ed5d08,DISK], DatanodeInfoWithStorage[127.0.0.1:46554,DS-14fb4b1a-8b4e-4b02-9677-7d6a01648240,DISK], DatanodeInfoWithStorage[127.0.0.1:33150,DS-42a059e7-52f3-4a17-a3d5-bed3adb22658,DISK], DatanodeInfoWithStorage[127.0.0.1:45418,DS-50abfb6f-e993-4c00-82d9-d6673a13190e,DISK], DatanodeInfoWithStorage[127.0.0.1:34375,DS-bffd235b-0070-4e16-92e2-ba04ad52276d,DISK], DatanodeInfoWithStorage[127.0.0.1:42026,DS-45f03718-a98c-4197-9823-473ba201b50b,DISK]]; indices=[1, 2, 3, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1914721332-172.17.0.8-1599290743307:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38453,DS-c2ca24d0-7516-4c5f-89ff-bd374f844b39,DISK], DatanodeInfoWithStorage[127.0.0.1:37919,DS-c6ac9681-ebec-477a-b457-576a1926b5ce,DISK], DatanodeInfoWithStorage[127.0.0.1:40769,DS-e1122240-833a-4b6a-8717-eb4d5a977b30,DISK], DatanodeInfoWithStorage[127.0.0.1:43224,DS-0db14d69-b8fd-427b-a2fd-78990f68d60d,DISK], DatanodeInfoWithStorage[127.0.0.1:41951,DS-38246799-803b-403a-b6bc-babaa2e6a0f3,DISK], DatanodeInfoWithStorage[127.0.0.1:35123,DS-ffffa190-90a0-4dec-90eb-47e85c424f7c,DISK]]; indices=[2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1914721332-172.17.0.8-1599290743307:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38453,DS-c2ca24d0-7516-4c5f-89ff-bd374f844b39,DISK], DatanodeInfoWithStorage[127.0.0.1:37919,DS-c6ac9681-ebec-477a-b457-576a1926b5ce,DISK], DatanodeInfoWithStorage[127.0.0.1:40769,DS-e1122240-833a-4b6a-8717-eb4d5a977b30,DISK], DatanodeInfoWithStorage[127.0.0.1:43224,DS-0db14d69-b8fd-427b-a2fd-78990f68d60d,DISK], DatanodeInfoWithStorage[127.0.0.1:41951,DS-38246799-803b-403a-b6bc-babaa2e6a0f3,DISK], DatanodeInfoWithStorage[127.0.0.1:35123,DS-ffffa190-90a0-4dec-90eb-47e85c424f7c,DISK]]; indices=[2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1914721332-172.17.0.8-1599290743307:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38453,DS-c2ca24d0-7516-4c5f-89ff-bd374f844b39,DISK], DatanodeInfoWithStorage[127.0.0.1:37919,DS-c6ac9681-ebec-477a-b457-576a1926b5ce,DISK], DatanodeInfoWithStorage[127.0.0.1:40769,DS-e1122240-833a-4b6a-8717-eb4d5a977b30,DISK], DatanodeInfoWithStorage[127.0.0.1:43224,DS-0db14d69-b8fd-427b-a2fd-78990f68d60d,DISK], DatanodeInfoWithStorage[127.0.0.1:41951,DS-38246799-803b-403a-b6bc-babaa2e6a0f3,DISK], DatanodeInfoWithStorage[127.0.0.1:35123,DS-ffffa190-90a0-4dec-90eb-47e85c424f7c,DISK]]; indices=[2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1914721332-172.17.0.8-1599290743307:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38453,DS-c2ca24d0-7516-4c5f-89ff-bd374f844b39,DISK], DatanodeInfoWithStorage[127.0.0.1:37919,DS-c6ac9681-ebec-477a-b457-576a1926b5ce,DISK], DatanodeInfoWithStorage[127.0.0.1:40769,DS-e1122240-833a-4b6a-8717-eb4d5a977b30,DISK], DatanodeInfoWithStorage[127.0.0.1:43224,DS-0db14d69-b8fd-427b-a2fd-78990f68d60d,DISK], DatanodeInfoWithStorage[127.0.0.1:41951,DS-38246799-803b-403a-b6bc-babaa2e6a0f3,DISK], DatanodeInfoWithStorage[127.0.0.1:35123,DS-ffffa190-90a0-4dec-90eb-47e85c424f7c,DISK]]; indices=[2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-743677670-172.17.0.8-1599291528303:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44348,DS-4bb15500-aed3-4a93-aea4-7c7739c59aea,DISK], DatanodeInfoWithStorage[127.0.0.1:36028,DS-c321beac-b127-470d-ac23-9fba554d5938,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-1ae4c82f-e80a-4e36-b566-089060ab91d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-fdc4757b-74de-4cfd-bc53-60746b00d825,DISK], DatanodeInfoWithStorage[127.0.0.1:42938,DS-a9944ca9-c467-4ca8-b118-b019f5e9b8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:42134,DS-59c4dffa-6894-419a-85a2-097ffe9f1d5f,DISK]]; indices=[1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-743677670-172.17.0.8-1599291528303:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44348,DS-4bb15500-aed3-4a93-aea4-7c7739c59aea,DISK], DatanodeInfoWithStorage[127.0.0.1:36028,DS-c321beac-b127-470d-ac23-9fba554d5938,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-1ae4c82f-e80a-4e36-b566-089060ab91d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-fdc4757b-74de-4cfd-bc53-60746b00d825,DISK], DatanodeInfoWithStorage[127.0.0.1:42938,DS-a9944ca9-c467-4ca8-b118-b019f5e9b8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:42134,DS-59c4dffa-6894-419a-85a2-097ffe9f1d5f,DISK]]; indices=[1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-743677670-172.17.0.8-1599291528303:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44348,DS-4bb15500-aed3-4a93-aea4-7c7739c59aea,DISK], DatanodeInfoWithStorage[127.0.0.1:36028,DS-c321beac-b127-470d-ac23-9fba554d5938,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-1ae4c82f-e80a-4e36-b566-089060ab91d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-fdc4757b-74de-4cfd-bc53-60746b00d825,DISK], DatanodeInfoWithStorage[127.0.0.1:42938,DS-a9944ca9-c467-4ca8-b118-b019f5e9b8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:42134,DS-59c4dffa-6894-419a-85a2-097ffe9f1d5f,DISK]]; indices=[1, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-743677670-172.17.0.8-1599291528303:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44348,DS-4bb15500-aed3-4a93-aea4-7c7739c59aea,DISK], DatanodeInfoWithStorage[127.0.0.1:36028,DS-c321beac-b127-470d-ac23-9fba554d5938,DISK], DatanodeInfoWithStorage[127.0.0.1:39562,DS-1ae4c82f-e80a-4e36-b566-089060ab91d2,DISK], DatanodeInfoWithStorage[127.0.0.1:43924,DS-fdc4757b-74de-4cfd-bc53-60746b00d825,DISK], DatanodeInfoWithStorage[127.0.0.1:42938,DS-a9944ca9-c467-4ca8-b118-b019f5e9b8e3,DISK], DatanodeInfoWithStorage[127.0.0.1:42134,DS-59c4dffa-6894-419a-85a2-097ffe9f1d5f,DISK]]; indices=[1, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-149370309-172.17.0.8-1599291733059:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45015,DS-6312a575-e0fa-4564-8ced-b659b0b7c985,DISK], DatanodeInfoWithStorage[127.0.0.1:37091,DS-e96480b3-27fe-48c9-bb13-d8c0c52cf9fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38144,DS-98c99fae-e6df-49a5-9f93-75007566e99b,DISK], DatanodeInfoWithStorage[127.0.0.1:40625,DS-7345133b-c6fd-4c97-a820-c433d2cd67f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41005,DS-1c0f089a-6bfb-4842-b0e9-924caae83274,DISK], DatanodeInfoWithStorage[127.0.0.1:37372,DS-955478fd-6073-4bf0-88a7-c0091f12acd4,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-149370309-172.17.0.8-1599291733059:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45015,DS-6312a575-e0fa-4564-8ced-b659b0b7c985,DISK], DatanodeInfoWithStorage[127.0.0.1:37091,DS-e96480b3-27fe-48c9-bb13-d8c0c52cf9fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38144,DS-98c99fae-e6df-49a5-9f93-75007566e99b,DISK], DatanodeInfoWithStorage[127.0.0.1:40625,DS-7345133b-c6fd-4c97-a820-c433d2cd67f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41005,DS-1c0f089a-6bfb-4842-b0e9-924caae83274,DISK], DatanodeInfoWithStorage[127.0.0.1:37372,DS-955478fd-6073-4bf0-88a7-c0091f12acd4,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-149370309-172.17.0.8-1599291733059:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45015,DS-6312a575-e0fa-4564-8ced-b659b0b7c985,DISK], DatanodeInfoWithStorage[127.0.0.1:37091,DS-e96480b3-27fe-48c9-bb13-d8c0c52cf9fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38144,DS-98c99fae-e6df-49a5-9f93-75007566e99b,DISK], DatanodeInfoWithStorage[127.0.0.1:40625,DS-7345133b-c6fd-4c97-a820-c433d2cd67f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41005,DS-1c0f089a-6bfb-4842-b0e9-924caae83274,DISK], DatanodeInfoWithStorage[127.0.0.1:37372,DS-955478fd-6073-4bf0-88a7-c0091f12acd4,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-149370309-172.17.0.8-1599291733059:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45015,DS-6312a575-e0fa-4564-8ced-b659b0b7c985,DISK], DatanodeInfoWithStorage[127.0.0.1:37091,DS-e96480b3-27fe-48c9-bb13-d8c0c52cf9fb,DISK], DatanodeInfoWithStorage[127.0.0.1:38144,DS-98c99fae-e6df-49a5-9f93-75007566e99b,DISK], DatanodeInfoWithStorage[127.0.0.1:40625,DS-7345133b-c6fd-4c97-a820-c433d2cd67f2,DISK], DatanodeInfoWithStorage[127.0.0.1:41005,DS-1c0f089a-6bfb-4842-b0e9-924caae83274,DISK], DatanodeInfoWithStorage[127.0.0.1:37372,DS-955478fd-6073-4bf0-88a7-c0091f12acd4,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-33631772-172.17.0.8-1599291899646:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37209,DS-f0bfaac6-88de-4653-93d9-480125fecd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:33214,DS-faf28adc-16dd-4d65-ac5a-0e38ad6ae74b,DISK], DatanodeInfoWithStorage[127.0.0.1:38811,DS-987066cc-7e4c-447a-82ca-375511ec6a8e,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-aacd8325-bf16-4182-a36f-8561d23a5232,DISK], DatanodeInfoWithStorage[127.0.0.1:34778,DS-cf043c82-29c5-4302-acea-27e0e1ef0730,DISK], DatanodeInfoWithStorage[127.0.0.1:37794,DS-c873fc32-d023-4330-870b-115f10a18b95,DISK]]; indices=[0, 1, 3, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-33631772-172.17.0.8-1599291899646:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37209,DS-f0bfaac6-88de-4653-93d9-480125fecd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:33214,DS-faf28adc-16dd-4d65-ac5a-0e38ad6ae74b,DISK], DatanodeInfoWithStorage[127.0.0.1:38811,DS-987066cc-7e4c-447a-82ca-375511ec6a8e,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-aacd8325-bf16-4182-a36f-8561d23a5232,DISK], DatanodeInfoWithStorage[127.0.0.1:34778,DS-cf043c82-29c5-4302-acea-27e0e1ef0730,DISK], DatanodeInfoWithStorage[127.0.0.1:37794,DS-c873fc32-d023-4330-870b-115f10a18b95,DISK]]; indices=[0, 1, 3, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=10485883;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-33631772-172.17.0.8-1599291899646:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37209,DS-f0bfaac6-88de-4653-93d9-480125fecd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:33214,DS-faf28adc-16dd-4d65-ac5a-0e38ad6ae74b,DISK], DatanodeInfoWithStorage[127.0.0.1:38811,DS-987066cc-7e4c-447a-82ca-375511ec6a8e,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-aacd8325-bf16-4182-a36f-8561d23a5232,DISK], DatanodeInfoWithStorage[127.0.0.1:34778,DS-cf043c82-29c5-4302-acea-27e0e1ef0730,DISK], DatanodeInfoWithStorage[127.0.0.1:37794,DS-c873fc32-d023-4330-870b-115f10a18b95,DISK]]; indices=[0, 1, 3, 4, 5, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-33631772-172.17.0.8-1599291899646:blk_-9223372036854775792_1002; getBlockSize()=10485883; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37209,DS-f0bfaac6-88de-4653-93d9-480125fecd7a,DISK], DatanodeInfoWithStorage[127.0.0.1:33214,DS-faf28adc-16dd-4d65-ac5a-0e38ad6ae74b,DISK], DatanodeInfoWithStorage[127.0.0.1:38811,DS-987066cc-7e4c-447a-82ca-375511ec6a8e,DISK], DatanodeInfoWithStorage[127.0.0.1:45371,DS-aacd8325-bf16-4182-a36f-8561d23a5232,DISK], DatanodeInfoWithStorage[127.0.0.1:34778,DS-cf043c82-29c5-4302-acea-27e0e1ef0730,DISK], DatanodeInfoWithStorage[127.0.0.1:37794,DS-c873fc32-d023-4330-870b-115f10a18b95,DISK]]; indices=[0, 1, 3, 4, 5, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.io.IOUtils.readFully(IOUtils.java:210)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:838)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 1000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal#testStatisticsForErasureCodingRead
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.NullPointerException
	at org.apache.hadoop.hdfs.MiniDFSCluster.stopDataNode(MiniDFSCluster.java:2352)
	at org.apache.hadoop.hdfs.client.impl.TestBlockReaderLocal.testStatisticsForErasureCodingRead(TestBlockReaderLocal.java:835)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 7 out of 50
v1v1v2v2 failed with probability 7 out of 50
result: false positive !!!
Total execution time in seconds : 3499
