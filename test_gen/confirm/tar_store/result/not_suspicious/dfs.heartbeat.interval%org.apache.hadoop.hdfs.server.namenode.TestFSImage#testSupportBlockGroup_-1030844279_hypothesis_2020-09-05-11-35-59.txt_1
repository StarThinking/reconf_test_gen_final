reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-52806435-172.17.0.8-1599306079762:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35083,DS-c04ae13e-f5fe-49dc-a953-b67cf40d86cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-fe83b697-a1b7-4aa0-b341-a68759ed5b04,DISK], DatanodeInfoWithStorage[127.0.0.1:35270,DS-70c680b0-7831-4495-b0a8-8f14523b7988,DISK], DatanodeInfoWithStorage[127.0.0.1:40241,DS-4766c6f9-5075-48a3-ada4-180d538408a9,DISK], DatanodeInfoWithStorage[127.0.0.1:36752,DS-9ac9c984-e05b-4e38-a748-c7830da8255c,DISK], DatanodeInfoWithStorage[127.0.0.1:41522,DS-3a8d5e57-a485-4c9a-82f7-9fdf5097be52,DISK]]; indices=[1, 4, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-52806435-172.17.0.8-1599306079762:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35083,DS-c04ae13e-f5fe-49dc-a953-b67cf40d86cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-fe83b697-a1b7-4aa0-b341-a68759ed5b04,DISK], DatanodeInfoWithStorage[127.0.0.1:35270,DS-70c680b0-7831-4495-b0a8-8f14523b7988,DISK], DatanodeInfoWithStorage[127.0.0.1:40241,DS-4766c6f9-5075-48a3-ada4-180d538408a9,DISK], DatanodeInfoWithStorage[127.0.0.1:36752,DS-9ac9c984-e05b-4e38-a748-c7830da8255c,DISK], DatanodeInfoWithStorage[127.0.0.1:41522,DS-3a8d5e57-a485-4c9a-82f7-9fdf5097be52,DISK]]; indices=[1, 4, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-52806435-172.17.0.8-1599306079762:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35083,DS-c04ae13e-f5fe-49dc-a953-b67cf40d86cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-fe83b697-a1b7-4aa0-b341-a68759ed5b04,DISK], DatanodeInfoWithStorage[127.0.0.1:35270,DS-70c680b0-7831-4495-b0a8-8f14523b7988,DISK], DatanodeInfoWithStorage[127.0.0.1:40241,DS-4766c6f9-5075-48a3-ada4-180d538408a9,DISK], DatanodeInfoWithStorage[127.0.0.1:36752,DS-9ac9c984-e05b-4e38-a748-c7830da8255c,DISK], DatanodeInfoWithStorage[127.0.0.1:41522,DS-3a8d5e57-a485-4c9a-82f7-9fdf5097be52,DISK]]; indices=[1, 4, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-52806435-172.17.0.8-1599306079762:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35083,DS-c04ae13e-f5fe-49dc-a953-b67cf40d86cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37583,DS-fe83b697-a1b7-4aa0-b341-a68759ed5b04,DISK], DatanodeInfoWithStorage[127.0.0.1:35270,DS-70c680b0-7831-4495-b0a8-8f14523b7988,DISK], DatanodeInfoWithStorage[127.0.0.1:40241,DS-4766c6f9-5075-48a3-ada4-180d538408a9,DISK], DatanodeInfoWithStorage[127.0.0.1:36752,DS-9ac9c984-e05b-4e38-a748-c7830da8255c,DISK], DatanodeInfoWithStorage[127.0.0.1:41522,DS-3a8d5e57-a485-4c9a-82f7-9fdf5097be52,DISK]]; indices=[1, 4, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1743334704-172.17.0.8-1599306170862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36388,DS-09708fb2-5b10-4960-b11c-0cb9630f4a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-6bede664-5efc-49b8-9bcb-b7a975f50d51,DISK], DatanodeInfoWithStorage[127.0.0.1:36863,DS-247e19ee-acc1-43a6-9010-4f382c469c8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-3dc53081-72be-4967-91a1-05e780081be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-eb7ed7aa-1b37-4b8f-b569-f8e22c8cc3d1,DISK], DatanodeInfoWithStorage[127.0.0.1:38080,DS-7c39ff39-981e-4ce1-93c3-f8a19f83d996,DISK]]; indices=[0, 1, 2, 3, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1743334704-172.17.0.8-1599306170862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36388,DS-09708fb2-5b10-4960-b11c-0cb9630f4a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-6bede664-5efc-49b8-9bcb-b7a975f50d51,DISK], DatanodeInfoWithStorage[127.0.0.1:36863,DS-247e19ee-acc1-43a6-9010-4f382c469c8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-3dc53081-72be-4967-91a1-05e780081be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-eb7ed7aa-1b37-4b8f-b569-f8e22c8cc3d1,DISK], DatanodeInfoWithStorage[127.0.0.1:38080,DS-7c39ff39-981e-4ce1-93c3-f8a19f83d996,DISK]]; indices=[0, 1, 2, 3, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1743334704-172.17.0.8-1599306170862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36388,DS-09708fb2-5b10-4960-b11c-0cb9630f4a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-6bede664-5efc-49b8-9bcb-b7a975f50d51,DISK], DatanodeInfoWithStorage[127.0.0.1:36863,DS-247e19ee-acc1-43a6-9010-4f382c469c8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-3dc53081-72be-4967-91a1-05e780081be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-eb7ed7aa-1b37-4b8f-b569-f8e22c8cc3d1,DISK], DatanodeInfoWithStorage[127.0.0.1:38080,DS-7c39ff39-981e-4ce1-93c3-f8a19f83d996,DISK]]; indices=[0, 1, 2, 3, 10, 11]}];  lastLocatedBlock=LocatedStripedBlock{BP-1743334704-172.17.0.8-1599306170862:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36388,DS-09708fb2-5b10-4960-b11c-0cb9630f4a9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43341,DS-6bede664-5efc-49b8-9bcb-b7a975f50d51,DISK], DatanodeInfoWithStorage[127.0.0.1:36863,DS-247e19ee-acc1-43a6-9010-4f382c469c8e,DISK], DatanodeInfoWithStorage[127.0.0.1:42188,DS-3dc53081-72be-4967-91a1-05e780081be2,DISK], DatanodeInfoWithStorage[127.0.0.1:44077,DS-eb7ed7aa-1b37-4b8f-b569-f8e22c8cc3d1,DISK], DatanodeInfoWithStorage[127.0.0.1:38080,DS-7c39ff39-981e-4ce1-93c3-f8a19f83d996,DISK]]; indices=[0, 1, 2, 3, 10, 11]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: Zero blocklocations for /ec-10-4/striped_file_10_4. Name node is in safe mode.
The reported blocks 0 needs additional 1 blocks to reach the threshold 0.9990 of total blocks 2.
The minimum number of live datanodes is not required. Safe mode will be turned off automatically once the thresholds have been reached. NamenodeHostName:localhost
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.newSafemodeException(FSNamesystem.java:1476)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1960)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:755)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:439)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)

stackTrace: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.server.namenode.SafeModeException): Zero blocklocations for /ec-10-4/striped_file_10_4. Name node is in safe mode.
The reported blocks 0 needs additional 1 blocks to reach the threshold 0.9990 of total blocks 2.
The minimum number of live datanodes is not required. Safe mode will be turned off automatically once the thresholds have been reached. NamenodeHostName:localhost
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.newSafemodeException(FSNamesystem.java:1476)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1960)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:755)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:439)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1545)
	at org.apache.hadoop.ipc.Client.call(Client.java:1491)
	at org.apache.hadoop.ipc.Client.call(Client.java:1388)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy25.getBlockLocations(Unknown Source)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:324)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy26.getBlockLocations(Unknown Source)
	at org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:864)
	at org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:853)
	at org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:842)
	at org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1010)
	at org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:319)
	at org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:315)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:327)
	at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:899)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: Zero blocklocations for /ec-10-4/striped_file_10_4. Name node is in safe mode.
The reported blocks 0 needs additional 1 blocks to reach the threshold 0.9990 of total blocks 2.
The minimum number of live datanodes is not required. Safe mode will be turned off automatically once the thresholds have been reached. NamenodeHostName:localhost
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.newSafemodeException(FSNamesystem.java:1476)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1960)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:755)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:439)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)

stackTrace: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.server.namenode.SafeModeException): Zero blocklocations for /ec-10-4/striped_file_10_4. Name node is in safe mode.
The reported blocks 0 needs additional 1 blocks to reach the threshold 0.9990 of total blocks 2.
The minimum number of live datanodes is not required. Safe mode will be turned off automatically once the thresholds have been reached. NamenodeHostName:localhost
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.newSafemodeException(FSNamesystem.java:1476)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1960)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:755)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:439)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1545)
	at org.apache.hadoop.ipc.Client.call(Client.java:1491)
	at org.apache.hadoop.ipc.Client.call(Client.java:1388)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy23.getBlockLocations(Unknown Source)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:324)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy24.getBlockLocations(Unknown Source)
	at org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:864)
	at org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:853)
	at org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:842)
	at org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1010)
	at org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:319)
	at org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:315)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:327)
	at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:899)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2082912970-172.17.0.8-1599307064871:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41992,DS-61b4dbc6-cbe1-48ae-8166-22b558c826d6,DISK], DatanodeInfoWithStorage[127.0.0.1:37691,DS-8a3bb3ff-8fdd-46e9-8857-cc81eef1c29d,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-af6f3b40-33dc-4643-a735-5f5c342046b6,DISK], DatanodeInfoWithStorage[127.0.0.1:43075,DS-60331d57-5696-405f-b1d4-7947953526f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-c800c749-2413-4819-a3e7-f50ef658b011,DISK], DatanodeInfoWithStorage[127.0.0.1:38892,DS-392c3325-1916-4ce0-bf31-ec374e46caa0,DISK], DatanodeInfoWithStorage[127.0.0.1:34617,DS-8efa9b85-5bc7-4fb3-a121-65472249841d,DISK]]; indices=[1, 4, 5, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-2082912970-172.17.0.8-1599307064871:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41992,DS-61b4dbc6-cbe1-48ae-8166-22b558c826d6,DISK], DatanodeInfoWithStorage[127.0.0.1:37691,DS-8a3bb3ff-8fdd-46e9-8857-cc81eef1c29d,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-af6f3b40-33dc-4643-a735-5f5c342046b6,DISK], DatanodeInfoWithStorage[127.0.0.1:43075,DS-60331d57-5696-405f-b1d4-7947953526f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-c800c749-2413-4819-a3e7-f50ef658b011,DISK], DatanodeInfoWithStorage[127.0.0.1:38892,DS-392c3325-1916-4ce0-bf31-ec374e46caa0,DISK], DatanodeInfoWithStorage[127.0.0.1:34617,DS-8efa9b85-5bc7-4fb3-a121-65472249841d,DISK]]; indices=[1, 4, 5, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2082912970-172.17.0.8-1599307064871:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41992,DS-61b4dbc6-cbe1-48ae-8166-22b558c826d6,DISK], DatanodeInfoWithStorage[127.0.0.1:37691,DS-8a3bb3ff-8fdd-46e9-8857-cc81eef1c29d,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-af6f3b40-33dc-4643-a735-5f5c342046b6,DISK], DatanodeInfoWithStorage[127.0.0.1:43075,DS-60331d57-5696-405f-b1d4-7947953526f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-c800c749-2413-4819-a3e7-f50ef658b011,DISK], DatanodeInfoWithStorage[127.0.0.1:38892,DS-392c3325-1916-4ce0-bf31-ec374e46caa0,DISK], DatanodeInfoWithStorage[127.0.0.1:34617,DS-8efa9b85-5bc7-4fb3-a121-65472249841d,DISK]]; indices=[1, 4, 5, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-2082912970-172.17.0.8-1599307064871:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41992,DS-61b4dbc6-cbe1-48ae-8166-22b558c826d6,DISK], DatanodeInfoWithStorage[127.0.0.1:37691,DS-8a3bb3ff-8fdd-46e9-8857-cc81eef1c29d,DISK], DatanodeInfoWithStorage[127.0.0.1:38838,DS-af6f3b40-33dc-4643-a735-5f5c342046b6,DISK], DatanodeInfoWithStorage[127.0.0.1:43075,DS-60331d57-5696-405f-b1d4-7947953526f7,DISK], DatanodeInfoWithStorage[127.0.0.1:44725,DS-c800c749-2413-4819-a3e7-f50ef658b011,DISK], DatanodeInfoWithStorage[127.0.0.1:38892,DS-392c3325-1916-4ce0-bf31-ec374e46caa0,DISK], DatanodeInfoWithStorage[127.0.0.1:34617,DS-8efa9b85-5bc7-4fb3-a121-65472249841d,DISK]]; indices=[1, 4, 5, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1831722680-172.17.0.8-1599307186212:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46829,DS-75f088ef-7bd8-483e-9232-2b75c38e3ceb,DISK], DatanodeInfoWithStorage[127.0.0.1:33334,DS-6c395fc7-895d-452e-bd68-cc01286a748f,DISK], DatanodeInfoWithStorage[127.0.0.1:36980,DS-b5a8c80d-adbe-4b62-be53-343d47d6b206,DISK], DatanodeInfoWithStorage[127.0.0.1:43867,DS-d7dc938b-d133-4b23-a502-0f3b979282c8,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-71e83ff0-d5e9-4048-b172-c0d8c29b95b0,DISK], DatanodeInfoWithStorage[127.0.0.1:39750,DS-3d4cccbe-8e50-43ce-8278-28bec61120b7,DISK]]; indices=[0, 1, 4, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1831722680-172.17.0.8-1599307186212:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46829,DS-75f088ef-7bd8-483e-9232-2b75c38e3ceb,DISK], DatanodeInfoWithStorage[127.0.0.1:33334,DS-6c395fc7-895d-452e-bd68-cc01286a748f,DISK], DatanodeInfoWithStorage[127.0.0.1:36980,DS-b5a8c80d-adbe-4b62-be53-343d47d6b206,DISK], DatanodeInfoWithStorage[127.0.0.1:43867,DS-d7dc938b-d133-4b23-a502-0f3b979282c8,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-71e83ff0-d5e9-4048-b172-c0d8c29b95b0,DISK], DatanodeInfoWithStorage[127.0.0.1:39750,DS-3d4cccbe-8e50-43ce-8278-28bec61120b7,DISK]]; indices=[0, 1, 4, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1831722680-172.17.0.8-1599307186212:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46829,DS-75f088ef-7bd8-483e-9232-2b75c38e3ceb,DISK], DatanodeInfoWithStorage[127.0.0.1:33334,DS-6c395fc7-895d-452e-bd68-cc01286a748f,DISK], DatanodeInfoWithStorage[127.0.0.1:36980,DS-b5a8c80d-adbe-4b62-be53-343d47d6b206,DISK], DatanodeInfoWithStorage[127.0.0.1:43867,DS-d7dc938b-d133-4b23-a502-0f3b979282c8,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-71e83ff0-d5e9-4048-b172-c0d8c29b95b0,DISK], DatanodeInfoWithStorage[127.0.0.1:39750,DS-3d4cccbe-8e50-43ce-8278-28bec61120b7,DISK]]; indices=[0, 1, 4, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1831722680-172.17.0.8-1599307186212:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46829,DS-75f088ef-7bd8-483e-9232-2b75c38e3ceb,DISK], DatanodeInfoWithStorage[127.0.0.1:33334,DS-6c395fc7-895d-452e-bd68-cc01286a748f,DISK], DatanodeInfoWithStorage[127.0.0.1:36980,DS-b5a8c80d-adbe-4b62-be53-343d47d6b206,DISK], DatanodeInfoWithStorage[127.0.0.1:43867,DS-d7dc938b-d133-4b23-a502-0f3b979282c8,DISK], DatanodeInfoWithStorage[127.0.0.1:34088,DS-71e83ff0-d5e9-4048-b172-c0d8c29b95b0,DISK], DatanodeInfoWithStorage[127.0.0.1:39750,DS-3d4cccbe-8e50-43ce-8278-28bec61120b7,DISK]]; indices=[0, 1, 4, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-450747429-172.17.0.8-1599307433014:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45598,DS-7d448fa2-1674-40cd-9b7d-a485728f699b,DISK], DatanodeInfoWithStorage[127.0.0.1:33733,DS-45241529-df77-464e-8cfd-cd2a28f2d34f,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-c4be3807-8f79-4725-9bc3-532d790dc5d9,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-004fe61d-7342-4d17-8228-d50b4c3274ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44176,DS-bbb38df4-788d-4c0d-abcf-687ce49c7fa8,DISK], DatanodeInfoWithStorage[127.0.0.1:42925,DS-cfa9bb61-afbc-48aa-a958-0a557dd5718d,DISK]]; indices=[1, 3, 4, 6, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-450747429-172.17.0.8-1599307433014:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45598,DS-7d448fa2-1674-40cd-9b7d-a485728f699b,DISK], DatanodeInfoWithStorage[127.0.0.1:33733,DS-45241529-df77-464e-8cfd-cd2a28f2d34f,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-c4be3807-8f79-4725-9bc3-532d790dc5d9,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-004fe61d-7342-4d17-8228-d50b4c3274ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44176,DS-bbb38df4-788d-4c0d-abcf-687ce49c7fa8,DISK], DatanodeInfoWithStorage[127.0.0.1:42925,DS-cfa9bb61-afbc-48aa-a958-0a557dd5718d,DISK]]; indices=[1, 3, 4, 6, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-450747429-172.17.0.8-1599307433014:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45598,DS-7d448fa2-1674-40cd-9b7d-a485728f699b,DISK], DatanodeInfoWithStorage[127.0.0.1:33733,DS-45241529-df77-464e-8cfd-cd2a28f2d34f,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-c4be3807-8f79-4725-9bc3-532d790dc5d9,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-004fe61d-7342-4d17-8228-d50b4c3274ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44176,DS-bbb38df4-788d-4c0d-abcf-687ce49c7fa8,DISK], DatanodeInfoWithStorage[127.0.0.1:42925,DS-cfa9bb61-afbc-48aa-a958-0a557dd5718d,DISK]]; indices=[1, 3, 4, 6, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-450747429-172.17.0.8-1599307433014:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45598,DS-7d448fa2-1674-40cd-9b7d-a485728f699b,DISK], DatanodeInfoWithStorage[127.0.0.1:33733,DS-45241529-df77-464e-8cfd-cd2a28f2d34f,DISK], DatanodeInfoWithStorage[127.0.0.1:46597,DS-c4be3807-8f79-4725-9bc3-532d790dc5d9,DISK], DatanodeInfoWithStorage[127.0.0.1:39339,DS-004fe61d-7342-4d17-8228-d50b4c3274ed,DISK], DatanodeInfoWithStorage[127.0.0.1:44176,DS-bbb38df4-788d-4c0d-abcf-687ce49c7fa8,DISK], DatanodeInfoWithStorage[127.0.0.1:42925,DS-cfa9bb61-afbc-48aa-a958-0a557dd5718d,DISK]]; indices=[1, 3, 4, 6, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-920738976-172.17.0.8-1599307709137:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41500,DS-9549f0be-f821-48ac-9298-594e956c6232,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-e47d83aa-30fb-4b8c-a34d-42062c8a99f2,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-2dfc9663-ea83-4209-ba25-3890559abc34,DISK], DatanodeInfoWithStorage[127.0.0.1:45475,DS-4be59cac-8a2d-4b61-bbeb-8217a6dd0045,DISK], DatanodeInfoWithStorage[127.0.0.1:39464,DS-af938a04-2c70-4ff2-9d37-6baaac0e042c,DISK]]; indices=[0, 2, 4, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-920738976-172.17.0.8-1599307709137:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41500,DS-9549f0be-f821-48ac-9298-594e956c6232,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-e47d83aa-30fb-4b8c-a34d-42062c8a99f2,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-2dfc9663-ea83-4209-ba25-3890559abc34,DISK], DatanodeInfoWithStorage[127.0.0.1:45475,DS-4be59cac-8a2d-4b61-bbeb-8217a6dd0045,DISK], DatanodeInfoWithStorage[127.0.0.1:39464,DS-af938a04-2c70-4ff2-9d37-6baaac0e042c,DISK]]; indices=[0, 2, 4, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 7 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=7); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-920738976-172.17.0.8-1599307709137:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41500,DS-9549f0be-f821-48ac-9298-594e956c6232,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-e47d83aa-30fb-4b8c-a34d-42062c8a99f2,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-2dfc9663-ea83-4209-ba25-3890559abc34,DISK], DatanodeInfoWithStorage[127.0.0.1:45475,DS-4be59cac-8a2d-4b61-bbeb-8217a6dd0045,DISK], DatanodeInfoWithStorage[127.0.0.1:39464,DS-af938a04-2c70-4ff2-9d37-6baaac0e042c,DISK]]; indices=[0, 2, 4, 7, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-920738976-172.17.0.8-1599307709137:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41500,DS-9549f0be-f821-48ac-9298-594e956c6232,DISK], DatanodeInfoWithStorage[127.0.0.1:39827,DS-e47d83aa-30fb-4b8c-a34d-42062c8a99f2,DISK], DatanodeInfoWithStorage[127.0.0.1:42886,DS-2dfc9663-ea83-4209-ba25-3890559abc34,DISK], DatanodeInfoWithStorage[127.0.0.1:45475,DS-4be59cac-8a2d-4b61-bbeb-8217a6dd0045,DISK], DatanodeInfoWithStorage[127.0.0.1:39464,DS-af938a04-2c70-4ff2-9d37-6baaac0e042c,DISK]]; indices=[0, 2, 4, 7, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1696848969-172.17.0.8-1599307833380:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38026,DS-a8a4d61a-9aa0-460e-ad8b-6e8baa8e4ac7,DISK], DatanodeInfoWithStorage[127.0.0.1:33388,DS-6458336f-0469-48f8-8bee-d941c05844e4,DISK], DatanodeInfoWithStorage[127.0.0.1:39319,DS-2dc94343-7ee6-49ec-9318-405a22f1aa9f,DISK], DatanodeInfoWithStorage[127.0.0.1:43549,DS-1a8dba1f-60db-4296-bed3-12c2791650cb,DISK], DatanodeInfoWithStorage[127.0.0.1:33800,DS-e42b32d9-d683-4c16-9016-1eace29468fa,DISK], DatanodeInfoWithStorage[127.0.0.1:36930,DS-d943f5e2-afb2-4899-9225-a7b833b2f1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45954,DS-0a8a2968-f91f-4aea-a379-6941138f8fc0,DISK]]; indices=[0, 3, 4, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1696848969-172.17.0.8-1599307833380:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38026,DS-a8a4d61a-9aa0-460e-ad8b-6e8baa8e4ac7,DISK], DatanodeInfoWithStorage[127.0.0.1:33388,DS-6458336f-0469-48f8-8bee-d941c05844e4,DISK], DatanodeInfoWithStorage[127.0.0.1:39319,DS-2dc94343-7ee6-49ec-9318-405a22f1aa9f,DISK], DatanodeInfoWithStorage[127.0.0.1:43549,DS-1a8dba1f-60db-4296-bed3-12c2791650cb,DISK], DatanodeInfoWithStorage[127.0.0.1:33800,DS-e42b32d9-d683-4c16-9016-1eace29468fa,DISK], DatanodeInfoWithStorage[127.0.0.1:36930,DS-d943f5e2-afb2-4899-9225-a7b833b2f1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45954,DS-0a8a2968-f91f-4aea-a379-6941138f8fc0,DISK]]; indices=[0, 3, 4, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1696848969-172.17.0.8-1599307833380:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38026,DS-a8a4d61a-9aa0-460e-ad8b-6e8baa8e4ac7,DISK], DatanodeInfoWithStorage[127.0.0.1:33388,DS-6458336f-0469-48f8-8bee-d941c05844e4,DISK], DatanodeInfoWithStorage[127.0.0.1:39319,DS-2dc94343-7ee6-49ec-9318-405a22f1aa9f,DISK], DatanodeInfoWithStorage[127.0.0.1:43549,DS-1a8dba1f-60db-4296-bed3-12c2791650cb,DISK], DatanodeInfoWithStorage[127.0.0.1:33800,DS-e42b32d9-d683-4c16-9016-1eace29468fa,DISK], DatanodeInfoWithStorage[127.0.0.1:36930,DS-d943f5e2-afb2-4899-9225-a7b833b2f1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45954,DS-0a8a2968-f91f-4aea-a379-6941138f8fc0,DISK]]; indices=[0, 3, 4, 6, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1696848969-172.17.0.8-1599307833380:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38026,DS-a8a4d61a-9aa0-460e-ad8b-6e8baa8e4ac7,DISK], DatanodeInfoWithStorage[127.0.0.1:33388,DS-6458336f-0469-48f8-8bee-d941c05844e4,DISK], DatanodeInfoWithStorage[127.0.0.1:39319,DS-2dc94343-7ee6-49ec-9318-405a22f1aa9f,DISK], DatanodeInfoWithStorage[127.0.0.1:43549,DS-1a8dba1f-60db-4296-bed3-12c2791650cb,DISK], DatanodeInfoWithStorage[127.0.0.1:33800,DS-e42b32d9-d683-4c16-9016-1eace29468fa,DISK], DatanodeInfoWithStorage[127.0.0.1:36930,DS-d943f5e2-afb2-4899-9225-a7b833b2f1e9,DISK], DatanodeInfoWithStorage[127.0.0.1:45954,DS-0a8a2968-f91f-4aea-a379-6941138f8fc0,DISK]]; indices=[0, 3, 4, 6, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1622543908-172.17.0.8-1599307922572:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42125,DS-c11b2282-68d8-4a39-ae92-f96c6f1acd2a,DISK], DatanodeInfoWithStorage[127.0.0.1:45915,DS-3a8e57f5-382a-409c-b672-c56a75b09e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37598,DS-77675f2b-5bee-4606-b0ff-0ce5d0db72ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34310,DS-04d7e521-3561-40f7-b914-a379e7a2d0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4f87183b-6541-4e71-bd94-729951ac5074,DISK], DatanodeInfoWithStorage[127.0.0.1:46106,DS-c5567337-a694-4214-9a6e-db66c3f41fe1,DISK], DatanodeInfoWithStorage[127.0.0.1:41882,DS-f0ecf858-7d12-4962-997e-2520b7e10f2a,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1622543908-172.17.0.8-1599307922572:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42125,DS-c11b2282-68d8-4a39-ae92-f96c6f1acd2a,DISK], DatanodeInfoWithStorage[127.0.0.1:45915,DS-3a8e57f5-382a-409c-b672-c56a75b09e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37598,DS-77675f2b-5bee-4606-b0ff-0ce5d0db72ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34310,DS-04d7e521-3561-40f7-b914-a379e7a2d0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4f87183b-6541-4e71-bd94-729951ac5074,DISK], DatanodeInfoWithStorage[127.0.0.1:46106,DS-c5567337-a694-4214-9a6e-db66c3f41fe1,DISK], DatanodeInfoWithStorage[127.0.0.1:41882,DS-f0ecf858-7d12-4962-997e-2520b7e10f2a,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1622543908-172.17.0.8-1599307922572:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42125,DS-c11b2282-68d8-4a39-ae92-f96c6f1acd2a,DISK], DatanodeInfoWithStorage[127.0.0.1:45915,DS-3a8e57f5-382a-409c-b672-c56a75b09e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37598,DS-77675f2b-5bee-4606-b0ff-0ce5d0db72ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34310,DS-04d7e521-3561-40f7-b914-a379e7a2d0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4f87183b-6541-4e71-bd94-729951ac5074,DISK], DatanodeInfoWithStorage[127.0.0.1:46106,DS-c5567337-a694-4214-9a6e-db66c3f41fe1,DISK], DatanodeInfoWithStorage[127.0.0.1:41882,DS-f0ecf858-7d12-4962-997e-2520b7e10f2a,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1622543908-172.17.0.8-1599307922572:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42125,DS-c11b2282-68d8-4a39-ae92-f96c6f1acd2a,DISK], DatanodeInfoWithStorage[127.0.0.1:45915,DS-3a8e57f5-382a-409c-b672-c56a75b09e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37598,DS-77675f2b-5bee-4606-b0ff-0ce5d0db72ec,DISK], DatanodeInfoWithStorage[127.0.0.1:34310,DS-04d7e521-3561-40f7-b914-a379e7a2d0f2,DISK], DatanodeInfoWithStorage[127.0.0.1:44909,DS-4f87183b-6541-4e71-bd94-729951ac5074,DISK], DatanodeInfoWithStorage[127.0.0.1:46106,DS-c5567337-a694-4214-9a6e-db66c3f41fe1,DISK], DatanodeInfoWithStorage[127.0.0.1:41882,DS-f0ecf858-7d12-4962-997e-2520b7e10f2a,DISK]]; indices=[2, 3, 4, 6, 7, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-414372056-172.17.0.8-1599308112282:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-cdf168e8-b1d0-4970-942b-b6d408a0931c,DISK], DatanodeInfoWithStorage[127.0.0.1:42424,DS-baa94100-1347-4ab5-b755-dffed7cd7c00,DISK], DatanodeInfoWithStorage[127.0.0.1:42580,DS-9e614e49-f531-484d-8d9d-aed4482f811a,DISK], DatanodeInfoWithStorage[127.0.0.1:42229,DS-546ada9d-49b5-4729-b08c-a0d9327c1f7f,DISK], DatanodeInfoWithStorage[127.0.0.1:35210,DS-5d6f1e5d-0d45-43d1-bbf9-778b9c119d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:36605,DS-d5d19ba5-a1a9-4910-a978-376eb4c94cfa,DISK]]; indices=[3, 5, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-414372056-172.17.0.8-1599308112282:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-cdf168e8-b1d0-4970-942b-b6d408a0931c,DISK], DatanodeInfoWithStorage[127.0.0.1:42424,DS-baa94100-1347-4ab5-b755-dffed7cd7c00,DISK], DatanodeInfoWithStorage[127.0.0.1:42580,DS-9e614e49-f531-484d-8d9d-aed4482f811a,DISK], DatanodeInfoWithStorage[127.0.0.1:42229,DS-546ada9d-49b5-4729-b08c-a0d9327c1f7f,DISK], DatanodeInfoWithStorage[127.0.0.1:35210,DS-5d6f1e5d-0d45-43d1-bbf9-778b9c119d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:36605,DS-d5d19ba5-a1a9-4910-a978-376eb4c94cfa,DISK]]; indices=[3, 5, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-414372056-172.17.0.8-1599308112282:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-cdf168e8-b1d0-4970-942b-b6d408a0931c,DISK], DatanodeInfoWithStorage[127.0.0.1:42424,DS-baa94100-1347-4ab5-b755-dffed7cd7c00,DISK], DatanodeInfoWithStorage[127.0.0.1:42580,DS-9e614e49-f531-484d-8d9d-aed4482f811a,DISK], DatanodeInfoWithStorage[127.0.0.1:42229,DS-546ada9d-49b5-4729-b08c-a0d9327c1f7f,DISK], DatanodeInfoWithStorage[127.0.0.1:35210,DS-5d6f1e5d-0d45-43d1-bbf9-778b9c119d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:36605,DS-d5d19ba5-a1a9-4910-a978-376eb4c94cfa,DISK]]; indices=[3, 5, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-414372056-172.17.0.8-1599308112282:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37995,DS-cdf168e8-b1d0-4970-942b-b6d408a0931c,DISK], DatanodeInfoWithStorage[127.0.0.1:42424,DS-baa94100-1347-4ab5-b755-dffed7cd7c00,DISK], DatanodeInfoWithStorage[127.0.0.1:42580,DS-9e614e49-f531-484d-8d9d-aed4482f811a,DISK], DatanodeInfoWithStorage[127.0.0.1:42229,DS-546ada9d-49b5-4729-b08c-a0d9327c1f7f,DISK], DatanodeInfoWithStorage[127.0.0.1:35210,DS-5d6f1e5d-0d45-43d1-bbf9-778b9c119d3a,DISK], DatanodeInfoWithStorage[127.0.0.1:36605,DS-d5d19ba5-a1a9-4910-a978-376eb4c94cfa,DISK]]; indices=[3, 5, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1702761694-172.17.0.8-1599308314204:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46662,DS-ef1bbdf4-b7b4-47aa-badb-1f3a6616af7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36661,DS-beede735-f0cd-4624-bc53-61e92df3feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:46674,DS-b977dc15-7b4d-4772-91c4-d31dbcbc44cf,DISK], DatanodeInfoWithStorage[127.0.0.1:40829,DS-22245185-2a8b-4dd9-85b2-e88bf2415af4,DISK], DatanodeInfoWithStorage[127.0.0.1:41237,DS-6fa23b4c-3c4a-4e90-afea-db60ec000080,DISK], DatanodeInfoWithStorage[127.0.0.1:37564,DS-4fda751a-5a9b-4524-a5d4-7d850010fb34,DISK]]; indices=[3, 4, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1702761694-172.17.0.8-1599308314204:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46662,DS-ef1bbdf4-b7b4-47aa-badb-1f3a6616af7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36661,DS-beede735-f0cd-4624-bc53-61e92df3feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:46674,DS-b977dc15-7b4d-4772-91c4-d31dbcbc44cf,DISK], DatanodeInfoWithStorage[127.0.0.1:40829,DS-22245185-2a8b-4dd9-85b2-e88bf2415af4,DISK], DatanodeInfoWithStorage[127.0.0.1:41237,DS-6fa23b4c-3c4a-4e90-afea-db60ec000080,DISK], DatanodeInfoWithStorage[127.0.0.1:37564,DS-4fda751a-5a9b-4524-a5d4-7d850010fb34,DISK]]; indices=[3, 4, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1702761694-172.17.0.8-1599308314204:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46662,DS-ef1bbdf4-b7b4-47aa-badb-1f3a6616af7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36661,DS-beede735-f0cd-4624-bc53-61e92df3feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:46674,DS-b977dc15-7b4d-4772-91c4-d31dbcbc44cf,DISK], DatanodeInfoWithStorage[127.0.0.1:40829,DS-22245185-2a8b-4dd9-85b2-e88bf2415af4,DISK], DatanodeInfoWithStorage[127.0.0.1:41237,DS-6fa23b4c-3c4a-4e90-afea-db60ec000080,DISK], DatanodeInfoWithStorage[127.0.0.1:37564,DS-4fda751a-5a9b-4524-a5d4-7d850010fb34,DISK]]; indices=[3, 4, 5, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1702761694-172.17.0.8-1599308314204:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46662,DS-ef1bbdf4-b7b4-47aa-badb-1f3a6616af7f,DISK], DatanodeInfoWithStorage[127.0.0.1:36661,DS-beede735-f0cd-4624-bc53-61e92df3feb1,DISK], DatanodeInfoWithStorage[127.0.0.1:46674,DS-b977dc15-7b4d-4772-91c4-d31dbcbc44cf,DISK], DatanodeInfoWithStorage[127.0.0.1:40829,DS-22245185-2a8b-4dd9-85b2-e88bf2415af4,DISK], DatanodeInfoWithStorage[127.0.0.1:41237,DS-6fa23b4c-3c4a-4e90-afea-db60ec000080,DISK], DatanodeInfoWithStorage[127.0.0.1:37564,DS-4fda751a-5a9b-4524-a5d4-7d850010fb34,DISK]]; indices=[3, 4, 5, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-955321639-172.17.0.8-1599308480932:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35156,DS-1ba986ff-45a0-4a97-881d-8ae4c6f8d430,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-9430231a-8c1b-42d2-af48-0ce2385cc23e,DISK], DatanodeInfoWithStorage[127.0.0.1:34203,DS-8fddee81-bcaf-4452-b0e7-cc40ea51b779,DISK], DatanodeInfoWithStorage[127.0.0.1:41476,DS-0c078105-5b14-4eca-8c8c-fc72758839a3,DISK], DatanodeInfoWithStorage[127.0.0.1:37524,DS-33632eb6-6b19-4d15-93b7-7bcb8417169d,DISK], DatanodeInfoWithStorage[127.0.0.1:43833,DS-cca10f3e-74d3-47a2-9a1a-61536eeb0666,DISK], DatanodeInfoWithStorage[127.0.0.1:37616,DS-961866c1-0ded-485f-bae8-37c283058ade,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-955321639-172.17.0.8-1599308480932:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35156,DS-1ba986ff-45a0-4a97-881d-8ae4c6f8d430,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-9430231a-8c1b-42d2-af48-0ce2385cc23e,DISK], DatanodeInfoWithStorage[127.0.0.1:34203,DS-8fddee81-bcaf-4452-b0e7-cc40ea51b779,DISK], DatanodeInfoWithStorage[127.0.0.1:41476,DS-0c078105-5b14-4eca-8c8c-fc72758839a3,DISK], DatanodeInfoWithStorage[127.0.0.1:37524,DS-33632eb6-6b19-4d15-93b7-7bcb8417169d,DISK], DatanodeInfoWithStorage[127.0.0.1:43833,DS-cca10f3e-74d3-47a2-9a1a-61536eeb0666,DISK], DatanodeInfoWithStorage[127.0.0.1:37616,DS-961866c1-0ded-485f-bae8-37c283058ade,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-955321639-172.17.0.8-1599308480932:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35156,DS-1ba986ff-45a0-4a97-881d-8ae4c6f8d430,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-9430231a-8c1b-42d2-af48-0ce2385cc23e,DISK], DatanodeInfoWithStorage[127.0.0.1:34203,DS-8fddee81-bcaf-4452-b0e7-cc40ea51b779,DISK], DatanodeInfoWithStorage[127.0.0.1:41476,DS-0c078105-5b14-4eca-8c8c-fc72758839a3,DISK], DatanodeInfoWithStorage[127.0.0.1:37524,DS-33632eb6-6b19-4d15-93b7-7bcb8417169d,DISK], DatanodeInfoWithStorage[127.0.0.1:43833,DS-cca10f3e-74d3-47a2-9a1a-61536eeb0666,DISK], DatanodeInfoWithStorage[127.0.0.1:37616,DS-961866c1-0ded-485f-bae8-37c283058ade,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-955321639-172.17.0.8-1599308480932:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35156,DS-1ba986ff-45a0-4a97-881d-8ae4c6f8d430,DISK], DatanodeInfoWithStorage[127.0.0.1:42992,DS-9430231a-8c1b-42d2-af48-0ce2385cc23e,DISK], DatanodeInfoWithStorage[127.0.0.1:34203,DS-8fddee81-bcaf-4452-b0e7-cc40ea51b779,DISK], DatanodeInfoWithStorage[127.0.0.1:41476,DS-0c078105-5b14-4eca-8c8c-fc72758839a3,DISK], DatanodeInfoWithStorage[127.0.0.1:37524,DS-33632eb6-6b19-4d15-93b7-7bcb8417169d,DISK], DatanodeInfoWithStorage[127.0.0.1:43833,DS-cca10f3e-74d3-47a2-9a1a-61536eeb0666,DISK], DatanodeInfoWithStorage[127.0.0.1:37616,DS-961866c1-0ded-485f-bae8-37c283058ade,DISK]]; indices=[1, 5, 7, 10, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1905946129-172.17.0.8-1599308575437:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38804,DS-dae3ea9a-ff39-4786-97d1-49da7dadd96c,DISK], DatanodeInfoWithStorage[127.0.0.1:37608,DS-ce5de309-2fad-4450-8810-3a431655c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:39655,DS-3e14e2d2-71e6-4017-a43d-2768d11232f9,DISK], DatanodeInfoWithStorage[127.0.0.1:43983,DS-057ebd50-db09-4a8c-a2e9-6b0fc0fedc77,DISK], DatanodeInfoWithStorage[127.0.0.1:41839,DS-f739c433-ff1b-481b-8284-ef6860d25f4e,DISK], DatanodeInfoWithStorage[127.0.0.1:40678,DS-8637c122-8ce8-4e0b-8deb-ad9d4364c098,DISK], DatanodeInfoWithStorage[127.0.0.1:35402,DS-f1364b7b-a811-416d-a2f8-f800afb5a51c,DISK]]; indices=[0, 1, 2, 6, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1905946129-172.17.0.8-1599308575437:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38804,DS-dae3ea9a-ff39-4786-97d1-49da7dadd96c,DISK], DatanodeInfoWithStorage[127.0.0.1:37608,DS-ce5de309-2fad-4450-8810-3a431655c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:39655,DS-3e14e2d2-71e6-4017-a43d-2768d11232f9,DISK], DatanodeInfoWithStorage[127.0.0.1:43983,DS-057ebd50-db09-4a8c-a2e9-6b0fc0fedc77,DISK], DatanodeInfoWithStorage[127.0.0.1:41839,DS-f739c433-ff1b-481b-8284-ef6860d25f4e,DISK], DatanodeInfoWithStorage[127.0.0.1:40678,DS-8637c122-8ce8-4e0b-8deb-ad9d4364c098,DISK], DatanodeInfoWithStorage[127.0.0.1:35402,DS-f1364b7b-a811-416d-a2f8-f800afb5a51c,DISK]]; indices=[0, 1, 2, 6, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1905946129-172.17.0.8-1599308575437:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38804,DS-dae3ea9a-ff39-4786-97d1-49da7dadd96c,DISK], DatanodeInfoWithStorage[127.0.0.1:37608,DS-ce5de309-2fad-4450-8810-3a431655c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:39655,DS-3e14e2d2-71e6-4017-a43d-2768d11232f9,DISK], DatanodeInfoWithStorage[127.0.0.1:43983,DS-057ebd50-db09-4a8c-a2e9-6b0fc0fedc77,DISK], DatanodeInfoWithStorage[127.0.0.1:41839,DS-f739c433-ff1b-481b-8284-ef6860d25f4e,DISK], DatanodeInfoWithStorage[127.0.0.1:40678,DS-8637c122-8ce8-4e0b-8deb-ad9d4364c098,DISK], DatanodeInfoWithStorage[127.0.0.1:35402,DS-f1364b7b-a811-416d-a2f8-f800afb5a51c,DISK]]; indices=[0, 1, 2, 6, 7, 11, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1905946129-172.17.0.8-1599308575437:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38804,DS-dae3ea9a-ff39-4786-97d1-49da7dadd96c,DISK], DatanodeInfoWithStorage[127.0.0.1:37608,DS-ce5de309-2fad-4450-8810-3a431655c0b9,DISK], DatanodeInfoWithStorage[127.0.0.1:39655,DS-3e14e2d2-71e6-4017-a43d-2768d11232f9,DISK], DatanodeInfoWithStorage[127.0.0.1:43983,DS-057ebd50-db09-4a8c-a2e9-6b0fc0fedc77,DISK], DatanodeInfoWithStorage[127.0.0.1:41839,DS-f739c433-ff1b-481b-8284-ef6860d25f4e,DISK], DatanodeInfoWithStorage[127.0.0.1:40678,DS-8637c122-8ce8-4e0b-8deb-ad9d4364c098,DISK], DatanodeInfoWithStorage[127.0.0.1:35402,DS-f1364b7b-a811-416d-a2f8-f800afb5a51c,DISK]]; indices=[0, 1, 2, 6, 7, 11, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-424289096-172.17.0.8-1599308798291:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40424,DS-fa4d3e57-d38e-45fe-84eb-7396b970643e,DISK], DatanodeInfoWithStorage[127.0.0.1:33039,DS-aaa30946-01c9-4d85-a88f-faac407c62fb,DISK], DatanodeInfoWithStorage[127.0.0.1:40319,DS-6849d0ba-3596-4b49-b9ce-0a03954d17ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35451,DS-77570ade-41e0-4fa4-b867-c61b96c65902,DISK], DatanodeInfoWithStorage[127.0.0.1:45781,DS-54ab0754-d0ff-43ed-99d3-082ac98e600a,DISK]]; indices=[0, 2, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-424289096-172.17.0.8-1599308798291:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40424,DS-fa4d3e57-d38e-45fe-84eb-7396b970643e,DISK], DatanodeInfoWithStorage[127.0.0.1:33039,DS-aaa30946-01c9-4d85-a88f-faac407c62fb,DISK], DatanodeInfoWithStorage[127.0.0.1:40319,DS-6849d0ba-3596-4b49-b9ce-0a03954d17ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35451,DS-77570ade-41e0-4fa4-b867-c61b96c65902,DISK], DatanodeInfoWithStorage[127.0.0.1:45781,DS-54ab0754-d0ff-43ed-99d3-082ac98e600a,DISK]]; indices=[0, 2, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-424289096-172.17.0.8-1599308798291:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40424,DS-fa4d3e57-d38e-45fe-84eb-7396b970643e,DISK], DatanodeInfoWithStorage[127.0.0.1:33039,DS-aaa30946-01c9-4d85-a88f-faac407c62fb,DISK], DatanodeInfoWithStorage[127.0.0.1:40319,DS-6849d0ba-3596-4b49-b9ce-0a03954d17ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35451,DS-77570ade-41e0-4fa4-b867-c61b96c65902,DISK], DatanodeInfoWithStorage[127.0.0.1:45781,DS-54ab0754-d0ff-43ed-99d3-082ac98e600a,DISK]]; indices=[0, 2, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-424289096-172.17.0.8-1599308798291:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40424,DS-fa4d3e57-d38e-45fe-84eb-7396b970643e,DISK], DatanodeInfoWithStorage[127.0.0.1:33039,DS-aaa30946-01c9-4d85-a88f-faac407c62fb,DISK], DatanodeInfoWithStorage[127.0.0.1:40319,DS-6849d0ba-3596-4b49-b9ce-0a03954d17ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35451,DS-77570ade-41e0-4fa4-b867-c61b96c65902,DISK], DatanodeInfoWithStorage[127.0.0.1:45781,DS-54ab0754-d0ff-43ed-99d3-082ac98e600a,DISK]]; indices=[0, 2, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-157150716-172.17.0.8-1599308891864:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35944,DS-a886e72e-e533-4db7-96a6-fe5eb2e4bb53,DISK], DatanodeInfoWithStorage[127.0.0.1:34519,DS-5f9bbda1-fced-4ad1-bda7-b6fbb0704e9a,DISK], DatanodeInfoWithStorage[127.0.0.1:34497,DS-67d6fec2-9a8e-410b-a0a8-caf6cac7ce47,DISK], DatanodeInfoWithStorage[127.0.0.1:39010,DS-6c8458f3-e0ed-4428-80f0-54204fde21c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37911,DS-402fc441-1505-406e-900a-19a67c99a5ef,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-6229bc8f-767d-4a51-8d63-1dd92ed16429,DISK]]; indices=[0, 6, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-157150716-172.17.0.8-1599308891864:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35944,DS-a886e72e-e533-4db7-96a6-fe5eb2e4bb53,DISK], DatanodeInfoWithStorage[127.0.0.1:34519,DS-5f9bbda1-fced-4ad1-bda7-b6fbb0704e9a,DISK], DatanodeInfoWithStorage[127.0.0.1:34497,DS-67d6fec2-9a8e-410b-a0a8-caf6cac7ce47,DISK], DatanodeInfoWithStorage[127.0.0.1:39010,DS-6c8458f3-e0ed-4428-80f0-54204fde21c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37911,DS-402fc441-1505-406e-900a-19a67c99a5ef,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-6229bc8f-767d-4a51-8d63-1dd92ed16429,DISK]]; indices=[0, 6, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-157150716-172.17.0.8-1599308891864:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35944,DS-a886e72e-e533-4db7-96a6-fe5eb2e4bb53,DISK], DatanodeInfoWithStorage[127.0.0.1:34519,DS-5f9bbda1-fced-4ad1-bda7-b6fbb0704e9a,DISK], DatanodeInfoWithStorage[127.0.0.1:34497,DS-67d6fec2-9a8e-410b-a0a8-caf6cac7ce47,DISK], DatanodeInfoWithStorage[127.0.0.1:39010,DS-6c8458f3-e0ed-4428-80f0-54204fde21c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37911,DS-402fc441-1505-406e-900a-19a67c99a5ef,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-6229bc8f-767d-4a51-8d63-1dd92ed16429,DISK]]; indices=[0, 6, 7, 10, 11, 12]}];  lastLocatedBlock=LocatedStripedBlock{BP-157150716-172.17.0.8-1599308891864:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35944,DS-a886e72e-e533-4db7-96a6-fe5eb2e4bb53,DISK], DatanodeInfoWithStorage[127.0.0.1:34519,DS-5f9bbda1-fced-4ad1-bda7-b6fbb0704e9a,DISK], DatanodeInfoWithStorage[127.0.0.1:34497,DS-67d6fec2-9a8e-410b-a0a8-caf6cac7ce47,DISK], DatanodeInfoWithStorage[127.0.0.1:39010,DS-6c8458f3-e0ed-4428-80f0-54204fde21c2,DISK], DatanodeInfoWithStorage[127.0.0.1:37911,DS-402fc441-1505-406e-900a-19a67c99a5ef,DISK], DatanodeInfoWithStorage[127.0.0.1:44581,DS-6229bc8f-767d-4a51-8d63-1dd92ed16429,DISK]]; indices=[0, 6, 7, 10, 11, 12]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 3 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=3); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1817897068-172.17.0.8-1599308950244:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43164,DS-6acc461d-4486-450e-b85c-a1489f82d9b2,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-892b9832-da76-4819-b30d-820871bc57f5,DISK]]; indices=[3, 4]}];  lastLocatedBlock=LocatedStripedBlock{BP-1817897068-172.17.0.8-1599308950244:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43164,DS-6acc461d-4486-450e-b85c-a1489f82d9b2,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-892b9832-da76-4819-b30d-820871bc57f5,DISK]]; indices=[3, 4]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2]}
stackTrace: java.io.IOException: 3 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=3); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1817897068-172.17.0.8-1599308950244:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43164,DS-6acc461d-4486-450e-b85c-a1489f82d9b2,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-892b9832-da76-4819-b30d-820871bc57f5,DISK]]; indices=[3, 4]}];  lastLocatedBlock=LocatedStripedBlock{BP-1817897068-172.17.0.8-1599308950244:blk_-9223372036854775776_1002; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43164,DS-6acc461d-4486-450e-b85c-a1489f82d9b2,DISK], DatanodeInfoWithStorage[127.0.0.1:35183,DS-892b9832-da76-4819-b30d-820871bc57f5,DISK]]; indices=[3, 4]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-3-2-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=3, numParityUnits=2]], CellSize=1048576, Id=2]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:550)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-272864857-172.17.0.8-1599309040548:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45840,DS-3f0a494e-2339-4f0a-b862-1915d46ecd60,DISK], DatanodeInfoWithStorage[127.0.0.1:38348,DS-8d6fb122-5714-4f9e-838d-70a9143cbbc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40761,DS-3f7e06d3-06f7-42c7-be86-785a4a12f467,DISK], DatanodeInfoWithStorage[127.0.0.1:33970,DS-fe548d86-986c-48a4-8164-831545328266,DISK], DatanodeInfoWithStorage[127.0.0.1:38394,DS-3699c5dc-0157-4985-bf4b-b5f7d44b8129,DISK], DatanodeInfoWithStorage[127.0.0.1:41205,DS-365c4155-2366-443a-8b7a-20c38f7b006e,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-f919d65f-f2d1-4126-8811-7313d783435b,DISK]]; indices=[0, 4, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-272864857-172.17.0.8-1599309040548:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45840,DS-3f0a494e-2339-4f0a-b862-1915d46ecd60,DISK], DatanodeInfoWithStorage[127.0.0.1:38348,DS-8d6fb122-5714-4f9e-838d-70a9143cbbc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40761,DS-3f7e06d3-06f7-42c7-be86-785a4a12f467,DISK], DatanodeInfoWithStorage[127.0.0.1:33970,DS-fe548d86-986c-48a4-8164-831545328266,DISK], DatanodeInfoWithStorage[127.0.0.1:38394,DS-3699c5dc-0157-4985-bf4b-b5f7d44b8129,DISK], DatanodeInfoWithStorage[127.0.0.1:41205,DS-365c4155-2366-443a-8b7a-20c38f7b006e,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-f919d65f-f2d1-4126-8811-7313d783435b,DISK]]; indices=[0, 4, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-272864857-172.17.0.8-1599309040548:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45840,DS-3f0a494e-2339-4f0a-b862-1915d46ecd60,DISK], DatanodeInfoWithStorage[127.0.0.1:38348,DS-8d6fb122-5714-4f9e-838d-70a9143cbbc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40761,DS-3f7e06d3-06f7-42c7-be86-785a4a12f467,DISK], DatanodeInfoWithStorage[127.0.0.1:33970,DS-fe548d86-986c-48a4-8164-831545328266,DISK], DatanodeInfoWithStorage[127.0.0.1:38394,DS-3699c5dc-0157-4985-bf4b-b5f7d44b8129,DISK], DatanodeInfoWithStorage[127.0.0.1:41205,DS-365c4155-2366-443a-8b7a-20c38f7b006e,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-f919d65f-f2d1-4126-8811-7313d783435b,DISK]]; indices=[0, 4, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-272864857-172.17.0.8-1599309040548:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45840,DS-3f0a494e-2339-4f0a-b862-1915d46ecd60,DISK], DatanodeInfoWithStorage[127.0.0.1:38348,DS-8d6fb122-5714-4f9e-838d-70a9143cbbc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40761,DS-3f7e06d3-06f7-42c7-be86-785a4a12f467,DISK], DatanodeInfoWithStorage[127.0.0.1:33970,DS-fe548d86-986c-48a4-8164-831545328266,DISK], DatanodeInfoWithStorage[127.0.0.1:38394,DS-3699c5dc-0157-4985-bf4b-b5f7d44b8129,DISK], DatanodeInfoWithStorage[127.0.0.1:41205,DS-365c4155-2366-443a-8b7a-20c38f7b006e,DISK], DatanodeInfoWithStorage[127.0.0.1:46329,DS-f919d65f-f2d1-4126-8811-7313d783435b,DISK]]; indices=[0, 4, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1735873292-172.17.0.8-1599309130314:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45572,DS-0e7ce873-da13-4e8a-a4a2-1aff603be8d4,DISK], DatanodeInfoWithStorage[127.0.0.1:42376,DS-9019d98a-2029-459e-9754-42482abf2139,DISK], DatanodeInfoWithStorage[127.0.0.1:35892,DS-0cd620c0-7328-4501-a0e7-611572038d1c,DISK], DatanodeInfoWithStorage[127.0.0.1:45575,DS-f816e5e9-6f5a-4660-8cf3-18ca8f893d97,DISK], DatanodeInfoWithStorage[127.0.0.1:40901,DS-cbeaebac-b6b8-47b3-9394-069eff296db3,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-6a7f5a53-a14e-43ad-9044-7adcde8d64ee,DISK]]; indices=[3, 5, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1735873292-172.17.0.8-1599309130314:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45572,DS-0e7ce873-da13-4e8a-a4a2-1aff603be8d4,DISK], DatanodeInfoWithStorage[127.0.0.1:42376,DS-9019d98a-2029-459e-9754-42482abf2139,DISK], DatanodeInfoWithStorage[127.0.0.1:35892,DS-0cd620c0-7328-4501-a0e7-611572038d1c,DISK], DatanodeInfoWithStorage[127.0.0.1:45575,DS-f816e5e9-6f5a-4660-8cf3-18ca8f893d97,DISK], DatanodeInfoWithStorage[127.0.0.1:40901,DS-cbeaebac-b6b8-47b3-9394-069eff296db3,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-6a7f5a53-a14e-43ad-9044-7adcde8d64ee,DISK]]; indices=[3, 5, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1735873292-172.17.0.8-1599309130314:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45572,DS-0e7ce873-da13-4e8a-a4a2-1aff603be8d4,DISK], DatanodeInfoWithStorage[127.0.0.1:42376,DS-9019d98a-2029-459e-9754-42482abf2139,DISK], DatanodeInfoWithStorage[127.0.0.1:35892,DS-0cd620c0-7328-4501-a0e7-611572038d1c,DISK], DatanodeInfoWithStorage[127.0.0.1:45575,DS-f816e5e9-6f5a-4660-8cf3-18ca8f893d97,DISK], DatanodeInfoWithStorage[127.0.0.1:40901,DS-cbeaebac-b6b8-47b3-9394-069eff296db3,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-6a7f5a53-a14e-43ad-9044-7adcde8d64ee,DISK]]; indices=[3, 5, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1735873292-172.17.0.8-1599309130314:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45572,DS-0e7ce873-da13-4e8a-a4a2-1aff603be8d4,DISK], DatanodeInfoWithStorage[127.0.0.1:42376,DS-9019d98a-2029-459e-9754-42482abf2139,DISK], DatanodeInfoWithStorage[127.0.0.1:35892,DS-0cd620c0-7328-4501-a0e7-611572038d1c,DISK], DatanodeInfoWithStorage[127.0.0.1:45575,DS-f816e5e9-6f5a-4660-8cf3-18ca8f893d97,DISK], DatanodeInfoWithStorage[127.0.0.1:40901,DS-cbeaebac-b6b8-47b3-9394-069eff296db3,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-6a7f5a53-a14e-43ad-9044-7adcde8d64ee,DISK]]; indices=[3, 5, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-317446727-172.17.0.8-1599309596082:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37158,DS-778b82be-b3a5-4e42-927c-e9c135c5fb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:39961,DS-d77990da-5fa8-4004-989c-ab2067481244,DISK], DatanodeInfoWithStorage[127.0.0.1:34863,DS-c00e7c06-eed2-4f58-a331-fe44914fd873,DISK], DatanodeInfoWithStorage[127.0.0.1:42287,DS-7a34f544-ecef-448a-a00d-c92a98a585b0,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-9e0b178d-f9c8-424e-adef-d58b25117c42,DISK], DatanodeInfoWithStorage[127.0.0.1:36237,DS-fd538808-0a0f-4d46-903d-1b38444c3922,DISK], DatanodeInfoWithStorage[127.0.0.1:42401,DS-87ddc765-a187-495e-bdd6-4a530ca7407e,DISK]]; indices=[1, 2, 6, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-317446727-172.17.0.8-1599309596082:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37158,DS-778b82be-b3a5-4e42-927c-e9c135c5fb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:39961,DS-d77990da-5fa8-4004-989c-ab2067481244,DISK], DatanodeInfoWithStorage[127.0.0.1:34863,DS-c00e7c06-eed2-4f58-a331-fe44914fd873,DISK], DatanodeInfoWithStorage[127.0.0.1:42287,DS-7a34f544-ecef-448a-a00d-c92a98a585b0,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-9e0b178d-f9c8-424e-adef-d58b25117c42,DISK], DatanodeInfoWithStorage[127.0.0.1:36237,DS-fd538808-0a0f-4d46-903d-1b38444c3922,DISK], DatanodeInfoWithStorage[127.0.0.1:42401,DS-87ddc765-a187-495e-bdd6-4a530ca7407e,DISK]]; indices=[1, 2, 6, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-317446727-172.17.0.8-1599309596082:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37158,DS-778b82be-b3a5-4e42-927c-e9c135c5fb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:39961,DS-d77990da-5fa8-4004-989c-ab2067481244,DISK], DatanodeInfoWithStorage[127.0.0.1:34863,DS-c00e7c06-eed2-4f58-a331-fe44914fd873,DISK], DatanodeInfoWithStorage[127.0.0.1:42287,DS-7a34f544-ecef-448a-a00d-c92a98a585b0,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-9e0b178d-f9c8-424e-adef-d58b25117c42,DISK], DatanodeInfoWithStorage[127.0.0.1:36237,DS-fd538808-0a0f-4d46-903d-1b38444c3922,DISK], DatanodeInfoWithStorage[127.0.0.1:42401,DS-87ddc765-a187-495e-bdd6-4a530ca7407e,DISK]]; indices=[1, 2, 6, 7, 10, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-317446727-172.17.0.8-1599309596082:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37158,DS-778b82be-b3a5-4e42-927c-e9c135c5fb1e,DISK], DatanodeInfoWithStorage[127.0.0.1:39961,DS-d77990da-5fa8-4004-989c-ab2067481244,DISK], DatanodeInfoWithStorage[127.0.0.1:34863,DS-c00e7c06-eed2-4f58-a331-fe44914fd873,DISK], DatanodeInfoWithStorage[127.0.0.1:42287,DS-7a34f544-ecef-448a-a00d-c92a98a585b0,DISK], DatanodeInfoWithStorage[127.0.0.1:38626,DS-9e0b178d-f9c8-424e-adef-d58b25117c42,DISK], DatanodeInfoWithStorage[127.0.0.1:36237,DS-fd538808-0a0f-4d46-903d-1b38444c3922,DISK], DatanodeInfoWithStorage[127.0.0.1:42401,DS-87ddc765-a187-495e-bdd6-4a530ca7407e,DISK]]; indices=[1, 2, 6, 7, 10, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1823200439-172.17.0.8-1599309819766:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40971,DS-ba56718b-6704-46c4-9d24-237d6a499ac1,DISK], DatanodeInfoWithStorage[127.0.0.1:33687,DS-92a19f75-d985-4bcf-8bc6-2050b17ed0ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32858,DS-1b5233b6-1209-4d36-9e4e-f56538ca4ef1,DISK], DatanodeInfoWithStorage[127.0.0.1:33057,DS-fa271680-d7d6-42fc-a3eb-51ef6ff284cc,DISK], DatanodeInfoWithStorage[127.0.0.1:34401,DS-cf819e80-7a8a-4c02-9416-825dede33a6e,DISK], DatanodeInfoWithStorage[127.0.0.1:45700,DS-20d70a61-c6b4-43ed-964d-8c7fd802583e,DISK], DatanodeInfoWithStorage[127.0.0.1:39426,DS-2ee64ad9-ee4a-4730-ac3b-af87b7ce3298,DISK]]; indices=[0, 1, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1823200439-172.17.0.8-1599309819766:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40971,DS-ba56718b-6704-46c4-9d24-237d6a499ac1,DISK], DatanodeInfoWithStorage[127.0.0.1:33687,DS-92a19f75-d985-4bcf-8bc6-2050b17ed0ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32858,DS-1b5233b6-1209-4d36-9e4e-f56538ca4ef1,DISK], DatanodeInfoWithStorage[127.0.0.1:33057,DS-fa271680-d7d6-42fc-a3eb-51ef6ff284cc,DISK], DatanodeInfoWithStorage[127.0.0.1:34401,DS-cf819e80-7a8a-4c02-9416-825dede33a6e,DISK], DatanodeInfoWithStorage[127.0.0.1:45700,DS-20d70a61-c6b4-43ed-964d-8c7fd802583e,DISK], DatanodeInfoWithStorage[127.0.0.1:39426,DS-2ee64ad9-ee4a-4730-ac3b-af87b7ce3298,DISK]]; indices=[0, 1, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1823200439-172.17.0.8-1599309819766:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40971,DS-ba56718b-6704-46c4-9d24-237d6a499ac1,DISK], DatanodeInfoWithStorage[127.0.0.1:33687,DS-92a19f75-d985-4bcf-8bc6-2050b17ed0ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32858,DS-1b5233b6-1209-4d36-9e4e-f56538ca4ef1,DISK], DatanodeInfoWithStorage[127.0.0.1:33057,DS-fa271680-d7d6-42fc-a3eb-51ef6ff284cc,DISK], DatanodeInfoWithStorage[127.0.0.1:34401,DS-cf819e80-7a8a-4c02-9416-825dede33a6e,DISK], DatanodeInfoWithStorage[127.0.0.1:45700,DS-20d70a61-c6b4-43ed-964d-8c7fd802583e,DISK], DatanodeInfoWithStorage[127.0.0.1:39426,DS-2ee64ad9-ee4a-4730-ac3b-af87b7ce3298,DISK]]; indices=[0, 1, 6, 7, 11, 12, 13]}];  lastLocatedBlock=LocatedStripedBlock{BP-1823200439-172.17.0.8-1599309819766:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40971,DS-ba56718b-6704-46c4-9d24-237d6a499ac1,DISK], DatanodeInfoWithStorage[127.0.0.1:33687,DS-92a19f75-d985-4bcf-8bc6-2050b17ed0ea,DISK], DatanodeInfoWithStorage[127.0.0.1:32858,DS-1b5233b6-1209-4d36-9e4e-f56538ca4ef1,DISK], DatanodeInfoWithStorage[127.0.0.1:33057,DS-fa271680-d7d6-42fc-a3eb-51ef6ff284cc,DISK], DatanodeInfoWithStorage[127.0.0.1:34401,DS-cf819e80-7a8a-4c02-9416-825dede33a6e,DISK], DatanodeInfoWithStorage[127.0.0.1:45700,DS-20d70a61-c6b4-43ed-964d-8c7fd802583e,DISK], DatanodeInfoWithStorage[127.0.0.1:39426,DS-2ee64ad9-ee4a-4730-ac3b-af87b7ce3298,DISK]]; indices=[0, 1, 6, 7, 11, 12, 13]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: Zero blocklocations for /ec-10-4/striped_file_10_4. Name node is in safe mode.
The reported blocks 0 needs additional 1 blocks to reach the threshold 0.9990 of total blocks 2.
The minimum number of live datanodes is not required. Safe mode will be turned off automatically once the thresholds have been reached. NamenodeHostName:localhost
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.newSafemodeException(FSNamesystem.java:1476)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1960)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:755)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:439)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)

stackTrace: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.server.namenode.SafeModeException): Zero blocklocations for /ec-10-4/striped_file_10_4. Name node is in safe mode.
The reported blocks 0 needs additional 1 blocks to reach the threshold 0.9990 of total blocks 2.
The minimum number of live datanodes is not required. Safe mode will be turned off automatically once the thresholds have been reached. NamenodeHostName:localhost
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.newSafemodeException(FSNamesystem.java:1476)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:1960)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:755)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:439)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:999)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:927)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2915)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1545)
	at org.apache.hadoop.ipc.Client.call(Client.java:1491)
	at org.apache.hadoop.ipc.Client.call(Client.java:1388)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy23.getBlockLocations(Unknown Source)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:324)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy24.getBlockLocations(Unknown Source)
	at org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:864)
	at org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:853)
	at org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:842)
	at org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1010)
	at org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:319)
	at org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:315)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:327)
	at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:899)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.heartbeat.interval
component: hdfs:NameNode
v1: 3s
v2: 30ms
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.server.namenode.TestFSImage#testSupportBlockGroup
reconfPoint: -2
result: -1
failureMessage: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-768450554-172.17.0.8-1599309906411:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-f4a1af51-513b-4060-8b26-9b5ddaab7f57,DISK], DatanodeInfoWithStorage[127.0.0.1:32922,DS-cf257f89-3a6a-4c53-af13-7a43cfc90408,DISK], DatanodeInfoWithStorage[127.0.0.1:33386,DS-3df3d0f8-d254-496b-b5a0-ddd801a0a517,DISK], DatanodeInfoWithStorage[127.0.0.1:41429,DS-d4638d01-454d-452a-954e-50a86893143f,DISK], DatanodeInfoWithStorage[127.0.0.1:34524,DS-f8c87fb1-0992-4b79-9933-3cc754394e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38492,DS-1cbb7fc8-9e0b-4095-aaa0-d47895f990af,DISK]]; indices=[1, 3, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-768450554-172.17.0.8-1599309906411:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-f4a1af51-513b-4060-8b26-9b5ddaab7f57,DISK], DatanodeInfoWithStorage[127.0.0.1:32922,DS-cf257f89-3a6a-4c53-af13-7a43cfc90408,DISK], DatanodeInfoWithStorage[127.0.0.1:33386,DS-3df3d0f8-d254-496b-b5a0-ddd801a0a517,DISK], DatanodeInfoWithStorage[127.0.0.1:41429,DS-d4638d01-454d-452a-954e-50a86893143f,DISK], DatanodeInfoWithStorage[127.0.0.1:34524,DS-f8c87fb1-0992-4b79-9933-3cc754394e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38492,DS-1cbb7fc8-9e0b-4095-aaa0-d47895f990af,DISK]]; indices=[1, 3, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
stackTrace: java.io.IOException: 6 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1048576, fetchedChunksNum=0, missingChunksNum=6); locatedBlocks is: LocatedBlocks{;  fileLength=8388608;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-768450554-172.17.0.8-1599309906411:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-f4a1af51-513b-4060-8b26-9b5ddaab7f57,DISK], DatanodeInfoWithStorage[127.0.0.1:32922,DS-cf257f89-3a6a-4c53-af13-7a43cfc90408,DISK], DatanodeInfoWithStorage[127.0.0.1:33386,DS-3df3d0f8-d254-496b-b5a0-ddd801a0a517,DISK], DatanodeInfoWithStorage[127.0.0.1:41429,DS-d4638d01-454d-452a-954e-50a86893143f,DISK], DatanodeInfoWithStorage[127.0.0.1:34524,DS-f8c87fb1-0992-4b79-9933-3cc754394e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38492,DS-1cbb7fc8-9e0b-4095-aaa0-d47895f990af,DISK]]; indices=[1, 3, 5, 6, 7, 10]}];  lastLocatedBlock=LocatedStripedBlock{BP-768450554-172.17.0.8-1599309906411:blk_-9223372036854775792_1001; getBlockSize()=8388608; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35986,DS-f4a1af51-513b-4060-8b26-9b5ddaab7f57,DISK], DatanodeInfoWithStorage[127.0.0.1:32922,DS-cf257f89-3a6a-4c53-af13-7a43cfc90408,DISK], DatanodeInfoWithStorage[127.0.0.1:33386,DS-3df3d0f8-d254-496b-b5a0-ddd801a0a517,DISK], DatanodeInfoWithStorage[127.0.0.1:41429,DS-d4638d01-454d-452a-954e-50a86893143f,DISK], DatanodeInfoWithStorage[127.0.0.1:34524,DS-f8c87fb1-0992-4b79-9933-3cc754394e8a,DISK], DatanodeInfoWithStorage[127.0.0.1:38492,DS-1cbb7fc8-9e0b-4095-aaa0-d47895f990af,DISK]]; indices=[1, 3, 5, 6, 7, 10]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-10-4-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=10, numParityUnits=4]], CellSize=1048576, Id=5]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:100)
	at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:94)
	at org.apache.hadoop.hdfs.DFSTestUtil.readFileAsBytes(DFSTestUtil.java:372)
	at org.apache.hadoop.hdfs.server.namenode.TestFSImage.testSupportBlockGroup(TestFSImage.java:531)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 10 out of 50
v1v1v2v2 failed with probability 12 out of 50
result: false positive !!!
Total execution time in seconds : 4695
