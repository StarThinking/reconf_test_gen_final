reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-164872756-172.17.0.14-1599312808490:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40815,DS-669364ec-651c-4beb-911e-c219c3295d35,DISK], DatanodeInfoWithStorage[127.0.0.1:42729,DS-aefabd02-8721-4acb-aff4-8e19418e7222,DISK], DatanodeInfoWithStorage[127.0.0.1:39068,DS-4af580b1-8d7d-49b9-abe7-3183964abf39,DISK], DatanodeInfoWithStorage[127.0.0.1:39593,DS-d790134a-86fa-4784-8f96-f5595d1f360a,DISK], DatanodeInfoWithStorage[127.0.0.1:38637,DS-3ebc6217-c108-4942-8e57-2db0cb4a5109,DISK], DatanodeInfoWithStorage[127.0.0.1:33692,DS-b63aa94b-a687-4dca-b788-72bb8ad4b6a1,DISK], DatanodeInfoWithStorage[127.0.0.1:45414,DS-886c1507-e513-4bc8-a652-ec4c09d4161c,DISK], DatanodeInfoWithStorage[127.0.0.1:44865,DS-dc4cccd8-c026-4275-89d7-d22f3e05240c,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-164872756-172.17.0.14-1599312808490:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40815,DS-669364ec-651c-4beb-911e-c219c3295d35,DISK], DatanodeInfoWithStorage[127.0.0.1:42729,DS-aefabd02-8721-4acb-aff4-8e19418e7222,DISK], DatanodeInfoWithStorage[127.0.0.1:39068,DS-4af580b1-8d7d-49b9-abe7-3183964abf39,DISK], DatanodeInfoWithStorage[127.0.0.1:39593,DS-d790134a-86fa-4784-8f96-f5595d1f360a,DISK], DatanodeInfoWithStorage[127.0.0.1:38637,DS-3ebc6217-c108-4942-8e57-2db0cb4a5109,DISK], DatanodeInfoWithStorage[127.0.0.1:33692,DS-b63aa94b-a687-4dca-b788-72bb8ad4b6a1,DISK], DatanodeInfoWithStorage[127.0.0.1:45414,DS-886c1507-e513-4bc8-a652-ec4c09d4161c,DISK], DatanodeInfoWithStorage[127.0.0.1:44865,DS-dc4cccd8-c026-4275-89d7-d22f3e05240c,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1292898462-172.17.0.14-1599313384052:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37017,DS-701bdd26-8015-4b6e-b86a-1b4bf38b6e0d,DISK], DatanodeInfoWithStorage[127.0.0.1:39422,DS-683d4c0c-5b7c-4763-a37c-48c86633ad76,DISK], DatanodeInfoWithStorage[127.0.0.1:41127,DS-fb38b764-702d-4604-b578-2cf9a8d9e0f4,DISK], DatanodeInfoWithStorage[127.0.0.1:34553,DS-e3d82cd4-7c6f-41ae-b234-e573243217ac,DISK], DatanodeInfoWithStorage[127.0.0.1:38684,DS-d70f58ec-7720-4245-9011-5e12102afaee,DISK], DatanodeInfoWithStorage[127.0.0.1:38122,DS-3ea45fe7-36bc-4d86-8401-37e31c95010d,DISK], DatanodeInfoWithStorage[127.0.0.1:39174,DS-ce4ff1d3-08d3-4395-a856-2c997172c9dc,DISK], DatanodeInfoWithStorage[127.0.0.1:33721,DS-1617134b-4e28-493e-a4d8-d42f99463d59,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1292898462-172.17.0.14-1599313384052:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37017,DS-701bdd26-8015-4b6e-b86a-1b4bf38b6e0d,DISK], DatanodeInfoWithStorage[127.0.0.1:39422,DS-683d4c0c-5b7c-4763-a37c-48c86633ad76,DISK], DatanodeInfoWithStorage[127.0.0.1:41127,DS-fb38b764-702d-4604-b578-2cf9a8d9e0f4,DISK], DatanodeInfoWithStorage[127.0.0.1:34553,DS-e3d82cd4-7c6f-41ae-b234-e573243217ac,DISK], DatanodeInfoWithStorage[127.0.0.1:38684,DS-d70f58ec-7720-4245-9011-5e12102afaee,DISK], DatanodeInfoWithStorage[127.0.0.1:38122,DS-3ea45fe7-36bc-4d86-8401-37e31c95010d,DISK], DatanodeInfoWithStorage[127.0.0.1:39174,DS-ce4ff1d3-08d3-4395-a856-2c997172c9dc,DISK], DatanodeInfoWithStorage[127.0.0.1:33721,DS-1617134b-4e28-493e-a4d8-d42f99463d59,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-990179625-172.17.0.14-1599314087482:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36866,DS-267d4a0f-955d-4851-8fcf-01f47b7a40bd,DISK], DatanodeInfoWithStorage[127.0.0.1:33706,DS-07cdc530-908e-4760-b250-575221e95600,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-af6026c6-622f-40f4-9465-56c612cccf8e,DISK], DatanodeInfoWithStorage[127.0.0.1:40668,DS-a1ad80a0-b9a6-47c2-b3ab-de5e0321703e,DISK], DatanodeInfoWithStorage[127.0.0.1:39469,DS-85da9255-b740-473f-a727-56862b177805,DISK], DatanodeInfoWithStorage[127.0.0.1:46427,DS-749941b1-5044-4fa3-9e4f-40e1f2495417,DISK], DatanodeInfoWithStorage[127.0.0.1:37106,DS-099042ed-934d-48a5-b7c4-06ebae92258f,DISK], DatanodeInfoWithStorage[127.0.0.1:37998,DS-de25031d-5648-47ae-8076-5ff004e15e3e,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-990179625-172.17.0.14-1599314087482:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36866,DS-267d4a0f-955d-4851-8fcf-01f47b7a40bd,DISK], DatanodeInfoWithStorage[127.0.0.1:33706,DS-07cdc530-908e-4760-b250-575221e95600,DISK], DatanodeInfoWithStorage[127.0.0.1:46530,DS-af6026c6-622f-40f4-9465-56c612cccf8e,DISK], DatanodeInfoWithStorage[127.0.0.1:40668,DS-a1ad80a0-b9a6-47c2-b3ab-de5e0321703e,DISK], DatanodeInfoWithStorage[127.0.0.1:39469,DS-85da9255-b740-473f-a727-56862b177805,DISK], DatanodeInfoWithStorage[127.0.0.1:46427,DS-749941b1-5044-4fa3-9e4f-40e1f2495417,DISK], DatanodeInfoWithStorage[127.0.0.1:37106,DS-099042ed-934d-48a5-b7c4-06ebae92258f,DISK], DatanodeInfoWithStorage[127.0.0.1:37998,DS-de25031d-5648-47ae-8076-5ff004e15e3e,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-394504394-172.17.0.14-1599314271074:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35360,DS-529557f5-58cb-42e6-959b-bb4901b6b4e7,DISK], DatanodeInfoWithStorage[127.0.0.1:41891,DS-a801b797-740f-4386-9af2-352d5b13ee06,DISK], DatanodeInfoWithStorage[127.0.0.1:39287,DS-10939ee7-8da1-4af8-a812-71ae81a5b081,DISK], DatanodeInfoWithStorage[127.0.0.1:40289,DS-e7b9e72a-cf0e-4d49-9514-81706e06cfb0,DISK], DatanodeInfoWithStorage[127.0.0.1:34193,DS-89027cd9-9f63-495e-9810-035a8cdaab0d,DISK], DatanodeInfoWithStorage[127.0.0.1:34320,DS-d883f5a8-c992-41ee-b591-2822700fca88,DISK], DatanodeInfoWithStorage[127.0.0.1:37701,DS-ec176327-e4a4-47e6-b608-87cba2c73bf2,DISK], DatanodeInfoWithStorage[127.0.0.1:35729,DS-07ce52b7-9792-44af-b151-9e525d0f81a9,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-394504394-172.17.0.14-1599314271074:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35360,DS-529557f5-58cb-42e6-959b-bb4901b6b4e7,DISK], DatanodeInfoWithStorage[127.0.0.1:41891,DS-a801b797-740f-4386-9af2-352d5b13ee06,DISK], DatanodeInfoWithStorage[127.0.0.1:39287,DS-10939ee7-8da1-4af8-a812-71ae81a5b081,DISK], DatanodeInfoWithStorage[127.0.0.1:40289,DS-e7b9e72a-cf0e-4d49-9514-81706e06cfb0,DISK], DatanodeInfoWithStorage[127.0.0.1:34193,DS-89027cd9-9f63-495e-9810-035a8cdaab0d,DISK], DatanodeInfoWithStorage[127.0.0.1:34320,DS-d883f5a8-c992-41ee-b591-2822700fca88,DISK], DatanodeInfoWithStorage[127.0.0.1:37701,DS-ec176327-e4a4-47e6-b608-87cba2c73bf2,DISK], DatanodeInfoWithStorage[127.0.0.1:35729,DS-07ce52b7-9792-44af-b151-9e525d0f81a9,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-854522377-172.17.0.14-1599314921626:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44569,DS-389e79de-f89b-4e4a-ba5b-a455eb146e66,DISK], DatanodeInfoWithStorage[127.0.0.1:40549,DS-89eb18d3-0076-46fc-bfee-6ccd3cef38e4,DISK], DatanodeInfoWithStorage[127.0.0.1:40555,DS-6682c7b3-d8bb-42fa-9499-a47da5aa0bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:33687,DS-43bec1bb-5801-4782-9143-36d4e4d7a24b,DISK], DatanodeInfoWithStorage[127.0.0.1:37867,DS-4035a2d8-b691-4880-bc07-10fc7e559265,DISK], DatanodeInfoWithStorage[127.0.0.1:46838,DS-9f4ec708-6f31-4542-b297-ba0c476c685a,DISK], DatanodeInfoWithStorage[127.0.0.1:33603,DS-875d9d84-a09f-4ddb-9db8-f437bb2bec52,DISK], DatanodeInfoWithStorage[127.0.0.1:37651,DS-56639940-5de2-42ce-ba4b-404b141fdbfd,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-854522377-172.17.0.14-1599314921626:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44569,DS-389e79de-f89b-4e4a-ba5b-a455eb146e66,DISK], DatanodeInfoWithStorage[127.0.0.1:40549,DS-89eb18d3-0076-46fc-bfee-6ccd3cef38e4,DISK], DatanodeInfoWithStorage[127.0.0.1:40555,DS-6682c7b3-d8bb-42fa-9499-a47da5aa0bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:33687,DS-43bec1bb-5801-4782-9143-36d4e4d7a24b,DISK], DatanodeInfoWithStorage[127.0.0.1:37867,DS-4035a2d8-b691-4880-bc07-10fc7e559265,DISK], DatanodeInfoWithStorage[127.0.0.1:46838,DS-9f4ec708-6f31-4542-b297-ba0c476c685a,DISK], DatanodeInfoWithStorage[127.0.0.1:33603,DS-875d9d84-a09f-4ddb-9db8-f437bb2bec52,DISK], DatanodeInfoWithStorage[127.0.0.1:37651,DS-56639940-5de2-42ce-ba4b-404b141fdbfd,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-609316129-172.17.0.14-1599315032781:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44147,DS-0ba22544-6cdb-4996-81eb-b27456c9050f,DISK], DatanodeInfoWithStorage[127.0.0.1:34916,DS-90799d53-cce2-4ba8-a6b4-0f4e935ae069,DISK], DatanodeInfoWithStorage[127.0.0.1:45273,DS-6d5aa070-b9cf-45ee-9e8a-829452e08581,DISK], DatanodeInfoWithStorage[127.0.0.1:43977,DS-bd132e1d-6f56-4a88-8eb3-81565ccd5445,DISK], DatanodeInfoWithStorage[127.0.0.1:38404,DS-6a64ffc3-61fb-4c86-807f-da2da2b9784b,DISK], DatanodeInfoWithStorage[127.0.0.1:45120,DS-f7b9911f-86b6-4c94-b997-9c3f50e918d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37125,DS-b99f028e-9750-408f-aaf2-30c596d26c65,DISK], DatanodeInfoWithStorage[127.0.0.1:45428,DS-36cd20dd-6e20-42e7-bf95-4027c368e4ec,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-609316129-172.17.0.14-1599315032781:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44147,DS-0ba22544-6cdb-4996-81eb-b27456c9050f,DISK], DatanodeInfoWithStorage[127.0.0.1:34916,DS-90799d53-cce2-4ba8-a6b4-0f4e935ae069,DISK], DatanodeInfoWithStorage[127.0.0.1:45273,DS-6d5aa070-b9cf-45ee-9e8a-829452e08581,DISK], DatanodeInfoWithStorage[127.0.0.1:43977,DS-bd132e1d-6f56-4a88-8eb3-81565ccd5445,DISK], DatanodeInfoWithStorage[127.0.0.1:38404,DS-6a64ffc3-61fb-4c86-807f-da2da2b9784b,DISK], DatanodeInfoWithStorage[127.0.0.1:45120,DS-f7b9911f-86b6-4c94-b997-9c3f50e918d8,DISK], DatanodeInfoWithStorage[127.0.0.1:37125,DS-b99f028e-9750-408f-aaf2-30c596d26c65,DISK], DatanodeInfoWithStorage[127.0.0.1:45428,DS-36cd20dd-6e20-42e7-bf95-4027c368e4ec,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1249185846-172.17.0.14-1599315147889:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37067,DS-6607e919-5481-407f-a40e-6d49038d47a9,DISK], DatanodeInfoWithStorage[127.0.0.1:39579,DS-7499fe34-596a-4bfa-a0c9-e551434c0240,DISK], DatanodeInfoWithStorage[127.0.0.1:36854,DS-556a0683-749a-434e-acd6-c4136742f2ee,DISK], DatanodeInfoWithStorage[127.0.0.1:39221,DS-69f3c8b5-24b2-4ad9-b97f-0cad7aae9d24,DISK], DatanodeInfoWithStorage[127.0.0.1:45318,DS-07476170-2ea2-4fbb-9dd2-cc47b8fc055f,DISK], DatanodeInfoWithStorage[127.0.0.1:37077,DS-ce8e844a-dd38-4b1b-82f3-e6c6c28bd05c,DISK], DatanodeInfoWithStorage[127.0.0.1:37296,DS-3a396ee9-7e44-4cde-a158-d0b90a63ca88,DISK], DatanodeInfoWithStorage[127.0.0.1:34689,DS-1368e6dd-f398-41f5-80df-b0109cf315d4,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1249185846-172.17.0.14-1599315147889:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37067,DS-6607e919-5481-407f-a40e-6d49038d47a9,DISK], DatanodeInfoWithStorage[127.0.0.1:39579,DS-7499fe34-596a-4bfa-a0c9-e551434c0240,DISK], DatanodeInfoWithStorage[127.0.0.1:36854,DS-556a0683-749a-434e-acd6-c4136742f2ee,DISK], DatanodeInfoWithStorage[127.0.0.1:39221,DS-69f3c8b5-24b2-4ad9-b97f-0cad7aae9d24,DISK], DatanodeInfoWithStorage[127.0.0.1:45318,DS-07476170-2ea2-4fbb-9dd2-cc47b8fc055f,DISK], DatanodeInfoWithStorage[127.0.0.1:37077,DS-ce8e844a-dd38-4b1b-82f3-e6c6c28bd05c,DISK], DatanodeInfoWithStorage[127.0.0.1:37296,DS-3a396ee9-7e44-4cde-a158-d0b90a63ca88,DISK], DatanodeInfoWithStorage[127.0.0.1:34689,DS-1368e6dd-f398-41f5-80df-b0109cf315d4,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1327635278-172.17.0.14-1599315473435:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34764,DS-a13aba81-aa1a-499a-9d2e-a779f414a9dd,DISK], DatanodeInfoWithStorage[127.0.0.1:35598,DS-cdf0e476-e738-44c7-a441-5caf01ef846c,DISK], DatanodeInfoWithStorage[127.0.0.1:42189,DS-13274ad5-1cac-4a7f-b96d-0cc29a1bf97d,DISK], DatanodeInfoWithStorage[127.0.0.1:33190,DS-97ec33c0-edb3-4acc-9d51-8a72edd047b0,DISK], DatanodeInfoWithStorage[127.0.0.1:33696,DS-7a3d727e-27ae-473f-8efc-97d7ee68c583,DISK], DatanodeInfoWithStorage[127.0.0.1:42652,DS-9f723030-d14e-4352-bdcf-2a390aaa22fe,DISK], DatanodeInfoWithStorage[127.0.0.1:41032,DS-d1cb6598-1dff-4ef4-9803-0b0937a9f623,DISK], DatanodeInfoWithStorage[127.0.0.1:35649,DS-cfbf0a19-3781-495b-8628-a962a06f04db,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1327635278-172.17.0.14-1599315473435:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34764,DS-a13aba81-aa1a-499a-9d2e-a779f414a9dd,DISK], DatanodeInfoWithStorage[127.0.0.1:35598,DS-cdf0e476-e738-44c7-a441-5caf01ef846c,DISK], DatanodeInfoWithStorage[127.0.0.1:42189,DS-13274ad5-1cac-4a7f-b96d-0cc29a1bf97d,DISK], DatanodeInfoWithStorage[127.0.0.1:33190,DS-97ec33c0-edb3-4acc-9d51-8a72edd047b0,DISK], DatanodeInfoWithStorage[127.0.0.1:33696,DS-7a3d727e-27ae-473f-8efc-97d7ee68c583,DISK], DatanodeInfoWithStorage[127.0.0.1:42652,DS-9f723030-d14e-4352-bdcf-2a390aaa22fe,DISK], DatanodeInfoWithStorage[127.0.0.1:41032,DS-d1cb6598-1dff-4ef4-9803-0b0937a9f623,DISK], DatanodeInfoWithStorage[127.0.0.1:35649,DS-cfbf0a19-3781-495b-8628-a962a06f04db,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-524554179-172.17.0.14-1599315733309:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42011,DS-94d9d34c-42b5-43b6-baba-e09d68d8553f,DISK], DatanodeInfoWithStorage[127.0.0.1:35181,DS-15d4015e-fe86-4c3a-955e-eab9be966448,DISK], DatanodeInfoWithStorage[127.0.0.1:44364,DS-15c105d1-a528-401f-bf01-be4fe1ab0d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:41249,DS-15aa5563-e7a6-40bd-ad75-dabb16172e8f,DISK], DatanodeInfoWithStorage[127.0.0.1:39470,DS-2b2d54ab-182b-42da-9f03-27518d5a4bd6,DISK], DatanodeInfoWithStorage[127.0.0.1:36860,DS-1e391ee7-4c1b-4caf-8af0-fec52795c885,DISK], DatanodeInfoWithStorage[127.0.0.1:38970,DS-a1b03498-ceb8-4c55-bb0a-59959afbb476,DISK], DatanodeInfoWithStorage[127.0.0.1:35419,DS-f67ab83d-1bf2-4b74-8a23-fe356629d7df,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-524554179-172.17.0.14-1599315733309:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42011,DS-94d9d34c-42b5-43b6-baba-e09d68d8553f,DISK], DatanodeInfoWithStorage[127.0.0.1:35181,DS-15d4015e-fe86-4c3a-955e-eab9be966448,DISK], DatanodeInfoWithStorage[127.0.0.1:44364,DS-15c105d1-a528-401f-bf01-be4fe1ab0d2b,DISK], DatanodeInfoWithStorage[127.0.0.1:41249,DS-15aa5563-e7a6-40bd-ad75-dabb16172e8f,DISK], DatanodeInfoWithStorage[127.0.0.1:39470,DS-2b2d54ab-182b-42da-9f03-27518d5a4bd6,DISK], DatanodeInfoWithStorage[127.0.0.1:36860,DS-1e391ee7-4c1b-4caf-8af0-fec52795c885,DISK], DatanodeInfoWithStorage[127.0.0.1:38970,DS-a1b03498-ceb8-4c55-bb0a-59959afbb476,DISK], DatanodeInfoWithStorage[127.0.0.1:35419,DS-f67ab83d-1bf2-4b74-8a23-fe356629d7df,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.bytes-per-checksum
component: hdfs:NameNode
v1: 2048
v2: 512
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestFileChecksumCompositeCrc#testStripedFileChecksumWithMissedDataBlocksRangeQuery1
reconfPoint: 1
result: -1
failureMessage: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1189841786-172.17.0.14-1599315990558:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38609,DS-98ca1d18-3d0e-4e34-ac06-401d16e22f09,DISK], DatanodeInfoWithStorage[127.0.0.1:43218,DS-d6d02191-7724-443d-a98d-7bb8ed789b19,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-738d739c-a903-47bb-bbe4-d532c24a39b4,DISK], DatanodeInfoWithStorage[127.0.0.1:46849,DS-7b281ff4-e326-4e31-84b3-b066755661bb,DISK], DatanodeInfoWithStorage[127.0.0.1:44514,DS-49a3d4ad-1744-4388-bbdb-10500c594a43,DISK], DatanodeInfoWithStorage[127.0.0.1:38757,DS-fee46886-2ca6-4729-b2f2-08dbb3e89932,DISK], DatanodeInfoWithStorage[127.0.0.1:41237,DS-b71ec1d4-5a0c-456c-8bf2-0125ce795118,DISK], DatanodeInfoWithStorage[127.0.0.1:42278,DS-4ebc1b43-1872-4a6b-861f-329d22a65185,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
stackTrace: org.apache.hadoop.fs.PathIOException: `/striped/stripedFileChecksum1': Fail to get block checksum for LocatedStripedBlock{BP-1189841786-172.17.0.14-1599315990558:blk_-9223372036854775792_1001; getBlockSize()=37748736; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38609,DS-98ca1d18-3d0e-4e34-ac06-401d16e22f09,DISK], DatanodeInfoWithStorage[127.0.0.1:43218,DS-d6d02191-7724-443d-a98d-7bb8ed789b19,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-738d739c-a903-47bb-bbe4-d532c24a39b4,DISK], DatanodeInfoWithStorage[127.0.0.1:46849,DS-7b281ff4-e326-4e31-84b3-b066755661bb,DISK], DatanodeInfoWithStorage[127.0.0.1:44514,DS-49a3d4ad-1744-4388-bbdb-10500c594a43,DISK], DatanodeInfoWithStorage[127.0.0.1:38757,DS-fee46886-2ca6-4729-b2f2-08dbb3e89932,DISK], DatanodeInfoWithStorage[127.0.0.1:41237,DS-b71ec1d4-5a0c-456c-8bf2-0125ce795118,DISK], DatanodeInfoWithStorage[127.0.0.1:42278,DS-4ebc1b43-1872-4a6b-861f-329d22a65185,DISK]]; indices=[1, 2, 3, 4, 5, 6, 7, 8]}
	at org.apache.hadoop.hdfs.FileChecksumHelper$StripedFileNonStripedChecksumComputer.checksumBlocks(FileChecksumHelper.java:640)
	at org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer.compute(FileChecksumHelper.java:252)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumInternal(DFSClient.java:1790)
	at org.apache.hadoop.hdfs.DFSClient.getFileChecksumWithCombineMode(DFSClient.java:1810)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1712)
	at org.apache.hadoop.hdfs.DistributedFileSystem$34.doCall(DistributedFileSystem.java:1709)
	at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileChecksum(DistributedFileSystem.java:1726)
	at org.apache.hadoop.hdfs.TestFileChecksum.getFileChecksum(TestFileChecksum.java:584)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery(TestFileChecksum.java:295)
	at org.apache.hadoop.hdfs.TestFileChecksum.testStripedFileChecksumWithMissedDataBlocksRangeQuery1(TestFileChecksum.java:312)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 2 out of 50
v1v1v2v2 failed with probability 8 out of 50
result: false positive !!!
Total execution time in seconds : 5410
