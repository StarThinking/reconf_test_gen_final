reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1615505108-172.17.0.9-1599374740889:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35166,DS-97e64134-4232-4129-b41a-52e39ce17f70,DISK], DatanodeInfoWithStorage[127.0.0.1:33772,DS-66b55cf1-2d7c-4857-a985-e2e4c781adda,DISK], DatanodeInfoWithStorage[127.0.0.1:37187,DS-bf8e982c-ae44-4e0b-b3e2-b52961c912e6,DISK], DatanodeInfoWithStorage[127.0.0.1:44748,DS-7612b12e-0f64-4fb7-811e-8099dd322e3b,DISK], DatanodeInfoWithStorage[127.0.0.1:35467,DS-0ba70622-089e-4fa0-b4a9-69be595ba3be,DISK], DatanodeInfoWithStorage[127.0.0.1:33193,DS-6649a281-0846-4150-836b-3f0a9ff67a15,DISK]]; indices=[1, 2, 3, 4, 5, 8]}, LocatedStripedBlock{BP-1615505108-172.17.0.9-1599374740889:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33772,DS-ebc751c9-f636-4c3c-b8f8-1ebcbc629bb3,DISK], DatanodeInfoWithStorage[127.0.0.1:37187,DS-68b8281e-0abf-446a-9de9-3b770a36208b,DISK], DatanodeInfoWithStorage[127.0.0.1:35467,DS-59073518-3037-4ea1-b5d9-801a0f8322a0,DISK]]; indices=[0, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1615505108-172.17.0.9-1599374740889:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33772,DS-ebc751c9-f636-4c3c-b8f8-1ebcbc629bb3,DISK], DatanodeInfoWithStorage[127.0.0.1:37187,DS-68b8281e-0abf-446a-9de9-3b770a36208b,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1615505108-172.17.0.9-1599374740889:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35166,DS-97e64134-4232-4129-b41a-52e39ce17f70,DISK], DatanodeInfoWithStorage[127.0.0.1:33772,DS-66b55cf1-2d7c-4857-a985-e2e4c781adda,DISK], DatanodeInfoWithStorage[127.0.0.1:37187,DS-bf8e982c-ae44-4e0b-b3e2-b52961c912e6,DISK], DatanodeInfoWithStorage[127.0.0.1:44748,DS-7612b12e-0f64-4fb7-811e-8099dd322e3b,DISK], DatanodeInfoWithStorage[127.0.0.1:35467,DS-0ba70622-089e-4fa0-b4a9-69be595ba3be,DISK], DatanodeInfoWithStorage[127.0.0.1:33193,DS-6649a281-0846-4150-836b-3f0a9ff67a15,DISK]]; indices=[1, 2, 3, 4, 5, 8]}, LocatedStripedBlock{BP-1615505108-172.17.0.9-1599374740889:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33772,DS-ebc751c9-f636-4c3c-b8f8-1ebcbc629bb3,DISK], DatanodeInfoWithStorage[127.0.0.1:37187,DS-68b8281e-0abf-446a-9de9-3b770a36208b,DISK], DatanodeInfoWithStorage[127.0.0.1:35467,DS-59073518-3037-4ea1-b5d9-801a0f8322a0,DISK]]; indices=[0, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1615505108-172.17.0.9-1599374740889:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33772,DS-ebc751c9-f636-4c3c-b8f8-1ebcbc629bb3,DISK], DatanodeInfoWithStorage[127.0.0.1:37187,DS-68b8281e-0abf-446a-9de9-3b770a36208b,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1988529501-172.17.0.9-1599376177112:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34160,DS-d0cdb3fe-922c-43c9-b40c-bbf68a4b3ebe,DISK], DatanodeInfoWithStorage[127.0.0.1:44621,DS-d771eabf-2890-42e5-bef5-6f201ab91c2c,DISK], DatanodeInfoWithStorage[127.0.0.1:35007,DS-74725974-b1cd-4edd-97d8-3e3759c73f4e,DISK], DatanodeInfoWithStorage[127.0.0.1:34319,DS-3789081a-3679-459a-a395-a68c8198ba46,DISK], DatanodeInfoWithStorage[127.0.0.1:37133,DS-15aaeff8-2421-4eb6-b626-35631c0907ed,DISK], DatanodeInfoWithStorage[127.0.0.1:42017,DS-026db27d-90b6-4053-9cb6-31d88c75feb9,DISK]]; indices=[0, 2, 3, 4, 5, 7]}, LocatedStripedBlock{BP-1988529501-172.17.0.9-1599376177112:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37133,DS-8919a88f-dfc2-41d8-9511-15cd10b65dd2,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1988529501-172.17.0.9-1599376177112:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37133,DS-8919a88f-dfc2-41d8-9511-15cd10b65dd2,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1988529501-172.17.0.9-1599376177112:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34160,DS-d0cdb3fe-922c-43c9-b40c-bbf68a4b3ebe,DISK], DatanodeInfoWithStorage[127.0.0.1:44621,DS-d771eabf-2890-42e5-bef5-6f201ab91c2c,DISK], DatanodeInfoWithStorage[127.0.0.1:35007,DS-74725974-b1cd-4edd-97d8-3e3759c73f4e,DISK], DatanodeInfoWithStorage[127.0.0.1:34319,DS-3789081a-3679-459a-a395-a68c8198ba46,DISK], DatanodeInfoWithStorage[127.0.0.1:37133,DS-15aaeff8-2421-4eb6-b626-35631c0907ed,DISK], DatanodeInfoWithStorage[127.0.0.1:42017,DS-026db27d-90b6-4053-9cb6-31d88c75feb9,DISK]]; indices=[0, 2, 3, 4, 5, 7]}, LocatedStripedBlock{BP-1988529501-172.17.0.9-1599376177112:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37133,DS-8919a88f-dfc2-41d8-9511-15cd10b65dd2,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1988529501-172.17.0.9-1599376177112:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37133,DS-8919a88f-dfc2-41d8-9511-15cd10b65dd2,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.IllegalArgumentException
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:127)
	at org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.FsDatasetImplTestUtils.<init>(FsDatasetImplTestUtils.java:210)
	at org.apache.hadoop.hdfs.server.datanode.FsDatasetImplTestUtilsFactory.newInstance(FsDatasetImplTestUtilsFactory.java:30)
	at org.apache.hadoop.hdfs.MiniDFSCluster.getFsDatasetTestUtils(MiniDFSCluster.java:1983)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesHelper(MiniDFSCluster.java:2206)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesByDeletingBlockFile(MiniDFSCluster.java:2238)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.corruptBlocks(ReadStripedFileWithDecodingHelper.java:256)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:217)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-396653192-172.17.0.9-1599376649449:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40053,DS-76d38877-3aaa-44b6-b1a0-df853dafd620,DISK], DatanodeInfoWithStorage[127.0.0.1:44846,DS-1a1779a0-6257-4e9a-857d-b90b8c9cc465,DISK], DatanodeInfoWithStorage[127.0.0.1:39604,DS-16b9c3e6-9203-4991-bc1b-09ddde63472b,DISK], DatanodeInfoWithStorage[127.0.0.1:40963,DS-dc8d90ca-a814-43f1-aa81-be1ca34ab26c,DISK], DatanodeInfoWithStorage[127.0.0.1:41710,DS-b5c87314-318c-41e4-993b-5335f6a14668,DISK], DatanodeInfoWithStorage[127.0.0.1:34112,DS-09bce00b-1516-446e-98dc-11ceb58ce5dd,DISK]]; indices=[1, 2, 3, 4, 7, 8]}, LocatedStripedBlock{BP-396653192-172.17.0.9-1599376649449:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41710,DS-a9c26187-e212-44ef-b803-97185db4153a,DISK], DatanodeInfoWithStorage[127.0.0.1:40053,DS-d8b52766-1671-401d-816d-0e860026a3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44846,DS-2bb667e4-211c-4dd9-811f-70e4e2aba587,DISK], DatanodeInfoWithStorage[127.0.0.1:39604,DS-903a53b5-9335-44d1-a296-ac5884950297,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-396653192-172.17.0.9-1599376649449:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41710,DS-a9c26187-e212-44ef-b803-97185db4153a,DISK], DatanodeInfoWithStorage[127.0.0.1:40053,DS-d8b52766-1671-401d-816d-0e860026a3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44846,DS-2bb667e4-211c-4dd9-811f-70e4e2aba587,DISK], DatanodeInfoWithStorage[127.0.0.1:39604,DS-903a53b5-9335-44d1-a296-ac5884950297,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-396653192-172.17.0.9-1599376649449:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40053,DS-76d38877-3aaa-44b6-b1a0-df853dafd620,DISK], DatanodeInfoWithStorage[127.0.0.1:44846,DS-1a1779a0-6257-4e9a-857d-b90b8c9cc465,DISK], DatanodeInfoWithStorage[127.0.0.1:39604,DS-16b9c3e6-9203-4991-bc1b-09ddde63472b,DISK], DatanodeInfoWithStorage[127.0.0.1:40963,DS-dc8d90ca-a814-43f1-aa81-be1ca34ab26c,DISK], DatanodeInfoWithStorage[127.0.0.1:41710,DS-b5c87314-318c-41e4-993b-5335f6a14668,DISK], DatanodeInfoWithStorage[127.0.0.1:34112,DS-09bce00b-1516-446e-98dc-11ceb58ce5dd,DISK]]; indices=[1, 2, 3, 4, 7, 8]}, LocatedStripedBlock{BP-396653192-172.17.0.9-1599376649449:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41710,DS-a9c26187-e212-44ef-b803-97185db4153a,DISK], DatanodeInfoWithStorage[127.0.0.1:40053,DS-d8b52766-1671-401d-816d-0e860026a3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44846,DS-2bb667e4-211c-4dd9-811f-70e4e2aba587,DISK], DatanodeInfoWithStorage[127.0.0.1:39604,DS-903a53b5-9335-44d1-a296-ac5884950297,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-396653192-172.17.0.9-1599376649449:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41710,DS-a9c26187-e212-44ef-b803-97185db4153a,DISK], DatanodeInfoWithStorage[127.0.0.1:40053,DS-d8b52766-1671-401d-816d-0e860026a3d0,DISK], DatanodeInfoWithStorage[127.0.0.1:44846,DS-2bb667e4-211c-4dd9-811f-70e4e2aba587,DISK], DatanodeInfoWithStorage[127.0.0.1:39604,DS-903a53b5-9335-44d1-a296-ac5884950297,DISK]]; indices=[0, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2053129242-172.17.0.9-1599378020353:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41508,DS-7731389e-217f-492a-9734-ffda0c4c3a2d,DISK], DatanodeInfoWithStorage[127.0.0.1:37756,DS-473f5649-89ce-443e-ad0e-2ca982175944,DISK], DatanodeInfoWithStorage[127.0.0.1:41845,DS-38302fdf-8dd4-4cbe-b733-6ebe8bcfda0b,DISK], DatanodeInfoWithStorage[127.0.0.1:37054,DS-cedf2e6f-b0f3-4270-ac0f-46f099004fb3,DISK], DatanodeInfoWithStorage[127.0.0.1:38046,DS-4a4c5fc1-db45-4671-9e28-995a16cee802,DISK], DatanodeInfoWithStorage[127.0.0.1:35340,DS-b088be49-ab2d-45ba-bdf6-af75dcc1da39,DISK], DatanodeInfoWithStorage[127.0.0.1:40057,DS-471090b1-09d5-40c4-b5c5-ac0742a67426,DISK], DatanodeInfoWithStorage[127.0.0.1:45044,DS-ba79505f-f1cf-4159-b630-0f8104ba652e,DISK], DatanodeInfoWithStorage[127.0.0.1:46349,DS-eeaaab84-f6d9-4b1c-b3a7-9a1ba22ff151,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2053129242-172.17.0.9-1599378020353:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40057,DS-d724142d-e6cb-4993-9b2f-e0db3d9a29e6,DISK], DatanodeInfoWithStorage[127.0.0.1:46349,DS-fc4feee2-23a3-4f24-8543-0ec53830dffb,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2053129242-172.17.0.9-1599378020353:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40057,DS-d724142d-e6cb-4993-9b2f-e0db3d9a29e6,DISK], DatanodeInfoWithStorage[127.0.0.1:46349,DS-fc4feee2-23a3-4f24-8543-0ec53830dffb,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2053129242-172.17.0.9-1599378020353:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41508,DS-7731389e-217f-492a-9734-ffda0c4c3a2d,DISK], DatanodeInfoWithStorage[127.0.0.1:37756,DS-473f5649-89ce-443e-ad0e-2ca982175944,DISK], DatanodeInfoWithStorage[127.0.0.1:41845,DS-38302fdf-8dd4-4cbe-b733-6ebe8bcfda0b,DISK], DatanodeInfoWithStorage[127.0.0.1:37054,DS-cedf2e6f-b0f3-4270-ac0f-46f099004fb3,DISK], DatanodeInfoWithStorage[127.0.0.1:38046,DS-4a4c5fc1-db45-4671-9e28-995a16cee802,DISK], DatanodeInfoWithStorage[127.0.0.1:35340,DS-b088be49-ab2d-45ba-bdf6-af75dcc1da39,DISK], DatanodeInfoWithStorage[127.0.0.1:40057,DS-471090b1-09d5-40c4-b5c5-ac0742a67426,DISK], DatanodeInfoWithStorage[127.0.0.1:45044,DS-ba79505f-f1cf-4159-b630-0f8104ba652e,DISK], DatanodeInfoWithStorage[127.0.0.1:46349,DS-eeaaab84-f6d9-4b1c-b3a7-9a1ba22ff151,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-2053129242-172.17.0.9-1599378020353:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40057,DS-d724142d-e6cb-4993-9b2f-e0db3d9a29e6,DISK], DatanodeInfoWithStorage[127.0.0.1:46349,DS-fc4feee2-23a3-4f24-8543-0ec53830dffb,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2053129242-172.17.0.9-1599378020353:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40057,DS-d724142d-e6cb-4993-9b2f-e0db3d9a29e6,DISK], DatanodeInfoWithStorage[127.0.0.1:46349,DS-fc4feee2-23a3-4f24-8543-0ec53830dffb,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-313485428-172.17.0.9-1599378772205:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36385,DS-8fa00048-9388-40ae-aa30-0ee5e8dfe5d6,DISK], DatanodeInfoWithStorage[127.0.0.1:36294,DS-81f86ad9-2f98-4a80-89ec-4ad565762276,DISK], DatanodeInfoWithStorage[127.0.0.1:42691,DS-459b09e7-1bb5-4f3c-9b72-9bc3906faf05,DISK], DatanodeInfoWithStorage[127.0.0.1:42272,DS-70322f6e-cc36-4548-b51f-23824bd53a06,DISK], DatanodeInfoWithStorage[127.0.0.1:33561,DS-a60c320a-e3f3-4ce9-95e3-05afc9197106,DISK], DatanodeInfoWithStorage[127.0.0.1:36098,DS-a4235da6-abbe-4924-be9f-de679eeb4b4b,DISK], DatanodeInfoWithStorage[127.0.0.1:41141,DS-1a865c66-541e-4f0b-819f-dea3a7984924,DISK], DatanodeInfoWithStorage[127.0.0.1:35005,DS-3eecb6ff-d0c7-4c68-88b1-c5b055c24524,DISK], DatanodeInfoWithStorage[127.0.0.1:37631,DS-e757ea26-a413-4b84-a7e2-48e1450f7293,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-313485428-172.17.0.9-1599378772205:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41141,DS-bc35e0f4-8f6b-4272-a29e-bf2784009eec,DISK], DatanodeInfoWithStorage[127.0.0.1:33561,DS-e7f480eb-c6d8-457f-ae37-3e8570341eb7,DISK], DatanodeInfoWithStorage[127.0.0.1:36385,DS-62b75be0-2a97-4563-85e3-e6206ec5017f,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-313485428-172.17.0.9-1599378772205:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33561,DS-e7f480eb-c6d8-457f-ae37-3e8570341eb7,DISK], DatanodeInfoWithStorage[127.0.0.1:36385,DS-62b75be0-2a97-4563-85e3-e6206ec5017f,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-313485428-172.17.0.9-1599378772205:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36385,DS-8fa00048-9388-40ae-aa30-0ee5e8dfe5d6,DISK], DatanodeInfoWithStorage[127.0.0.1:36294,DS-81f86ad9-2f98-4a80-89ec-4ad565762276,DISK], DatanodeInfoWithStorage[127.0.0.1:42691,DS-459b09e7-1bb5-4f3c-9b72-9bc3906faf05,DISK], DatanodeInfoWithStorage[127.0.0.1:42272,DS-70322f6e-cc36-4548-b51f-23824bd53a06,DISK], DatanodeInfoWithStorage[127.0.0.1:33561,DS-a60c320a-e3f3-4ce9-95e3-05afc9197106,DISK], DatanodeInfoWithStorage[127.0.0.1:36098,DS-a4235da6-abbe-4924-be9f-de679eeb4b4b,DISK], DatanodeInfoWithStorage[127.0.0.1:41141,DS-1a865c66-541e-4f0b-819f-dea3a7984924,DISK], DatanodeInfoWithStorage[127.0.0.1:35005,DS-3eecb6ff-d0c7-4c68-88b1-c5b055c24524,DISK], DatanodeInfoWithStorage[127.0.0.1:37631,DS-e757ea26-a413-4b84-a7e2-48e1450f7293,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-313485428-172.17.0.9-1599378772205:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41141,DS-bc35e0f4-8f6b-4272-a29e-bf2784009eec,DISK], DatanodeInfoWithStorage[127.0.0.1:33561,DS-e7f480eb-c6d8-457f-ae37-3e8570341eb7,DISK], DatanodeInfoWithStorage[127.0.0.1:36385,DS-62b75be0-2a97-4563-85e3-e6206ec5017f,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-313485428-172.17.0.9-1599378772205:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33561,DS-e7f480eb-c6d8-457f-ae37-3e8570341eb7,DISK], DatanodeInfoWithStorage[127.0.0.1:36385,DS-62b75be0-2a97-4563-85e3-e6206ec5017f,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1002625482-172.17.0.9-1599379201972:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40553,DS-8bf3bf0c-d0ab-429d-beee-7374d44ac55d,DISK], DatanodeInfoWithStorage[127.0.0.1:38595,DS-4c3a471c-d129-4bbc-87cc-431b384ab06f,DISK], DatanodeInfoWithStorage[127.0.0.1:40767,DS-ad76a36d-8a40-4828-836d-b58a35ec12cb,DISK], DatanodeInfoWithStorage[127.0.0.1:33011,DS-cdf13f71-8070-4c6e-bada-8df4a2862262,DISK], DatanodeInfoWithStorage[127.0.0.1:39224,DS-290aa2b9-9c1f-4d78-a412-a03ebfd5154c,DISK], DatanodeInfoWithStorage[127.0.0.1:37053,DS-0f313ae0-8b81-4301-a467-d53bbdec0f40,DISK], DatanodeInfoWithStorage[127.0.0.1:41974,DS-83cee9ea-bc86-4a73-8090-b644838fcd98,DISK], DatanodeInfoWithStorage[127.0.0.1:36328,DS-fe1c0d1b-67b4-49ac-b676-57eb8d88d4b2,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1002625482-172.17.0.9-1599379201972:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40553,DS-15ef2fbe-7e40-4584-8a23-867b32432f10,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1002625482-172.17.0.9-1599379201972:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40553,DS-15ef2fbe-7e40-4584-8a23-867b32432f10,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1002625482-172.17.0.9-1599379201972:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40553,DS-8bf3bf0c-d0ab-429d-beee-7374d44ac55d,DISK], DatanodeInfoWithStorage[127.0.0.1:38595,DS-4c3a471c-d129-4bbc-87cc-431b384ab06f,DISK], DatanodeInfoWithStorage[127.0.0.1:40767,DS-ad76a36d-8a40-4828-836d-b58a35ec12cb,DISK], DatanodeInfoWithStorage[127.0.0.1:33011,DS-cdf13f71-8070-4c6e-bada-8df4a2862262,DISK], DatanodeInfoWithStorage[127.0.0.1:39224,DS-290aa2b9-9c1f-4d78-a412-a03ebfd5154c,DISK], DatanodeInfoWithStorage[127.0.0.1:37053,DS-0f313ae0-8b81-4301-a467-d53bbdec0f40,DISK], DatanodeInfoWithStorage[127.0.0.1:41974,DS-83cee9ea-bc86-4a73-8090-b644838fcd98,DISK], DatanodeInfoWithStorage[127.0.0.1:36328,DS-fe1c0d1b-67b4-49ac-b676-57eb8d88d4b2,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1002625482-172.17.0.9-1599379201972:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40553,DS-15ef2fbe-7e40-4584-8a23-867b32432f10,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1002625482-172.17.0.9-1599379201972:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40553,DS-15ef2fbe-7e40-4584-8a23-867b32432f10,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1426711302-172.17.0.9-1599379484881:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33656,DS-edd6ccad-c453-4a39-998a-3ec54e600f67,DISK], DatanodeInfoWithStorage[127.0.0.1:44549,DS-a9bb2977-4342-44e1-9b63-1b59895d9dba,DISK], DatanodeInfoWithStorage[127.0.0.1:39540,DS-0f8f20e1-28f3-407b-98fd-52d628cdd774,DISK], DatanodeInfoWithStorage[127.0.0.1:45110,DS-24e99774-dcf2-44f8-bf5e-2051c6cd78ad,DISK], DatanodeInfoWithStorage[127.0.0.1:35246,DS-d11ec2c0-0c7d-4c75-8d1e-f959b3ceaf34,DISK], DatanodeInfoWithStorage[127.0.0.1:45777,DS-e5171223-a472-47eb-b741-5dae41761fb6,DISK], DatanodeInfoWithStorage[127.0.0.1:37467,DS-33fa522d-7f01-4e0f-a6b3-fa909acd3906,DISK], DatanodeInfoWithStorage[127.0.0.1:39250,DS-f29e97d2-cbe2-486d-bdfe-8ff7a2032a59,DISK], DatanodeInfoWithStorage[127.0.0.1:46782,DS-08c2f756-2a51-4184-a017-67954ddfe93a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1426711302-172.17.0.9-1599379484881:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35246,DS-a964cb4a-1d5d-41c4-b561-75ed6920fa04,DISK], DatanodeInfoWithStorage[127.0.0.1:45110,DS-4754d8a4-4d05-4dfa-97f1-1b5b7694492d,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1426711302-172.17.0.9-1599379484881:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35246,DS-a964cb4a-1d5d-41c4-b561-75ed6920fa04,DISK], DatanodeInfoWithStorage[127.0.0.1:45110,DS-4754d8a4-4d05-4dfa-97f1-1b5b7694492d,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1426711302-172.17.0.9-1599379484881:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33656,DS-edd6ccad-c453-4a39-998a-3ec54e600f67,DISK], DatanodeInfoWithStorage[127.0.0.1:44549,DS-a9bb2977-4342-44e1-9b63-1b59895d9dba,DISK], DatanodeInfoWithStorage[127.0.0.1:39540,DS-0f8f20e1-28f3-407b-98fd-52d628cdd774,DISK], DatanodeInfoWithStorage[127.0.0.1:45110,DS-24e99774-dcf2-44f8-bf5e-2051c6cd78ad,DISK], DatanodeInfoWithStorage[127.0.0.1:35246,DS-d11ec2c0-0c7d-4c75-8d1e-f959b3ceaf34,DISK], DatanodeInfoWithStorage[127.0.0.1:45777,DS-e5171223-a472-47eb-b741-5dae41761fb6,DISK], DatanodeInfoWithStorage[127.0.0.1:37467,DS-33fa522d-7f01-4e0f-a6b3-fa909acd3906,DISK], DatanodeInfoWithStorage[127.0.0.1:39250,DS-f29e97d2-cbe2-486d-bdfe-8ff7a2032a59,DISK], DatanodeInfoWithStorage[127.0.0.1:46782,DS-08c2f756-2a51-4184-a017-67954ddfe93a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1426711302-172.17.0.9-1599379484881:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35246,DS-a964cb4a-1d5d-41c4-b561-75ed6920fa04,DISK], DatanodeInfoWithStorage[127.0.0.1:45110,DS-4754d8a4-4d05-4dfa-97f1-1b5b7694492d,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1426711302-172.17.0.9-1599379484881:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35246,DS-a964cb4a-1d5d-41c4-b561-75ed6920fa04,DISK], DatanodeInfoWithStorage[127.0.0.1:45110,DS-4754d8a4-4d05-4dfa-97f1-1b5b7694492d,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-600560585-172.17.0.9-1599379508559:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32960,DS-1bd6cfe2-a9f7-4b97-a38b-106760768d5c,DISK], DatanodeInfoWithStorage[127.0.0.1:33816,DS-a3f8e73b-cb1f-4e9c-81d7-8321228036f8,DISK], DatanodeInfoWithStorage[127.0.0.1:34223,DS-8e849380-e85e-4453-af4c-47d03d528756,DISK], DatanodeInfoWithStorage[127.0.0.1:42410,DS-84608e9e-fad2-4806-ad06-13c03ade7b68,DISK], DatanodeInfoWithStorage[127.0.0.1:38629,DS-7c6c510f-41c4-4676-a291-2a2f8db4b3cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37724,DS-89d973b3-b780-40a0-945b-1c46e7cc9e47,DISK], DatanodeInfoWithStorage[127.0.0.1:42019,DS-0badf753-cf79-4094-a9ad-670e20f2cad2,DISK], DatanodeInfoWithStorage[127.0.0.1:33617,DS-e24a7f6f-4b38-4018-8eb2-e0c12f840f37,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-bf11ae06-0440-4feb-af14-285200c95015,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-600560585-172.17.0.9-1599379508559:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38629,DS-3daa3960-dfc6-4eab-9b4b-a11fbcfac8ec,DISK], DatanodeInfoWithStorage[127.0.0.1:33816,DS-1d658a5e-385b-463b-b3aa-3fe8bee26900,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-600560585-172.17.0.9-1599379508559:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38629,DS-3daa3960-dfc6-4eab-9b4b-a11fbcfac8ec,DISK], DatanodeInfoWithStorage[127.0.0.1:33816,DS-1d658a5e-385b-463b-b3aa-3fe8bee26900,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-600560585-172.17.0.9-1599379508559:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32960,DS-1bd6cfe2-a9f7-4b97-a38b-106760768d5c,DISK], DatanodeInfoWithStorage[127.0.0.1:33816,DS-a3f8e73b-cb1f-4e9c-81d7-8321228036f8,DISK], DatanodeInfoWithStorage[127.0.0.1:34223,DS-8e849380-e85e-4453-af4c-47d03d528756,DISK], DatanodeInfoWithStorage[127.0.0.1:42410,DS-84608e9e-fad2-4806-ad06-13c03ade7b68,DISK], DatanodeInfoWithStorage[127.0.0.1:38629,DS-7c6c510f-41c4-4676-a291-2a2f8db4b3cd,DISK], DatanodeInfoWithStorage[127.0.0.1:37724,DS-89d973b3-b780-40a0-945b-1c46e7cc9e47,DISK], DatanodeInfoWithStorage[127.0.0.1:42019,DS-0badf753-cf79-4094-a9ad-670e20f2cad2,DISK], DatanodeInfoWithStorage[127.0.0.1:33617,DS-e24a7f6f-4b38-4018-8eb2-e0c12f840f37,DISK], DatanodeInfoWithStorage[127.0.0.1:46275,DS-bf11ae06-0440-4feb-af14-285200c95015,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-600560585-172.17.0.9-1599379508559:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38629,DS-3daa3960-dfc6-4eab-9b4b-a11fbcfac8ec,DISK], DatanodeInfoWithStorage[127.0.0.1:33816,DS-1d658a5e-385b-463b-b3aa-3fe8bee26900,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-600560585-172.17.0.9-1599379508559:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38629,DS-3daa3960-dfc6-4eab-9b4b-a11fbcfac8ec,DISK], DatanodeInfoWithStorage[127.0.0.1:33816,DS-1d658a5e-385b-463b-b3aa-3fe8bee26900,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-15935416-172.17.0.9-1599379594268:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35167,DS-fc87256b-a87e-42bf-b5ae-81ea6328e89d,DISK], DatanodeInfoWithStorage[127.0.0.1:35715,DS-3f63101c-5203-42dc-911d-9335f144ebcf,DISK], DatanodeInfoWithStorage[127.0.0.1:44332,DS-d2958e0e-b67c-4903-9dad-82ecb1b3705f,DISK], DatanodeInfoWithStorage[127.0.0.1:37807,DS-4368fa8b-1af1-42ac-b6c9-ee9b888f690c,DISK], DatanodeInfoWithStorage[127.0.0.1:41702,DS-b813676e-0d8a-4dd1-aeb7-274777f292af,DISK], DatanodeInfoWithStorage[127.0.0.1:45775,DS-87473e14-d383-4e6d-99a9-ab7f7cbdaa94,DISK]]; indices=[2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-15935416-172.17.0.9-1599379594268:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35715,DS-5bcd9539-1519-4d75-9226-9ad3014fa03e,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-15935416-172.17.0.9-1599379594268:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44332,DS-f9e9abc1-245e-42b7-9d9b-ee211a8b1b50,DISK], DatanodeInfoWithStorage[127.0.0.1:35715,DS-5bcd9539-1519-4d75-9226-9ad3014fa03e,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-15935416-172.17.0.9-1599379594268:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35167,DS-fc87256b-a87e-42bf-b5ae-81ea6328e89d,DISK], DatanodeInfoWithStorage[127.0.0.1:35715,DS-3f63101c-5203-42dc-911d-9335f144ebcf,DISK], DatanodeInfoWithStorage[127.0.0.1:44332,DS-d2958e0e-b67c-4903-9dad-82ecb1b3705f,DISK], DatanodeInfoWithStorage[127.0.0.1:37807,DS-4368fa8b-1af1-42ac-b6c9-ee9b888f690c,DISK], DatanodeInfoWithStorage[127.0.0.1:41702,DS-b813676e-0d8a-4dd1-aeb7-274777f292af,DISK], DatanodeInfoWithStorage[127.0.0.1:45775,DS-87473e14-d383-4e6d-99a9-ab7f7cbdaa94,DISK]]; indices=[2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-15935416-172.17.0.9-1599379594268:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35715,DS-5bcd9539-1519-4d75-9226-9ad3014fa03e,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-15935416-172.17.0.9-1599379594268:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44332,DS-f9e9abc1-245e-42b7-9d9b-ee211a8b1b50,DISK], DatanodeInfoWithStorage[127.0.0.1:35715,DS-5bcd9539-1519-4d75-9226-9ad3014fa03e,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.IllegalArgumentException
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:127)
	at org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.FsDatasetImplTestUtils.<init>(FsDatasetImplTestUtils.java:210)
	at org.apache.hadoop.hdfs.server.datanode.FsDatasetImplTestUtilsFactory.newInstance(FsDatasetImplTestUtilsFactory.java:30)
	at org.apache.hadoop.hdfs.MiniDFSCluster.getFsDatasetTestUtils(MiniDFSCluster.java:1983)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesHelper(MiniDFSCluster.java:2206)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesByDeletingBlockFile(MiniDFSCluster.java:2238)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.corruptBlocks(ReadStripedFileWithDecodingHelper.java:256)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:217)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.IllegalArgumentException
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:127)
	at org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.FsDatasetImplTestUtils.<init>(FsDatasetImplTestUtils.java:210)
	at org.apache.hadoop.hdfs.server.datanode.FsDatasetImplTestUtilsFactory.newInstance(FsDatasetImplTestUtilsFactory.java:30)
	at org.apache.hadoop.hdfs.MiniDFSCluster.getFsDatasetTestUtils(MiniDFSCluster.java:1983)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesHelper(MiniDFSCluster.java:2206)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesByDeletingBlockFile(MiniDFSCluster.java:2238)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.corruptBlocks(ReadStripedFileWithDecodingHelper.java:256)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:217)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-765824056-172.17.0.9-1599380668603:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40257,DS-f12a3682-d424-4d9d-ab57-ed2a5e301725,DISK], DatanodeInfoWithStorage[127.0.0.1:38002,DS-d3e8ec32-de54-4f05-bcad-cd10a4092b9c,DISK], DatanodeInfoWithStorage[127.0.0.1:32790,DS-54607ef7-7248-44c8-9016-2ea7cb66bfcf,DISK], DatanodeInfoWithStorage[127.0.0.1:44884,DS-c035e9a4-2183-41a6-824d-b22fcb02d8bd,DISK], DatanodeInfoWithStorage[127.0.0.1:43969,DS-706f3e8f-3dcf-4212-ab96-f8358a722fb4,DISK], DatanodeInfoWithStorage[127.0.0.1:38377,DS-f7698f73-e8fb-4f2d-af4c-89259dd15146,DISK], DatanodeInfoWithStorage[127.0.0.1:36386,DS-5b42f388-2502-4002-8403-2cf999c223d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-39c0d0b6-1fba-4865-b4a5-b51631d52b0e,DISK], DatanodeInfoWithStorage[127.0.0.1:42597,DS-22ea7368-baa9-4370-9655-b15a9eb4f2e8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-765824056-172.17.0.9-1599380668603:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42597,DS-f0c4a051-c1e9-4880-9969-2263fba07bd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43969,DS-d7f093a1-8f7d-4c7a-987d-9c73f6358f65,DISK], DatanodeInfoWithStorage[127.0.0.1:32790,DS-c073e56e-bdc2-4415-8e08-3249128d98d8,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-765824056-172.17.0.9-1599380668603:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42597,DS-f0c4a051-c1e9-4880-9969-2263fba07bd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43969,DS-d7f093a1-8f7d-4c7a-987d-9c73f6358f65,DISK], DatanodeInfoWithStorage[127.0.0.1:32790,DS-c073e56e-bdc2-4415-8e08-3249128d98d8,DISK]]; indices=[0, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-765824056-172.17.0.9-1599380668603:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40257,DS-f12a3682-d424-4d9d-ab57-ed2a5e301725,DISK], DatanodeInfoWithStorage[127.0.0.1:38002,DS-d3e8ec32-de54-4f05-bcad-cd10a4092b9c,DISK], DatanodeInfoWithStorage[127.0.0.1:32790,DS-54607ef7-7248-44c8-9016-2ea7cb66bfcf,DISK], DatanodeInfoWithStorage[127.0.0.1:44884,DS-c035e9a4-2183-41a6-824d-b22fcb02d8bd,DISK], DatanodeInfoWithStorage[127.0.0.1:43969,DS-706f3e8f-3dcf-4212-ab96-f8358a722fb4,DISK], DatanodeInfoWithStorage[127.0.0.1:38377,DS-f7698f73-e8fb-4f2d-af4c-89259dd15146,DISK], DatanodeInfoWithStorage[127.0.0.1:36386,DS-5b42f388-2502-4002-8403-2cf999c223d8,DISK], DatanodeInfoWithStorage[127.0.0.1:42264,DS-39c0d0b6-1fba-4865-b4a5-b51631d52b0e,DISK], DatanodeInfoWithStorage[127.0.0.1:42597,DS-22ea7368-baa9-4370-9655-b15a9eb4f2e8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-765824056-172.17.0.9-1599380668603:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42597,DS-f0c4a051-c1e9-4880-9969-2263fba07bd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43969,DS-d7f093a1-8f7d-4c7a-987d-9c73f6358f65,DISK], DatanodeInfoWithStorage[127.0.0.1:32790,DS-c073e56e-bdc2-4415-8e08-3249128d98d8,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-765824056-172.17.0.9-1599380668603:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42597,DS-f0c4a051-c1e9-4880-9969-2263fba07bd5,DISK], DatanodeInfoWithStorage[127.0.0.1:43969,DS-d7f093a1-8f7d-4c7a-987d-9c73f6358f65,DISK], DatanodeInfoWithStorage[127.0.0.1:32790,DS-c073e56e-bdc2-4415-8e08-3249128d98d8,DISK]]; indices=[0, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.IllegalArgumentException
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:127)
	at org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.FsDatasetImplTestUtils.<init>(FsDatasetImplTestUtils.java:210)
	at org.apache.hadoop.hdfs.server.datanode.FsDatasetImplTestUtilsFactory.newInstance(FsDatasetImplTestUtilsFactory.java:30)
	at org.apache.hadoop.hdfs.MiniDFSCluster.getFsDatasetTestUtils(MiniDFSCluster.java:1983)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesHelper(MiniDFSCluster.java:2206)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesByDeletingBlockFile(MiniDFSCluster.java:2238)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.corruptBlocks(ReadStripedFileWithDecodingHelper.java:256)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:217)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1514929661-172.17.0.9-1599381392118:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37047,DS-7bf34a47-f4f6-4767-8594-9a4f39f38515,DISK], DatanodeInfoWithStorage[127.0.0.1:46727,DS-5b4529b6-4e12-43e3-a806-b857e8a2c05e,DISK], DatanodeInfoWithStorage[127.0.0.1:41297,DS-597b546a-c3cd-4fe1-814b-54068e2b1ff7,DISK], DatanodeInfoWithStorage[127.0.0.1:36275,DS-8aa6f366-2901-4856-bf28-1f4c06381f1e,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-9328bf6c-b50e-4fce-b1bf-0a50ca51480b,DISK], DatanodeInfoWithStorage[127.0.0.1:44177,DS-a74cfd35-5f66-4375-853a-6c2710bdaeef,DISK], DatanodeInfoWithStorage[127.0.0.1:41010,DS-244e5c35-b2a4-4756-85bf-9f9cfc92337b,DISK], DatanodeInfoWithStorage[127.0.0.1:42853,DS-0f7b3d5f-5531-4c06-befa-ab932f65743f,DISK], DatanodeInfoWithStorage[127.0.0.1:43702,DS-e34fa98d-bc44-423c-a74f-9ea745e16a1b,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1514929661-172.17.0.9-1599381392118:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37047,DS-8ec7c944-9d9f-45c1-b473-ab9c3c45e6b8,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1514929661-172.17.0.9-1599381392118:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37047,DS-8ec7c944-9d9f-45c1-b473-ab9c3c45e6b8,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1514929661-172.17.0.9-1599381392118:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37047,DS-7bf34a47-f4f6-4767-8594-9a4f39f38515,DISK], DatanodeInfoWithStorage[127.0.0.1:46727,DS-5b4529b6-4e12-43e3-a806-b857e8a2c05e,DISK], DatanodeInfoWithStorage[127.0.0.1:41297,DS-597b546a-c3cd-4fe1-814b-54068e2b1ff7,DISK], DatanodeInfoWithStorage[127.0.0.1:36275,DS-8aa6f366-2901-4856-bf28-1f4c06381f1e,DISK], DatanodeInfoWithStorage[127.0.0.1:35537,DS-9328bf6c-b50e-4fce-b1bf-0a50ca51480b,DISK], DatanodeInfoWithStorage[127.0.0.1:44177,DS-a74cfd35-5f66-4375-853a-6c2710bdaeef,DISK], DatanodeInfoWithStorage[127.0.0.1:41010,DS-244e5c35-b2a4-4756-85bf-9f9cfc92337b,DISK], DatanodeInfoWithStorage[127.0.0.1:42853,DS-0f7b3d5f-5531-4c06-befa-ab932f65743f,DISK], DatanodeInfoWithStorage[127.0.0.1:43702,DS-e34fa98d-bc44-423c-a74f-9ea745e16a1b,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1514929661-172.17.0.9-1599381392118:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37047,DS-8ec7c944-9d9f-45c1-b473-ab9c3c45e6b8,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1514929661-172.17.0.9-1599381392118:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37047,DS-8ec7c944-9d9f-45c1-b473-ab9c3c45e6b8,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: null
stackTrace: java.lang.IllegalArgumentException
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:127)
	at org.apache.hadoop.hdfs.server.datanode.fsdataset.impl.FsDatasetImplTestUtils.<init>(FsDatasetImplTestUtils.java:210)
	at org.apache.hadoop.hdfs.server.datanode.FsDatasetImplTestUtilsFactory.newInstance(FsDatasetImplTestUtilsFactory.java:30)
	at org.apache.hadoop.hdfs.MiniDFSCluster.getFsDatasetTestUtils(MiniDFSCluster.java:1983)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesHelper(MiniDFSCluster.java:2206)
	at org.apache.hadoop.hdfs.MiniDFSCluster.corruptBlockOnDataNodesByDeletingBlockFile(MiniDFSCluster.java:2238)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.corruptBlocks(ReadStripedFileWithDecodingHelper.java:256)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:217)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-924066015-172.17.0.9-1599381562097:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34974,DS-ba315ea7-d228-4774-bdf6-903208f305fc,DISK], DatanodeInfoWithStorage[127.0.0.1:36261,DS-6fe463ff-1471-4d96-9db2-0bfb64df1b73,DISK], DatanodeInfoWithStorage[127.0.0.1:40286,DS-11ee6d07-e877-4445-834f-0c48ff5dd876,DISK], DatanodeInfoWithStorage[127.0.0.1:42869,DS-af680e30-f4e7-49e5-8c2b-d44e19586051,DISK], DatanodeInfoWithStorage[127.0.0.1:44614,DS-44b1870a-731b-4801-9cd0-8c7547513901,DISK], DatanodeInfoWithStorage[127.0.0.1:41505,DS-f456de94-eccb-4838-8075-8117f20ae56f,DISK], DatanodeInfoWithStorage[127.0.0.1:37808,DS-90ac13f6-6b1a-4a3c-a454-213a1e812066,DISK]]; indices=[0, 2, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-924066015-172.17.0.9-1599381562097:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36261,DS-5183fd5e-3266-46a9-94d2-35ec139e0019,DISK], DatanodeInfoWithStorage[127.0.0.1:40286,DS-d0596bef-d533-4712-8636-94cb4a60365c,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-924066015-172.17.0.9-1599381562097:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40286,DS-d0596bef-d533-4712-8636-94cb4a60365c,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-924066015-172.17.0.9-1599381562097:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34974,DS-ba315ea7-d228-4774-bdf6-903208f305fc,DISK], DatanodeInfoWithStorage[127.0.0.1:36261,DS-6fe463ff-1471-4d96-9db2-0bfb64df1b73,DISK], DatanodeInfoWithStorage[127.0.0.1:40286,DS-11ee6d07-e877-4445-834f-0c48ff5dd876,DISK], DatanodeInfoWithStorage[127.0.0.1:42869,DS-af680e30-f4e7-49e5-8c2b-d44e19586051,DISK], DatanodeInfoWithStorage[127.0.0.1:44614,DS-44b1870a-731b-4801-9cd0-8c7547513901,DISK], DatanodeInfoWithStorage[127.0.0.1:41505,DS-f456de94-eccb-4838-8075-8117f20ae56f,DISK], DatanodeInfoWithStorage[127.0.0.1:37808,DS-90ac13f6-6b1a-4a3c-a454-213a1e812066,DISK]]; indices=[0, 2, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-924066015-172.17.0.9-1599381562097:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36261,DS-5183fd5e-3266-46a9-94d2-35ec139e0019,DISK], DatanodeInfoWithStorage[127.0.0.1:40286,DS-d0596bef-d533-4712-8636-94cb4a60365c,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-924066015-172.17.0.9-1599381562097:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40286,DS-d0596bef-d533-4712-8636-94cb4a60365c,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1315184651-172.17.0.9-1599382031862:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45445,DS-ea6f0a78-19c4-4320-97a5-d2eb118cdfbf,DISK], DatanodeInfoWithStorage[127.0.0.1:43808,DS-c290a664-27c3-4a83-bfa4-47ad212c868e,DISK], DatanodeInfoWithStorage[127.0.0.1:40783,DS-8b418d1c-6eeb-4c8e-858e-3dc30526e6d1,DISK], DatanodeInfoWithStorage[127.0.0.1:41998,DS-ad6541e0-49f4-40c4-969c-53e47199516a,DISK], DatanodeInfoWithStorage[127.0.0.1:40547,DS-c8c5c2e1-746f-41fe-89a9-4f188784b0ad,DISK], DatanodeInfoWithStorage[127.0.0.1:43409,DS-beed6bc9-7a19-4719-82f3-aa8e65e73197,DISK], DatanodeInfoWithStorage[127.0.0.1:39358,DS-67a331d9-e871-4d9a-9c10-4864e1c3e8f8,DISK]]; indices=[0, 1, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-1315184651-172.17.0.9-1599382031862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40783,DS-8720876d-7e08-4ec7-92ee-bf0733b96b93,DISK], DatanodeInfoWithStorage[127.0.0.1:43409,DS-eddb3e32-0fbd-4198-99f9-23f720abb831,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1315184651-172.17.0.9-1599382031862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40783,DS-8720876d-7e08-4ec7-92ee-bf0733b96b93,DISK], DatanodeInfoWithStorage[127.0.0.1:43409,DS-eddb3e32-0fbd-4198-99f9-23f720abb831,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1315184651-172.17.0.9-1599382031862:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45445,DS-ea6f0a78-19c4-4320-97a5-d2eb118cdfbf,DISK], DatanodeInfoWithStorage[127.0.0.1:43808,DS-c290a664-27c3-4a83-bfa4-47ad212c868e,DISK], DatanodeInfoWithStorage[127.0.0.1:40783,DS-8b418d1c-6eeb-4c8e-858e-3dc30526e6d1,DISK], DatanodeInfoWithStorage[127.0.0.1:41998,DS-ad6541e0-49f4-40c4-969c-53e47199516a,DISK], DatanodeInfoWithStorage[127.0.0.1:40547,DS-c8c5c2e1-746f-41fe-89a9-4f188784b0ad,DISK], DatanodeInfoWithStorage[127.0.0.1:43409,DS-beed6bc9-7a19-4719-82f3-aa8e65e73197,DISK], DatanodeInfoWithStorage[127.0.0.1:39358,DS-67a331d9-e871-4d9a-9c10-4864e1c3e8f8,DISK]]; indices=[0, 1, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-1315184651-172.17.0.9-1599382031862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40783,DS-8720876d-7e08-4ec7-92ee-bf0733b96b93,DISK], DatanodeInfoWithStorage[127.0.0.1:43409,DS-eddb3e32-0fbd-4198-99f9-23f720abb831,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1315184651-172.17.0.9-1599382031862:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40783,DS-8720876d-7e08-4ec7-92ee-bf0733b96b93,DISK], DatanodeInfoWithStorage[127.0.0.1:43409,DS-eddb3e32-0fbd-4198-99f9-23f720abb831,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1942997260-172.17.0.9-1599382696609:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38383,DS-45ad8ae5-1db4-45af-929f-cb02b7406bd6,DISK], DatanodeInfoWithStorage[127.0.0.1:45223,DS-2ebda385-7433-44b5-9a3c-107a2171ae1f,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-2922357d-0d2e-4f70-88cd-3b56dc326c76,DISK], DatanodeInfoWithStorage[127.0.0.1:40712,DS-82c57c82-e143-42e3-abf7-562b99a902b1,DISK], DatanodeInfoWithStorage[127.0.0.1:38998,DS-91cc5aad-b9ca-4163-a07b-c8115dc1bbb6,DISK], DatanodeInfoWithStorage[127.0.0.1:38168,DS-87d9b6b0-15c9-41d2-8250-273f23fced84,DISK], DatanodeInfoWithStorage[127.0.0.1:40687,DS-7a1b83e6-4a74-4667-82aa-4b1dbb4b733c,DISK], DatanodeInfoWithStorage[127.0.0.1:42118,DS-71077f0a-fcbf-4383-8f59-047246e3e0aa,DISK], DatanodeInfoWithStorage[127.0.0.1:45556,DS-871a600e-ef43-4dbd-ae94-8ad101a0ecbb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1942997260-172.17.0.9-1599382696609:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38998,DS-69fb72b6-8745-4900-9c22-f3333c2b1125,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1942997260-172.17.0.9-1599382696609:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38998,DS-69fb72b6-8745-4900-9c22-f3333c2b1125,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1942997260-172.17.0.9-1599382696609:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38383,DS-45ad8ae5-1db4-45af-929f-cb02b7406bd6,DISK], DatanodeInfoWithStorage[127.0.0.1:45223,DS-2ebda385-7433-44b5-9a3c-107a2171ae1f,DISK], DatanodeInfoWithStorage[127.0.0.1:41358,DS-2922357d-0d2e-4f70-88cd-3b56dc326c76,DISK], DatanodeInfoWithStorage[127.0.0.1:40712,DS-82c57c82-e143-42e3-abf7-562b99a902b1,DISK], DatanodeInfoWithStorage[127.0.0.1:38998,DS-91cc5aad-b9ca-4163-a07b-c8115dc1bbb6,DISK], DatanodeInfoWithStorage[127.0.0.1:38168,DS-87d9b6b0-15c9-41d2-8250-273f23fced84,DISK], DatanodeInfoWithStorage[127.0.0.1:40687,DS-7a1b83e6-4a74-4667-82aa-4b1dbb4b733c,DISK], DatanodeInfoWithStorage[127.0.0.1:42118,DS-71077f0a-fcbf-4383-8f59-047246e3e0aa,DISK], DatanodeInfoWithStorage[127.0.0.1:45556,DS-871a600e-ef43-4dbd-ae94-8ad101a0ecbb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1942997260-172.17.0.9-1599382696609:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38998,DS-69fb72b6-8745-4900-9c22-f3333c2b1125,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1942997260-172.17.0.9-1599382696609:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38998,DS-69fb72b6-8745-4900-9c22-f3333c2b1125,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-778540246-172.17.0.9-1599382840105:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46266,DS-14b72504-5ec9-4169-bcaf-3dee48a10e32,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-b6fb3784-09f6-4853-b393-1bff56e4b33c,DISK], DatanodeInfoWithStorage[127.0.0.1:33233,DS-2dd1c56b-446e-4d25-b3a7-534ea46a7d44,DISK], DatanodeInfoWithStorage[127.0.0.1:41017,DS-cefc9336-0d52-40e6-ad6c-e763cef80463,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-12690337-64f9-47d5-92db-544a1845ae70,DISK], DatanodeInfoWithStorage[127.0.0.1:42860,DS-0f114e0d-e225-4df8-ac0c-a6b61fe26085,DISK], DatanodeInfoWithStorage[127.0.0.1:35860,DS-377f459a-16c4-4389-927e-044fc2792e18,DISK], DatanodeInfoWithStorage[127.0.0.1:39389,DS-5a7a2e82-410e-439b-95b8-8cbae86bda7c,DISK], DatanodeInfoWithStorage[127.0.0.1:37943,DS-a86dd32b-a4ae-4c52-8480-186a4dbebedd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-778540246-172.17.0.9-1599382840105:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46266,DS-9e1707c9-c9ad-4919-99ab-f3a837295746,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-00e97b15-1bfd-4bff-b817-b47e4ff934fc,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-778540246-172.17.0.9-1599382840105:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46266,DS-9e1707c9-c9ad-4919-99ab-f3a837295746,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-00e97b15-1bfd-4bff-b817-b47e4ff934fc,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-778540246-172.17.0.9-1599382840105:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46266,DS-14b72504-5ec9-4169-bcaf-3dee48a10e32,DISK], DatanodeInfoWithStorage[127.0.0.1:42732,DS-b6fb3784-09f6-4853-b393-1bff56e4b33c,DISK], DatanodeInfoWithStorage[127.0.0.1:33233,DS-2dd1c56b-446e-4d25-b3a7-534ea46a7d44,DISK], DatanodeInfoWithStorage[127.0.0.1:41017,DS-cefc9336-0d52-40e6-ad6c-e763cef80463,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-12690337-64f9-47d5-92db-544a1845ae70,DISK], DatanodeInfoWithStorage[127.0.0.1:42860,DS-0f114e0d-e225-4df8-ac0c-a6b61fe26085,DISK], DatanodeInfoWithStorage[127.0.0.1:35860,DS-377f459a-16c4-4389-927e-044fc2792e18,DISK], DatanodeInfoWithStorage[127.0.0.1:39389,DS-5a7a2e82-410e-439b-95b8-8cbae86bda7c,DISK], DatanodeInfoWithStorage[127.0.0.1:37943,DS-a86dd32b-a4ae-4c52-8480-186a4dbebedd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-778540246-172.17.0.9-1599382840105:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46266,DS-9e1707c9-c9ad-4919-99ab-f3a837295746,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-00e97b15-1bfd-4bff-b817-b47e4ff934fc,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-778540246-172.17.0.9-1599382840105:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46266,DS-9e1707c9-c9ad-4919-99ab-f3a837295746,DISK], DatanodeInfoWithStorage[127.0.0.1:42258,DS-00e97b15-1bfd-4bff-b817-b47e4ff934fc,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 10000000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-697426007-172.17.0.9-1599383000942:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38164,DS-d3f00f6c-41cf-4071-abfa-7a8e7143bb43,DISK], DatanodeInfoWithStorage[127.0.0.1:41120,DS-dab072c5-c017-4c8b-9c4c-34b295112363,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-80fdc970-8baa-4bce-bf34-6730eef5b9ac,DISK], DatanodeInfoWithStorage[127.0.0.1:42943,DS-f4ad8910-764a-4790-bc67-31cdea5eb691,DISK], DatanodeInfoWithStorage[127.0.0.1:33349,DS-f42c1589-00e2-4cae-83db-a153811275ac,DISK], DatanodeInfoWithStorage[127.0.0.1:46468,DS-91701886-3fa1-40e1-90d5-455739532cff,DISK]]; indices=[1, 2, 3, 6, 7, 8]}, LocatedStripedBlock{BP-697426007-172.17.0.9-1599383000942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42943,DS-37098b28-924d-4b66-8621-60e36db59511,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-b6f8cb84-5973-4f42-867a-07f807db2a6f,DISK], DatanodeInfoWithStorage[127.0.0.1:46468,DS-d1e264b3-6c4d-4de8-9b91-fd267acfa990,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-697426007-172.17.0.9-1599383000942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42943,DS-37098b28-924d-4b66-8621-60e36db59511,DISK], DatanodeInfoWithStorage[127.0.0.1:46468,DS-d1e264b3-6c4d-4de8-9b91-fd267acfa990,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-697426007-172.17.0.9-1599383000942:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38164,DS-d3f00f6c-41cf-4071-abfa-7a8e7143bb43,DISK], DatanodeInfoWithStorage[127.0.0.1:41120,DS-dab072c5-c017-4c8b-9c4c-34b295112363,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-80fdc970-8baa-4bce-bf34-6730eef5b9ac,DISK], DatanodeInfoWithStorage[127.0.0.1:42943,DS-f4ad8910-764a-4790-bc67-31cdea5eb691,DISK], DatanodeInfoWithStorage[127.0.0.1:33349,DS-f42c1589-00e2-4cae-83db-a153811275ac,DISK], DatanodeInfoWithStorage[127.0.0.1:46468,DS-91701886-3fa1-40e1-90d5-455739532cff,DISK]]; indices=[1, 2, 3, 6, 7, 8]}, LocatedStripedBlock{BP-697426007-172.17.0.9-1599383000942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42943,DS-37098b28-924d-4b66-8621-60e36db59511,DISK], DatanodeInfoWithStorage[127.0.0.1:44016,DS-b6f8cb84-5973-4f42-867a-07f807db2a6f,DISK], DatanodeInfoWithStorage[127.0.0.1:46468,DS-d1e264b3-6c4d-4de8-9b91-fd267acfa990,DISK]]; indices=[0, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-697426007-172.17.0.9-1599383000942:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42943,DS-37098b28-924d-4b66-8621-60e36db59511,DISK], DatanodeInfoWithStorage[127.0.0.1:46468,DS-d1e264b3-6c4d-4de8-9b91-fd267acfa990,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 13 out of 50
v1v1v2v2 failed with probability 8 out of 50
result: might be true error
Total execution time in seconds : 9047
