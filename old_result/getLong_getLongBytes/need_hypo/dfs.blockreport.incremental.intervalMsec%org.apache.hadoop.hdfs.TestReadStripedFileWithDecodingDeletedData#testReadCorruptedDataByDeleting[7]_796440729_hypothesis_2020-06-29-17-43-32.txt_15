reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-922410077-172.17.0.15-1593452625049:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40820,DS-913aab04-c6cd-4114-b106-7a2cc4bbf577,DISK], DatanodeInfoWithStorage[127.0.0.1:39297,DS-faba53eb-4dc4-4651-a81d-58ba594796d4,DISK], DatanodeInfoWithStorage[127.0.0.1:34576,DS-6592050c-5c4a-47fa-ba9e-9a8c757251df,DISK], DatanodeInfoWithStorage[127.0.0.1:43665,DS-f3301048-69db-4619-8b65-bf128d9cebfa,DISK], DatanodeInfoWithStorage[127.0.0.1:42063,DS-2493b525-bba2-4e53-a955-ec9991211488,DISK], DatanodeInfoWithStorage[127.0.0.1:42836,DS-5f056d03-15b0-4211-949b-c79c8118e9c4,DISK], DatanodeInfoWithStorage[127.0.0.1:43640,DS-04ccd914-f3a3-4452-b4a3-d2c206cb2153,DISK], DatanodeInfoWithStorage[127.0.0.1:33537,DS-ddebe88b-8ee7-45ee-a7db-7bd9e0805242,DISK], DatanodeInfoWithStorage[127.0.0.1:36945,DS-c9acd543-9b44-4573-b446-6570d42633ca,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-922410077-172.17.0.15-1593452625049:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36945,DS-6943c212-6b7b-48b5-a84f-5d743685165a,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-922410077-172.17.0.15-1593452625049:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36945,DS-6943c212-6b7b-48b5-a84f-5d743685165a,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-922410077-172.17.0.15-1593452625049:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40820,DS-913aab04-c6cd-4114-b106-7a2cc4bbf577,DISK], DatanodeInfoWithStorage[127.0.0.1:39297,DS-faba53eb-4dc4-4651-a81d-58ba594796d4,DISK], DatanodeInfoWithStorage[127.0.0.1:34576,DS-6592050c-5c4a-47fa-ba9e-9a8c757251df,DISK], DatanodeInfoWithStorage[127.0.0.1:43665,DS-f3301048-69db-4619-8b65-bf128d9cebfa,DISK], DatanodeInfoWithStorage[127.0.0.1:42063,DS-2493b525-bba2-4e53-a955-ec9991211488,DISK], DatanodeInfoWithStorage[127.0.0.1:42836,DS-5f056d03-15b0-4211-949b-c79c8118e9c4,DISK], DatanodeInfoWithStorage[127.0.0.1:43640,DS-04ccd914-f3a3-4452-b4a3-d2c206cb2153,DISK], DatanodeInfoWithStorage[127.0.0.1:33537,DS-ddebe88b-8ee7-45ee-a7db-7bd9e0805242,DISK], DatanodeInfoWithStorage[127.0.0.1:36945,DS-c9acd543-9b44-4573-b446-6570d42633ca,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-922410077-172.17.0.15-1593452625049:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36945,DS-6943c212-6b7b-48b5-a84f-5d743685165a,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-922410077-172.17.0.15-1593452625049:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36945,DS-6943c212-6b7b-48b5-a84f-5d743685165a,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1480391499-172.17.0.15-1593457026625:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34238,DS-b78ebbb8-3c99-4456-8142-20359326bdd6,DISK], DatanodeInfoWithStorage[127.0.0.1:36780,DS-1865490f-3eef-4fd6-aa2e-cc830681a722,DISK], DatanodeInfoWithStorage[127.0.0.1:42965,DS-c1946b34-c123-451d-96ad-49264f29ea1b,DISK], DatanodeInfoWithStorage[127.0.0.1:33356,DS-ce2f5103-9244-456b-a150-e24754d1dadd,DISK], DatanodeInfoWithStorage[127.0.0.1:38625,DS-1beadba5-ee1b-4048-84db-df64cf2de830,DISK], DatanodeInfoWithStorage[127.0.0.1:45260,DS-7d0b1e80-2ad1-497a-91e2-666a14f6aab7,DISK], DatanodeInfoWithStorage[127.0.0.1:35588,DS-94f3f9a8-8eb5-4a0e-bb4e-56f1b6ac3b97,DISK], DatanodeInfoWithStorage[127.0.0.1:34848,DS-076acef2-2cf5-4bde-baed-27fecf78f7fe,DISK]]; indices=[0, 1, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1480391499-172.17.0.15-1593457026625:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38625,DS-5f9d5a03-c1a5-4de2-aa50-75f657e233ea,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1480391499-172.17.0.15-1593457026625:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38625,DS-5f9d5a03-c1a5-4de2-aa50-75f657e233ea,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1480391499-172.17.0.15-1593457026625:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34238,DS-b78ebbb8-3c99-4456-8142-20359326bdd6,DISK], DatanodeInfoWithStorage[127.0.0.1:36780,DS-1865490f-3eef-4fd6-aa2e-cc830681a722,DISK], DatanodeInfoWithStorage[127.0.0.1:42965,DS-c1946b34-c123-451d-96ad-49264f29ea1b,DISK], DatanodeInfoWithStorage[127.0.0.1:33356,DS-ce2f5103-9244-456b-a150-e24754d1dadd,DISK], DatanodeInfoWithStorage[127.0.0.1:38625,DS-1beadba5-ee1b-4048-84db-df64cf2de830,DISK], DatanodeInfoWithStorage[127.0.0.1:45260,DS-7d0b1e80-2ad1-497a-91e2-666a14f6aab7,DISK], DatanodeInfoWithStorage[127.0.0.1:35588,DS-94f3f9a8-8eb5-4a0e-bb4e-56f1b6ac3b97,DISK], DatanodeInfoWithStorage[127.0.0.1:34848,DS-076acef2-2cf5-4bde-baed-27fecf78f7fe,DISK]]; indices=[0, 1, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1480391499-172.17.0.15-1593457026625:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38625,DS-5f9d5a03-c1a5-4de2-aa50-75f657e233ea,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1480391499-172.17.0.15-1593457026625:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38625,DS-5f9d5a03-c1a5-4de2-aa50-75f657e233ea,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is -1

Test vvMode=v2v2
tr.result is 1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1540011483-172.17.0.15-1593457053488:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38274,DS-b18bcab1-1bcf-4da7-a575-50aa6e60aaf1,DISK], DatanodeInfoWithStorage[127.0.0.1:45499,DS-fa5d539e-1369-4c5f-b1e4-4e0af8ef6ff3,DISK], DatanodeInfoWithStorage[127.0.0.1:44958,DS-3cb63e21-99ff-471e-b706-1b3101a879f3,DISK], DatanodeInfoWithStorage[127.0.0.1:42037,DS-5aa7550a-5597-4706-b838-6f4f3c7640d0,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-51d600dd-7ac1-4330-a29d-5a8a144a07cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43947,DS-8459dcd5-28b3-4298-b96b-1e2fd5e6ff0b,DISK], DatanodeInfoWithStorage[127.0.0.1:39167,DS-00e51de4-5d99-44cf-8cec-64adabe3cdb2,DISK], DatanodeInfoWithStorage[127.0.0.1:40745,DS-6919ac7f-7758-4449-b01c-9cc6a1d82b12,DISK], DatanodeInfoWithStorage[127.0.0.1:35157,DS-5a0a3b2e-5e76-40b9-9fbd-21dc5e785b8a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1540011483-172.17.0.15-1593457053488:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38274,DS-7c92c082-7799-468f-bec2-d1b982fccabf,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1540011483-172.17.0.15-1593457053488:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38274,DS-7c92c082-7799-468f-bec2-d1b982fccabf,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1540011483-172.17.0.15-1593457053488:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38274,DS-b18bcab1-1bcf-4da7-a575-50aa6e60aaf1,DISK], DatanodeInfoWithStorage[127.0.0.1:45499,DS-fa5d539e-1369-4c5f-b1e4-4e0af8ef6ff3,DISK], DatanodeInfoWithStorage[127.0.0.1:44958,DS-3cb63e21-99ff-471e-b706-1b3101a879f3,DISK], DatanodeInfoWithStorage[127.0.0.1:42037,DS-5aa7550a-5597-4706-b838-6f4f3c7640d0,DISK], DatanodeInfoWithStorage[127.0.0.1:36061,DS-51d600dd-7ac1-4330-a29d-5a8a144a07cf,DISK], DatanodeInfoWithStorage[127.0.0.1:43947,DS-8459dcd5-28b3-4298-b96b-1e2fd5e6ff0b,DISK], DatanodeInfoWithStorage[127.0.0.1:39167,DS-00e51de4-5d99-44cf-8cec-64adabe3cdb2,DISK], DatanodeInfoWithStorage[127.0.0.1:40745,DS-6919ac7f-7758-4449-b01c-9cc6a1d82b12,DISK], DatanodeInfoWithStorage[127.0.0.1:35157,DS-5a0a3b2e-5e76-40b9-9fbd-21dc5e785b8a,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1540011483-172.17.0.15-1593457053488:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38274,DS-7c92c082-7799-468f-bec2-d1b982fccabf,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1540011483-172.17.0.15-1593457053488:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38274,DS-7c92c082-7799-468f-bec2-d1b982fccabf,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-366544218-172.17.0.15-1593459494993:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33331,DS-fdfedf17-0667-47b2-92d6-7d699430398b,DISK], DatanodeInfoWithStorage[127.0.0.1:42644,DS-47e7086b-c7b1-4379-8b13-83f2ce1c4bf6,DISK], DatanodeInfoWithStorage[127.0.0.1:45149,DS-79e0042b-e082-4eea-9c6c-ebec0979e132,DISK], DatanodeInfoWithStorage[127.0.0.1:34661,DS-87572e89-87f5-4d6a-97fb-06d25535df3e,DISK], DatanodeInfoWithStorage[127.0.0.1:36146,DS-aa8355ec-1791-45e6-8423-aa6d96a49d6d,DISK], DatanodeInfoWithStorage[127.0.0.1:34282,DS-ec56560d-8892-41cc-aeb4-cb4fa8fd004b,DISK]]; indices=[1, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-366544218-172.17.0.15-1593459494993:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36146,DS-9609e4d1-eb9e-4613-a06c-b9e4917e5d1a,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-366544218-172.17.0.15-1593459494993:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36146,DS-9609e4d1-eb9e-4613-a06c-b9e4917e5d1a,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-366544218-172.17.0.15-1593459494993:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33331,DS-fdfedf17-0667-47b2-92d6-7d699430398b,DISK], DatanodeInfoWithStorage[127.0.0.1:42644,DS-47e7086b-c7b1-4379-8b13-83f2ce1c4bf6,DISK], DatanodeInfoWithStorage[127.0.0.1:45149,DS-79e0042b-e082-4eea-9c6c-ebec0979e132,DISK], DatanodeInfoWithStorage[127.0.0.1:34661,DS-87572e89-87f5-4d6a-97fb-06d25535df3e,DISK], DatanodeInfoWithStorage[127.0.0.1:36146,DS-aa8355ec-1791-45e6-8423-aa6d96a49d6d,DISK], DatanodeInfoWithStorage[127.0.0.1:34282,DS-ec56560d-8892-41cc-aeb4-cb4fa8fd004b,DISK]]; indices=[1, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-366544218-172.17.0.15-1593459494993:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36146,DS-9609e4d1-eb9e-4613-a06c-b9e4917e5d1a,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-366544218-172.17.0.15-1593459494993:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:36146,DS-9609e4d1-eb9e-4613-a06c-b9e4917e5d1a,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-652226831-172.17.0.15-1593459832058:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42579,DS-9ddaca66-39d1-42f6-9b8f-9603c290cff2,DISK], DatanodeInfoWithStorage[127.0.0.1:44582,DS-034f4086-3c22-4b2b-bf8c-b606c7cb1c16,DISK], DatanodeInfoWithStorage[127.0.0.1:42786,DS-7796505f-00e9-4296-8510-d296b24ece2f,DISK], DatanodeInfoWithStorage[127.0.0.1:35821,DS-216d33b8-51c9-4322-83c3-d334e175ade7,DISK], DatanodeInfoWithStorage[127.0.0.1:46843,DS-5a6b2ab1-b59a-4b95-84da-fb42397537af,DISK], DatanodeInfoWithStorage[127.0.0.1:37642,DS-cd420848-cae9-48af-85be-b50fc7326213,DISK], DatanodeInfoWithStorage[127.0.0.1:40840,DS-7be60aff-3149-432c-b917-b9ccdf216098,DISK], DatanodeInfoWithStorage[127.0.0.1:45335,DS-07713cec-0d31-41ec-b013-c1f8f4dcb8f1,DISK], DatanodeInfoWithStorage[127.0.0.1:40812,DS-205e93dd-8b92-4666-a096-13f6800f7264,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-652226831-172.17.0.15-1593459832058:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35821,DS-25de6090-8c03-47d7-9ccd-03e2934d224b,DISK], DatanodeInfoWithStorage[127.0.0.1:40840,DS-77ed1a62-9fca-44d6-a016-341a098b925c,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-652226831-172.17.0.15-1593459832058:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35821,DS-25de6090-8c03-47d7-9ccd-03e2934d224b,DISK], DatanodeInfoWithStorage[127.0.0.1:40840,DS-77ed1a62-9fca-44d6-a016-341a098b925c,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-652226831-172.17.0.15-1593459832058:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42579,DS-9ddaca66-39d1-42f6-9b8f-9603c290cff2,DISK], DatanodeInfoWithStorage[127.0.0.1:44582,DS-034f4086-3c22-4b2b-bf8c-b606c7cb1c16,DISK], DatanodeInfoWithStorage[127.0.0.1:42786,DS-7796505f-00e9-4296-8510-d296b24ece2f,DISK], DatanodeInfoWithStorage[127.0.0.1:35821,DS-216d33b8-51c9-4322-83c3-d334e175ade7,DISK], DatanodeInfoWithStorage[127.0.0.1:46843,DS-5a6b2ab1-b59a-4b95-84da-fb42397537af,DISK], DatanodeInfoWithStorage[127.0.0.1:37642,DS-cd420848-cae9-48af-85be-b50fc7326213,DISK], DatanodeInfoWithStorage[127.0.0.1:40840,DS-7be60aff-3149-432c-b917-b9ccdf216098,DISK], DatanodeInfoWithStorage[127.0.0.1:45335,DS-07713cec-0d31-41ec-b013-c1f8f4dcb8f1,DISK], DatanodeInfoWithStorage[127.0.0.1:40812,DS-205e93dd-8b92-4666-a096-13f6800f7264,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-652226831-172.17.0.15-1593459832058:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35821,DS-25de6090-8c03-47d7-9ccd-03e2934d224b,DISK], DatanodeInfoWithStorage[127.0.0.1:40840,DS-77ed1a62-9fca-44d6-a016-341a098b925c,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-652226831-172.17.0.15-1593459832058:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35821,DS-25de6090-8c03-47d7-9ccd-03e2934d224b,DISK], DatanodeInfoWithStorage[127.0.0.1:40840,DS-77ed1a62-9fca-44d6-a016-341a098b925c,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-120699188-172.17.0.15-1593460167444:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36224,DS-499c72f7-4067-4429-a872-add51d9a4702,DISK], DatanodeInfoWithStorage[127.0.0.1:37074,DS-6fe7c21a-8a10-4a7e-9206-47f8555cfae3,DISK], DatanodeInfoWithStorage[127.0.0.1:34990,DS-d58a3e2f-a261-4c40-97f5-edabcc2a499b,DISK], DatanodeInfoWithStorage[127.0.0.1:35675,DS-c030cee0-8042-44f2-a33a-ff99e67b820e,DISK], DatanodeInfoWithStorage[127.0.0.1:33134,DS-95b42d6a-7a64-4de7-9fd7-54ae2ee86ed8,DISK], DatanodeInfoWithStorage[127.0.0.1:42961,DS-061b7005-f251-4136-a45a-4109805f3b92,DISK], DatanodeInfoWithStorage[127.0.0.1:38146,DS-82440bbf-1294-415f-be5c-d1cf7272de19,DISK], DatanodeInfoWithStorage[127.0.0.1:36876,DS-0b771f87-bc95-4f63-a89c-91208e2e6cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:45082,DS-db43e33f-8eb2-427a-a56d-b7d277ba3f67,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-120699188-172.17.0.15-1593460167444:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38146,DS-49e03ac8-4281-41dd-86dd-22a7f39a1a91,DISK], DatanodeInfoWithStorage[127.0.0.1:36224,DS-52392f27-fc98-405f-ad7d-26607d73157a,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-120699188-172.17.0.15-1593460167444:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38146,DS-49e03ac8-4281-41dd-86dd-22a7f39a1a91,DISK], DatanodeInfoWithStorage[127.0.0.1:36224,DS-52392f27-fc98-405f-ad7d-26607d73157a,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-120699188-172.17.0.15-1593460167444:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36224,DS-499c72f7-4067-4429-a872-add51d9a4702,DISK], DatanodeInfoWithStorage[127.0.0.1:37074,DS-6fe7c21a-8a10-4a7e-9206-47f8555cfae3,DISK], DatanodeInfoWithStorage[127.0.0.1:34990,DS-d58a3e2f-a261-4c40-97f5-edabcc2a499b,DISK], DatanodeInfoWithStorage[127.0.0.1:35675,DS-c030cee0-8042-44f2-a33a-ff99e67b820e,DISK], DatanodeInfoWithStorage[127.0.0.1:33134,DS-95b42d6a-7a64-4de7-9fd7-54ae2ee86ed8,DISK], DatanodeInfoWithStorage[127.0.0.1:42961,DS-061b7005-f251-4136-a45a-4109805f3b92,DISK], DatanodeInfoWithStorage[127.0.0.1:38146,DS-82440bbf-1294-415f-be5c-d1cf7272de19,DISK], DatanodeInfoWithStorage[127.0.0.1:36876,DS-0b771f87-bc95-4f63-a89c-91208e2e6cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:45082,DS-db43e33f-8eb2-427a-a56d-b7d277ba3f67,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-120699188-172.17.0.15-1593460167444:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38146,DS-49e03ac8-4281-41dd-86dd-22a7f39a1a91,DISK], DatanodeInfoWithStorage[127.0.0.1:36224,DS-52392f27-fc98-405f-ad7d-26607d73157a,DISK]]; indices=[0, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-120699188-172.17.0.15-1593460167444:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38146,DS-49e03ac8-4281-41dd-86dd-22a7f39a1a91,DISK], DatanodeInfoWithStorage[127.0.0.1:36224,DS-52392f27-fc98-405f-ad7d-26607d73157a,DISK]]; indices=[0, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-53459884-172.17.0.15-1593460506099:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33466,DS-8cb5e8e3-2766-4c86-91b2-8a0e1e3e3974,DISK], DatanodeInfoWithStorage[127.0.0.1:40205,DS-a765a7eb-f288-4434-a933-9208dbc8b013,DISK], DatanodeInfoWithStorage[127.0.0.1:46872,DS-6727484e-ad14-44cc-9187-d89c236bd208,DISK], DatanodeInfoWithStorage[127.0.0.1:35525,DS-938f026e-f2a6-4d0f-b045-d710170af4ed,DISK], DatanodeInfoWithStorage[127.0.0.1:45747,DS-af471f13-1ee8-4c5f-8d14-09f5efc8fc1f,DISK], DatanodeInfoWithStorage[127.0.0.1:33622,DS-65fec153-47fe-4a75-9f26-eafab3e154be,DISK], DatanodeInfoWithStorage[127.0.0.1:42871,DS-9559c0a3-a8ce-4631-8f5b-102e464f4c99,DISK], DatanodeInfoWithStorage[127.0.0.1:43503,DS-02de8b25-1a2a-44e6-998e-b6e7c81fd714,DISK], DatanodeInfoWithStorage[127.0.0.1:36180,DS-db50f244-92c0-44b7-9225-d0ffdecc8df8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-53459884-172.17.0.15-1593460506099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46872,DS-a8427371-483d-4f53-945c-90309df8be12,DISK], DatanodeInfoWithStorage[127.0.0.1:33466,DS-be81b282-aeef-4cc5-a88d-9163d44c9354,DISK], DatanodeInfoWithStorage[127.0.0.1:42871,DS-e25b82b2-8233-49aa-9bf0-e418d827530f,DISK], DatanodeInfoWithStorage[127.0.0.1:43503,DS-4fe9c276-9e7d-4ec6-b272-a32ee9e0a02d,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-53459884-172.17.0.15-1593460506099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46872,DS-a8427371-483d-4f53-945c-90309df8be12,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-53459884-172.17.0.15-1593460506099:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33466,DS-8cb5e8e3-2766-4c86-91b2-8a0e1e3e3974,DISK], DatanodeInfoWithStorage[127.0.0.1:40205,DS-a765a7eb-f288-4434-a933-9208dbc8b013,DISK], DatanodeInfoWithStorage[127.0.0.1:46872,DS-6727484e-ad14-44cc-9187-d89c236bd208,DISK], DatanodeInfoWithStorage[127.0.0.1:35525,DS-938f026e-f2a6-4d0f-b045-d710170af4ed,DISK], DatanodeInfoWithStorage[127.0.0.1:45747,DS-af471f13-1ee8-4c5f-8d14-09f5efc8fc1f,DISK], DatanodeInfoWithStorage[127.0.0.1:33622,DS-65fec153-47fe-4a75-9f26-eafab3e154be,DISK], DatanodeInfoWithStorage[127.0.0.1:42871,DS-9559c0a3-a8ce-4631-8f5b-102e464f4c99,DISK], DatanodeInfoWithStorage[127.0.0.1:43503,DS-02de8b25-1a2a-44e6-998e-b6e7c81fd714,DISK], DatanodeInfoWithStorage[127.0.0.1:36180,DS-db50f244-92c0-44b7-9225-d0ffdecc8df8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-53459884-172.17.0.15-1593460506099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46872,DS-a8427371-483d-4f53-945c-90309df8be12,DISK], DatanodeInfoWithStorage[127.0.0.1:33466,DS-be81b282-aeef-4cc5-a88d-9163d44c9354,DISK], DatanodeInfoWithStorage[127.0.0.1:42871,DS-e25b82b2-8233-49aa-9bf0-e418d827530f,DISK], DatanodeInfoWithStorage[127.0.0.1:43503,DS-4fe9c276-9e7d-4ec6-b272-a32ee9e0a02d,DISK]]; indices=[0, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-53459884-172.17.0.15-1593460506099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46872,DS-a8427371-483d-4f53-945c-90309df8be12,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-385611436-172.17.0.15-1593460680500:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35894,DS-156f1ffe-06b4-4d0d-80f1-2508f673e74b,DISK], DatanodeInfoWithStorage[127.0.0.1:36671,DS-b4a555ac-5977-4a22-afba-4d5e74f91241,DISK], DatanodeInfoWithStorage[127.0.0.1:44375,DS-12eff663-0bfc-4b66-aebf-b618064008fe,DISK], DatanodeInfoWithStorage[127.0.0.1:36468,DS-a17c945e-bcc4-4268-b3c0-49fec10f1229,DISK], DatanodeInfoWithStorage[127.0.0.1:46301,DS-adc2daae-3e20-428e-b7eb-ec139e94dfd6,DISK], DatanodeInfoWithStorage[127.0.0.1:36181,DS-ac136bdd-be01-4361-b52a-872b3bf58abf,DISK], DatanodeInfoWithStorage[127.0.0.1:43469,DS-1a5e36f3-47d7-4564-940d-488877be9ba2,DISK], DatanodeInfoWithStorage[127.0.0.1:34816,DS-3a798200-1d54-44bf-83b8-21a9985a2d62,DISK]]; indices=[0, 1, 2, 3, 5, 6, 7, 8]}, LocatedStripedBlock{BP-385611436-172.17.0.15-1593460680500:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34816,DS-622c45ac-e23e-4b5a-8301-052f743581f3,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-385611436-172.17.0.15-1593460680500:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34816,DS-622c45ac-e23e-4b5a-8301-052f743581f3,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-385611436-172.17.0.15-1593460680500:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35894,DS-156f1ffe-06b4-4d0d-80f1-2508f673e74b,DISK], DatanodeInfoWithStorage[127.0.0.1:36671,DS-b4a555ac-5977-4a22-afba-4d5e74f91241,DISK], DatanodeInfoWithStorage[127.0.0.1:44375,DS-12eff663-0bfc-4b66-aebf-b618064008fe,DISK], DatanodeInfoWithStorage[127.0.0.1:36468,DS-a17c945e-bcc4-4268-b3c0-49fec10f1229,DISK], DatanodeInfoWithStorage[127.0.0.1:46301,DS-adc2daae-3e20-428e-b7eb-ec139e94dfd6,DISK], DatanodeInfoWithStorage[127.0.0.1:36181,DS-ac136bdd-be01-4361-b52a-872b3bf58abf,DISK], DatanodeInfoWithStorage[127.0.0.1:43469,DS-1a5e36f3-47d7-4564-940d-488877be9ba2,DISK], DatanodeInfoWithStorage[127.0.0.1:34816,DS-3a798200-1d54-44bf-83b8-21a9985a2d62,DISK]]; indices=[0, 1, 2, 3, 5, 6, 7, 8]}, LocatedStripedBlock{BP-385611436-172.17.0.15-1593460680500:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34816,DS-622c45ac-e23e-4b5a-8301-052f743581f3,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-385611436-172.17.0.15-1593460680500:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34816,DS-622c45ac-e23e-4b5a-8301-052f743581f3,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 1000
v2: 0
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[7]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-386631072-172.17.0.15-1593460839358:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33736,DS-60efce41-0493-4c87-a7f6-189a1a9d55b0,DISK], DatanodeInfoWithStorage[127.0.0.1:39716,DS-7fa98c17-e51c-43db-b03b-5ef06286664e,DISK], DatanodeInfoWithStorage[127.0.0.1:41372,DS-ebce7dcb-ff14-4570-a2fe-e63edff4fa95,DISK], DatanodeInfoWithStorage[127.0.0.1:33123,DS-884d44d6-93a6-4220-852c-d13f63bb2e98,DISK], DatanodeInfoWithStorage[127.0.0.1:45009,DS-bbb94696-ab87-441a-8861-6cf0b7d3fdc1,DISK], DatanodeInfoWithStorage[127.0.0.1:38154,DS-9ef0a015-85fc-4c54-9d5c-604c5fd61cc9,DISK]]; indices=[0, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-386631072-172.17.0.15-1593460839358:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33736,DS-96840bd5-5511-4c9a-8295-3b2c4f287815,DISK], DatanodeInfoWithStorage[127.0.0.1:38154,DS-4d5c1ef3-e1e1-4690-99fd-2c6620a3a3b4,DISK]]; indices=[0, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-386631072-172.17.0.15-1593460839358:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33736,DS-96840bd5-5511-4c9a-8295-3b2c4f287815,DISK], DatanodeInfoWithStorage[127.0.0.1:38154,DS-4d5c1ef3-e1e1-4690-99fd-2c6620a3a3b4,DISK]]; indices=[0, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=1, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-386631072-172.17.0.15-1593460839358:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33736,DS-60efce41-0493-4c87-a7f6-189a1a9d55b0,DISK], DatanodeInfoWithStorage[127.0.0.1:39716,DS-7fa98c17-e51c-43db-b03b-5ef06286664e,DISK], DatanodeInfoWithStorage[127.0.0.1:41372,DS-ebce7dcb-ff14-4570-a2fe-e63edff4fa95,DISK], DatanodeInfoWithStorage[127.0.0.1:33123,DS-884d44d6-93a6-4220-852c-d13f63bb2e98,DISK], DatanodeInfoWithStorage[127.0.0.1:45009,DS-bbb94696-ab87-441a-8861-6cf0b7d3fdc1,DISK], DatanodeInfoWithStorage[127.0.0.1:38154,DS-9ef0a015-85fc-4c54-9d5c-604c5fd61cc9,DISK]]; indices=[0, 3, 4, 5, 7, 8]}, LocatedStripedBlock{BP-386631072-172.17.0.15-1593460839358:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33736,DS-96840bd5-5511-4c9a-8295-3b2c4f287815,DISK], DatanodeInfoWithStorage[127.0.0.1:38154,DS-4d5c1ef3-e1e1-4690-99fd-2c6620a3a3b4,DISK]]; indices=[0, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-386631072-172.17.0.15-1593460839358:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33736,DS-96840bd5-5511-4c9a-8295-3b2c4f287815,DISK], DatanodeInfoWithStorage[127.0.0.1:38154,DS-4d5c1ef3-e1e1-4690-99fd-2c6620a3a3b4,DISK]]; indices=[0, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 8 out of 50
v1v1v2v2 failed with probability 1 out of 50
result: might be true error
Total execution time in seconds : 9374
