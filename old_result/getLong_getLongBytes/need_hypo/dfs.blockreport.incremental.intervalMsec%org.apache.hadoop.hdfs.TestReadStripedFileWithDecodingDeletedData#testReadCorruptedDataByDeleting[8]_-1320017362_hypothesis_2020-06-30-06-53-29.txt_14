reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1673235925-172.17.0.28-1593502856099:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42237,DS-3054f909-4584-4e58-a800-d23e67591f82,DISK], DatanodeInfoWithStorage[127.0.0.1:33780,DS-12f1f30f-9aea-414c-a5a4-82fdca2e45ef,DISK], DatanodeInfoWithStorage[127.0.0.1:45326,DS-e93dafd9-114a-4994-b95c-cc90b5f8a4a5,DISK], DatanodeInfoWithStorage[127.0.0.1:38426,DS-c244f233-ee89-4f57-b61d-c47ed69bd773,DISK], DatanodeInfoWithStorage[127.0.0.1:45855,DS-cc2d51d3-5b77-43df-95d2-dbd68c10c478,DISK], DatanodeInfoWithStorage[127.0.0.1:43673,DS-d775e96a-896b-437d-9d8a-53f0b617f533,DISK], DatanodeInfoWithStorage[127.0.0.1:44075,DS-1a37ca85-f1eb-4285-a58f-420fa5b67efa,DISK], DatanodeInfoWithStorage[127.0.0.1:35813,DS-7acaf5b9-23b2-4019-88e8-b2e9c37d96d7,DISK], DatanodeInfoWithStorage[127.0.0.1:43796,DS-37d0c159-3aa5-4cc9-8ac2-68b53aec5db8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1673235925-172.17.0.28-1593502856099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45855,DS-dc2aa170-0768-4fdb-a1c4-d407cf2b8745,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1673235925-172.17.0.28-1593502856099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45855,DS-dc2aa170-0768-4fdb-a1c4-d407cf2b8745,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1673235925-172.17.0.28-1593502856099:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42237,DS-3054f909-4584-4e58-a800-d23e67591f82,DISK], DatanodeInfoWithStorage[127.0.0.1:33780,DS-12f1f30f-9aea-414c-a5a4-82fdca2e45ef,DISK], DatanodeInfoWithStorage[127.0.0.1:45326,DS-e93dafd9-114a-4994-b95c-cc90b5f8a4a5,DISK], DatanodeInfoWithStorage[127.0.0.1:38426,DS-c244f233-ee89-4f57-b61d-c47ed69bd773,DISK], DatanodeInfoWithStorage[127.0.0.1:45855,DS-cc2d51d3-5b77-43df-95d2-dbd68c10c478,DISK], DatanodeInfoWithStorage[127.0.0.1:43673,DS-d775e96a-896b-437d-9d8a-53f0b617f533,DISK], DatanodeInfoWithStorage[127.0.0.1:44075,DS-1a37ca85-f1eb-4285-a58f-420fa5b67efa,DISK], DatanodeInfoWithStorage[127.0.0.1:35813,DS-7acaf5b9-23b2-4019-88e8-b2e9c37d96d7,DISK], DatanodeInfoWithStorage[127.0.0.1:43796,DS-37d0c159-3aa5-4cc9-8ac2-68b53aec5db8,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1673235925-172.17.0.28-1593502856099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45855,DS-dc2aa170-0768-4fdb-a1c4-d407cf2b8745,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1673235925-172.17.0.28-1593502856099:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45855,DS-dc2aa170-0768-4fdb-a1c4-d407cf2b8745,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-4943196-172.17.0.28-1593503021629:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45682,DS-3a30349b-dceb-408a-bc3e-4585f3ae6b1c,DISK], DatanodeInfoWithStorage[127.0.0.1:40267,DS-387639f7-0288-43d9-baba-a68500a960ab,DISK], DatanodeInfoWithStorage[127.0.0.1:46717,DS-fa269fee-4888-415c-8a14-f3eb90b42481,DISK], DatanodeInfoWithStorage[127.0.0.1:32822,DS-f8a6c894-2620-4fbb-bbc8-8c1d8d5be874,DISK], DatanodeInfoWithStorage[127.0.0.1:45771,DS-b369340a-ec28-4786-aa77-9809a51030fe,DISK], DatanodeInfoWithStorage[127.0.0.1:43737,DS-6fd03c21-046f-4ff4-967a-1951d244a2fa,DISK], DatanodeInfoWithStorage[127.0.0.1:45504,DS-476b7117-597a-4627-bda9-d0b57b94ebdb,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-bd8bb87d-ec45-4ede-8a98-444089d00f24,DISK], DatanodeInfoWithStorage[127.0.0.1:43850,DS-95da8661-4109-48b8-bcd4-3eec570c1320,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-4943196-172.17.0.28-1593503021629:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45682,DS-14f27d74-5e19-4cb0-9659-af674667f010,DISK], DatanodeInfoWithStorage[127.0.0.1:43737,DS-0498548d-d0b1-45eb-beda-872c8f3d028f,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-4943196-172.17.0.28-1593503021629:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45682,DS-14f27d74-5e19-4cb0-9659-af674667f010,DISK], DatanodeInfoWithStorage[127.0.0.1:43737,DS-0498548d-d0b1-45eb-beda-872c8f3d028f,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-4943196-172.17.0.28-1593503021629:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45682,DS-3a30349b-dceb-408a-bc3e-4585f3ae6b1c,DISK], DatanodeInfoWithStorage[127.0.0.1:40267,DS-387639f7-0288-43d9-baba-a68500a960ab,DISK], DatanodeInfoWithStorage[127.0.0.1:46717,DS-fa269fee-4888-415c-8a14-f3eb90b42481,DISK], DatanodeInfoWithStorage[127.0.0.1:32822,DS-f8a6c894-2620-4fbb-bbc8-8c1d8d5be874,DISK], DatanodeInfoWithStorage[127.0.0.1:45771,DS-b369340a-ec28-4786-aa77-9809a51030fe,DISK], DatanodeInfoWithStorage[127.0.0.1:43737,DS-6fd03c21-046f-4ff4-967a-1951d244a2fa,DISK], DatanodeInfoWithStorage[127.0.0.1:45504,DS-476b7117-597a-4627-bda9-d0b57b94ebdb,DISK], DatanodeInfoWithStorage[127.0.0.1:33911,DS-bd8bb87d-ec45-4ede-8a98-444089d00f24,DISK], DatanodeInfoWithStorage[127.0.0.1:43850,DS-95da8661-4109-48b8-bcd4-3eec570c1320,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-4943196-172.17.0.28-1593503021629:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45682,DS-14f27d74-5e19-4cb0-9659-af674667f010,DISK], DatanodeInfoWithStorage[127.0.0.1:43737,DS-0498548d-d0b1-45eb-beda-872c8f3d028f,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-4943196-172.17.0.28-1593503021629:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45682,DS-14f27d74-5e19-4cb0-9659-af674667f010,DISK], DatanodeInfoWithStorage[127.0.0.1:43737,DS-0498548d-d0b1-45eb-beda-872c8f3d028f,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1920711692-172.17.0.28-1593503895607:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36724,DS-0d8a3847-0c7a-47c3-9646-04c8e0ba30f8,DISK], DatanodeInfoWithStorage[127.0.0.1:41673,DS-95211102-3814-4f9b-b234-f85ea0cc1014,DISK], DatanodeInfoWithStorage[127.0.0.1:42644,DS-901c9eca-dee3-4fea-b268-22977352edb5,DISK], DatanodeInfoWithStorage[127.0.0.1:35787,DS-b2d63b30-c502-4792-af4c-167566d0e997,DISK], DatanodeInfoWithStorage[127.0.0.1:33064,DS-820ff792-1563-4504-96f5-60f3c6c146fe,DISK], DatanodeInfoWithStorage[127.0.0.1:37036,DS-a46d9cb8-f4d4-4e80-9fff-8e08a050ad78,DISK], DatanodeInfoWithStorage[127.0.0.1:44246,DS-2608a62d-79ef-4bc2-a374-df47c403cbc9,DISK], DatanodeInfoWithStorage[127.0.0.1:32869,DS-88ecc9e8-ba35-4180-973e-3d0e6ef1ed08,DISK], DatanodeInfoWithStorage[127.0.0.1:40346,DS-caca86d6-9eae-430b-9478-372873b48737,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1920711692-172.17.0.28-1593503895607:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40346,DS-ae240e28-2dbd-43be-984c-e3b32750e209,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1920711692-172.17.0.28-1593503895607:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40346,DS-ae240e28-2dbd-43be-984c-e3b32750e209,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1920711692-172.17.0.28-1593503895607:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36724,DS-0d8a3847-0c7a-47c3-9646-04c8e0ba30f8,DISK], DatanodeInfoWithStorage[127.0.0.1:41673,DS-95211102-3814-4f9b-b234-f85ea0cc1014,DISK], DatanodeInfoWithStorage[127.0.0.1:42644,DS-901c9eca-dee3-4fea-b268-22977352edb5,DISK], DatanodeInfoWithStorage[127.0.0.1:35787,DS-b2d63b30-c502-4792-af4c-167566d0e997,DISK], DatanodeInfoWithStorage[127.0.0.1:33064,DS-820ff792-1563-4504-96f5-60f3c6c146fe,DISK], DatanodeInfoWithStorage[127.0.0.1:37036,DS-a46d9cb8-f4d4-4e80-9fff-8e08a050ad78,DISK], DatanodeInfoWithStorage[127.0.0.1:44246,DS-2608a62d-79ef-4bc2-a374-df47c403cbc9,DISK], DatanodeInfoWithStorage[127.0.0.1:32869,DS-88ecc9e8-ba35-4180-973e-3d0e6ef1ed08,DISK], DatanodeInfoWithStorage[127.0.0.1:40346,DS-caca86d6-9eae-430b-9478-372873b48737,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1920711692-172.17.0.28-1593503895607:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40346,DS-ae240e28-2dbd-43be-984c-e3b32750e209,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1920711692-172.17.0.28-1593503895607:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:40346,DS-ae240e28-2dbd-43be-984c-e3b32750e209,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1309362894-172.17.0.28-1593504221604:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40009,DS-f51311b2-1b18-469a-b852-5ffd2c5b6386,DISK], DatanodeInfoWithStorage[127.0.0.1:41273,DS-c4cfec04-2f16-4061-8238-c928b7a14c4d,DISK], DatanodeInfoWithStorage[127.0.0.1:42493,DS-3afc14be-fa6d-4872-8581-939460d5c0ff,DISK], DatanodeInfoWithStorage[127.0.0.1:39451,DS-5edc506e-52c5-49c1-b76d-fb0ebb717273,DISK], DatanodeInfoWithStorage[127.0.0.1:32952,DS-84912847-7599-49a9-85f6-d7e55caf72f4,DISK], DatanodeInfoWithStorage[127.0.0.1:39218,DS-a3bab49a-0d54-4688-8982-1afb1af055c7,DISK], DatanodeInfoWithStorage[127.0.0.1:46216,DS-2ac7b164-80e2-4819-a9e5-74e769f2fb35,DISK], DatanodeInfoWithStorage[127.0.0.1:39547,DS-5db48c8e-87f6-435c-a5b4-2bde14a6307e,DISK], DatanodeInfoWithStorage[127.0.0.1:42167,DS-0fc7c0ed-a5e2-4137-af93-e86727f1a778,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1309362894-172.17.0.28-1593504221604:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32952,DS-53578f26-7184-4830-9de1-4f7400c29a40,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1309362894-172.17.0.28-1593504221604:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32952,DS-53578f26-7184-4830-9de1-4f7400c29a40,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1309362894-172.17.0.28-1593504221604:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40009,DS-f51311b2-1b18-469a-b852-5ffd2c5b6386,DISK], DatanodeInfoWithStorage[127.0.0.1:41273,DS-c4cfec04-2f16-4061-8238-c928b7a14c4d,DISK], DatanodeInfoWithStorage[127.0.0.1:42493,DS-3afc14be-fa6d-4872-8581-939460d5c0ff,DISK], DatanodeInfoWithStorage[127.0.0.1:39451,DS-5edc506e-52c5-49c1-b76d-fb0ebb717273,DISK], DatanodeInfoWithStorage[127.0.0.1:32952,DS-84912847-7599-49a9-85f6-d7e55caf72f4,DISK], DatanodeInfoWithStorage[127.0.0.1:39218,DS-a3bab49a-0d54-4688-8982-1afb1af055c7,DISK], DatanodeInfoWithStorage[127.0.0.1:46216,DS-2ac7b164-80e2-4819-a9e5-74e769f2fb35,DISK], DatanodeInfoWithStorage[127.0.0.1:39547,DS-5db48c8e-87f6-435c-a5b4-2bde14a6307e,DISK], DatanodeInfoWithStorage[127.0.0.1:42167,DS-0fc7c0ed-a5e2-4137-af93-e86727f1a778,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1309362894-172.17.0.28-1593504221604:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32952,DS-53578f26-7184-4830-9de1-4f7400c29a40,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1309362894-172.17.0.28-1593504221604:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:32952,DS-53578f26-7184-4830-9de1-4f7400c29a40,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1126102212-172.17.0.28-1593504906215:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44950,DS-c7f69b40-cb2f-4e60-b688-300e2bb99662,DISK], DatanodeInfoWithStorage[127.0.0.1:39182,DS-3a9df936-287e-4e82-ab02-7b3a567717ea,DISK], DatanodeInfoWithStorage[127.0.0.1:38482,DS-fb23aa35-2d7a-45aa-acb3-0384d92f77c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39778,DS-56a622a0-6352-424a-b523-f2e7d1fcc82a,DISK], DatanodeInfoWithStorage[127.0.0.1:36963,DS-f5d0271d-d2c7-4531-b843-b71c1faa449a,DISK], DatanodeInfoWithStorage[127.0.0.1:39996,DS-2a9dbaa3-5343-4afb-8187-a26998cd95b9,DISK], DatanodeInfoWithStorage[127.0.0.1:35581,DS-066432b4-a671-4cde-9e42-16c6dcc731c6,DISK], DatanodeInfoWithStorage[127.0.0.1:41922,DS-de082cda-d1f5-4702-b46e-45dc2ab80307,DISK], DatanodeInfoWithStorage[127.0.0.1:42078,DS-a1ac8964-2d68-4322-81dd-11ff7c237938,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1126102212-172.17.0.28-1593504906215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42078,DS-f7b29288-a276-45a3-b073-dd3b0e3159c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44950,DS-a6887452-7fef-4a3e-92de-bc5f47a3563e,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1126102212-172.17.0.28-1593504906215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42078,DS-f7b29288-a276-45a3-b073-dd3b0e3159c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44950,DS-a6887452-7fef-4a3e-92de-bc5f47a3563e,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1126102212-172.17.0.28-1593504906215:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44950,DS-c7f69b40-cb2f-4e60-b688-300e2bb99662,DISK], DatanodeInfoWithStorage[127.0.0.1:39182,DS-3a9df936-287e-4e82-ab02-7b3a567717ea,DISK], DatanodeInfoWithStorage[127.0.0.1:38482,DS-fb23aa35-2d7a-45aa-acb3-0384d92f77c2,DISK], DatanodeInfoWithStorage[127.0.0.1:39778,DS-56a622a0-6352-424a-b523-f2e7d1fcc82a,DISK], DatanodeInfoWithStorage[127.0.0.1:36963,DS-f5d0271d-d2c7-4531-b843-b71c1faa449a,DISK], DatanodeInfoWithStorage[127.0.0.1:39996,DS-2a9dbaa3-5343-4afb-8187-a26998cd95b9,DISK], DatanodeInfoWithStorage[127.0.0.1:35581,DS-066432b4-a671-4cde-9e42-16c6dcc731c6,DISK], DatanodeInfoWithStorage[127.0.0.1:41922,DS-de082cda-d1f5-4702-b46e-45dc2ab80307,DISK], DatanodeInfoWithStorage[127.0.0.1:42078,DS-a1ac8964-2d68-4322-81dd-11ff7c237938,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1126102212-172.17.0.28-1593504906215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42078,DS-f7b29288-a276-45a3-b073-dd3b0e3159c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44950,DS-a6887452-7fef-4a3e-92de-bc5f47a3563e,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1126102212-172.17.0.28-1593504906215:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42078,DS-f7b29288-a276-45a3-b073-dd3b0e3159c2,DISK], DatanodeInfoWithStorage[127.0.0.1:44950,DS-a6887452-7fef-4a3e-92de-bc5f47a3563e,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-776216457-172.17.0.28-1593505053321:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33505,DS-18a949cc-a0f5-472f-8bc6-edd09fed3f6e,DISK], DatanodeInfoWithStorage[127.0.0.1:41150,DS-64aea53d-2df9-4471-afc7-3ee191d27995,DISK], DatanodeInfoWithStorage[127.0.0.1:36148,DS-39900bba-0b15-4645-8711-45e4d78fb242,DISK], DatanodeInfoWithStorage[127.0.0.1:39605,DS-034cfa63-5e40-4b27-8e47-8370a1898ada,DISK], DatanodeInfoWithStorage[127.0.0.1:33845,DS-e49cc16c-aaa7-4109-b289-fb905f51cb83,DISK], DatanodeInfoWithStorage[127.0.0.1:36938,DS-412aee10-9546-4e6b-8f37-bc07756699fc,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-40bed5e0-b922-4a57-a65e-4dadd9e69840,DISK], DatanodeInfoWithStorage[127.0.0.1:35146,DS-c0137ed3-9adc-448b-a75f-e41f2d07d634,DISK], DatanodeInfoWithStorage[127.0.0.1:43364,DS-cfaaf5e0-7316-401d-97b6-e2b4d63a14b0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-776216457-172.17.0.28-1593505053321:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35146,DS-68ed7dca-c98a-4e56-9ad9-295fb92c1d62,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-776216457-172.17.0.28-1593505053321:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35146,DS-68ed7dca-c98a-4e56-9ad9-295fb92c1d62,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-776216457-172.17.0.28-1593505053321:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33505,DS-18a949cc-a0f5-472f-8bc6-edd09fed3f6e,DISK], DatanodeInfoWithStorage[127.0.0.1:41150,DS-64aea53d-2df9-4471-afc7-3ee191d27995,DISK], DatanodeInfoWithStorage[127.0.0.1:36148,DS-39900bba-0b15-4645-8711-45e4d78fb242,DISK], DatanodeInfoWithStorage[127.0.0.1:39605,DS-034cfa63-5e40-4b27-8e47-8370a1898ada,DISK], DatanodeInfoWithStorage[127.0.0.1:33845,DS-e49cc16c-aaa7-4109-b289-fb905f51cb83,DISK], DatanodeInfoWithStorage[127.0.0.1:36938,DS-412aee10-9546-4e6b-8f37-bc07756699fc,DISK], DatanodeInfoWithStorage[127.0.0.1:36736,DS-40bed5e0-b922-4a57-a65e-4dadd9e69840,DISK], DatanodeInfoWithStorage[127.0.0.1:35146,DS-c0137ed3-9adc-448b-a75f-e41f2d07d634,DISK], DatanodeInfoWithStorage[127.0.0.1:43364,DS-cfaaf5e0-7316-401d-97b6-e2b4d63a14b0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-776216457-172.17.0.28-1593505053321:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35146,DS-68ed7dca-c98a-4e56-9ad9-295fb92c1d62,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-776216457-172.17.0.28-1593505053321:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35146,DS-68ed7dca-c98a-4e56-9ad9-295fb92c1d62,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-559521192-172.17.0.28-1593505894135:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42374,DS-4535769e-dd37-4f8f-8b21-adc9168b0a7e,DISK], DatanodeInfoWithStorage[127.0.0.1:38858,DS-36d0ce6c-49c6-4771-8fa2-29eb7db27f4c,DISK], DatanodeInfoWithStorage[127.0.0.1:33177,DS-5e0fc0c4-c924-4819-83f2-cb46c68ede96,DISK], DatanodeInfoWithStorage[127.0.0.1:44029,DS-d6af2cf5-5213-4490-a8d9-92a4030e9907,DISK], DatanodeInfoWithStorage[127.0.0.1:43799,DS-ab4274c9-c983-4e41-bf57-dbd8a5d2cdd5,DISK], DatanodeInfoWithStorage[127.0.0.1:44923,DS-d1b2a9fc-c409-45f3-9d4e-2b6650421d57,DISK], DatanodeInfoWithStorage[127.0.0.1:33898,DS-97d2d31a-ac04-4c04-8579-1e05713ffbd0,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-5d541ca1-2b00-4ec1-82ba-2048dba6c6e7,DISK], DatanodeInfoWithStorage[127.0.0.1:41110,DS-30059f10-a053-46fc-9c9c-4dabd76e58fb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-559521192-172.17.0.28-1593505894135:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44029,DS-b48c1a99-9c68-4a83-bd2e-5fceda17fa10,DISK], DatanodeInfoWithStorage[127.0.0.1:33177,DS-7569173b-13d5-48f6-b7c4-fd43b9d72eba,DISK], DatanodeInfoWithStorage[127.0.0.1:44923,DS-ad0e05f4-ba96-4e05-b47d-dfd82fde0e3e,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-559521192-172.17.0.28-1593505894135:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44029,DS-b48c1a99-9c68-4a83-bd2e-5fceda17fa10,DISK], DatanodeInfoWithStorage[127.0.0.1:33177,DS-7569173b-13d5-48f6-b7c4-fd43b9d72eba,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-559521192-172.17.0.28-1593505894135:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42374,DS-4535769e-dd37-4f8f-8b21-adc9168b0a7e,DISK], DatanodeInfoWithStorage[127.0.0.1:38858,DS-36d0ce6c-49c6-4771-8fa2-29eb7db27f4c,DISK], DatanodeInfoWithStorage[127.0.0.1:33177,DS-5e0fc0c4-c924-4819-83f2-cb46c68ede96,DISK], DatanodeInfoWithStorage[127.0.0.1:44029,DS-d6af2cf5-5213-4490-a8d9-92a4030e9907,DISK], DatanodeInfoWithStorage[127.0.0.1:43799,DS-ab4274c9-c983-4e41-bf57-dbd8a5d2cdd5,DISK], DatanodeInfoWithStorage[127.0.0.1:44923,DS-d1b2a9fc-c409-45f3-9d4e-2b6650421d57,DISK], DatanodeInfoWithStorage[127.0.0.1:33898,DS-97d2d31a-ac04-4c04-8579-1e05713ffbd0,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-5d541ca1-2b00-4ec1-82ba-2048dba6c6e7,DISK], DatanodeInfoWithStorage[127.0.0.1:41110,DS-30059f10-a053-46fc-9c9c-4dabd76e58fb,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-559521192-172.17.0.28-1593505894135:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44029,DS-b48c1a99-9c68-4a83-bd2e-5fceda17fa10,DISK], DatanodeInfoWithStorage[127.0.0.1:33177,DS-7569173b-13d5-48f6-b7c4-fd43b9d72eba,DISK], DatanodeInfoWithStorage[127.0.0.1:44923,DS-ad0e05f4-ba96-4e05-b47d-dfd82fde0e3e,DISK]]; indices=[6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-559521192-172.17.0.28-1593505894135:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44029,DS-b48c1a99-9c68-4a83-bd2e-5fceda17fa10,DISK], DatanodeInfoWithStorage[127.0.0.1:33177,DS-7569173b-13d5-48f6-b7c4-fd43b9d72eba,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-529579226-172.17.0.28-1593506486108:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37426,DS-e953704f-064c-4da5-984c-46a40b7444fd,DISK], DatanodeInfoWithStorage[127.0.0.1:43710,DS-d052552f-16c8-4266-9a9f-e895d667d209,DISK], DatanodeInfoWithStorage[127.0.0.1:42628,DS-965f7d10-3915-4c0f-af21-711a4770ccec,DISK], DatanodeInfoWithStorage[127.0.0.1:37852,DS-032d3f16-d50e-41ed-b773-55855c4620e7,DISK], DatanodeInfoWithStorage[127.0.0.1:46283,DS-252b3fcf-12f2-486e-82fa-52c1e667a50e,DISK], DatanodeInfoWithStorage[127.0.0.1:35224,DS-c2b20847-872b-437a-8a61-c697017e1409,DISK], DatanodeInfoWithStorage[127.0.0.1:44442,DS-ca7ce7de-077b-4b0c-8828-f3ad03da6754,DISK], DatanodeInfoWithStorage[127.0.0.1:44908,DS-6c38eb7d-2764-44ee-8967-d8cc5b5d89d3,DISK], DatanodeInfoWithStorage[127.0.0.1:35010,DS-02f6ba27-84be-4c69-9f46-799816c33f2f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-529579226-172.17.0.28-1593506486108:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44908,DS-3032341d-8f5b-4545-a21e-147e22ab9682,DISK], DatanodeInfoWithStorage[127.0.0.1:37852,DS-10f5ceab-1ed9-400c-89b1-1c4459319ddc,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-529579226-172.17.0.28-1593506486108:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44908,DS-3032341d-8f5b-4545-a21e-147e22ab9682,DISK], DatanodeInfoWithStorage[127.0.0.1:37852,DS-10f5ceab-1ed9-400c-89b1-1c4459319ddc,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-529579226-172.17.0.28-1593506486108:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37426,DS-e953704f-064c-4da5-984c-46a40b7444fd,DISK], DatanodeInfoWithStorage[127.0.0.1:43710,DS-d052552f-16c8-4266-9a9f-e895d667d209,DISK], DatanodeInfoWithStorage[127.0.0.1:42628,DS-965f7d10-3915-4c0f-af21-711a4770ccec,DISK], DatanodeInfoWithStorage[127.0.0.1:37852,DS-032d3f16-d50e-41ed-b773-55855c4620e7,DISK], DatanodeInfoWithStorage[127.0.0.1:46283,DS-252b3fcf-12f2-486e-82fa-52c1e667a50e,DISK], DatanodeInfoWithStorage[127.0.0.1:35224,DS-c2b20847-872b-437a-8a61-c697017e1409,DISK], DatanodeInfoWithStorage[127.0.0.1:44442,DS-ca7ce7de-077b-4b0c-8828-f3ad03da6754,DISK], DatanodeInfoWithStorage[127.0.0.1:44908,DS-6c38eb7d-2764-44ee-8967-d8cc5b5d89d3,DISK], DatanodeInfoWithStorage[127.0.0.1:35010,DS-02f6ba27-84be-4c69-9f46-799816c33f2f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-529579226-172.17.0.28-1593506486108:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44908,DS-3032341d-8f5b-4545-a21e-147e22ab9682,DISK], DatanodeInfoWithStorage[127.0.0.1:37852,DS-10f5ceab-1ed9-400c-89b1-1c4459319ddc,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-529579226-172.17.0.28-1593506486108:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44908,DS-3032341d-8f5b-4545-a21e-147e22ab9682,DISK], DatanodeInfoWithStorage[127.0.0.1:37852,DS-10f5ceab-1ed9-400c-89b1-1c4459319ddc,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-571335231-172.17.0.28-1593506643940:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36900,DS-ee9a5cc8-b8b4-4797-b403-2553a02e5b8a,DISK], DatanodeInfoWithStorage[127.0.0.1:41442,DS-026c4331-4a95-4dcc-9df7-647d681cf844,DISK], DatanodeInfoWithStorage[127.0.0.1:44885,DS-32cced24-ccfb-4552-9bb1-0abfff0711f5,DISK], DatanodeInfoWithStorage[127.0.0.1:34420,DS-f612b2ab-8d0d-462c-8d69-d96e93074471,DISK], DatanodeInfoWithStorage[127.0.0.1:45276,DS-81cc7660-4710-483d-9941-35714a9fe0dc,DISK], DatanodeInfoWithStorage[127.0.0.1:37285,DS-933302fe-9ee0-49d7-9823-e7bceace8b70,DISK], DatanodeInfoWithStorage[127.0.0.1:40523,DS-8d7316c6-99af-4e68-994b-e1759c2a26eb,DISK], DatanodeInfoWithStorage[127.0.0.1:36502,DS-4edaa4a9-b0e8-41f0-8797-6f82a731d9bf,DISK], DatanodeInfoWithStorage[127.0.0.1:34746,DS-a3376ab6-25af-4714-9711-fdcc49a5d2e1,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-571335231-172.17.0.28-1593506643940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45276,DS-5f120b55-3427-4969-ab30-f78457e4ff7e,DISK], DatanodeInfoWithStorage[127.0.0.1:44885,DS-b917af43-1f90-4182-b2ae-736a6b31fb78,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-571335231-172.17.0.28-1593506643940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45276,DS-5f120b55-3427-4969-ab30-f78457e4ff7e,DISK], DatanodeInfoWithStorage[127.0.0.1:44885,DS-b917af43-1f90-4182-b2ae-736a6b31fb78,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-571335231-172.17.0.28-1593506643940:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36900,DS-ee9a5cc8-b8b4-4797-b403-2553a02e5b8a,DISK], DatanodeInfoWithStorage[127.0.0.1:41442,DS-026c4331-4a95-4dcc-9df7-647d681cf844,DISK], DatanodeInfoWithStorage[127.0.0.1:44885,DS-32cced24-ccfb-4552-9bb1-0abfff0711f5,DISK], DatanodeInfoWithStorage[127.0.0.1:34420,DS-f612b2ab-8d0d-462c-8d69-d96e93074471,DISK], DatanodeInfoWithStorage[127.0.0.1:45276,DS-81cc7660-4710-483d-9941-35714a9fe0dc,DISK], DatanodeInfoWithStorage[127.0.0.1:37285,DS-933302fe-9ee0-49d7-9823-e7bceace8b70,DISK], DatanodeInfoWithStorage[127.0.0.1:40523,DS-8d7316c6-99af-4e68-994b-e1759c2a26eb,DISK], DatanodeInfoWithStorage[127.0.0.1:36502,DS-4edaa4a9-b0e8-41f0-8797-6f82a731d9bf,DISK], DatanodeInfoWithStorage[127.0.0.1:34746,DS-a3376ab6-25af-4714-9711-fdcc49a5d2e1,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-571335231-172.17.0.28-1593506643940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45276,DS-5f120b55-3427-4969-ab30-f78457e4ff7e,DISK], DatanodeInfoWithStorage[127.0.0.1:44885,DS-b917af43-1f90-4182-b2ae-736a6b31fb78,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-571335231-172.17.0.28-1593506643940:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45276,DS-5f120b55-3427-4969-ab30-f78457e4ff7e,DISK], DatanodeInfoWithStorage[127.0.0.1:44885,DS-b917af43-1f90-4182-b2ae-736a6b31fb78,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1535789303-172.17.0.28-1593507204006:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33445,DS-a0cc9915-de1a-4cbb-aeff-08fd5da744d6,DISK], DatanodeInfoWithStorage[127.0.0.1:37888,DS-a570ea56-af71-4481-88ee-ef516228dc69,DISK], DatanodeInfoWithStorage[127.0.0.1:43080,DS-09b9cf72-62ff-416f-a74c-23384ecb7369,DISK], DatanodeInfoWithStorage[127.0.0.1:36505,DS-f7b34047-fbbf-45ef-87ef-8b6e3ebd8e93,DISK], DatanodeInfoWithStorage[127.0.0.1:32984,DS-24378bad-0355-440d-87de-76153ba119ac,DISK], DatanodeInfoWithStorage[127.0.0.1:40923,DS-5c1f76fd-6eb6-437c-a2ad-63c6b876c9a3,DISK], DatanodeInfoWithStorage[127.0.0.1:34539,DS-e0ff1f24-7e47-4022-8eb0-b112c02140c5,DISK], DatanodeInfoWithStorage[127.0.0.1:42605,DS-cf5de816-592f-4fc5-9dbb-345048f999d4,DISK], DatanodeInfoWithStorage[127.0.0.1:45592,DS-b7aed605-f14c-4fb4-b9cc-b4c6d6ae4ce4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1535789303-172.17.0.28-1593507204006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34539,DS-5b30257f-de14-469c-a296-16c43908fe37,DISK], DatanodeInfoWithStorage[127.0.0.1:37888,DS-117adfee-56c9-4ef0-aa98-66c8fdc1909c,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1535789303-172.17.0.28-1593507204006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34539,DS-5b30257f-de14-469c-a296-16c43908fe37,DISK], DatanodeInfoWithStorage[127.0.0.1:37888,DS-117adfee-56c9-4ef0-aa98-66c8fdc1909c,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1535789303-172.17.0.28-1593507204006:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33445,DS-a0cc9915-de1a-4cbb-aeff-08fd5da744d6,DISK], DatanodeInfoWithStorage[127.0.0.1:37888,DS-a570ea56-af71-4481-88ee-ef516228dc69,DISK], DatanodeInfoWithStorage[127.0.0.1:43080,DS-09b9cf72-62ff-416f-a74c-23384ecb7369,DISK], DatanodeInfoWithStorage[127.0.0.1:36505,DS-f7b34047-fbbf-45ef-87ef-8b6e3ebd8e93,DISK], DatanodeInfoWithStorage[127.0.0.1:32984,DS-24378bad-0355-440d-87de-76153ba119ac,DISK], DatanodeInfoWithStorage[127.0.0.1:40923,DS-5c1f76fd-6eb6-437c-a2ad-63c6b876c9a3,DISK], DatanodeInfoWithStorage[127.0.0.1:34539,DS-e0ff1f24-7e47-4022-8eb0-b112c02140c5,DISK], DatanodeInfoWithStorage[127.0.0.1:42605,DS-cf5de816-592f-4fc5-9dbb-345048f999d4,DISK], DatanodeInfoWithStorage[127.0.0.1:45592,DS-b7aed605-f14c-4fb4-b9cc-b4c6d6ae4ce4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1535789303-172.17.0.28-1593507204006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34539,DS-5b30257f-de14-469c-a296-16c43908fe37,DISK], DatanodeInfoWithStorage[127.0.0.1:37888,DS-117adfee-56c9-4ef0-aa98-66c8fdc1909c,DISK]]; indices=[0, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1535789303-172.17.0.28-1593507204006:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34539,DS-5b30257f-de14-469c-a296-16c43908fe37,DISK], DatanodeInfoWithStorage[127.0.0.1:37888,DS-117adfee-56c9-4ef0-aa98-66c8fdc1909c,DISK]]; indices=[0, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1514381428-172.17.0.28-1593507360553:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33809,DS-33f90858-c556-47a9-8158-a8d9c7f69eb0,DISK], DatanodeInfoWithStorage[127.0.0.1:42153,DS-5dc0a2ac-8db7-4699-9c4f-1364b149405f,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-2a1e7c96-089b-4e2e-9249-1daa409631c1,DISK], DatanodeInfoWithStorage[127.0.0.1:37460,DS-aa77af5c-29d4-4954-9dad-07b6a37ce04f,DISK], DatanodeInfoWithStorage[127.0.0.1:40123,DS-573b0157-0dce-4224-a1cd-9fa1ceb4b8bc,DISK], DatanodeInfoWithStorage[127.0.0.1:35672,DS-b91e4294-314f-4761-b24e-93d67ef46f0d,DISK], DatanodeInfoWithStorage[127.0.0.1:45399,DS-22c72522-c0cc-46d4-9319-0685b1ff26e7,DISK], DatanodeInfoWithStorage[127.0.0.1:40305,DS-2f545829-f4d6-48d0-8f9f-1f4f7fd5ccd1,DISK], DatanodeInfoWithStorage[127.0.0.1:44888,DS-ffeb9097-cdcc-4577-880d-40f6040f5b23,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1514381428-172.17.0.28-1593507360553:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33809,DS-da23b669-0e8c-4d23-95bd-89574fa06e73,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-1514381428-172.17.0.28-1593507360553:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33809,DS-da23b669-0e8c-4d23-95bd-89574fa06e73,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1514381428-172.17.0.28-1593507360553:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33809,DS-33f90858-c556-47a9-8158-a8d9c7f69eb0,DISK], DatanodeInfoWithStorage[127.0.0.1:42153,DS-5dc0a2ac-8db7-4699-9c4f-1364b149405f,DISK], DatanodeInfoWithStorage[127.0.0.1:40489,DS-2a1e7c96-089b-4e2e-9249-1daa409631c1,DISK], DatanodeInfoWithStorage[127.0.0.1:37460,DS-aa77af5c-29d4-4954-9dad-07b6a37ce04f,DISK], DatanodeInfoWithStorage[127.0.0.1:40123,DS-573b0157-0dce-4224-a1cd-9fa1ceb4b8bc,DISK], DatanodeInfoWithStorage[127.0.0.1:35672,DS-b91e4294-314f-4761-b24e-93d67ef46f0d,DISK], DatanodeInfoWithStorage[127.0.0.1:45399,DS-22c72522-c0cc-46d4-9319-0685b1ff26e7,DISK], DatanodeInfoWithStorage[127.0.0.1:40305,DS-2f545829-f4d6-48d0-8f9f-1f4f7fd5ccd1,DISK], DatanodeInfoWithStorage[127.0.0.1:44888,DS-ffeb9097-cdcc-4577-880d-40f6040f5b23,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1514381428-172.17.0.28-1593507360553:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33809,DS-da23b669-0e8c-4d23-95bd-89574fa06e73,DISK]]; indices=[0]}];  lastLocatedBlock=LocatedStripedBlock{BP-1514381428-172.17.0.28-1593507360553:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33809,DS-da23b669-0e8c-4d23-95bd-89574fa06e73,DISK]]; indices=[0]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1632323335-172.17.0.28-1593507699871:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37994,DS-b90a678f-ae49-4734-bb1e-dc2e5a592737,DISK], DatanodeInfoWithStorage[127.0.0.1:46120,DS-ed9a679b-fe5e-438f-9ced-7022fc9eb950,DISK], DatanodeInfoWithStorage[127.0.0.1:42857,DS-09788e16-d4fa-4e02-a6a7-e53cc13343d1,DISK], DatanodeInfoWithStorage[127.0.0.1:44407,DS-05f7daaa-d2ee-4556-b16a-06c777fc31d6,DISK], DatanodeInfoWithStorage[127.0.0.1:44882,DS-ad4dc979-27b8-4285-82ad-ee783e3a8d05,DISK], DatanodeInfoWithStorage[127.0.0.1:45525,DS-23b78793-106e-4c43-838e-2beec72b9ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:40207,DS-990034c7-ce09-4541-b793-1087d2dae5fd,DISK], DatanodeInfoWithStorage[127.0.0.1:33392,DS-fbcd1004-49bc-4e1e-89f3-c12b06119bd4,DISK], DatanodeInfoWithStorage[127.0.0.1:33077,DS-84ac58ab-c295-479b-903d-7e0012412e52,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1632323335-172.17.0.28-1593507699871:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46120,DS-701930a8-5fa5-4dd2-ba33-d6cdbb2e1376,DISK], DatanodeInfoWithStorage[127.0.0.1:40207,DS-9f27eb99-1b25-45f4-be5c-a12747f8e430,DISK], DatanodeInfoWithStorage[127.0.0.1:44407,DS-aec7080a-7d86-44e7-8e12-a7a67514d1ca,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1632323335-172.17.0.28-1593507699871:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46120,DS-701930a8-5fa5-4dd2-ba33-d6cdbb2e1376,DISK], DatanodeInfoWithStorage[127.0.0.1:40207,DS-9f27eb99-1b25-45f4-be5c-a12747f8e430,DISK], DatanodeInfoWithStorage[127.0.0.1:44407,DS-aec7080a-7d86-44e7-8e12-a7a67514d1ca,DISK]]; indices=[0, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1632323335-172.17.0.28-1593507699871:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37994,DS-b90a678f-ae49-4734-bb1e-dc2e5a592737,DISK], DatanodeInfoWithStorage[127.0.0.1:46120,DS-ed9a679b-fe5e-438f-9ced-7022fc9eb950,DISK], DatanodeInfoWithStorage[127.0.0.1:42857,DS-09788e16-d4fa-4e02-a6a7-e53cc13343d1,DISK], DatanodeInfoWithStorage[127.0.0.1:44407,DS-05f7daaa-d2ee-4556-b16a-06c777fc31d6,DISK], DatanodeInfoWithStorage[127.0.0.1:44882,DS-ad4dc979-27b8-4285-82ad-ee783e3a8d05,DISK], DatanodeInfoWithStorage[127.0.0.1:45525,DS-23b78793-106e-4c43-838e-2beec72b9ae3,DISK], DatanodeInfoWithStorage[127.0.0.1:40207,DS-990034c7-ce09-4541-b793-1087d2dae5fd,DISK], DatanodeInfoWithStorage[127.0.0.1:33392,DS-fbcd1004-49bc-4e1e-89f3-c12b06119bd4,DISK], DatanodeInfoWithStorage[127.0.0.1:33077,DS-84ac58ab-c295-479b-903d-7e0012412e52,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1632323335-172.17.0.28-1593507699871:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46120,DS-701930a8-5fa5-4dd2-ba33-d6cdbb2e1376,DISK], DatanodeInfoWithStorage[127.0.0.1:40207,DS-9f27eb99-1b25-45f4-be5c-a12747f8e430,DISK], DatanodeInfoWithStorage[127.0.0.1:44407,DS-aec7080a-7d86-44e7-8e12-a7a67514d1ca,DISK]]; indices=[0, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1632323335-172.17.0.28-1593507699871:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:46120,DS-701930a8-5fa5-4dd2-ba33-d6cdbb2e1376,DISK], DatanodeInfoWithStorage[127.0.0.1:40207,DS-9f27eb99-1b25-45f4-be5c-a12747f8e430,DISK], DatanodeInfoWithStorage[127.0.0.1:44407,DS-aec7080a-7d86-44e7-8e12-a7a67514d1ca,DISK]]; indices=[0, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[8]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1678125991-172.17.0.28-1593508030847:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40694,DS-cdecd117-04d2-4863-8c86-e459d53bb312,DISK], DatanodeInfoWithStorage[127.0.0.1:45640,DS-1d146908-199d-4ed9-8abb-621a39788e72,DISK], DatanodeInfoWithStorage[127.0.0.1:45921,DS-fe59c18e-a91a-4046-b433-8092550128d1,DISK], DatanodeInfoWithStorage[127.0.0.1:45382,DS-bfe58957-99a1-4854-8eba-c2c3968e321d,DISK], DatanodeInfoWithStorage[127.0.0.1:43844,DS-cc89d349-8909-4d40-9407-7863f25501d6,DISK], DatanodeInfoWithStorage[127.0.0.1:42419,DS-051fbf52-0849-44b9-a330-92036b72fd5b,DISK], DatanodeInfoWithStorage[127.0.0.1:42124,DS-5558f43a-c6cd-4e5c-9dd7-f41f3ccee6e9,DISK], DatanodeInfoWithStorage[127.0.0.1:36967,DS-6a735f63-fbf3-48e1-9b1e-a12fa0be7a23,DISK], DatanodeInfoWithStorage[127.0.0.1:33864,DS-b8ac950e-a64d-46a4-a18f-0bb77e524a76,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1678125991-172.17.0.28-1593508030847:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33864,DS-8ffbcff4-f36f-4aee-8707-331cff3c8298,DISK], DatanodeInfoWithStorage[127.0.0.1:45921,DS-6e43d354-3a8a-48be-b2b8-28fb409bde00,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1678125991-172.17.0.28-1593508030847:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33864,DS-8ffbcff4-f36f-4aee-8707-331cff3c8298,DISK], DatanodeInfoWithStorage[127.0.0.1:45921,DS-6e43d354-3a8a-48be-b2b8-28fb409bde00,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1678125991-172.17.0.28-1593508030847:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40694,DS-cdecd117-04d2-4863-8c86-e459d53bb312,DISK], DatanodeInfoWithStorage[127.0.0.1:45640,DS-1d146908-199d-4ed9-8abb-621a39788e72,DISK], DatanodeInfoWithStorage[127.0.0.1:45921,DS-fe59c18e-a91a-4046-b433-8092550128d1,DISK], DatanodeInfoWithStorage[127.0.0.1:45382,DS-bfe58957-99a1-4854-8eba-c2c3968e321d,DISK], DatanodeInfoWithStorage[127.0.0.1:43844,DS-cc89d349-8909-4d40-9407-7863f25501d6,DISK], DatanodeInfoWithStorage[127.0.0.1:42419,DS-051fbf52-0849-44b9-a330-92036b72fd5b,DISK], DatanodeInfoWithStorage[127.0.0.1:42124,DS-5558f43a-c6cd-4e5c-9dd7-f41f3ccee6e9,DISK], DatanodeInfoWithStorage[127.0.0.1:36967,DS-6a735f63-fbf3-48e1-9b1e-a12fa0be7a23,DISK], DatanodeInfoWithStorage[127.0.0.1:33864,DS-b8ac950e-a64d-46a4-a18f-0bb77e524a76,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1678125991-172.17.0.28-1593508030847:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33864,DS-8ffbcff4-f36f-4aee-8707-331cff3c8298,DISK], DatanodeInfoWithStorage[127.0.0.1:45921,DS-6e43d354-3a8a-48be-b2b8-28fb409bde00,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1678125991-172.17.0.28-1593508030847:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33864,DS-8ffbcff4-f36f-4aee-8707-331cff3c8298,DISK], DatanodeInfoWithStorage[127.0.0.1:45921,DS-6e43d354-3a8a-48be-b2b8-28fb409bde00,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 12 out of 50
v1v1v2v2 failed with probability 1 out of 50
result: might be true error
Total execution time in seconds : 8903
