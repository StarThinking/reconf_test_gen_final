reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-99528118-172.17.0.15-1593405548944:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36102,DS-cad0a67d-5a06-4e46-af31-3b5c1d822295,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-d4418979-f801-44c9-b276-1ce797f06f17,DISK], DatanodeInfoWithStorage[127.0.0.1:45403,DS-d92f7b71-a332-459f-b75d-1c2a2bafa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33300,DS-b21f1e88-edf2-46b4-bcae-83b80e7fb045,DISK], DatanodeInfoWithStorage[127.0.0.1:34332,DS-b1523f42-db78-49c3-82e6-c4a4a5700bbf,DISK], DatanodeInfoWithStorage[127.0.0.1:41962,DS-edefbe78-f435-4b5e-afcd-096ad67a3416,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-99528118-172.17.0.15-1593405548944:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36102,DS-cad0a67d-5a06-4e46-af31-3b5c1d822295,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-d4418979-f801-44c9-b276-1ce797f06f17,DISK], DatanodeInfoWithStorage[127.0.0.1:45403,DS-d92f7b71-a332-459f-b75d-1c2a2bafa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33300,DS-b21f1e88-edf2-46b4-bcae-83b80e7fb045,DISK], DatanodeInfoWithStorage[127.0.0.1:34332,DS-b1523f42-db78-49c3-82e6-c4a4a5700bbf,DISK], DatanodeInfoWithStorage[127.0.0.1:41962,DS-edefbe78-f435-4b5e-afcd-096ad67a3416,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-99528118-172.17.0.15-1593405548944:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36102,DS-cad0a67d-5a06-4e46-af31-3b5c1d822295,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-d4418979-f801-44c9-b276-1ce797f06f17,DISK], DatanodeInfoWithStorage[127.0.0.1:45403,DS-d92f7b71-a332-459f-b75d-1c2a2bafa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33300,DS-b21f1e88-edf2-46b4-bcae-83b80e7fb045,DISK], DatanodeInfoWithStorage[127.0.0.1:34332,DS-b1523f42-db78-49c3-82e6-c4a4a5700bbf,DISK], DatanodeInfoWithStorage[127.0.0.1:41962,DS-edefbe78-f435-4b5e-afcd-096ad67a3416,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-99528118-172.17.0.15-1593405548944:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36102,DS-cad0a67d-5a06-4e46-af31-3b5c1d822295,DISK], DatanodeInfoWithStorage[127.0.0.1:44240,DS-d4418979-f801-44c9-b276-1ce797f06f17,DISK], DatanodeInfoWithStorage[127.0.0.1:45403,DS-d92f7b71-a332-459f-b75d-1c2a2bafa8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33300,DS-b21f1e88-edf2-46b4-bcae-83b80e7fb045,DISK], DatanodeInfoWithStorage[127.0.0.1:34332,DS-b1523f42-db78-49c3-82e6-c4a4a5700bbf,DISK], DatanodeInfoWithStorage[127.0.0.1:41962,DS-edefbe78-f435-4b5e-afcd-096ad67a3416,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1125040198-172.17.0.15-1593406127407:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44233,DS-d9618212-1a88-4fc1-9a43-22a1bc05233e,DISK], DatanodeInfoWithStorage[127.0.0.1:34532,DS-2d3328ef-4fc7-46e5-82d7-1ad92cb7bcad,DISK], DatanodeInfoWithStorage[127.0.0.1:38755,DS-d8ebd3ea-57e7-4762-97e2-f62dd9513511,DISK], DatanodeInfoWithStorage[127.0.0.1:36512,DS-d6437580-8ff6-46aa-857b-7c034f1230f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33603,DS-e3b002ff-97aa-4e70-9346-83a517b648b8,DISK], DatanodeInfoWithStorage[127.0.0.1:37104,DS-2918299a-7c52-42c3-9dac-797a3b511186,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1125040198-172.17.0.15-1593406127407:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44233,DS-d9618212-1a88-4fc1-9a43-22a1bc05233e,DISK], DatanodeInfoWithStorage[127.0.0.1:34532,DS-2d3328ef-4fc7-46e5-82d7-1ad92cb7bcad,DISK], DatanodeInfoWithStorage[127.0.0.1:38755,DS-d8ebd3ea-57e7-4762-97e2-f62dd9513511,DISK], DatanodeInfoWithStorage[127.0.0.1:36512,DS-d6437580-8ff6-46aa-857b-7c034f1230f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33603,DS-e3b002ff-97aa-4e70-9346-83a517b648b8,DISK], DatanodeInfoWithStorage[127.0.0.1:37104,DS-2918299a-7c52-42c3-9dac-797a3b511186,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1125040198-172.17.0.15-1593406127407:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44233,DS-d9618212-1a88-4fc1-9a43-22a1bc05233e,DISK], DatanodeInfoWithStorage[127.0.0.1:34532,DS-2d3328ef-4fc7-46e5-82d7-1ad92cb7bcad,DISK], DatanodeInfoWithStorage[127.0.0.1:38755,DS-d8ebd3ea-57e7-4762-97e2-f62dd9513511,DISK], DatanodeInfoWithStorage[127.0.0.1:36512,DS-d6437580-8ff6-46aa-857b-7c034f1230f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33603,DS-e3b002ff-97aa-4e70-9346-83a517b648b8,DISK], DatanodeInfoWithStorage[127.0.0.1:37104,DS-2918299a-7c52-42c3-9dac-797a3b511186,DISK]]; indices=[1, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1125040198-172.17.0.15-1593406127407:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44233,DS-d9618212-1a88-4fc1-9a43-22a1bc05233e,DISK], DatanodeInfoWithStorage[127.0.0.1:34532,DS-2d3328ef-4fc7-46e5-82d7-1ad92cb7bcad,DISK], DatanodeInfoWithStorage[127.0.0.1:38755,DS-d8ebd3ea-57e7-4762-97e2-f62dd9513511,DISK], DatanodeInfoWithStorage[127.0.0.1:36512,DS-d6437580-8ff6-46aa-857b-7c034f1230f8,DISK], DatanodeInfoWithStorage[127.0.0.1:33603,DS-e3b002ff-97aa-4e70-9346-83a517b648b8,DISK], DatanodeInfoWithStorage[127.0.0.1:37104,DS-2918299a-7c52-42c3-9dac-797a3b511186,DISK]]; indices=[1, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1958214671-172.17.0.15-1593407365786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38721,DS-129ce252-eac3-484f-a1aa-ed2b496318f5,DISK], DatanodeInfoWithStorage[127.0.0.1:40582,DS-7505e2e2-108c-4f3b-a40f-0a2176bb309d,DISK], DatanodeInfoWithStorage[127.0.0.1:43371,DS-262a1b68-3bbf-4508-838b-ca965d59216a,DISK], DatanodeInfoWithStorage[127.0.0.1:46687,DS-37d61734-cc79-44a4-8793-adf4e47a6061,DISK], DatanodeInfoWithStorage[127.0.0.1:39411,DS-4598d702-065e-4c90-8392-ccf2a0342963,DISK], DatanodeInfoWithStorage[127.0.0.1:39154,DS-b200278c-3c0a-4d3e-a3c7-7508b3030a90,DISK], DatanodeInfoWithStorage[127.0.0.1:44307,DS-e0db01e0-8a52-44a2-8164-11b5a82e22e8,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1958214671-172.17.0.15-1593407365786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38721,DS-129ce252-eac3-484f-a1aa-ed2b496318f5,DISK], DatanodeInfoWithStorage[127.0.0.1:40582,DS-7505e2e2-108c-4f3b-a40f-0a2176bb309d,DISK], DatanodeInfoWithStorage[127.0.0.1:43371,DS-262a1b68-3bbf-4508-838b-ca965d59216a,DISK], DatanodeInfoWithStorage[127.0.0.1:46687,DS-37d61734-cc79-44a4-8793-adf4e47a6061,DISK], DatanodeInfoWithStorage[127.0.0.1:39411,DS-4598d702-065e-4c90-8392-ccf2a0342963,DISK], DatanodeInfoWithStorage[127.0.0.1:39154,DS-b200278c-3c0a-4d3e-a3c7-7508b3030a90,DISK], DatanodeInfoWithStorage[127.0.0.1:44307,DS-e0db01e0-8a52-44a2-8164-11b5a82e22e8,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1958214671-172.17.0.15-1593407365786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38721,DS-129ce252-eac3-484f-a1aa-ed2b496318f5,DISK], DatanodeInfoWithStorage[127.0.0.1:40582,DS-7505e2e2-108c-4f3b-a40f-0a2176bb309d,DISK], DatanodeInfoWithStorage[127.0.0.1:43371,DS-262a1b68-3bbf-4508-838b-ca965d59216a,DISK], DatanodeInfoWithStorage[127.0.0.1:46687,DS-37d61734-cc79-44a4-8793-adf4e47a6061,DISK], DatanodeInfoWithStorage[127.0.0.1:39411,DS-4598d702-065e-4c90-8392-ccf2a0342963,DISK], DatanodeInfoWithStorage[127.0.0.1:39154,DS-b200278c-3c0a-4d3e-a3c7-7508b3030a90,DISK], DatanodeInfoWithStorage[127.0.0.1:44307,DS-e0db01e0-8a52-44a2-8164-11b5a82e22e8,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1958214671-172.17.0.15-1593407365786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38721,DS-129ce252-eac3-484f-a1aa-ed2b496318f5,DISK], DatanodeInfoWithStorage[127.0.0.1:40582,DS-7505e2e2-108c-4f3b-a40f-0a2176bb309d,DISK], DatanodeInfoWithStorage[127.0.0.1:43371,DS-262a1b68-3bbf-4508-838b-ca965d59216a,DISK], DatanodeInfoWithStorage[127.0.0.1:46687,DS-37d61734-cc79-44a4-8793-adf4e47a6061,DISK], DatanodeInfoWithStorage[127.0.0.1:39411,DS-4598d702-065e-4c90-8392-ccf2a0342963,DISK], DatanodeInfoWithStorage[127.0.0.1:39154,DS-b200278c-3c0a-4d3e-a3c7-7508b3030a90,DISK], DatanodeInfoWithStorage[127.0.0.1:44307,DS-e0db01e0-8a52-44a2-8164-11b5a82e22e8,DISK]]; indices=[0, 1, 2, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2082434815-172.17.0.15-1593408591110:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36227,DS-39ddaf95-c293-4716-8585-6d11cd715a3a,DISK], DatanodeInfoWithStorage[127.0.0.1:40069,DS-c815da3e-1c86-43bc-9a1f-800f06f83440,DISK], DatanodeInfoWithStorage[127.0.0.1:36208,DS-174b2836-13a2-46ac-8dad-479519c90b0b,DISK], DatanodeInfoWithStorage[127.0.0.1:41988,DS-af0993f9-2136-46b8-9769-6c9be58d71e9,DISK], DatanodeInfoWithStorage[127.0.0.1:37903,DS-0f3c2f24-895f-4539-887b-981aaef2b280,DISK], DatanodeInfoWithStorage[127.0.0.1:33120,DS-36501b18-3b51-4d28-b5a9-5881b4ab0f32,DISK]]; indices=[1, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2082434815-172.17.0.15-1593408591110:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36227,DS-39ddaf95-c293-4716-8585-6d11cd715a3a,DISK], DatanodeInfoWithStorage[127.0.0.1:40069,DS-c815da3e-1c86-43bc-9a1f-800f06f83440,DISK], DatanodeInfoWithStorage[127.0.0.1:36208,DS-174b2836-13a2-46ac-8dad-479519c90b0b,DISK], DatanodeInfoWithStorage[127.0.0.1:41988,DS-af0993f9-2136-46b8-9769-6c9be58d71e9,DISK], DatanodeInfoWithStorage[127.0.0.1:37903,DS-0f3c2f24-895f-4539-887b-981aaef2b280,DISK], DatanodeInfoWithStorage[127.0.0.1:33120,DS-36501b18-3b51-4d28-b5a9-5881b4ab0f32,DISK]]; indices=[1, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2082434815-172.17.0.15-1593408591110:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36227,DS-39ddaf95-c293-4716-8585-6d11cd715a3a,DISK], DatanodeInfoWithStorage[127.0.0.1:40069,DS-c815da3e-1c86-43bc-9a1f-800f06f83440,DISK], DatanodeInfoWithStorage[127.0.0.1:36208,DS-174b2836-13a2-46ac-8dad-479519c90b0b,DISK], DatanodeInfoWithStorage[127.0.0.1:41988,DS-af0993f9-2136-46b8-9769-6c9be58d71e9,DISK], DatanodeInfoWithStorage[127.0.0.1:37903,DS-0f3c2f24-895f-4539-887b-981aaef2b280,DISK], DatanodeInfoWithStorage[127.0.0.1:33120,DS-36501b18-3b51-4d28-b5a9-5881b4ab0f32,DISK]]; indices=[1, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-2082434815-172.17.0.15-1593408591110:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36227,DS-39ddaf95-c293-4716-8585-6d11cd715a3a,DISK], DatanodeInfoWithStorage[127.0.0.1:40069,DS-c815da3e-1c86-43bc-9a1f-800f06f83440,DISK], DatanodeInfoWithStorage[127.0.0.1:36208,DS-174b2836-13a2-46ac-8dad-479519c90b0b,DISK], DatanodeInfoWithStorage[127.0.0.1:41988,DS-af0993f9-2136-46b8-9769-6c9be58d71e9,DISK], DatanodeInfoWithStorage[127.0.0.1:37903,DS-0f3c2f24-895f-4539-887b-981aaef2b280,DISK], DatanodeInfoWithStorage[127.0.0.1:33120,DS-36501b18-3b51-4d28-b5a9-5881b4ab0f32,DISK]]; indices=[1, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:338)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1814132643-172.17.0.15-1593409826324:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38377,DS-10360591-5c94-43c3-9db1-eca3c62b4e19,DISK], DatanodeInfoWithStorage[127.0.0.1:39669,DS-95a1e180-444e-472d-877c-dae2b3c126b7,DISK], DatanodeInfoWithStorage[127.0.0.1:46733,DS-8b00562d-6e32-4dce-a1c3-0bcaea2c9370,DISK], DatanodeInfoWithStorage[127.0.0.1:34887,DS-d90c9fd5-eafc-4ba9-9940-0833266fbf6f,DISK], DatanodeInfoWithStorage[127.0.0.1:41303,DS-3608d91c-c049-4af8-b39d-95416e42153e,DISK], DatanodeInfoWithStorage[127.0.0.1:34439,DS-355a5874-ba58-40c8-ac20-36c93f744311,DISK]]; indices=[0, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1814132643-172.17.0.15-1593409826324:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38377,DS-10360591-5c94-43c3-9db1-eca3c62b4e19,DISK], DatanodeInfoWithStorage[127.0.0.1:39669,DS-95a1e180-444e-472d-877c-dae2b3c126b7,DISK], DatanodeInfoWithStorage[127.0.0.1:46733,DS-8b00562d-6e32-4dce-a1c3-0bcaea2c9370,DISK], DatanodeInfoWithStorage[127.0.0.1:34887,DS-d90c9fd5-eafc-4ba9-9940-0833266fbf6f,DISK], DatanodeInfoWithStorage[127.0.0.1:41303,DS-3608d91c-c049-4af8-b39d-95416e42153e,DISK], DatanodeInfoWithStorage[127.0.0.1:34439,DS-355a5874-ba58-40c8-ac20-36c93f744311,DISK]]; indices=[0, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1814132643-172.17.0.15-1593409826324:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38377,DS-10360591-5c94-43c3-9db1-eca3c62b4e19,DISK], DatanodeInfoWithStorage[127.0.0.1:39669,DS-95a1e180-444e-472d-877c-dae2b3c126b7,DISK], DatanodeInfoWithStorage[127.0.0.1:46733,DS-8b00562d-6e32-4dce-a1c3-0bcaea2c9370,DISK], DatanodeInfoWithStorage[127.0.0.1:34887,DS-d90c9fd5-eafc-4ba9-9940-0833266fbf6f,DISK], DatanodeInfoWithStorage[127.0.0.1:41303,DS-3608d91c-c049-4af8-b39d-95416e42153e,DISK], DatanodeInfoWithStorage[127.0.0.1:34439,DS-355a5874-ba58-40c8-ac20-36c93f744311,DISK]]; indices=[0, 2, 3, 4, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1814132643-172.17.0.15-1593409826324:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38377,DS-10360591-5c94-43c3-9db1-eca3c62b4e19,DISK], DatanodeInfoWithStorage[127.0.0.1:39669,DS-95a1e180-444e-472d-877c-dae2b3c126b7,DISK], DatanodeInfoWithStorage[127.0.0.1:46733,DS-8b00562d-6e32-4dce-a1c3-0bcaea2c9370,DISK], DatanodeInfoWithStorage[127.0.0.1:34887,DS-d90c9fd5-eafc-4ba9-9940-0833266fbf6f,DISK], DatanodeInfoWithStorage[127.0.0.1:41303,DS-3608d91c-c049-4af8-b39d-95416e42153e,DISK], DatanodeInfoWithStorage[127.0.0.1:34439,DS-355a5874-ba58-40c8-ac20-36c93f744311,DISK]]; indices=[0, 2, 3, 4, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-168358082-172.17.0.15-1593410653556:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40676,DS-244b29fb-c952-44b8-919f-48521e246291,DISK], DatanodeInfoWithStorage[127.0.0.1:41066,DS-a5af27cd-619e-40dd-a5b5-5fd19a2d65fb,DISK], DatanodeInfoWithStorage[127.0.0.1:41596,DS-7231350f-a7d2-4662-95db-8bfab18b4d43,DISK], DatanodeInfoWithStorage[127.0.0.1:33766,DS-8325cc62-164b-4152-830f-5e0bbcaf4346,DISK], DatanodeInfoWithStorage[127.0.0.1:39760,DS-accb5e75-c82f-49bf-a0c7-7356377ef34b,DISK], DatanodeInfoWithStorage[127.0.0.1:42320,DS-0889b967-ac77-4d14-880e-75a431cb634c,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-bc8ff198-75b4-4e3c-a550-d3f8d5ba9525,DISK], DatanodeInfoWithStorage[127.0.0.1:34518,DS-b561ff9e-2ed3-496c-9869-a8bf019beab6,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-168358082-172.17.0.15-1593410653556:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40676,DS-244b29fb-c952-44b8-919f-48521e246291,DISK], DatanodeInfoWithStorage[127.0.0.1:41066,DS-a5af27cd-619e-40dd-a5b5-5fd19a2d65fb,DISK], DatanodeInfoWithStorage[127.0.0.1:41596,DS-7231350f-a7d2-4662-95db-8bfab18b4d43,DISK], DatanodeInfoWithStorage[127.0.0.1:33766,DS-8325cc62-164b-4152-830f-5e0bbcaf4346,DISK], DatanodeInfoWithStorage[127.0.0.1:39760,DS-accb5e75-c82f-49bf-a0c7-7356377ef34b,DISK], DatanodeInfoWithStorage[127.0.0.1:42320,DS-0889b967-ac77-4d14-880e-75a431cb634c,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-bc8ff198-75b4-4e3c-a550-d3f8d5ba9525,DISK], DatanodeInfoWithStorage[127.0.0.1:34518,DS-b561ff9e-2ed3-496c-9869-a8bf019beab6,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-168358082-172.17.0.15-1593410653556:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40676,DS-244b29fb-c952-44b8-919f-48521e246291,DISK], DatanodeInfoWithStorage[127.0.0.1:41066,DS-a5af27cd-619e-40dd-a5b5-5fd19a2d65fb,DISK], DatanodeInfoWithStorage[127.0.0.1:41596,DS-7231350f-a7d2-4662-95db-8bfab18b4d43,DISK], DatanodeInfoWithStorage[127.0.0.1:33766,DS-8325cc62-164b-4152-830f-5e0bbcaf4346,DISK], DatanodeInfoWithStorage[127.0.0.1:39760,DS-accb5e75-c82f-49bf-a0c7-7356377ef34b,DISK], DatanodeInfoWithStorage[127.0.0.1:42320,DS-0889b967-ac77-4d14-880e-75a431cb634c,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-bc8ff198-75b4-4e3c-a550-d3f8d5ba9525,DISK], DatanodeInfoWithStorage[127.0.0.1:34518,DS-b561ff9e-2ed3-496c-9869-a8bf019beab6,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-168358082-172.17.0.15-1593410653556:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40676,DS-244b29fb-c952-44b8-919f-48521e246291,DISK], DatanodeInfoWithStorage[127.0.0.1:41066,DS-a5af27cd-619e-40dd-a5b5-5fd19a2d65fb,DISK], DatanodeInfoWithStorage[127.0.0.1:41596,DS-7231350f-a7d2-4662-95db-8bfab18b4d43,DISK], DatanodeInfoWithStorage[127.0.0.1:33766,DS-8325cc62-164b-4152-830f-5e0bbcaf4346,DISK], DatanodeInfoWithStorage[127.0.0.1:39760,DS-accb5e75-c82f-49bf-a0c7-7356377ef34b,DISK], DatanodeInfoWithStorage[127.0.0.1:42320,DS-0889b967-ac77-4d14-880e-75a431cb634c,DISK], DatanodeInfoWithStorage[127.0.0.1:37440,DS-bc8ff198-75b4-4e3c-a550-d3f8d5ba9525,DISK], DatanodeInfoWithStorage[127.0.0.1:34518,DS-b561ff9e-2ed3-496c-9869-a8bf019beab6,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-140577940-172.17.0.15-1593411371919:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38266,DS-9b5a8525-508c-4f95-bf9a-7ff41366aff1,DISK], DatanodeInfoWithStorage[127.0.0.1:44236,DS-7f37a69c-b25a-492d-b13f-58b2f6948340,DISK], DatanodeInfoWithStorage[127.0.0.1:43544,DS-ab4267b9-8e64-4593-b66b-3671075cda60,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-ede90144-68e3-410f-a1eb-ba54fdc97549,DISK], DatanodeInfoWithStorage[127.0.0.1:36799,DS-2a515917-0dc3-4401-81ca-b40d34d8d2f1,DISK], DatanodeInfoWithStorage[127.0.0.1:36776,DS-c3ee02cb-7ea6-4902-8de6-1655ce0e882c,DISK]]; indices=[0, 1, 3, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-140577940-172.17.0.15-1593411371919:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38266,DS-9b5a8525-508c-4f95-bf9a-7ff41366aff1,DISK], DatanodeInfoWithStorage[127.0.0.1:44236,DS-7f37a69c-b25a-492d-b13f-58b2f6948340,DISK], DatanodeInfoWithStorage[127.0.0.1:43544,DS-ab4267b9-8e64-4593-b66b-3671075cda60,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-ede90144-68e3-410f-a1eb-ba54fdc97549,DISK], DatanodeInfoWithStorage[127.0.0.1:36799,DS-2a515917-0dc3-4401-81ca-b40d34d8d2f1,DISK], DatanodeInfoWithStorage[127.0.0.1:36776,DS-c3ee02cb-7ea6-4902-8de6-1655ce0e882c,DISK]]; indices=[0, 1, 3, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-140577940-172.17.0.15-1593411371919:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38266,DS-9b5a8525-508c-4f95-bf9a-7ff41366aff1,DISK], DatanodeInfoWithStorage[127.0.0.1:44236,DS-7f37a69c-b25a-492d-b13f-58b2f6948340,DISK], DatanodeInfoWithStorage[127.0.0.1:43544,DS-ab4267b9-8e64-4593-b66b-3671075cda60,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-ede90144-68e3-410f-a1eb-ba54fdc97549,DISK], DatanodeInfoWithStorage[127.0.0.1:36799,DS-2a515917-0dc3-4401-81ca-b40d34d8d2f1,DISK], DatanodeInfoWithStorage[127.0.0.1:36776,DS-c3ee02cb-7ea6-4902-8de6-1655ce0e882c,DISK]]; indices=[0, 1, 3, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-140577940-172.17.0.15-1593411371919:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38266,DS-9b5a8525-508c-4f95-bf9a-7ff41366aff1,DISK], DatanodeInfoWithStorage[127.0.0.1:44236,DS-7f37a69c-b25a-492d-b13f-58b2f6948340,DISK], DatanodeInfoWithStorage[127.0.0.1:43544,DS-ab4267b9-8e64-4593-b66b-3671075cda60,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-ede90144-68e3-410f-a1eb-ba54fdc97549,DISK], DatanodeInfoWithStorage[127.0.0.1:36799,DS-2a515917-0dc3-4401-81ca-b40d34d8d2f1,DISK], DatanodeInfoWithStorage[127.0.0.1:36776,DS-c3ee02cb-7ea6-4902-8de6-1655ce0e882c,DISK]]; indices=[0, 1, 3, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-425208228-172.17.0.15-1593411542285:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40230,DS-ce968bd4-5491-40e6-8ed3-47a47bd5ee24,DISK], DatanodeInfoWithStorage[127.0.0.1:37007,DS-b8ff24ec-e873-4db0-a855-f75af2dc51b7,DISK], DatanodeInfoWithStorage[127.0.0.1:36557,DS-8113e3aa-ed6c-4de5-8c00-4cde2946ee8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37736,DS-df4651d8-cab7-45eb-9a40-56f3bbf9fbd9,DISK], DatanodeInfoWithStorage[127.0.0.1:39948,DS-cdf31df3-ca34-4085-ab0a-5988a8ecd6f0,DISK], DatanodeInfoWithStorage[127.0.0.1:38474,DS-3d92948e-10cb-4555-b568-e371037e183f,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-425208228-172.17.0.15-1593411542285:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40230,DS-ce968bd4-5491-40e6-8ed3-47a47bd5ee24,DISK], DatanodeInfoWithStorage[127.0.0.1:37007,DS-b8ff24ec-e873-4db0-a855-f75af2dc51b7,DISK], DatanodeInfoWithStorage[127.0.0.1:36557,DS-8113e3aa-ed6c-4de5-8c00-4cde2946ee8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37736,DS-df4651d8-cab7-45eb-9a40-56f3bbf9fbd9,DISK], DatanodeInfoWithStorage[127.0.0.1:39948,DS-cdf31df3-ca34-4085-ab0a-5988a8ecd6f0,DISK], DatanodeInfoWithStorage[127.0.0.1:38474,DS-3d92948e-10cb-4555-b568-e371037e183f,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-425208228-172.17.0.15-1593411542285:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40230,DS-ce968bd4-5491-40e6-8ed3-47a47bd5ee24,DISK], DatanodeInfoWithStorage[127.0.0.1:37007,DS-b8ff24ec-e873-4db0-a855-f75af2dc51b7,DISK], DatanodeInfoWithStorage[127.0.0.1:36557,DS-8113e3aa-ed6c-4de5-8c00-4cde2946ee8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37736,DS-df4651d8-cab7-45eb-9a40-56f3bbf9fbd9,DISK], DatanodeInfoWithStorage[127.0.0.1:39948,DS-cdf31df3-ca34-4085-ab0a-5988a8ecd6f0,DISK], DatanodeInfoWithStorage[127.0.0.1:38474,DS-3d92948e-10cb-4555-b568-e371037e183f,DISK]]; indices=[0, 1, 2, 3, 4, 6]}];  lastLocatedBlock=LocatedStripedBlock{BP-425208228-172.17.0.15-1593411542285:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40230,DS-ce968bd4-5491-40e6-8ed3-47a47bd5ee24,DISK], DatanodeInfoWithStorage[127.0.0.1:37007,DS-b8ff24ec-e873-4db0-a855-f75af2dc51b7,DISK], DatanodeInfoWithStorage[127.0.0.1:36557,DS-8113e3aa-ed6c-4de5-8c00-4cde2946ee8a,DISK], DatanodeInfoWithStorage[127.0.0.1:37736,DS-df4651d8-cab7-45eb-9a40-56f3bbf9fbd9,DISK], DatanodeInfoWithStorage[127.0.0.1:39948,DS-cdf31df3-ca34-4085-ab0a-5988a8ecd6f0,DISK], DatanodeInfoWithStorage[127.0.0.1:38474,DS-3d92948e-10cb-4555-b568-e371037e183f,DISK]]; indices=[0, 1, 2, 3, 4, 6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-483724820-172.17.0.15-1593412102852:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36192,DS-d0907d7b-3b7c-42d0-8126-a2da84ac94d4,DISK], DatanodeInfoWithStorage[127.0.0.1:40602,DS-3debf1ef-cd1c-4b36-9019-a26fd8db849e,DISK], DatanodeInfoWithStorage[127.0.0.1:37776,DS-c6137b29-24d4-40dc-8b42-99848ac90b6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-6059e107-81d9-41e6-9391-727147ad1ace,DISK], DatanodeInfoWithStorage[127.0.0.1:32899,DS-5f33b735-c413-46fd-803a-02156217f296,DISK], DatanodeInfoWithStorage[127.0.0.1:40253,DS-bd53a354-3a95-4ccd-82f1-88a7764eb72a,DISK], DatanodeInfoWithStorage[127.0.0.1:41675,DS-856edb87-3795-412c-8758-976080aede14,DISK]]; indices=[0, 1, 2, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-483724820-172.17.0.15-1593412102852:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36192,DS-d0907d7b-3b7c-42d0-8126-a2da84ac94d4,DISK], DatanodeInfoWithStorage[127.0.0.1:40602,DS-3debf1ef-cd1c-4b36-9019-a26fd8db849e,DISK], DatanodeInfoWithStorage[127.0.0.1:37776,DS-c6137b29-24d4-40dc-8b42-99848ac90b6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-6059e107-81d9-41e6-9391-727147ad1ace,DISK], DatanodeInfoWithStorage[127.0.0.1:32899,DS-5f33b735-c413-46fd-803a-02156217f296,DISK], DatanodeInfoWithStorage[127.0.0.1:40253,DS-bd53a354-3a95-4ccd-82f1-88a7764eb72a,DISK], DatanodeInfoWithStorage[127.0.0.1:41675,DS-856edb87-3795-412c-8758-976080aede14,DISK]]; indices=[0, 1, 2, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-483724820-172.17.0.15-1593412102852:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36192,DS-d0907d7b-3b7c-42d0-8126-a2da84ac94d4,DISK], DatanodeInfoWithStorage[127.0.0.1:40602,DS-3debf1ef-cd1c-4b36-9019-a26fd8db849e,DISK], DatanodeInfoWithStorage[127.0.0.1:37776,DS-c6137b29-24d4-40dc-8b42-99848ac90b6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-6059e107-81d9-41e6-9391-727147ad1ace,DISK], DatanodeInfoWithStorage[127.0.0.1:32899,DS-5f33b735-c413-46fd-803a-02156217f296,DISK], DatanodeInfoWithStorage[127.0.0.1:40253,DS-bd53a354-3a95-4ccd-82f1-88a7764eb72a,DISK], DatanodeInfoWithStorage[127.0.0.1:41675,DS-856edb87-3795-412c-8758-976080aede14,DISK]]; indices=[0, 1, 2, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-483724820-172.17.0.15-1593412102852:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36192,DS-d0907d7b-3b7c-42d0-8126-a2da84ac94d4,DISK], DatanodeInfoWithStorage[127.0.0.1:40602,DS-3debf1ef-cd1c-4b36-9019-a26fd8db849e,DISK], DatanodeInfoWithStorage[127.0.0.1:37776,DS-c6137b29-24d4-40dc-8b42-99848ac90b6c,DISK], DatanodeInfoWithStorage[127.0.0.1:43791,DS-6059e107-81d9-41e6-9391-727147ad1ace,DISK], DatanodeInfoWithStorage[127.0.0.1:32899,DS-5f33b735-c413-46fd-803a-02156217f296,DISK], DatanodeInfoWithStorage[127.0.0.1:40253,DS-bd53a354-3a95-4ccd-82f1-88a7764eb72a,DISK], DatanodeInfoWithStorage[127.0.0.1:41675,DS-856edb87-3795-412c-8758-976080aede14,DISK]]; indices=[0, 1, 2, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-998535930-172.17.0.15-1593412304947:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38158,DS-e0886e6b-7207-4d94-aa1e-5be18acc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:40442,DS-b1fd24c3-dba5-4926-ac69-6d132021d244,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-ae236e29-7676-4e60-bc72-4e03a8ab30a3,DISK], DatanodeInfoWithStorage[127.0.0.1:43008,DS-644fa71f-73ee-479a-bbb7-fe314abdc315,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-feb0981a-4b89-4dd6-bf52-c4c632b67500,DISK], DatanodeInfoWithStorage[127.0.0.1:46812,DS-7b5757fb-e727-4ce3-8949-c9beb9de2cec,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-998535930-172.17.0.15-1593412304947:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38158,DS-e0886e6b-7207-4d94-aa1e-5be18acc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:40442,DS-b1fd24c3-dba5-4926-ac69-6d132021d244,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-ae236e29-7676-4e60-bc72-4e03a8ab30a3,DISK], DatanodeInfoWithStorage[127.0.0.1:43008,DS-644fa71f-73ee-479a-bbb7-fe314abdc315,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-feb0981a-4b89-4dd6-bf52-c4c632b67500,DISK], DatanodeInfoWithStorage[127.0.0.1:46812,DS-7b5757fb-e727-4ce3-8949-c9beb9de2cec,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-998535930-172.17.0.15-1593412304947:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38158,DS-e0886e6b-7207-4d94-aa1e-5be18acc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:40442,DS-b1fd24c3-dba5-4926-ac69-6d132021d244,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-ae236e29-7676-4e60-bc72-4e03a8ab30a3,DISK], DatanodeInfoWithStorage[127.0.0.1:43008,DS-644fa71f-73ee-479a-bbb7-fe314abdc315,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-feb0981a-4b89-4dd6-bf52-c4c632b67500,DISK], DatanodeInfoWithStorage[127.0.0.1:46812,DS-7b5757fb-e727-4ce3-8949-c9beb9de2cec,DISK]]; indices=[2, 4, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-998535930-172.17.0.15-1593412304947:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:38158,DS-e0886e6b-7207-4d94-aa1e-5be18acc0ac8,DISK], DatanodeInfoWithStorage[127.0.0.1:40442,DS-b1fd24c3-dba5-4926-ac69-6d132021d244,DISK], DatanodeInfoWithStorage[127.0.0.1:46663,DS-ae236e29-7676-4e60-bc72-4e03a8ab30a3,DISK], DatanodeInfoWithStorage[127.0.0.1:43008,DS-644fa71f-73ee-479a-bbb7-fe314abdc315,DISK], DatanodeInfoWithStorage[127.0.0.1:40603,DS-feb0981a-4b89-4dd6-bf52-c4c632b67500,DISK], DatanodeInfoWithStorage[127.0.0.1:46812,DS-7b5757fb-e727-4ce3-8949-c9beb9de2cec,DISK]]; indices=[2, 4, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-566219707-172.17.0.15-1593412677371:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39077,DS-420f3566-0e84-4e76-a029-4d1ab0ced922,DISK], DatanodeInfoWithStorage[127.0.0.1:44008,DS-abe2b626-9c00-4579-b17b-29363a6a4b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:46685,DS-59afd80a-5b2c-44c3-8844-ad0ce9641b5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39493,DS-b4426031-0a68-4086-9c98-885dc43488f6,DISK], DatanodeInfoWithStorage[127.0.0.1:38826,DS-56683e8d-4db2-498a-b3b2-47f962059e7b,DISK], DatanodeInfoWithStorage[127.0.0.1:44886,DS-520a0aca-e11e-4523-a8e7-779b739e07cc,DISK]]; indices=[1, 2, 3, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-566219707-172.17.0.15-1593412677371:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39077,DS-420f3566-0e84-4e76-a029-4d1ab0ced922,DISK], DatanodeInfoWithStorage[127.0.0.1:44008,DS-abe2b626-9c00-4579-b17b-29363a6a4b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:46685,DS-59afd80a-5b2c-44c3-8844-ad0ce9641b5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39493,DS-b4426031-0a68-4086-9c98-885dc43488f6,DISK], DatanodeInfoWithStorage[127.0.0.1:38826,DS-56683e8d-4db2-498a-b3b2-47f962059e7b,DISK], DatanodeInfoWithStorage[127.0.0.1:44886,DS-520a0aca-e11e-4523-a8e7-779b739e07cc,DISK]]; indices=[1, 2, 3, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-566219707-172.17.0.15-1593412677371:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39077,DS-420f3566-0e84-4e76-a029-4d1ab0ced922,DISK], DatanodeInfoWithStorage[127.0.0.1:44008,DS-abe2b626-9c00-4579-b17b-29363a6a4b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:46685,DS-59afd80a-5b2c-44c3-8844-ad0ce9641b5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39493,DS-b4426031-0a68-4086-9c98-885dc43488f6,DISK], DatanodeInfoWithStorage[127.0.0.1:38826,DS-56683e8d-4db2-498a-b3b2-47f962059e7b,DISK], DatanodeInfoWithStorage[127.0.0.1:44886,DS-520a0aca-e11e-4523-a8e7-779b739e07cc,DISK]]; indices=[1, 2, 3, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-566219707-172.17.0.15-1593412677371:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39077,DS-420f3566-0e84-4e76-a029-4d1ab0ced922,DISK], DatanodeInfoWithStorage[127.0.0.1:44008,DS-abe2b626-9c00-4579-b17b-29363a6a4b0d,DISK], DatanodeInfoWithStorage[127.0.0.1:46685,DS-59afd80a-5b2c-44c3-8844-ad0ce9641b5b,DISK], DatanodeInfoWithStorage[127.0.0.1:39493,DS-b4426031-0a68-4086-9c98-885dc43488f6,DISK], DatanodeInfoWithStorage[127.0.0.1:38826,DS-56683e8d-4db2-498a-b3b2-47f962059e7b,DISK], DatanodeInfoWithStorage[127.0.0.1:44886,DS-520a0aca-e11e-4523-a8e7-779b739e07cc,DISK]]; indices=[1, 2, 3, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-852921676-172.17.0.15-1593413224654:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46251,DS-5df74aaa-48bd-4611-b6ee-e5f91a449698,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-70405845-4207-499a-bf4e-a10552cd386b,DISK], DatanodeInfoWithStorage[127.0.0.1:35780,DS-d9a481fe-5e72-4b5b-ab98-ca5ff5b69bf5,DISK], DatanodeInfoWithStorage[127.0.0.1:46000,DS-11b23263-304f-48c3-86cd-e1556e1ff08d,DISK], DatanodeInfoWithStorage[127.0.0.1:39997,DS-882d1852-df7d-4387-bdd1-6f2001f04c0c,DISK], DatanodeInfoWithStorage[127.0.0.1:46424,DS-de4953be-832d-433c-8de7-a9a43ff2b968,DISK], DatanodeInfoWithStorage[127.0.0.1:39141,DS-153b46f6-6afb-47d7-b725-a41c2beeebed,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-852921676-172.17.0.15-1593413224654:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46251,DS-5df74aaa-48bd-4611-b6ee-e5f91a449698,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-70405845-4207-499a-bf4e-a10552cd386b,DISK], DatanodeInfoWithStorage[127.0.0.1:35780,DS-d9a481fe-5e72-4b5b-ab98-ca5ff5b69bf5,DISK], DatanodeInfoWithStorage[127.0.0.1:46000,DS-11b23263-304f-48c3-86cd-e1556e1ff08d,DISK], DatanodeInfoWithStorage[127.0.0.1:39997,DS-882d1852-df7d-4387-bdd1-6f2001f04c0c,DISK], DatanodeInfoWithStorage[127.0.0.1:46424,DS-de4953be-832d-433c-8de7-a9a43ff2b968,DISK], DatanodeInfoWithStorage[127.0.0.1:39141,DS-153b46f6-6afb-47d7-b725-a41c2beeebed,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-852921676-172.17.0.15-1593413224654:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46251,DS-5df74aaa-48bd-4611-b6ee-e5f91a449698,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-70405845-4207-499a-bf4e-a10552cd386b,DISK], DatanodeInfoWithStorage[127.0.0.1:35780,DS-d9a481fe-5e72-4b5b-ab98-ca5ff5b69bf5,DISK], DatanodeInfoWithStorage[127.0.0.1:46000,DS-11b23263-304f-48c3-86cd-e1556e1ff08d,DISK], DatanodeInfoWithStorage[127.0.0.1:39997,DS-882d1852-df7d-4387-bdd1-6f2001f04c0c,DISK], DatanodeInfoWithStorage[127.0.0.1:46424,DS-de4953be-832d-433c-8de7-a9a43ff2b968,DISK], DatanodeInfoWithStorage[127.0.0.1:39141,DS-153b46f6-6afb-47d7-b725-a41c2beeebed,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-852921676-172.17.0.15-1593413224654:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46251,DS-5df74aaa-48bd-4611-b6ee-e5f91a449698,DISK], DatanodeInfoWithStorage[127.0.0.1:35944,DS-70405845-4207-499a-bf4e-a10552cd386b,DISK], DatanodeInfoWithStorage[127.0.0.1:35780,DS-d9a481fe-5e72-4b5b-ab98-ca5ff5b69bf5,DISK], DatanodeInfoWithStorage[127.0.0.1:46000,DS-11b23263-304f-48c3-86cd-e1556e1ff08d,DISK], DatanodeInfoWithStorage[127.0.0.1:39997,DS-882d1852-df7d-4387-bdd1-6f2001f04c0c,DISK], DatanodeInfoWithStorage[127.0.0.1:46424,DS-de4953be-832d-433c-8de7-a9a43ff2b968,DISK], DatanodeInfoWithStorage[127.0.0.1:39141,DS-153b46f6-6afb-47d7-b725-a41c2beeebed,DISK]]; indices=[1, 2, 3, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData#testReadCorruptedDataByDeleting[2]
reconfPoint: -2
result: -1
failureMessage: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2097950301-172.17.0.15-1593414251034:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41930,DS-0a058526-c332-4f1d-840a-aefefcaadc84,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-9a0f17b7-bdb9-41ba-ace4-c54b1abfac67,DISK], DatanodeInfoWithStorage[127.0.0.1:36463,DS-56444a6f-4feb-463e-8adf-7b3af99e989f,DISK], DatanodeInfoWithStorage[127.0.0.1:33178,DS-0a6132e6-8aa2-46a2-952f-0036f295bf00,DISK], DatanodeInfoWithStorage[127.0.0.1:32923,DS-2f0114a6-2db4-46ff-b345-eab08d18b054,DISK], DatanodeInfoWithStorage[127.0.0.1:38369,DS-623d6bb9-2e33-4b24-8f97-325220d3ffa2,DISK]]; indices=[0, 1, 2, 3, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2097950301-172.17.0.15-1593414251034:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41930,DS-0a058526-c332-4f1d-840a-aefefcaadc84,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-9a0f17b7-bdb9-41ba-ace4-c54b1abfac67,DISK], DatanodeInfoWithStorage[127.0.0.1:36463,DS-56444a6f-4feb-463e-8adf-7b3af99e989f,DISK], DatanodeInfoWithStorage[127.0.0.1:33178,DS-0a6132e6-8aa2-46a2-952f-0036f295bf00,DISK], DatanodeInfoWithStorage[127.0.0.1:32923,DS-2f0114a6-2db4-46ff-b345-eab08d18b054,DISK], DatanodeInfoWithStorage[127.0.0.1:38369,DS-623d6bb9-2e33-4b24-8f97-325220d3ffa2,DISK]]; indices=[0, 1, 2, 3, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 5 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=5); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-2097950301-172.17.0.15-1593414251034:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41930,DS-0a058526-c332-4f1d-840a-aefefcaadc84,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-9a0f17b7-bdb9-41ba-ace4-c54b1abfac67,DISK], DatanodeInfoWithStorage[127.0.0.1:36463,DS-56444a6f-4feb-463e-8adf-7b3af99e989f,DISK], DatanodeInfoWithStorage[127.0.0.1:33178,DS-0a6132e6-8aa2-46a2-952f-0036f295bf00,DISK], DatanodeInfoWithStorage[127.0.0.1:32923,DS-2f0114a6-2db4-46ff-b345-eab08d18b054,DISK], DatanodeInfoWithStorage[127.0.0.1:38369,DS-623d6bb9-2e33-4b24-8f97-325220d3ffa2,DISK]]; indices=[0, 1, 2, 3, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-2097950301-172.17.0.15-1593414251034:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41930,DS-0a058526-c332-4f1d-840a-aefefcaadc84,DISK], DatanodeInfoWithStorage[127.0.0.1:33363,DS-9a0f17b7-bdb9-41ba-ace4-c54b1abfac67,DISK], DatanodeInfoWithStorage[127.0.0.1:36463,DS-56444a6f-4feb-463e-8adf-7b3af99e989f,DISK], DatanodeInfoWithStorage[127.0.0.1:33178,DS-0a6132e6-8aa2-46a2-952f-0036f295bf00,DISK], DatanodeInfoWithStorage[127.0.0.1:32923,DS-2f0114a6-2db4-46ff-b345-eab08d18b054,DISK], DatanodeInfoWithStorage[127.0.0.1:38369,DS-623d6bb9-2e33-4b24-8f97-325220d3ffa2,DISK]]; indices=[0, 1, 2, 3, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:341)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingDeletedData.testReadCorruptedDataByDeleting(TestReadStripedFileWithDecodingDeletedData.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 10 out of 50
v1v1v2v2 failed with probability 3 out of 50
result: might be true error
Total execution time in seconds : 9931
