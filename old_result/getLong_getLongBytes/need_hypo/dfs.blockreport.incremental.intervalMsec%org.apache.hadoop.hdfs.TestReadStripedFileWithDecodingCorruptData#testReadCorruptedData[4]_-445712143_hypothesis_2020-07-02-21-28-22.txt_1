reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-248874893-172.17.0.3-1593726734802:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41580,DS-88595f0d-d2f7-4a62-bac1-44c0f883c70b,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-5f6f77e5-cd36-4aa8-b0a6-a7ad3f52bbda,DISK], DatanodeInfoWithStorage[127.0.0.1:40662,DS-f1ccbe38-740f-4cbe-bb84-e10d74bb388c,DISK], DatanodeInfoWithStorage[127.0.0.1:38981,DS-b7e3c2bc-fba8-4a90-a819-c24ad44370c5,DISK], DatanodeInfoWithStorage[127.0.0.1:41625,DS-e398f9c5-c6de-4e79-9523-9e2e98030271,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-645266d9-1eab-42cd-b07d-6a15bf07fd9c,DISK], DatanodeInfoWithStorage[127.0.0.1:44204,DS-03bdd704-0d71-4347-bef8-2a7d4a9d12f2,DISK]]; indices=[0, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-248874893-172.17.0.3-1593726734802:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41580,DS-88595f0d-d2f7-4a62-bac1-44c0f883c70b,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-5f6f77e5-cd36-4aa8-b0a6-a7ad3f52bbda,DISK], DatanodeInfoWithStorage[127.0.0.1:40662,DS-f1ccbe38-740f-4cbe-bb84-e10d74bb388c,DISK], DatanodeInfoWithStorage[127.0.0.1:38981,DS-b7e3c2bc-fba8-4a90-a819-c24ad44370c5,DISK], DatanodeInfoWithStorage[127.0.0.1:41625,DS-e398f9c5-c6de-4e79-9523-9e2e98030271,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-645266d9-1eab-42cd-b07d-6a15bf07fd9c,DISK], DatanodeInfoWithStorage[127.0.0.1:44204,DS-03bdd704-0d71-4347-bef8-2a7d4a9d12f2,DISK]]; indices=[0, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-248874893-172.17.0.3-1593726734802:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41580,DS-88595f0d-d2f7-4a62-bac1-44c0f883c70b,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-5f6f77e5-cd36-4aa8-b0a6-a7ad3f52bbda,DISK], DatanodeInfoWithStorage[127.0.0.1:40662,DS-f1ccbe38-740f-4cbe-bb84-e10d74bb388c,DISK], DatanodeInfoWithStorage[127.0.0.1:38981,DS-b7e3c2bc-fba8-4a90-a819-c24ad44370c5,DISK], DatanodeInfoWithStorage[127.0.0.1:41625,DS-e398f9c5-c6de-4e79-9523-9e2e98030271,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-645266d9-1eab-42cd-b07d-6a15bf07fd9c,DISK], DatanodeInfoWithStorage[127.0.0.1:44204,DS-03bdd704-0d71-4347-bef8-2a7d4a9d12f2,DISK]]; indices=[0, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-248874893-172.17.0.3-1593726734802:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41580,DS-88595f0d-d2f7-4a62-bac1-44c0f883c70b,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-5f6f77e5-cd36-4aa8-b0a6-a7ad3f52bbda,DISK], DatanodeInfoWithStorage[127.0.0.1:40662,DS-f1ccbe38-740f-4cbe-bb84-e10d74bb388c,DISK], DatanodeInfoWithStorage[127.0.0.1:38981,DS-b7e3c2bc-fba8-4a90-a819-c24ad44370c5,DISK], DatanodeInfoWithStorage[127.0.0.1:41625,DS-e398f9c5-c6de-4e79-9523-9e2e98030271,DISK], DatanodeInfoWithStorage[127.0.0.1:42814,DS-645266d9-1eab-42cd-b07d-6a15bf07fd9c,DISK], DatanodeInfoWithStorage[127.0.0.1:44204,DS-03bdd704-0d71-4347-bef8-2a7d4a9d12f2,DISK]]; indices=[0, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-732602125-172.17.0.3-1593727411836:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34700,DS-ba2c0cf2-2aea-41af-a300-4ee58b93cd25,DISK], DatanodeInfoWithStorage[127.0.0.1:35056,DS-f3a7a531-4cfc-401a-883d-05e09c1f18a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-575efdbb-b923-4ce5-8617-2dc7fc4c8738,DISK], DatanodeInfoWithStorage[127.0.0.1:39169,DS-7fff8022-5ca5-408b-87ea-79451d1c45bd,DISK], DatanodeInfoWithStorage[127.0.0.1:36363,DS-eaf33c9d-fa75-4aa4-bc0c-67c5486a5a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:44336,DS-4ddf62a8-f279-430c-a53f-c790cb884899,DISK]]; indices=[0, 1, 3, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-732602125-172.17.0.3-1593727411836:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34700,DS-ba2c0cf2-2aea-41af-a300-4ee58b93cd25,DISK], DatanodeInfoWithStorage[127.0.0.1:35056,DS-f3a7a531-4cfc-401a-883d-05e09c1f18a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-575efdbb-b923-4ce5-8617-2dc7fc4c8738,DISK], DatanodeInfoWithStorage[127.0.0.1:39169,DS-7fff8022-5ca5-408b-87ea-79451d1c45bd,DISK], DatanodeInfoWithStorage[127.0.0.1:36363,DS-eaf33c9d-fa75-4aa4-bc0c-67c5486a5a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:44336,DS-4ddf62a8-f279-430c-a53f-c790cb884899,DISK]]; indices=[0, 1, 3, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-732602125-172.17.0.3-1593727411836:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34700,DS-ba2c0cf2-2aea-41af-a300-4ee58b93cd25,DISK], DatanodeInfoWithStorage[127.0.0.1:35056,DS-f3a7a531-4cfc-401a-883d-05e09c1f18a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-575efdbb-b923-4ce5-8617-2dc7fc4c8738,DISK], DatanodeInfoWithStorage[127.0.0.1:39169,DS-7fff8022-5ca5-408b-87ea-79451d1c45bd,DISK], DatanodeInfoWithStorage[127.0.0.1:36363,DS-eaf33c9d-fa75-4aa4-bc0c-67c5486a5a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:44336,DS-4ddf62a8-f279-430c-a53f-c790cb884899,DISK]]; indices=[0, 1, 3, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-732602125-172.17.0.3-1593727411836:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34700,DS-ba2c0cf2-2aea-41af-a300-4ee58b93cd25,DISK], DatanodeInfoWithStorage[127.0.0.1:35056,DS-f3a7a531-4cfc-401a-883d-05e09c1f18a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42549,DS-575efdbb-b923-4ce5-8617-2dc7fc4c8738,DISK], DatanodeInfoWithStorage[127.0.0.1:39169,DS-7fff8022-5ca5-408b-87ea-79451d1c45bd,DISK], DatanodeInfoWithStorage[127.0.0.1:36363,DS-eaf33c9d-fa75-4aa4-bc0c-67c5486a5a3b,DISK], DatanodeInfoWithStorage[127.0.0.1:44336,DS-4ddf62a8-f279-430c-a53f-c790cb884899,DISK]]; indices=[0, 1, 3, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: No enough valid inputs are provided, not recoverable
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: No enough valid inputs are provided, not recoverable
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkInputBuffers(ByteBufferDecodingState.java:119)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:47)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1338645208-172.17.0.3-1593727789713:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39489,DS-fd896b31-e6c6-4a3d-a2cd-cccd1e8d8bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:38446,DS-89762e7c-c460-4214-92ba-ff33cd9f2246,DISK], DatanodeInfoWithStorage[127.0.0.1:46539,DS-db38ba32-a628-4a1a-a52a-4bd2acc769ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34905,DS-b16c264d-9d29-4c6a-a5ed-556ac72c4bd9,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-9bc7380f-b208-44e4-8e29-614a081d3813,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-e29ae7ae-0147-4c69-a577-2be2c34fdee3,DISK]]; indices=[0, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1338645208-172.17.0.3-1593727789713:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39489,DS-fd896b31-e6c6-4a3d-a2cd-cccd1e8d8bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:38446,DS-89762e7c-c460-4214-92ba-ff33cd9f2246,DISK], DatanodeInfoWithStorage[127.0.0.1:46539,DS-db38ba32-a628-4a1a-a52a-4bd2acc769ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34905,DS-b16c264d-9d29-4c6a-a5ed-556ac72c4bd9,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-9bc7380f-b208-44e4-8e29-614a081d3813,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-e29ae7ae-0147-4c69-a577-2be2c34fdee3,DISK]]; indices=[0, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1338645208-172.17.0.3-1593727789713:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39489,DS-fd896b31-e6c6-4a3d-a2cd-cccd1e8d8bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:38446,DS-89762e7c-c460-4214-92ba-ff33cd9f2246,DISK], DatanodeInfoWithStorage[127.0.0.1:46539,DS-db38ba32-a628-4a1a-a52a-4bd2acc769ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34905,DS-b16c264d-9d29-4c6a-a5ed-556ac72c4bd9,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-9bc7380f-b208-44e4-8e29-614a081d3813,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-e29ae7ae-0147-4c69-a577-2be2c34fdee3,DISK]]; indices=[0, 3, 4, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1338645208-172.17.0.3-1593727789713:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39489,DS-fd896b31-e6c6-4a3d-a2cd-cccd1e8d8bb4,DISK], DatanodeInfoWithStorage[127.0.0.1:38446,DS-89762e7c-c460-4214-92ba-ff33cd9f2246,DISK], DatanodeInfoWithStorage[127.0.0.1:46539,DS-db38ba32-a628-4a1a-a52a-4bd2acc769ed,DISK], DatanodeInfoWithStorage[127.0.0.1:34905,DS-b16c264d-9d29-4c6a-a5ed-556ac72c4bd9,DISK], DatanodeInfoWithStorage[127.0.0.1:38856,DS-9bc7380f-b208-44e4-8e29-614a081d3813,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-e29ae7ae-0147-4c69-a577-2be2c34fdee3,DISK]]; indices=[0, 3, 4, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1360134447-172.17.0.3-1593728593399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-aaf1d1e9-ee01-4557-b584-b9a76c7789a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41986,DS-d0d505bd-c875-46a5-858f-224baab9d834,DISK], DatanodeInfoWithStorage[127.0.0.1:43360,DS-b39cd04b-14ab-450b-9645-5def1d730411,DISK], DatanodeInfoWithStorage[127.0.0.1:39850,DS-94ad7664-e685-4987-af00-bec0b83a5928,DISK], DatanodeInfoWithStorage[127.0.0.1:41186,DS-61287bf3-ae9d-4e26-90ba-3ae232232dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39093,DS-aaa35dde-a051-40ec-a37e-e299acc1b219,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1360134447-172.17.0.3-1593728593399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-aaf1d1e9-ee01-4557-b584-b9a76c7789a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41986,DS-d0d505bd-c875-46a5-858f-224baab9d834,DISK], DatanodeInfoWithStorage[127.0.0.1:43360,DS-b39cd04b-14ab-450b-9645-5def1d730411,DISK], DatanodeInfoWithStorage[127.0.0.1:39850,DS-94ad7664-e685-4987-af00-bec0b83a5928,DISK], DatanodeInfoWithStorage[127.0.0.1:41186,DS-61287bf3-ae9d-4e26-90ba-3ae232232dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39093,DS-aaa35dde-a051-40ec-a37e-e299acc1b219,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1360134447-172.17.0.3-1593728593399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-aaf1d1e9-ee01-4557-b584-b9a76c7789a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41986,DS-d0d505bd-c875-46a5-858f-224baab9d834,DISK], DatanodeInfoWithStorage[127.0.0.1:43360,DS-b39cd04b-14ab-450b-9645-5def1d730411,DISK], DatanodeInfoWithStorage[127.0.0.1:39850,DS-94ad7664-e685-4987-af00-bec0b83a5928,DISK], DatanodeInfoWithStorage[127.0.0.1:41186,DS-61287bf3-ae9d-4e26-90ba-3ae232232dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39093,DS-aaa35dde-a051-40ec-a37e-e299acc1b219,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1360134447-172.17.0.3-1593728593399:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46038,DS-aaf1d1e9-ee01-4557-b584-b9a76c7789a5,DISK], DatanodeInfoWithStorage[127.0.0.1:41986,DS-d0d505bd-c875-46a5-858f-224baab9d834,DISK], DatanodeInfoWithStorage[127.0.0.1:43360,DS-b39cd04b-14ab-450b-9645-5def1d730411,DISK], DatanodeInfoWithStorage[127.0.0.1:39850,DS-94ad7664-e685-4987-af00-bec0b83a5928,DISK], DatanodeInfoWithStorage[127.0.0.1:41186,DS-61287bf3-ae9d-4e26-90ba-3ae232232dc8,DISK], DatanodeInfoWithStorage[127.0.0.1:39093,DS-aaa35dde-a051-40ec-a37e-e299acc1b219,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1288032944-172.17.0.3-1593728988682:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32865,DS-1c1b1637-9dbf-4709-a2fd-128f6bd1c782,DISK], DatanodeInfoWithStorage[127.0.0.1:36461,DS-5edce87c-e509-4297-b5ee-352de4cb5765,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-d25dc295-957a-40fa-bf3a-feaa36a9ba61,DISK], DatanodeInfoWithStorage[127.0.0.1:45108,DS-cf18d9d5-18d2-4125-a519-24f50169b9b9,DISK], DatanodeInfoWithStorage[127.0.0.1:41477,DS-ab21ea09-26e1-496f-978b-f79f3dad76ec,DISK], DatanodeInfoWithStorage[127.0.0.1:35580,DS-948105a5-63ef-4403-9370-81fadbcfb9cd,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1288032944-172.17.0.3-1593728988682:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32865,DS-1c1b1637-9dbf-4709-a2fd-128f6bd1c782,DISK], DatanodeInfoWithStorage[127.0.0.1:36461,DS-5edce87c-e509-4297-b5ee-352de4cb5765,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-d25dc295-957a-40fa-bf3a-feaa36a9ba61,DISK], DatanodeInfoWithStorage[127.0.0.1:45108,DS-cf18d9d5-18d2-4125-a519-24f50169b9b9,DISK], DatanodeInfoWithStorage[127.0.0.1:41477,DS-ab21ea09-26e1-496f-978b-f79f3dad76ec,DISK], DatanodeInfoWithStorage[127.0.0.1:35580,DS-948105a5-63ef-4403-9370-81fadbcfb9cd,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1288032944-172.17.0.3-1593728988682:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32865,DS-1c1b1637-9dbf-4709-a2fd-128f6bd1c782,DISK], DatanodeInfoWithStorage[127.0.0.1:36461,DS-5edce87c-e509-4297-b5ee-352de4cb5765,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-d25dc295-957a-40fa-bf3a-feaa36a9ba61,DISK], DatanodeInfoWithStorage[127.0.0.1:45108,DS-cf18d9d5-18d2-4125-a519-24f50169b9b9,DISK], DatanodeInfoWithStorage[127.0.0.1:41477,DS-ab21ea09-26e1-496f-978b-f79f3dad76ec,DISK], DatanodeInfoWithStorage[127.0.0.1:35580,DS-948105a5-63ef-4403-9370-81fadbcfb9cd,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1288032944-172.17.0.3-1593728988682:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:32865,DS-1c1b1637-9dbf-4709-a2fd-128f6bd1c782,DISK], DatanodeInfoWithStorage[127.0.0.1:36461,DS-5edce87c-e509-4297-b5ee-352de4cb5765,DISK], DatanodeInfoWithStorage[127.0.0.1:33580,DS-d25dc295-957a-40fa-bf3a-feaa36a9ba61,DISK], DatanodeInfoWithStorage[127.0.0.1:45108,DS-cf18d9d5-18d2-4125-a519-24f50169b9b9,DISK], DatanodeInfoWithStorage[127.0.0.1:41477,DS-ab21ea09-26e1-496f-978b-f79f3dad76ec,DISK], DatanodeInfoWithStorage[127.0.0.1:35580,DS-948105a5-63ef-4403-9370-81fadbcfb9cd,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1673020235-172.17.0.3-1593729090501:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37329,DS-a1769540-c8e2-4445-b7e2-7a0d6d0eade9,DISK], DatanodeInfoWithStorage[127.0.0.1:38982,DS-42d83caa-aba0-4e0e-b60a-6c797f37938f,DISK], DatanodeInfoWithStorage[127.0.0.1:43379,DS-df8a0e69-42c9-4db1-bd4a-00e93e4b75ff,DISK], DatanodeInfoWithStorage[127.0.0.1:40821,DS-32080865-3186-47d0-a41e-1f419765e84f,DISK], DatanodeInfoWithStorage[127.0.0.1:40073,DS-1ce623cf-8c6c-4f22-a7c2-9769550fd9be,DISK], DatanodeInfoWithStorage[127.0.0.1:35388,DS-52e727fe-9ca1-4d1c-bb22-cda0452c22b5,DISK], DatanodeInfoWithStorage[127.0.0.1:36951,DS-e0d53df7-06b7-4ecd-addf-68445ee2aece,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-f7d015a7-2f49-4a86-b4b4-7ad6f80b8381,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1673020235-172.17.0.3-1593729090501:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37329,DS-a1769540-c8e2-4445-b7e2-7a0d6d0eade9,DISK], DatanodeInfoWithStorage[127.0.0.1:38982,DS-42d83caa-aba0-4e0e-b60a-6c797f37938f,DISK], DatanodeInfoWithStorage[127.0.0.1:43379,DS-df8a0e69-42c9-4db1-bd4a-00e93e4b75ff,DISK], DatanodeInfoWithStorage[127.0.0.1:40821,DS-32080865-3186-47d0-a41e-1f419765e84f,DISK], DatanodeInfoWithStorage[127.0.0.1:40073,DS-1ce623cf-8c6c-4f22-a7c2-9769550fd9be,DISK], DatanodeInfoWithStorage[127.0.0.1:35388,DS-52e727fe-9ca1-4d1c-bb22-cda0452c22b5,DISK], DatanodeInfoWithStorage[127.0.0.1:36951,DS-e0d53df7-06b7-4ecd-addf-68445ee2aece,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-f7d015a7-2f49-4a86-b4b4-7ad6f80b8381,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1673020235-172.17.0.3-1593729090501:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37329,DS-a1769540-c8e2-4445-b7e2-7a0d6d0eade9,DISK], DatanodeInfoWithStorage[127.0.0.1:38982,DS-42d83caa-aba0-4e0e-b60a-6c797f37938f,DISK], DatanodeInfoWithStorage[127.0.0.1:43379,DS-df8a0e69-42c9-4db1-bd4a-00e93e4b75ff,DISK], DatanodeInfoWithStorage[127.0.0.1:40821,DS-32080865-3186-47d0-a41e-1f419765e84f,DISK], DatanodeInfoWithStorage[127.0.0.1:40073,DS-1ce623cf-8c6c-4f22-a7c2-9769550fd9be,DISK], DatanodeInfoWithStorage[127.0.0.1:35388,DS-52e727fe-9ca1-4d1c-bb22-cda0452c22b5,DISK], DatanodeInfoWithStorage[127.0.0.1:36951,DS-e0d53df7-06b7-4ecd-addf-68445ee2aece,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-f7d015a7-2f49-4a86-b4b4-7ad6f80b8381,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1673020235-172.17.0.3-1593729090501:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37329,DS-a1769540-c8e2-4445-b7e2-7a0d6d0eade9,DISK], DatanodeInfoWithStorage[127.0.0.1:38982,DS-42d83caa-aba0-4e0e-b60a-6c797f37938f,DISK], DatanodeInfoWithStorage[127.0.0.1:43379,DS-df8a0e69-42c9-4db1-bd4a-00e93e4b75ff,DISK], DatanodeInfoWithStorage[127.0.0.1:40821,DS-32080865-3186-47d0-a41e-1f419765e84f,DISK], DatanodeInfoWithStorage[127.0.0.1:40073,DS-1ce623cf-8c6c-4f22-a7c2-9769550fd9be,DISK], DatanodeInfoWithStorage[127.0.0.1:35388,DS-52e727fe-9ca1-4d1c-bb22-cda0452c22b5,DISK], DatanodeInfoWithStorage[127.0.0.1:36951,DS-e0d53df7-06b7-4ecd-addf-68445ee2aece,DISK], DatanodeInfoWithStorage[127.0.0.1:44049,DS-f7d015a7-2f49-4a86-b4b4-7ad6f80b8381,DISK]]; indices=[0, 1, 2, 3, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-806502200-172.17.0.3-1593729331786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44349,DS-bd88888a-f2df-4755-843b-a1fab51603d5,DISK], DatanodeInfoWithStorage[127.0.0.1:41847,DS-79f3abf9-3c74-4bec-a669-e6e0580d9f48,DISK], DatanodeInfoWithStorage[127.0.0.1:40316,DS-15a15918-3dd9-424d-8999-47461d879004,DISK], DatanodeInfoWithStorage[127.0.0.1:37904,DS-49a8ecc2-5717-4a2c-b482-9fa13ed5d08c,DISK], DatanodeInfoWithStorage[127.0.0.1:35020,DS-729dc65b-adbc-4070-8486-c248de8c60a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33674,DS-be566474-7b71-4398-8309-f7dd08f06cfc,DISK]]; indices=[0, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-806502200-172.17.0.3-1593729331786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44349,DS-bd88888a-f2df-4755-843b-a1fab51603d5,DISK], DatanodeInfoWithStorage[127.0.0.1:41847,DS-79f3abf9-3c74-4bec-a669-e6e0580d9f48,DISK], DatanodeInfoWithStorage[127.0.0.1:40316,DS-15a15918-3dd9-424d-8999-47461d879004,DISK], DatanodeInfoWithStorage[127.0.0.1:37904,DS-49a8ecc2-5717-4a2c-b482-9fa13ed5d08c,DISK], DatanodeInfoWithStorage[127.0.0.1:35020,DS-729dc65b-adbc-4070-8486-c248de8c60a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33674,DS-be566474-7b71-4398-8309-f7dd08f06cfc,DISK]]; indices=[0, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-806502200-172.17.0.3-1593729331786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44349,DS-bd88888a-f2df-4755-843b-a1fab51603d5,DISK], DatanodeInfoWithStorage[127.0.0.1:41847,DS-79f3abf9-3c74-4bec-a669-e6e0580d9f48,DISK], DatanodeInfoWithStorage[127.0.0.1:40316,DS-15a15918-3dd9-424d-8999-47461d879004,DISK], DatanodeInfoWithStorage[127.0.0.1:37904,DS-49a8ecc2-5717-4a2c-b482-9fa13ed5d08c,DISK], DatanodeInfoWithStorage[127.0.0.1:35020,DS-729dc65b-adbc-4070-8486-c248de8c60a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33674,DS-be566474-7b71-4398-8309-f7dd08f06cfc,DISK]]; indices=[0, 2, 5, 6, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-806502200-172.17.0.3-1593729331786:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44349,DS-bd88888a-f2df-4755-843b-a1fab51603d5,DISK], DatanodeInfoWithStorage[127.0.0.1:41847,DS-79f3abf9-3c74-4bec-a669-e6e0580d9f48,DISK], DatanodeInfoWithStorage[127.0.0.1:40316,DS-15a15918-3dd9-424d-8999-47461d879004,DISK], DatanodeInfoWithStorage[127.0.0.1:37904,DS-49a8ecc2-5717-4a2c-b482-9fa13ed5d08c,DISK], DatanodeInfoWithStorage[127.0.0.1:35020,DS-729dc65b-adbc-4070-8486-c248de8c60a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33674,DS-be566474-7b71-4398-8309-f7dd08f06cfc,DISK]]; indices=[0, 2, 5, 6, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-498554924-172.17.0.3-1593730900949:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41504,DS-972b71c3-b31a-4632-99e7-4947de2f8643,DISK], DatanodeInfoWithStorage[127.0.0.1:34181,DS-1985cca8-2737-4e94-a9f5-720009546d89,DISK], DatanodeInfoWithStorage[127.0.0.1:43222,DS-dde6f386-d0dc-49a0-9d90-1c5e3969526f,DISK], DatanodeInfoWithStorage[127.0.0.1:45562,DS-2e24a66f-b207-4b1e-a231-694549ff0b7d,DISK], DatanodeInfoWithStorage[127.0.0.1:42083,DS-06ea214e-dfea-489b-9d93-0aa1d42d5be6,DISK], DatanodeInfoWithStorage[127.0.0.1:46623,DS-ca46ab60-a954-43fc-a161-ab0d1b9111e6,DISK], DatanodeInfoWithStorage[127.0.0.1:40552,DS-2281c098-c5be-40ed-82ae-5ca8ecbe4141,DISK], DatanodeInfoWithStorage[127.0.0.1:33741,DS-84b87658-9047-4098-b277-e59044cbb601,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-498554924-172.17.0.3-1593730900949:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41504,DS-972b71c3-b31a-4632-99e7-4947de2f8643,DISK], DatanodeInfoWithStorage[127.0.0.1:34181,DS-1985cca8-2737-4e94-a9f5-720009546d89,DISK], DatanodeInfoWithStorage[127.0.0.1:43222,DS-dde6f386-d0dc-49a0-9d90-1c5e3969526f,DISK], DatanodeInfoWithStorage[127.0.0.1:45562,DS-2e24a66f-b207-4b1e-a231-694549ff0b7d,DISK], DatanodeInfoWithStorage[127.0.0.1:42083,DS-06ea214e-dfea-489b-9d93-0aa1d42d5be6,DISK], DatanodeInfoWithStorage[127.0.0.1:46623,DS-ca46ab60-a954-43fc-a161-ab0d1b9111e6,DISK], DatanodeInfoWithStorage[127.0.0.1:40552,DS-2281c098-c5be-40ed-82ae-5ca8ecbe4141,DISK], DatanodeInfoWithStorage[127.0.0.1:33741,DS-84b87658-9047-4098-b277-e59044cbb601,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-498554924-172.17.0.3-1593730900949:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41504,DS-972b71c3-b31a-4632-99e7-4947de2f8643,DISK], DatanodeInfoWithStorage[127.0.0.1:34181,DS-1985cca8-2737-4e94-a9f5-720009546d89,DISK], DatanodeInfoWithStorage[127.0.0.1:43222,DS-dde6f386-d0dc-49a0-9d90-1c5e3969526f,DISK], DatanodeInfoWithStorage[127.0.0.1:45562,DS-2e24a66f-b207-4b1e-a231-694549ff0b7d,DISK], DatanodeInfoWithStorage[127.0.0.1:42083,DS-06ea214e-dfea-489b-9d93-0aa1d42d5be6,DISK], DatanodeInfoWithStorage[127.0.0.1:46623,DS-ca46ab60-a954-43fc-a161-ab0d1b9111e6,DISK], DatanodeInfoWithStorage[127.0.0.1:40552,DS-2281c098-c5be-40ed-82ae-5ca8ecbe4141,DISK], DatanodeInfoWithStorage[127.0.0.1:33741,DS-84b87658-9047-4098-b277-e59044cbb601,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-498554924-172.17.0.3-1593730900949:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41504,DS-972b71c3-b31a-4632-99e7-4947de2f8643,DISK], DatanodeInfoWithStorage[127.0.0.1:34181,DS-1985cca8-2737-4e94-a9f5-720009546d89,DISK], DatanodeInfoWithStorage[127.0.0.1:43222,DS-dde6f386-d0dc-49a0-9d90-1c5e3969526f,DISK], DatanodeInfoWithStorage[127.0.0.1:45562,DS-2e24a66f-b207-4b1e-a231-694549ff0b7d,DISK], DatanodeInfoWithStorage[127.0.0.1:42083,DS-06ea214e-dfea-489b-9d93-0aa1d42d5be6,DISK], DatanodeInfoWithStorage[127.0.0.1:46623,DS-ca46ab60-a954-43fc-a161-ab0d1b9111e6,DISK], DatanodeInfoWithStorage[127.0.0.1:40552,DS-2281c098-c5be-40ed-82ae-5ca8ecbe4141,DISK], DatanodeInfoWithStorage[127.0.0.1:33741,DS-84b87658-9047-4098-b277-e59044cbb601,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-826823366-172.17.0.3-1593731149648:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42168,DS-a3a3d785-ed04-4bb8-bd35-c33e2e048e76,DISK], DatanodeInfoWithStorage[127.0.0.1:46117,DS-801f7c6a-8697-4f84-90a7-d47927461225,DISK], DatanodeInfoWithStorage[127.0.0.1:42802,DS-befbda31-4998-4d24-8edb-346bf520e5d1,DISK], DatanodeInfoWithStorage[127.0.0.1:33673,DS-9f335da9-89f9-4c06-852c-037f38209fd3,DISK], DatanodeInfoWithStorage[127.0.0.1:33998,DS-889d1c4c-51bd-4e97-9679-6635291d63dd,DISK], DatanodeInfoWithStorage[127.0.0.1:41142,DS-215c6484-51e0-47cb-94d9-b0f22d2c5fd6,DISK]]; indices=[0, 1, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-826823366-172.17.0.3-1593731149648:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42168,DS-a3a3d785-ed04-4bb8-bd35-c33e2e048e76,DISK], DatanodeInfoWithStorage[127.0.0.1:46117,DS-801f7c6a-8697-4f84-90a7-d47927461225,DISK], DatanodeInfoWithStorage[127.0.0.1:42802,DS-befbda31-4998-4d24-8edb-346bf520e5d1,DISK], DatanodeInfoWithStorage[127.0.0.1:33673,DS-9f335da9-89f9-4c06-852c-037f38209fd3,DISK], DatanodeInfoWithStorage[127.0.0.1:33998,DS-889d1c4c-51bd-4e97-9679-6635291d63dd,DISK], DatanodeInfoWithStorage[127.0.0.1:41142,DS-215c6484-51e0-47cb-94d9-b0f22d2c5fd6,DISK]]; indices=[0, 1, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=1, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-826823366-172.17.0.3-1593731149648:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42168,DS-a3a3d785-ed04-4bb8-bd35-c33e2e048e76,DISK], DatanodeInfoWithStorage[127.0.0.1:46117,DS-801f7c6a-8697-4f84-90a7-d47927461225,DISK], DatanodeInfoWithStorage[127.0.0.1:42802,DS-befbda31-4998-4d24-8edb-346bf520e5d1,DISK], DatanodeInfoWithStorage[127.0.0.1:33673,DS-9f335da9-89f9-4c06-852c-037f38209fd3,DISK], DatanodeInfoWithStorage[127.0.0.1:33998,DS-889d1c4c-51bd-4e97-9679-6635291d63dd,DISK], DatanodeInfoWithStorage[127.0.0.1:41142,DS-215c6484-51e0-47cb-94d9-b0f22d2c5fd6,DISK]]; indices=[0, 1, 3, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-826823366-172.17.0.3-1593731149648:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:42168,DS-a3a3d785-ed04-4bb8-bd35-c33e2e048e76,DISK], DatanodeInfoWithStorage[127.0.0.1:46117,DS-801f7c6a-8697-4f84-90a7-d47927461225,DISK], DatanodeInfoWithStorage[127.0.0.1:42802,DS-befbda31-4998-4d24-8edb-346bf520e5d1,DISK], DatanodeInfoWithStorage[127.0.0.1:33673,DS-9f335da9-89f9-4c06-852c-037f38209fd3,DISK], DatanodeInfoWithStorage[127.0.0.1:33998,DS-889d1c4c-51bd-4e97-9679-6635291d63dd,DISK], DatanodeInfoWithStorage[127.0.0.1:41142,DS-215c6484-51e0-47cb-94d9-b0f22d2c5fd6,DISK]]; indices=[0, 1, 3, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-237193778-172.17.0.3-1593731460530:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34993,DS-f972651c-000c-4e6a-89ae-b2d3d90d1a8b,DISK], DatanodeInfoWithStorage[127.0.0.1:34048,DS-b60ecb36-aff6-41f3-a304-0f07435e6749,DISK], DatanodeInfoWithStorage[127.0.0.1:34496,DS-713feab7-208d-4e13-b0e6-52df4921ea05,DISK], DatanodeInfoWithStorage[127.0.0.1:41230,DS-e3ce9e4e-f5be-42e4-bfe5-f99d5a21a523,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-de548b03-689d-4bcc-9d63-ad43a0685dfb,DISK], DatanodeInfoWithStorage[127.0.0.1:37036,DS-83bf63f6-4627-4710-a681-50dcf0b3128b,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-237193778-172.17.0.3-1593731460530:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34993,DS-f972651c-000c-4e6a-89ae-b2d3d90d1a8b,DISK], DatanodeInfoWithStorage[127.0.0.1:34048,DS-b60ecb36-aff6-41f3-a304-0f07435e6749,DISK], DatanodeInfoWithStorage[127.0.0.1:34496,DS-713feab7-208d-4e13-b0e6-52df4921ea05,DISK], DatanodeInfoWithStorage[127.0.0.1:41230,DS-e3ce9e4e-f5be-42e4-bfe5-f99d5a21a523,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-de548b03-689d-4bcc-9d63-ad43a0685dfb,DISK], DatanodeInfoWithStorage[127.0.0.1:37036,DS-83bf63f6-4627-4710-a681-50dcf0b3128b,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-237193778-172.17.0.3-1593731460530:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34993,DS-f972651c-000c-4e6a-89ae-b2d3d90d1a8b,DISK], DatanodeInfoWithStorage[127.0.0.1:34048,DS-b60ecb36-aff6-41f3-a304-0f07435e6749,DISK], DatanodeInfoWithStorage[127.0.0.1:34496,DS-713feab7-208d-4e13-b0e6-52df4921ea05,DISK], DatanodeInfoWithStorage[127.0.0.1:41230,DS-e3ce9e4e-f5be-42e4-bfe5-f99d5a21a523,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-de548b03-689d-4bcc-9d63-ad43a0685dfb,DISK], DatanodeInfoWithStorage[127.0.0.1:37036,DS-83bf63f6-4627-4710-a681-50dcf0b3128b,DISK]]; indices=[0, 1, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-237193778-172.17.0.3-1593731460530:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34993,DS-f972651c-000c-4e6a-89ae-b2d3d90d1a8b,DISK], DatanodeInfoWithStorage[127.0.0.1:34048,DS-b60ecb36-aff6-41f3-a304-0f07435e6749,DISK], DatanodeInfoWithStorage[127.0.0.1:34496,DS-713feab7-208d-4e13-b0e6-52df4921ea05,DISK], DatanodeInfoWithStorage[127.0.0.1:41230,DS-e3ce9e4e-f5be-42e4-bfe5-f99d5a21a523,DISK], DatanodeInfoWithStorage[127.0.0.1:45801,DS-de548b03-689d-4bcc-9d63-ad43a0685dfb,DISK], DatanodeInfoWithStorage[127.0.0.1:37036,DS-83bf63f6-4627-4710-a681-50dcf0b3128b,DISK]]; indices=[0, 1, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1365114989-172.17.0.3-1593732055154:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35353,DS-e6bacbf8-703d-47e7-8fd0-87187ab1cc92,DISK], DatanodeInfoWithStorage[127.0.0.1:41617,DS-c5ec93c6-9347-4198-846a-4cca0f2bdc4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38783,DS-9f9478b3-187b-42de-93f6-b72395e8eaea,DISK], DatanodeInfoWithStorage[127.0.0.1:36424,DS-8135643a-b3e1-4b39-9a20-1dd2153f75d6,DISK], DatanodeInfoWithStorage[127.0.0.1:43470,DS-298a5e56-1869-4d43-b333-e58eb2bc6c9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43039,DS-f03ae1f8-0518-4142-a9b4-7769ce1007de,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-b943fc77-438f-4b7b-8250-b9cd256333b1,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-aa5ce0f9-0653-4932-b31f-4436dcfac1e4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1365114989-172.17.0.3-1593732055154:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35353,DS-e6bacbf8-703d-47e7-8fd0-87187ab1cc92,DISK], DatanodeInfoWithStorage[127.0.0.1:41617,DS-c5ec93c6-9347-4198-846a-4cca0f2bdc4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38783,DS-9f9478b3-187b-42de-93f6-b72395e8eaea,DISK], DatanodeInfoWithStorage[127.0.0.1:36424,DS-8135643a-b3e1-4b39-9a20-1dd2153f75d6,DISK], DatanodeInfoWithStorage[127.0.0.1:43470,DS-298a5e56-1869-4d43-b333-e58eb2bc6c9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43039,DS-f03ae1f8-0518-4142-a9b4-7769ce1007de,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-b943fc77-438f-4b7b-8250-b9cd256333b1,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-aa5ce0f9-0653-4932-b31f-4436dcfac1e4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1365114989-172.17.0.3-1593732055154:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35353,DS-e6bacbf8-703d-47e7-8fd0-87187ab1cc92,DISK], DatanodeInfoWithStorage[127.0.0.1:41617,DS-c5ec93c6-9347-4198-846a-4cca0f2bdc4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38783,DS-9f9478b3-187b-42de-93f6-b72395e8eaea,DISK], DatanodeInfoWithStorage[127.0.0.1:36424,DS-8135643a-b3e1-4b39-9a20-1dd2153f75d6,DISK], DatanodeInfoWithStorage[127.0.0.1:43470,DS-298a5e56-1869-4d43-b333-e58eb2bc6c9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43039,DS-f03ae1f8-0518-4142-a9b4-7769ce1007de,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-b943fc77-438f-4b7b-8250-b9cd256333b1,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-aa5ce0f9-0653-4932-b31f-4436dcfac1e4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1365114989-172.17.0.3-1593732055154:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35353,DS-e6bacbf8-703d-47e7-8fd0-87187ab1cc92,DISK], DatanodeInfoWithStorage[127.0.0.1:41617,DS-c5ec93c6-9347-4198-846a-4cca0f2bdc4d,DISK], DatanodeInfoWithStorage[127.0.0.1:38783,DS-9f9478b3-187b-42de-93f6-b72395e8eaea,DISK], DatanodeInfoWithStorage[127.0.0.1:36424,DS-8135643a-b3e1-4b39-9a20-1dd2153f75d6,DISK], DatanodeInfoWithStorage[127.0.0.1:43470,DS-298a5e56-1869-4d43-b333-e58eb2bc6c9d,DISK], DatanodeInfoWithStorage[127.0.0.1:43039,DS-f03ae1f8-0518-4142-a9b4-7769ce1007de,DISK], DatanodeInfoWithStorage[127.0.0.1:33626,DS-b943fc77-438f-4b7b-8250-b9cd256333b1,DISK], DatanodeInfoWithStorage[127.0.0.1:39239,DS-aa5ce0f9-0653-4932-b31f-4436dcfac1e4,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1723162073-172.17.0.3-1593732504275:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39194,DS-f489f7c5-ac88-4a15-8347-0622b853bd5a,DISK], DatanodeInfoWithStorage[127.0.0.1:42008,DS-cdc75b32-5acb-48fd-bb3a-6bcfefba7275,DISK], DatanodeInfoWithStorage[127.0.0.1:36621,DS-df1980c4-4319-4bdb-9ddd-5fb40e081ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:37542,DS-596f5442-0423-4e0f-8e2c-4fc5e68336c5,DISK], DatanodeInfoWithStorage[127.0.0.1:38340,DS-50233800-025d-4184-af2d-58cd600b6d23,DISK], DatanodeInfoWithStorage[127.0.0.1:38560,DS-3ade4315-749a-45ae-a556-80b3d8258564,DISK], DatanodeInfoWithStorage[127.0.0.1:42371,DS-56efe98e-ea3d-4102-b97e-c9237adbb0be,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1723162073-172.17.0.3-1593732504275:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39194,DS-f489f7c5-ac88-4a15-8347-0622b853bd5a,DISK], DatanodeInfoWithStorage[127.0.0.1:42008,DS-cdc75b32-5acb-48fd-bb3a-6bcfefba7275,DISK], DatanodeInfoWithStorage[127.0.0.1:36621,DS-df1980c4-4319-4bdb-9ddd-5fb40e081ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:37542,DS-596f5442-0423-4e0f-8e2c-4fc5e68336c5,DISK], DatanodeInfoWithStorage[127.0.0.1:38340,DS-50233800-025d-4184-af2d-58cd600b6d23,DISK], DatanodeInfoWithStorage[127.0.0.1:38560,DS-3ade4315-749a-45ae-a556-80b3d8258564,DISK], DatanodeInfoWithStorage[127.0.0.1:42371,DS-56efe98e-ea3d-4102-b97e-c9237adbb0be,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=2, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1723162073-172.17.0.3-1593732504275:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39194,DS-f489f7c5-ac88-4a15-8347-0622b853bd5a,DISK], DatanodeInfoWithStorage[127.0.0.1:42008,DS-cdc75b32-5acb-48fd-bb3a-6bcfefba7275,DISK], DatanodeInfoWithStorage[127.0.0.1:36621,DS-df1980c4-4319-4bdb-9ddd-5fb40e081ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:37542,DS-596f5442-0423-4e0f-8e2c-4fc5e68336c5,DISK], DatanodeInfoWithStorage[127.0.0.1:38340,DS-50233800-025d-4184-af2d-58cd600b6d23,DISK], DatanodeInfoWithStorage[127.0.0.1:38560,DS-3ade4315-749a-45ae-a556-80b3d8258564,DISK], DatanodeInfoWithStorage[127.0.0.1:42371,DS-56efe98e-ea3d-4102-b97e-c9237adbb0be,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1723162073-172.17.0.3-1593732504275:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39194,DS-f489f7c5-ac88-4a15-8347-0622b853bd5a,DISK], DatanodeInfoWithStorage[127.0.0.1:42008,DS-cdc75b32-5acb-48fd-bb3a-6bcfefba7275,DISK], DatanodeInfoWithStorage[127.0.0.1:36621,DS-df1980c4-4319-4bdb-9ddd-5fb40e081ed7,DISK], DatanodeInfoWithStorage[127.0.0.1:37542,DS-596f5442-0423-4e0f-8e2c-4fc5e68336c5,DISK], DatanodeInfoWithStorage[127.0.0.1:38340,DS-50233800-025d-4184-af2d-58cd600b6d23,DISK], DatanodeInfoWithStorage[127.0.0.1:38560,DS-3ade4315-749a-45ae-a556-80b3d8258564,DISK], DatanodeInfoWithStorage[127.0.0.1:42371,DS-56efe98e-ea3d-4102-b97e-c9237adbb0be,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-242611292-172.17.0.3-1593732670633:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43183,DS-d1577abe-fe39-4023-9799-3da1b5d14407,DISK], DatanodeInfoWithStorage[127.0.0.1:45832,DS-90051346-26c3-47b7-8a6e-5152b3dbe0a5,DISK], DatanodeInfoWithStorage[127.0.0.1:44310,DS-d741a11e-8dbf-4bf4-9cbd-ebc2935db312,DISK], DatanodeInfoWithStorage[127.0.0.1:35670,DS-30f48499-be87-4bfa-9cf0-d301cbb8d458,DISK], DatanodeInfoWithStorage[127.0.0.1:36787,DS-d7c5c1ed-2199-4e4f-b87b-29cf88eee040,DISK], DatanodeInfoWithStorage[127.0.0.1:33271,DS-783792df-d2d4-4eca-92cf-1e7dccfaf084,DISK]]; indices=[0, 1, 2, 3, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-242611292-172.17.0.3-1593732670633:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43183,DS-d1577abe-fe39-4023-9799-3da1b5d14407,DISK], DatanodeInfoWithStorage[127.0.0.1:45832,DS-90051346-26c3-47b7-8a6e-5152b3dbe0a5,DISK], DatanodeInfoWithStorage[127.0.0.1:44310,DS-d741a11e-8dbf-4bf4-9cbd-ebc2935db312,DISK], DatanodeInfoWithStorage[127.0.0.1:35670,DS-30f48499-be87-4bfa-9cf0-d301cbb8d458,DISK], DatanodeInfoWithStorage[127.0.0.1:36787,DS-d7c5c1ed-2199-4e4f-b87b-29cf88eee040,DISK], DatanodeInfoWithStorage[127.0.0.1:33271,DS-783792df-d2d4-4eca-92cf-1e7dccfaf084,DISK]]; indices=[0, 1, 2, 3, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-242611292-172.17.0.3-1593732670633:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43183,DS-d1577abe-fe39-4023-9799-3da1b5d14407,DISK], DatanodeInfoWithStorage[127.0.0.1:45832,DS-90051346-26c3-47b7-8a6e-5152b3dbe0a5,DISK], DatanodeInfoWithStorage[127.0.0.1:44310,DS-d741a11e-8dbf-4bf4-9cbd-ebc2935db312,DISK], DatanodeInfoWithStorage[127.0.0.1:35670,DS-30f48499-be87-4bfa-9cf0-d301cbb8d458,DISK], DatanodeInfoWithStorage[127.0.0.1:36787,DS-d7c5c1ed-2199-4e4f-b87b-29cf88eee040,DISK], DatanodeInfoWithStorage[127.0.0.1:33271,DS-783792df-d2d4-4eca-92cf-1e7dccfaf084,DISK]]; indices=[0, 1, 2, 3, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-242611292-172.17.0.3-1593732670633:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43183,DS-d1577abe-fe39-4023-9799-3da1b5d14407,DISK], DatanodeInfoWithStorage[127.0.0.1:45832,DS-90051346-26c3-47b7-8a6e-5152b3dbe0a5,DISK], DatanodeInfoWithStorage[127.0.0.1:44310,DS-d741a11e-8dbf-4bf4-9cbd-ebc2935db312,DISK], DatanodeInfoWithStorage[127.0.0.1:35670,DS-30f48499-be87-4bfa-9cf0-d301cbb8d458,DISK], DatanodeInfoWithStorage[127.0.0.1:36787,DS-d7c5c1ed-2199-4e4f-b87b-29cf88eee040,DISK], DatanodeInfoWithStorage[127.0.0.1:33271,DS-783792df-d2d4-4eca-92cf-1e7dccfaf084,DISK]]; indices=[0, 1, 2, 3, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-787460147-172.17.0.3-1593733032477:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37098,DS-3fc1bfbd-1f50-4c3e-b5f8-e5621c18eb03,DISK], DatanodeInfoWithStorage[127.0.0.1:41549,DS-f599163f-5e53-40aa-b0ed-2d958be7f56f,DISK], DatanodeInfoWithStorage[127.0.0.1:39394,DS-40d87848-51d8-4d8a-abdd-b6f852d916ef,DISK], DatanodeInfoWithStorage[127.0.0.1:41356,DS-3dac597b-9605-4a90-9390-cd8985438234,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-84e57abb-2ff0-4088-8f9a-09e4273cae33,DISK], DatanodeInfoWithStorage[127.0.0.1:46116,DS-e533e27d-3b96-4ab3-9fe6-6f43755a8228,DISK]]; indices=[0, 2, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-787460147-172.17.0.3-1593733032477:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37098,DS-3fc1bfbd-1f50-4c3e-b5f8-e5621c18eb03,DISK], DatanodeInfoWithStorage[127.0.0.1:41549,DS-f599163f-5e53-40aa-b0ed-2d958be7f56f,DISK], DatanodeInfoWithStorage[127.0.0.1:39394,DS-40d87848-51d8-4d8a-abdd-b6f852d916ef,DISK], DatanodeInfoWithStorage[127.0.0.1:41356,DS-3dac597b-9605-4a90-9390-cd8985438234,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-84e57abb-2ff0-4088-8f9a-09e4273cae33,DISK], DatanodeInfoWithStorage[127.0.0.1:46116,DS-e533e27d-3b96-4ab3-9fe6-6f43755a8228,DISK]]; indices=[0, 2, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-787460147-172.17.0.3-1593733032477:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37098,DS-3fc1bfbd-1f50-4c3e-b5f8-e5621c18eb03,DISK], DatanodeInfoWithStorage[127.0.0.1:41549,DS-f599163f-5e53-40aa-b0ed-2d958be7f56f,DISK], DatanodeInfoWithStorage[127.0.0.1:39394,DS-40d87848-51d8-4d8a-abdd-b6f852d916ef,DISK], DatanodeInfoWithStorage[127.0.0.1:41356,DS-3dac597b-9605-4a90-9390-cd8985438234,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-84e57abb-2ff0-4088-8f9a-09e4273cae33,DISK], DatanodeInfoWithStorage[127.0.0.1:46116,DS-e533e27d-3b96-4ab3-9fe6-6f43755a8228,DISK]]; indices=[0, 2, 4, 5, 7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-787460147-172.17.0.3-1593733032477:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37098,DS-3fc1bfbd-1f50-4c3e-b5f8-e5621c18eb03,DISK], DatanodeInfoWithStorage[127.0.0.1:41549,DS-f599163f-5e53-40aa-b0ed-2d958be7f56f,DISK], DatanodeInfoWithStorage[127.0.0.1:39394,DS-40d87848-51d8-4d8a-abdd-b6f852d916ef,DISK], DatanodeInfoWithStorage[127.0.0.1:41356,DS-3dac597b-9605-4a90-9390-cd8985438234,DISK], DatanodeInfoWithStorage[127.0.0.1:34168,DS-84e57abb-2ff0-4088-8f9a-09e4273cae33,DISK], DatanodeInfoWithStorage[127.0.0.1:46116,DS-e533e27d-3b96-4ab3-9fe6-6f43755a8228,DISK]]; indices=[0, 2, 4, 5, 7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-632724844-172.17.0.3-1593733398419:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33252,DS-5ed109fd-d3a8-4c9c-891a-488d9c66d633,DISK], DatanodeInfoWithStorage[127.0.0.1:41735,DS-c8d6be2f-a599-4853-8a85-2abfb604624b,DISK], DatanodeInfoWithStorage[127.0.0.1:36120,DS-b81b8301-921c-4f0a-aef3-4bb4c384c4f8,DISK], DatanodeInfoWithStorage[127.0.0.1:42104,DS-e37e019a-ce12-46ae-95c7-414e42434ada,DISK], DatanodeInfoWithStorage[127.0.0.1:38467,DS-2f9bfd04-4fa7-4f90-932c-ffc8ac643400,DISK], DatanodeInfoWithStorage[127.0.0.1:43376,DS-822cda39-65af-4e6b-96d9-4398027d53e1,DISK]]; indices=[0, 1, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-632724844-172.17.0.3-1593733398419:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33252,DS-5ed109fd-d3a8-4c9c-891a-488d9c66d633,DISK], DatanodeInfoWithStorage[127.0.0.1:41735,DS-c8d6be2f-a599-4853-8a85-2abfb604624b,DISK], DatanodeInfoWithStorage[127.0.0.1:36120,DS-b81b8301-921c-4f0a-aef3-4bb4c384c4f8,DISK], DatanodeInfoWithStorage[127.0.0.1:42104,DS-e37e019a-ce12-46ae-95c7-414e42434ada,DISK], DatanodeInfoWithStorage[127.0.0.1:38467,DS-2f9bfd04-4fa7-4f90-932c-ffc8ac643400,DISK], DatanodeInfoWithStorage[127.0.0.1:43376,DS-822cda39-65af-4e6b-96d9-4398027d53e1,DISK]]; indices=[0, 1, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-632724844-172.17.0.3-1593733398419:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33252,DS-5ed109fd-d3a8-4c9c-891a-488d9c66d633,DISK], DatanodeInfoWithStorage[127.0.0.1:41735,DS-c8d6be2f-a599-4853-8a85-2abfb604624b,DISK], DatanodeInfoWithStorage[127.0.0.1:36120,DS-b81b8301-921c-4f0a-aef3-4bb4c384c4f8,DISK], DatanodeInfoWithStorage[127.0.0.1:42104,DS-e37e019a-ce12-46ae-95c7-414e42434ada,DISK], DatanodeInfoWithStorage[127.0.0.1:38467,DS-2f9bfd04-4fa7-4f90-932c-ffc8ac643400,DISK], DatanodeInfoWithStorage[127.0.0.1:43376,DS-822cda39-65af-4e6b-96d9-4398027d53e1,DISK]]; indices=[0, 1, 3, 4, 5, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-632724844-172.17.0.3-1593733398419:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33252,DS-5ed109fd-d3a8-4c9c-891a-488d9c66d633,DISK], DatanodeInfoWithStorage[127.0.0.1:41735,DS-c8d6be2f-a599-4853-8a85-2abfb604624b,DISK], DatanodeInfoWithStorage[127.0.0.1:36120,DS-b81b8301-921c-4f0a-aef3-4bb4c384c4f8,DISK], DatanodeInfoWithStorage[127.0.0.1:42104,DS-e37e019a-ce12-46ae-95c7-414e42434ada,DISK], DatanodeInfoWithStorage[127.0.0.1:38467,DS-2f9bfd04-4fa7-4f90-932c-ffc8ac643400,DISK], DatanodeInfoWithStorage[127.0.0.1:43376,DS-822cda39-65af-4e6b-96d9-4398027d53e1,DISK]]; indices=[0, 1, 3, 4, 5, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1864588667-172.17.0.3-1593733772553:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39366,DS-306d55f4-9b64-4b3a-bffa-8ce61cbfe901,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-54d66cfb-7ec7-4404-8660-abf988588d33,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-e317d790-bdb9-4a7f-a250-8ea1b32a5a84,DISK], DatanodeInfoWithStorage[127.0.0.1:44231,DS-001caf0f-6a7a-4315-b73f-30d444021290,DISK], DatanodeInfoWithStorage[127.0.0.1:36126,DS-6c31d397-3819-4b77-9b59-2f7107282bd2,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-d58ae565-863d-4149-87db-0e9a82210720,DISK], DatanodeInfoWithStorage[127.0.0.1:41885,DS-d0ccc2d9-873d-4bad-a928-fefdc52a464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33361,DS-e0a9bc84-515c-457e-a439-cc21f47f45fd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1864588667-172.17.0.3-1593733772553:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39366,DS-306d55f4-9b64-4b3a-bffa-8ce61cbfe901,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-54d66cfb-7ec7-4404-8660-abf988588d33,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-e317d790-bdb9-4a7f-a250-8ea1b32a5a84,DISK], DatanodeInfoWithStorage[127.0.0.1:44231,DS-001caf0f-6a7a-4315-b73f-30d444021290,DISK], DatanodeInfoWithStorage[127.0.0.1:36126,DS-6c31d397-3819-4b77-9b59-2f7107282bd2,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-d58ae565-863d-4149-87db-0e9a82210720,DISK], DatanodeInfoWithStorage[127.0.0.1:41885,DS-d0ccc2d9-873d-4bad-a928-fefdc52a464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33361,DS-e0a9bc84-515c-457e-a439-cc21f47f45fd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1864588667-172.17.0.3-1593733772553:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39366,DS-306d55f4-9b64-4b3a-bffa-8ce61cbfe901,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-54d66cfb-7ec7-4404-8660-abf988588d33,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-e317d790-bdb9-4a7f-a250-8ea1b32a5a84,DISK], DatanodeInfoWithStorage[127.0.0.1:44231,DS-001caf0f-6a7a-4315-b73f-30d444021290,DISK], DatanodeInfoWithStorage[127.0.0.1:36126,DS-6c31d397-3819-4b77-9b59-2f7107282bd2,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-d58ae565-863d-4149-87db-0e9a82210720,DISK], DatanodeInfoWithStorage[127.0.0.1:41885,DS-d0ccc2d9-873d-4bad-a928-fefdc52a464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33361,DS-e0a9bc84-515c-457e-a439-cc21f47f45fd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1864588667-172.17.0.3-1593733772553:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39366,DS-306d55f4-9b64-4b3a-bffa-8ce61cbfe901,DISK], DatanodeInfoWithStorage[127.0.0.1:33154,DS-54d66cfb-7ec7-4404-8660-abf988588d33,DISK], DatanodeInfoWithStorage[127.0.0.1:38359,DS-e317d790-bdb9-4a7f-a250-8ea1b32a5a84,DISK], DatanodeInfoWithStorage[127.0.0.1:44231,DS-001caf0f-6a7a-4315-b73f-30d444021290,DISK], DatanodeInfoWithStorage[127.0.0.1:36126,DS-6c31d397-3819-4b77-9b59-2f7107282bd2,DISK], DatanodeInfoWithStorage[127.0.0.1:44941,DS-d58ae565-863d-4149-87db-0e9a82210720,DISK], DatanodeInfoWithStorage[127.0.0.1:41885,DS-d0ccc2d9-873d-4bad-a928-fefdc52a464d,DISK], DatanodeInfoWithStorage[127.0.0.1:33361,DS-e0a9bc84-515c-457e-a439-cc21f47f45fd,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1765355390-172.17.0.3-1593734162409:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40939,DS-ee079429-cf18-40e5-9693-2e7fc6d82871,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-6ea31639-ef9c-48a5-a9fa-d988d890f4ad,DISK], DatanodeInfoWithStorage[127.0.0.1:34981,DS-99be3b2b-6827-4a12-82f4-d4dd58679dc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40165,DS-21dbad5f-da6b-483b-8702-d354145be73f,DISK], DatanodeInfoWithStorage[127.0.0.1:44906,DS-59476056-24bb-4125-91d8-54af080ba1ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35690,DS-6682a7e0-9262-4207-94fc-17c2dea58660,DISK], DatanodeInfoWithStorage[127.0.0.1:34777,DS-931f2fa3-5ba4-45b3-adb5-d2d9749a3c2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36287,DS-7ad54beb-82ce-4c4f-8841-20c0d7e14392,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1765355390-172.17.0.3-1593734162409:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40939,DS-ee079429-cf18-40e5-9693-2e7fc6d82871,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-6ea31639-ef9c-48a5-a9fa-d988d890f4ad,DISK], DatanodeInfoWithStorage[127.0.0.1:34981,DS-99be3b2b-6827-4a12-82f4-d4dd58679dc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40165,DS-21dbad5f-da6b-483b-8702-d354145be73f,DISK], DatanodeInfoWithStorage[127.0.0.1:44906,DS-59476056-24bb-4125-91d8-54af080ba1ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35690,DS-6682a7e0-9262-4207-94fc-17c2dea58660,DISK], DatanodeInfoWithStorage[127.0.0.1:34777,DS-931f2fa3-5ba4-45b3-adb5-d2d9749a3c2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36287,DS-7ad54beb-82ce-4c4f-8841-20c0d7e14392,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=5, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1765355390-172.17.0.3-1593734162409:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40939,DS-ee079429-cf18-40e5-9693-2e7fc6d82871,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-6ea31639-ef9c-48a5-a9fa-d988d890f4ad,DISK], DatanodeInfoWithStorage[127.0.0.1:34981,DS-99be3b2b-6827-4a12-82f4-d4dd58679dc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40165,DS-21dbad5f-da6b-483b-8702-d354145be73f,DISK], DatanodeInfoWithStorage[127.0.0.1:44906,DS-59476056-24bb-4125-91d8-54af080ba1ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35690,DS-6682a7e0-9262-4207-94fc-17c2dea58660,DISK], DatanodeInfoWithStorage[127.0.0.1:34777,DS-931f2fa3-5ba4-45b3-adb5-d2d9749a3c2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36287,DS-7ad54beb-82ce-4c4f-8841-20c0d7e14392,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1765355390-172.17.0.3-1593734162409:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40939,DS-ee079429-cf18-40e5-9693-2e7fc6d82871,DISK], DatanodeInfoWithStorage[127.0.0.1:33554,DS-6ea31639-ef9c-48a5-a9fa-d988d890f4ad,DISK], DatanodeInfoWithStorage[127.0.0.1:34981,DS-99be3b2b-6827-4a12-82f4-d4dd58679dc5,DISK], DatanodeInfoWithStorage[127.0.0.1:40165,DS-21dbad5f-da6b-483b-8702-d354145be73f,DISK], DatanodeInfoWithStorage[127.0.0.1:44906,DS-59476056-24bb-4125-91d8-54af080ba1ac,DISK], DatanodeInfoWithStorage[127.0.0.1:35690,DS-6682a7e0-9262-4207-94fc-17c2dea58660,DISK], DatanodeInfoWithStorage[127.0.0.1:34777,DS-931f2fa3-5ba4-45b3-adb5-d2d9749a3c2b,DISK], DatanodeInfoWithStorage[127.0.0.1:36287,DS-7ad54beb-82ce-4c4f-8841-20c0d7e14392,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[4]
reconfPoint: -2
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-540776005-172.17.0.3-1593734331341:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35394,DS-5dd05970-f6b0-4b35-8907-4fb2b60fef65,DISK], DatanodeInfoWithStorage[127.0.0.1:40951,DS-d56e5338-9888-48db-a3f6-62da4cbb4843,DISK], DatanodeInfoWithStorage[127.0.0.1:36999,DS-f23e73c7-b337-4d6e-946a-66407e725c5e,DISK], DatanodeInfoWithStorage[127.0.0.1:39390,DS-eb17c628-479f-4712-af94-5d9c5157b287,DISK], DatanodeInfoWithStorage[127.0.0.1:46575,DS-6db25871-6d50-4cd9-885d-18e4be6fd6b3,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-7783a8ce-525d-4ff4-a1a7-a69822d4072e,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-2c05eb87-98fc-41a4-a5e4-6536b8b2251b,DISK], DatanodeInfoWithStorage[127.0.0.1:40825,DS-727081c5-98ef-408a-bd1e-3fb496b8dd2c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-540776005-172.17.0.3-1593734331341:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35394,DS-5dd05970-f6b0-4b35-8907-4fb2b60fef65,DISK], DatanodeInfoWithStorage[127.0.0.1:40951,DS-d56e5338-9888-48db-a3f6-62da4cbb4843,DISK], DatanodeInfoWithStorage[127.0.0.1:36999,DS-f23e73c7-b337-4d6e-946a-66407e725c5e,DISK], DatanodeInfoWithStorage[127.0.0.1:39390,DS-eb17c628-479f-4712-af94-5d9c5157b287,DISK], DatanodeInfoWithStorage[127.0.0.1:46575,DS-6db25871-6d50-4cd9-885d-18e4be6fd6b3,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-7783a8ce-525d-4ff4-a1a7-a69822d4072e,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-2c05eb87-98fc-41a4-a5e4-6536b8b2251b,DISK], DatanodeInfoWithStorage[127.0.0.1:40825,DS-727081c5-98ef-408a-bd1e-3fb496b8dd2c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=4194181, fetchedChunksNum=4, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165701;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-540776005-172.17.0.3-1593734331341:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35394,DS-5dd05970-f6b0-4b35-8907-4fb2b60fef65,DISK], DatanodeInfoWithStorage[127.0.0.1:40951,DS-d56e5338-9888-48db-a3f6-62da4cbb4843,DISK], DatanodeInfoWithStorage[127.0.0.1:36999,DS-f23e73c7-b337-4d6e-946a-66407e725c5e,DISK], DatanodeInfoWithStorage[127.0.0.1:39390,DS-eb17c628-479f-4712-af94-5d9c5157b287,DISK], DatanodeInfoWithStorage[127.0.0.1:46575,DS-6db25871-6d50-4cd9-885d-18e4be6fd6b3,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-7783a8ce-525d-4ff4-a1a7-a69822d4072e,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-2c05eb87-98fc-41a4-a5e4-6536b8b2251b,DISK], DatanodeInfoWithStorage[127.0.0.1:40825,DS-727081c5-98ef-408a-bd1e-3fb496b8dd2c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-540776005-172.17.0.3-1593734331341:blk_-9223372036854775792_1001; getBlockSize()=25165701; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:35394,DS-5dd05970-f6b0-4b35-8907-4fb2b60fef65,DISK], DatanodeInfoWithStorage[127.0.0.1:40951,DS-d56e5338-9888-48db-a3f6-62da4cbb4843,DISK], DatanodeInfoWithStorage[127.0.0.1:36999,DS-f23e73c7-b337-4d6e-946a-66407e725c5e,DISK], DatanodeInfoWithStorage[127.0.0.1:39390,DS-eb17c628-479f-4712-af94-5d9c5157b287,DISK], DatanodeInfoWithStorage[127.0.0.1:46575,DS-6db25871-6d50-4cd9-885d-18e4be6fd6b3,DISK], DatanodeInfoWithStorage[127.0.0.1:43065,DS-7783a8ce-525d-4ff4-a1a7-a69822d4072e,DISK], DatanodeInfoWithStorage[127.0.0.1:35283,DS-2c05eb87-98fc-41a4-a5e4-6536b8b2251b,DISK], DatanodeInfoWithStorage[127.0.0.1:40825,DS-727081c5-98ef-408a-bd1e-3fb496b8dd2c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 13 out of 50
v1v1v2v2 failed with probability 6 out of 50
result: might be true error
Total execution time in seconds : 9819
