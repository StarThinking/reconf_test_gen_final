reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1903569234-172.17.0.11-1593668380387:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43540,DS-6d15df68-95da-4808-9aa7-0aec91f512bb,DISK], DatanodeInfoWithStorage[127.0.0.1:42766,DS-9b9afdcc-2997-444a-8dd2-b41ac5713bc8,DISK], DatanodeInfoWithStorage[127.0.0.1:45251,DS-97248525-4179-4e65-bdba-905e9277b156,DISK], DatanodeInfoWithStorage[127.0.0.1:39730,DS-d5449a95-ef63-41c8-8fee-aefb55b2f3fb,DISK], DatanodeInfoWithStorage[127.0.0.1:46507,DS-85df638c-afdc-452f-9936-9b1fb1a87ff7,DISK], DatanodeInfoWithStorage[127.0.0.1:34836,DS-6532bd08-5e9e-4653-a894-44df1c1cb333,DISK], DatanodeInfoWithStorage[127.0.0.1:38407,DS-2d1f8f9d-f064-4fec-9090-4bb9dc1dd706,DISK], DatanodeInfoWithStorage[127.0.0.1:43864,DS-091a6243-a2b6-4ea8-8dde-c33786100ae7,DISK], DatanodeInfoWithStorage[127.0.0.1:35059,DS-c967577d-7ee3-4805-b9b9-5cc42c63014d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1903569234-172.17.0.11-1593668380387:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38407,DS-38f289de-b86f-46c2-ba53-49b487e64083,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1903569234-172.17.0.11-1593668380387:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38407,DS-38f289de-b86f-46c2-ba53-49b487e64083,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1903569234-172.17.0.11-1593668380387:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:43540,DS-6d15df68-95da-4808-9aa7-0aec91f512bb,DISK], DatanodeInfoWithStorage[127.0.0.1:42766,DS-9b9afdcc-2997-444a-8dd2-b41ac5713bc8,DISK], DatanodeInfoWithStorage[127.0.0.1:45251,DS-97248525-4179-4e65-bdba-905e9277b156,DISK], DatanodeInfoWithStorage[127.0.0.1:39730,DS-d5449a95-ef63-41c8-8fee-aefb55b2f3fb,DISK], DatanodeInfoWithStorage[127.0.0.1:46507,DS-85df638c-afdc-452f-9936-9b1fb1a87ff7,DISK], DatanodeInfoWithStorage[127.0.0.1:34836,DS-6532bd08-5e9e-4653-a894-44df1c1cb333,DISK], DatanodeInfoWithStorage[127.0.0.1:38407,DS-2d1f8f9d-f064-4fec-9090-4bb9dc1dd706,DISK], DatanodeInfoWithStorage[127.0.0.1:43864,DS-091a6243-a2b6-4ea8-8dde-c33786100ae7,DISK], DatanodeInfoWithStorage[127.0.0.1:35059,DS-c967577d-7ee3-4805-b9b9-5cc42c63014d,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1903569234-172.17.0.11-1593668380387:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38407,DS-38f289de-b86f-46c2-ba53-49b487e64083,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1903569234-172.17.0.11-1593668380387:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:38407,DS-38f289de-b86f-46c2-ba53-49b487e64083,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-317020341-172.17.0.11-1593668762247:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37450,DS-e8e86534-a946-44c2-a47f-0f8b7e8a8dd6,DISK], DatanodeInfoWithStorage[127.0.0.1:34167,DS-986337f5-3acc-48a8-a508-101bef4394a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42365,DS-1403196c-1d3c-4644-880e-35cdf80d047e,DISK], DatanodeInfoWithStorage[127.0.0.1:37002,DS-06af6b22-f8d7-479b-a486-7bbc2f0b1a5d,DISK], DatanodeInfoWithStorage[127.0.0.1:41229,DS-45e157fe-117d-4b5b-88b7-bb199cd70343,DISK], DatanodeInfoWithStorage[127.0.0.1:34124,DS-b4eebd45-d535-41a0-9eb6-8502ee44b35c,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-73d25ed6-126c-49a6-80cf-1b172e0fa173,DISK], DatanodeInfoWithStorage[127.0.0.1:39403,DS-192f18f8-21b7-4bb4-a69b-51c20de6b6a0,DISK], DatanodeInfoWithStorage[127.0.0.1:37878,DS-9f9f75a4-e575-440a-b6ca-c90db8ecd10f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-317020341-172.17.0.11-1593668762247:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41229,DS-47820c78-2dfc-49f7-a451-83982de296f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-587b46ab-7417-44c6-b5f3-159d0f22252e,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-317020341-172.17.0.11-1593668762247:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41229,DS-47820c78-2dfc-49f7-a451-83982de296f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-587b46ab-7417-44c6-b5f3-159d0f22252e,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-317020341-172.17.0.11-1593668762247:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37450,DS-e8e86534-a946-44c2-a47f-0f8b7e8a8dd6,DISK], DatanodeInfoWithStorage[127.0.0.1:34167,DS-986337f5-3acc-48a8-a508-101bef4394a5,DISK], DatanodeInfoWithStorage[127.0.0.1:42365,DS-1403196c-1d3c-4644-880e-35cdf80d047e,DISK], DatanodeInfoWithStorage[127.0.0.1:37002,DS-06af6b22-f8d7-479b-a486-7bbc2f0b1a5d,DISK], DatanodeInfoWithStorage[127.0.0.1:41229,DS-45e157fe-117d-4b5b-88b7-bb199cd70343,DISK], DatanodeInfoWithStorage[127.0.0.1:34124,DS-b4eebd45-d535-41a0-9eb6-8502ee44b35c,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-73d25ed6-126c-49a6-80cf-1b172e0fa173,DISK], DatanodeInfoWithStorage[127.0.0.1:39403,DS-192f18f8-21b7-4bb4-a69b-51c20de6b6a0,DISK], DatanodeInfoWithStorage[127.0.0.1:37878,DS-9f9f75a4-e575-440a-b6ca-c90db8ecd10f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-317020341-172.17.0.11-1593668762247:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41229,DS-47820c78-2dfc-49f7-a451-83982de296f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-587b46ab-7417-44c6-b5f3-159d0f22252e,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-317020341-172.17.0.11-1593668762247:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41229,DS-47820c78-2dfc-49f7-a451-83982de296f3,DISK], DatanodeInfoWithStorage[127.0.0.1:37987,DS-587b46ab-7417-44c6-b5f3-159d0f22252e,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1586797952-172.17.0.11-1593669056445:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41284,DS-46cadc5d-e559-483c-ab08-c4df8ec84353,DISK], DatanodeInfoWithStorage[127.0.0.1:43821,DS-2361a03f-e0c6-41f0-b014-2e820fc814f4,DISK], DatanodeInfoWithStorage[127.0.0.1:40500,DS-a6d7bc15-c440-49df-9c6d-235906ed324b,DISK], DatanodeInfoWithStorage[127.0.0.1:33416,DS-da3a48d4-b434-4c0a-9a51-e2b7fcf7bc1e,DISK], DatanodeInfoWithStorage[127.0.0.1:45757,DS-e8cd62ab-7af6-40b0-a7e2-31f1e586ed96,DISK], DatanodeInfoWithStorage[127.0.0.1:46866,DS-d064cd3d-8c56-4b58-b24a-4288808448f8,DISK], DatanodeInfoWithStorage[127.0.0.1:46586,DS-c52cb7d7-1f7f-44f3-a04e-dea356651119,DISK], DatanodeInfoWithStorage[127.0.0.1:46599,DS-4f5ad74e-0194-40cf-85d1-7cde6e91e95e,DISK], DatanodeInfoWithStorage[127.0.0.1:35645,DS-806dd3ac-4210-4f13-bdc3-d74848c24cf3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1586797952-172.17.0.11-1593669056445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41284,DS-3c93f2c8-bc8a-42c0-a26a-43c74d4a6dd1,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1586797952-172.17.0.11-1593669056445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41284,DS-3c93f2c8-bc8a-42c0-a26a-43c74d4a6dd1,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1586797952-172.17.0.11-1593669056445:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41284,DS-46cadc5d-e559-483c-ab08-c4df8ec84353,DISK], DatanodeInfoWithStorage[127.0.0.1:43821,DS-2361a03f-e0c6-41f0-b014-2e820fc814f4,DISK], DatanodeInfoWithStorage[127.0.0.1:40500,DS-a6d7bc15-c440-49df-9c6d-235906ed324b,DISK], DatanodeInfoWithStorage[127.0.0.1:33416,DS-da3a48d4-b434-4c0a-9a51-e2b7fcf7bc1e,DISK], DatanodeInfoWithStorage[127.0.0.1:45757,DS-e8cd62ab-7af6-40b0-a7e2-31f1e586ed96,DISK], DatanodeInfoWithStorage[127.0.0.1:46866,DS-d064cd3d-8c56-4b58-b24a-4288808448f8,DISK], DatanodeInfoWithStorage[127.0.0.1:46586,DS-c52cb7d7-1f7f-44f3-a04e-dea356651119,DISK], DatanodeInfoWithStorage[127.0.0.1:46599,DS-4f5ad74e-0194-40cf-85d1-7cde6e91e95e,DISK], DatanodeInfoWithStorage[127.0.0.1:35645,DS-806dd3ac-4210-4f13-bdc3-d74848c24cf3,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1586797952-172.17.0.11-1593669056445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41284,DS-3c93f2c8-bc8a-42c0-a26a-43c74d4a6dd1,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1586797952-172.17.0.11-1593669056445:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41284,DS-3c93f2c8-bc8a-42c0-a26a-43c74d4a6dd1,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-846669062-172.17.0.11-1593670766211:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39752,DS-7c9ddddd-64cc-4415-9cd8-ca21fb16f705,DISK], DatanodeInfoWithStorage[127.0.0.1:41243,DS-df1c95c2-65d4-4fad-93f9-971c762d3e39,DISK], DatanodeInfoWithStorage[127.0.0.1:42299,DS-090c2a91-b73d-45f2-a686-beeaaea243c0,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-c10fd1b0-2cfe-44b9-850a-c18693787aab,DISK], DatanodeInfoWithStorage[127.0.0.1:42722,DS-e80cbef0-3a19-478d-ab2b-4eb8c74bd5c2,DISK], DatanodeInfoWithStorage[127.0.0.1:43759,DS-138bce1d-576b-4eec-b609-6caaf0ade7ae,DISK], DatanodeInfoWithStorage[127.0.0.1:37404,DS-d7eb21c1-049f-477e-8fb0-d49b6b9559d1,DISK], DatanodeInfoWithStorage[127.0.0.1:41059,DS-e5cd0af9-8ccb-4b34-a3c1-d0d6025afa8d,DISK], DatanodeInfoWithStorage[127.0.0.1:44813,DS-828921df-65ad-457c-a297-d0c06017c532,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-846669062-172.17.0.11-1593670766211:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41059,DS-347a2ff6-8422-41f5-b9b2-99278eca90a6,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-846669062-172.17.0.11-1593670766211:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41059,DS-347a2ff6-8422-41f5-b9b2-99278eca90a6,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-846669062-172.17.0.11-1593670766211:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:39752,DS-7c9ddddd-64cc-4415-9cd8-ca21fb16f705,DISK], DatanodeInfoWithStorage[127.0.0.1:41243,DS-df1c95c2-65d4-4fad-93f9-971c762d3e39,DISK], DatanodeInfoWithStorage[127.0.0.1:42299,DS-090c2a91-b73d-45f2-a686-beeaaea243c0,DISK], DatanodeInfoWithStorage[127.0.0.1:42680,DS-c10fd1b0-2cfe-44b9-850a-c18693787aab,DISK], DatanodeInfoWithStorage[127.0.0.1:42722,DS-e80cbef0-3a19-478d-ab2b-4eb8c74bd5c2,DISK], DatanodeInfoWithStorage[127.0.0.1:43759,DS-138bce1d-576b-4eec-b609-6caaf0ade7ae,DISK], DatanodeInfoWithStorage[127.0.0.1:37404,DS-d7eb21c1-049f-477e-8fb0-d49b6b9559d1,DISK], DatanodeInfoWithStorage[127.0.0.1:41059,DS-e5cd0af9-8ccb-4b34-a3c1-d0d6025afa8d,DISK], DatanodeInfoWithStorage[127.0.0.1:44813,DS-828921df-65ad-457c-a297-d0c06017c532,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-846669062-172.17.0.11-1593670766211:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41059,DS-347a2ff6-8422-41f5-b9b2-99278eca90a6,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-846669062-172.17.0.11-1593670766211:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41059,DS-347a2ff6-8422-41f5-b9b2-99278eca90a6,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1063632649-172.17.0.11-1593671142899:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41977,DS-4bb99ca8-0393-441d-b6a3-9e7a623a0fe9,DISK], DatanodeInfoWithStorage[127.0.0.1:35359,DS-f6a96508-275f-4322-897a-c410001e8544,DISK], DatanodeInfoWithStorage[127.0.0.1:33646,DS-4259d86e-a0cb-4ab7-bc37-a52f846b53eb,DISK], DatanodeInfoWithStorage[127.0.0.1:37684,DS-9d21d430-e518-4ac6-b320-c78922653a91,DISK], DatanodeInfoWithStorage[127.0.0.1:42922,DS-9cc95e46-fcba-4ba6-b67e-700aa98c2f2d,DISK], DatanodeInfoWithStorage[127.0.0.1:33413,DS-800adf1f-9c20-4bca-9a59-85ba132eabf8,DISK]]; indices=[0, 2, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1063632649-172.17.0.11-1593671142899:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42922,DS-7f86012f-467b-4afa-9bc8-a14c76172b0f,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1063632649-172.17.0.11-1593671142899:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42922,DS-7f86012f-467b-4afa-9bc8-a14c76172b0f,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1063632649-172.17.0.11-1593671142899:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41977,DS-4bb99ca8-0393-441d-b6a3-9e7a623a0fe9,DISK], DatanodeInfoWithStorage[127.0.0.1:35359,DS-f6a96508-275f-4322-897a-c410001e8544,DISK], DatanodeInfoWithStorage[127.0.0.1:33646,DS-4259d86e-a0cb-4ab7-bc37-a52f846b53eb,DISK], DatanodeInfoWithStorage[127.0.0.1:37684,DS-9d21d430-e518-4ac6-b320-c78922653a91,DISK], DatanodeInfoWithStorage[127.0.0.1:42922,DS-9cc95e46-fcba-4ba6-b67e-700aa98c2f2d,DISK], DatanodeInfoWithStorage[127.0.0.1:33413,DS-800adf1f-9c20-4bca-9a59-85ba132eabf8,DISK]]; indices=[0, 2, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1063632649-172.17.0.11-1593671142899:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42922,DS-7f86012f-467b-4afa-9bc8-a14c76172b0f,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-1063632649-172.17.0.11-1593671142899:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42922,DS-7f86012f-467b-4afa-9bc8-a14c76172b0f,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1951837804-172.17.0.11-1593671740562:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36858,DS-7de237d9-fd92-4874-9f50-95119001d11a,DISK], DatanodeInfoWithStorage[127.0.0.1:39937,DS-cfeffa4e-6ffc-429d-9827-a3ef5d8298df,DISK], DatanodeInfoWithStorage[127.0.0.1:43226,DS-7724ba4c-8b96-45e2-a56a-860084dbd667,DISK], DatanodeInfoWithStorage[127.0.0.1:41540,DS-fbb4cc1d-9508-4c3b-b779-6db4a130cdc6,DISK], DatanodeInfoWithStorage[127.0.0.1:40029,DS-f1c58694-a42c-43f8-8836-c058e1cfb7a9,DISK], DatanodeInfoWithStorage[127.0.0.1:43500,DS-fcee78ff-1a31-4ac9-8543-1e607633a45e,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-bfefc442-3ce5-4207-84ee-c6b8e188bcf3,DISK], DatanodeInfoWithStorage[127.0.0.1:39996,DS-142bdc28-8d59-45e8-b890-a61946c1cfc0,DISK], DatanodeInfoWithStorage[127.0.0.1:42351,DS-16a511d5-f86f-415f-8e13-ff4de97f0169,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1951837804-172.17.0.11-1593671740562:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42351,DS-d4888034-ded3-431e-94bd-4c669a8ef575,DISK], DatanodeInfoWithStorage[127.0.0.1:39937,DS-2209b633-03d1-4ef2-9525-4335c58a7427,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1951837804-172.17.0.11-1593671740562:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42351,DS-d4888034-ded3-431e-94bd-4c669a8ef575,DISK], DatanodeInfoWithStorage[127.0.0.1:39937,DS-2209b633-03d1-4ef2-9525-4335c58a7427,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1951837804-172.17.0.11-1593671740562:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:36858,DS-7de237d9-fd92-4874-9f50-95119001d11a,DISK], DatanodeInfoWithStorage[127.0.0.1:39937,DS-cfeffa4e-6ffc-429d-9827-a3ef5d8298df,DISK], DatanodeInfoWithStorage[127.0.0.1:43226,DS-7724ba4c-8b96-45e2-a56a-860084dbd667,DISK], DatanodeInfoWithStorage[127.0.0.1:41540,DS-fbb4cc1d-9508-4c3b-b779-6db4a130cdc6,DISK], DatanodeInfoWithStorage[127.0.0.1:40029,DS-f1c58694-a42c-43f8-8836-c058e1cfb7a9,DISK], DatanodeInfoWithStorage[127.0.0.1:43500,DS-fcee78ff-1a31-4ac9-8543-1e607633a45e,DISK], DatanodeInfoWithStorage[127.0.0.1:41857,DS-bfefc442-3ce5-4207-84ee-c6b8e188bcf3,DISK], DatanodeInfoWithStorage[127.0.0.1:39996,DS-142bdc28-8d59-45e8-b890-a61946c1cfc0,DISK], DatanodeInfoWithStorage[127.0.0.1:42351,DS-16a511d5-f86f-415f-8e13-ff4de97f0169,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1951837804-172.17.0.11-1593671740562:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42351,DS-d4888034-ded3-431e-94bd-4c669a8ef575,DISK], DatanodeInfoWithStorage[127.0.0.1:39937,DS-2209b633-03d1-4ef2-9525-4335c58a7427,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1951837804-172.17.0.11-1593671740562:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42351,DS-d4888034-ded3-431e-94bd-4c669a8ef575,DISK], DatanodeInfoWithStorage[127.0.0.1:39937,DS-2209b633-03d1-4ef2-9525-4335c58a7427,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1007375607-172.17.0.11-1593673303549:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40534,DS-41afa23c-fb87-4a2b-a6fa-216946ce4ce0,DISK], DatanodeInfoWithStorage[127.0.0.1:43610,DS-64db4b43-f866-4c92-8aed-47363dc1172e,DISK], DatanodeInfoWithStorage[127.0.0.1:34501,DS-05462078-e727-48da-ae0a-7c901daacb2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45360,DS-d282ba90-2c77-48fc-9366-398816807b0f,DISK], DatanodeInfoWithStorage[127.0.0.1:36942,DS-0127ffbb-9ff6-4f90-8e0d-bfaaf57ca7cd,DISK], DatanodeInfoWithStorage[127.0.0.1:44517,DS-ea57065a-0506-4cea-bf48-0f765480fb8b,DISK], DatanodeInfoWithStorage[127.0.0.1:40009,DS-0cf42681-e0f3-4a89-91af-284db22fe8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33797,DS-cdec6325-88c1-4780-8e2b-4f3996dd511f,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1007375607-172.17.0.11-1593673303549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34501,DS-0c7184ff-17c1-4aba-ab6e-8fccb44802eb,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1007375607-172.17.0.11-1593673303549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34501,DS-0c7184ff-17c1-4aba-ab6e-8fccb44802eb,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1007375607-172.17.0.11-1593673303549:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:40534,DS-41afa23c-fb87-4a2b-a6fa-216946ce4ce0,DISK], DatanodeInfoWithStorage[127.0.0.1:43610,DS-64db4b43-f866-4c92-8aed-47363dc1172e,DISK], DatanodeInfoWithStorage[127.0.0.1:34501,DS-05462078-e727-48da-ae0a-7c901daacb2d,DISK], DatanodeInfoWithStorage[127.0.0.1:45360,DS-d282ba90-2c77-48fc-9366-398816807b0f,DISK], DatanodeInfoWithStorage[127.0.0.1:36942,DS-0127ffbb-9ff6-4f90-8e0d-bfaaf57ca7cd,DISK], DatanodeInfoWithStorage[127.0.0.1:44517,DS-ea57065a-0506-4cea-bf48-0f765480fb8b,DISK], DatanodeInfoWithStorage[127.0.0.1:40009,DS-0cf42681-e0f3-4a89-91af-284db22fe8a4,DISK], DatanodeInfoWithStorage[127.0.0.1:33797,DS-cdec6325-88c1-4780-8e2b-4f3996dd511f,DISK]]; indices=[0, 1, 2, 3, 4, 6, 7, 8]}, LocatedStripedBlock{BP-1007375607-172.17.0.11-1593673303549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34501,DS-0c7184ff-17c1-4aba-ab6e-8fccb44802eb,DISK]]; indices=[6]}];  lastLocatedBlock=LocatedStripedBlock{BP-1007375607-172.17.0.11-1593673303549:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:34501,DS-0c7184ff-17c1-4aba-ab6e-8fccb44802eb,DISK]]; indices=[6]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-620800906-172.17.0.11-1593673954265:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37146,DS-3a68fe2e-b172-438c-a17b-1ad5e9af05b5,DISK], DatanodeInfoWithStorage[127.0.0.1:35777,DS-c75077f5-f52c-4d7e-8c4b-1d659fda1aee,DISK], DatanodeInfoWithStorage[127.0.0.1:45922,DS-410438cf-23f2-4946-baa3-2b9e6727f0b3,DISK], DatanodeInfoWithStorage[127.0.0.1:37189,DS-1d16439f-fdbf-4cb5-aa39-29685275c790,DISK], DatanodeInfoWithStorage[127.0.0.1:44261,DS-b4952bcc-eb01-4f9f-b6da-24333994c935,DISK], DatanodeInfoWithStorage[127.0.0.1:44914,DS-938eb0f2-2b41-440c-a74b-e25ebc41bffc,DISK], DatanodeInfoWithStorage[127.0.0.1:32921,DS-f480f2aa-42db-4363-934e-372a027be434,DISK], DatanodeInfoWithStorage[127.0.0.1:42560,DS-dd101a98-99b5-47a1-8216-44e724206dd3,DISK], DatanodeInfoWithStorage[127.0.0.1:45850,DS-4d5196c7-19ef-4213-ae36-1ee63f447220,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-620800906-172.17.0.11-1593673954265:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44261,DS-67b93ed5-0728-4b45-a3f8-e3bf2271aa8a,DISK], DatanodeInfoWithStorage[127.0.0.1:45922,DS-e38f9538-f105-4820-854c-0fa8898f0ddb,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-620800906-172.17.0.11-1593673954265:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44261,DS-67b93ed5-0728-4b45-a3f8-e3bf2271aa8a,DISK], DatanodeInfoWithStorage[127.0.0.1:45922,DS-e38f9538-f105-4820-854c-0fa8898f0ddb,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-620800906-172.17.0.11-1593673954265:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:37146,DS-3a68fe2e-b172-438c-a17b-1ad5e9af05b5,DISK], DatanodeInfoWithStorage[127.0.0.1:35777,DS-c75077f5-f52c-4d7e-8c4b-1d659fda1aee,DISK], DatanodeInfoWithStorage[127.0.0.1:45922,DS-410438cf-23f2-4946-baa3-2b9e6727f0b3,DISK], DatanodeInfoWithStorage[127.0.0.1:37189,DS-1d16439f-fdbf-4cb5-aa39-29685275c790,DISK], DatanodeInfoWithStorage[127.0.0.1:44261,DS-b4952bcc-eb01-4f9f-b6da-24333994c935,DISK], DatanodeInfoWithStorage[127.0.0.1:44914,DS-938eb0f2-2b41-440c-a74b-e25ebc41bffc,DISK], DatanodeInfoWithStorage[127.0.0.1:32921,DS-f480f2aa-42db-4363-934e-372a027be434,DISK], DatanodeInfoWithStorage[127.0.0.1:42560,DS-dd101a98-99b5-47a1-8216-44e724206dd3,DISK], DatanodeInfoWithStorage[127.0.0.1:45850,DS-4d5196c7-19ef-4213-ae36-1ee63f447220,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-620800906-172.17.0.11-1593673954265:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44261,DS-67b93ed5-0728-4b45-a3f8-e3bf2271aa8a,DISK], DatanodeInfoWithStorage[127.0.0.1:45922,DS-e38f9538-f105-4820-854c-0fa8898f0ddb,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-620800906-172.17.0.11-1593673954265:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:44261,DS-67b93ed5-0728-4b45-a3f8-e3bf2271aa8a,DISK], DatanodeInfoWithStorage[127.0.0.1:45922,DS-e38f9538-f105-4820-854c-0fa8898f0ddb,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-20176858-172.17.0.11-1593674535935:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44348,DS-0fbbf1a0-ff43-427d-9823-bc05db431f22,DISK], DatanodeInfoWithStorage[127.0.0.1:45780,DS-01bc83d4-8631-47b3-a992-fd54f46b8ecf,DISK], DatanodeInfoWithStorage[127.0.0.1:43600,DS-8da26019-aef7-46ea-9879-5c4ab89c9f86,DISK], DatanodeInfoWithStorage[127.0.0.1:33477,DS-d0b10900-2f03-45d1-9078-e0dbd2fe0fc1,DISK], DatanodeInfoWithStorage[127.0.0.1:41952,DS-9e1b48d3-3768-42b6-ad5d-88b5ab256eb6,DISK], DatanodeInfoWithStorage[127.0.0.1:45373,DS-da9d5171-ad78-45a8-b8b4-f880899478a8,DISK], DatanodeInfoWithStorage[127.0.0.1:45631,DS-5e933a1d-fa64-4840-bc0b-2334b8ba77aa,DISK], DatanodeInfoWithStorage[127.0.0.1:41508,DS-88042ddf-aafb-44fd-8879-10de640cbe9e,DISK], DatanodeInfoWithStorage[127.0.0.1:35378,DS-2aae60cb-2948-44c5-b96d-e1494e0303e0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-20176858-172.17.0.11-1593674535935:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33477,DS-a11b57ac-7b1f-445c-9e9e-dfd9b2af8a0d,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-20176858-172.17.0.11-1593674535935:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33477,DS-a11b57ac-7b1f-445c-9e9e-dfd9b2af8a0d,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-20176858-172.17.0.11-1593674535935:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:44348,DS-0fbbf1a0-ff43-427d-9823-bc05db431f22,DISK], DatanodeInfoWithStorage[127.0.0.1:45780,DS-01bc83d4-8631-47b3-a992-fd54f46b8ecf,DISK], DatanodeInfoWithStorage[127.0.0.1:43600,DS-8da26019-aef7-46ea-9879-5c4ab89c9f86,DISK], DatanodeInfoWithStorage[127.0.0.1:33477,DS-d0b10900-2f03-45d1-9078-e0dbd2fe0fc1,DISK], DatanodeInfoWithStorage[127.0.0.1:41952,DS-9e1b48d3-3768-42b6-ad5d-88b5ab256eb6,DISK], DatanodeInfoWithStorage[127.0.0.1:45373,DS-da9d5171-ad78-45a8-b8b4-f880899478a8,DISK], DatanodeInfoWithStorage[127.0.0.1:45631,DS-5e933a1d-fa64-4840-bc0b-2334b8ba77aa,DISK], DatanodeInfoWithStorage[127.0.0.1:41508,DS-88042ddf-aafb-44fd-8879-10de640cbe9e,DISK], DatanodeInfoWithStorage[127.0.0.1:35378,DS-2aae60cb-2948-44c5-b96d-e1494e0303e0,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-20176858-172.17.0.11-1593674535935:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33477,DS-a11b57ac-7b1f-445c-9e9e-dfd9b2af8a0d,DISK]]; indices=[7]}];  lastLocatedBlock=LocatedStripedBlock{BP-20176858-172.17.0.11-1593674535935:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:33477,DS-a11b57ac-7b1f-445c-9e9e-dfd9b2af8a0d,DISK]]; indices=[7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-236266069-172.17.0.11-1593674844473:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45693,DS-fd6e391b-32d2-4b10-89f9-9068d37341f3,DISK], DatanodeInfoWithStorage[127.0.0.1:45013,DS-7d177705-74c0-4990-97c7-59d9ec4addb3,DISK], DatanodeInfoWithStorage[127.0.0.1:40145,DS-5c76d2c2-bf9a-47fb-920f-9cade5d0773c,DISK], DatanodeInfoWithStorage[127.0.0.1:34765,DS-612283b9-a340-434d-887a-eedf5a1dba0d,DISK], DatanodeInfoWithStorage[127.0.0.1:37602,DS-ed4fd7b8-f8b2-40e1-ae02-6c7517f9aa8f,DISK], DatanodeInfoWithStorage[127.0.0.1:40801,DS-3cfac17a-3380-474f-8516-0f7f5eb8540c,DISK], DatanodeInfoWithStorage[127.0.0.1:39149,DS-db40ae2e-72e8-47c4-a9ba-7f8d4b13d3af,DISK], DatanodeInfoWithStorage[127.0.0.1:45980,DS-fe6fcc79-a229-4681-b763-32bfe90b1133,DISK], DatanodeInfoWithStorage[127.0.0.1:33498,DS-981e1e74-a859-408b-bd16-e82daa2ac64f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-236266069-172.17.0.11-1593674844473:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37602,DS-edb53afe-57d9-48ab-818e-503814376800,DISK], DatanodeInfoWithStorage[127.0.0.1:45980,DS-193f2238-388e-491b-b588-c78a6a3b1fc1,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-236266069-172.17.0.11-1593674844473:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37602,DS-edb53afe-57d9-48ab-818e-503814376800,DISK], DatanodeInfoWithStorage[127.0.0.1:45980,DS-193f2238-388e-491b-b588-c78a6a3b1fc1,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-236266069-172.17.0.11-1593674844473:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45693,DS-fd6e391b-32d2-4b10-89f9-9068d37341f3,DISK], DatanodeInfoWithStorage[127.0.0.1:45013,DS-7d177705-74c0-4990-97c7-59d9ec4addb3,DISK], DatanodeInfoWithStorage[127.0.0.1:40145,DS-5c76d2c2-bf9a-47fb-920f-9cade5d0773c,DISK], DatanodeInfoWithStorage[127.0.0.1:34765,DS-612283b9-a340-434d-887a-eedf5a1dba0d,DISK], DatanodeInfoWithStorage[127.0.0.1:37602,DS-ed4fd7b8-f8b2-40e1-ae02-6c7517f9aa8f,DISK], DatanodeInfoWithStorage[127.0.0.1:40801,DS-3cfac17a-3380-474f-8516-0f7f5eb8540c,DISK], DatanodeInfoWithStorage[127.0.0.1:39149,DS-db40ae2e-72e8-47c4-a9ba-7f8d4b13d3af,DISK], DatanodeInfoWithStorage[127.0.0.1:45980,DS-fe6fcc79-a229-4681-b763-32bfe90b1133,DISK], DatanodeInfoWithStorage[127.0.0.1:33498,DS-981e1e74-a859-408b-bd16-e82daa2ac64f,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-236266069-172.17.0.11-1593674844473:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37602,DS-edb53afe-57d9-48ab-818e-503814376800,DISK], DatanodeInfoWithStorage[127.0.0.1:45980,DS-193f2238-388e-491b-b588-c78a6a3b1fc1,DISK]]; indices=[6, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-236266069-172.17.0.11-1593674844473:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37602,DS-edb53afe-57d9-48ab-818e-503814376800,DISK], DatanodeInfoWithStorage[127.0.0.1:45980,DS-193f2238-388e-491b-b588-c78a6a3b1fc1,DISK]]; indices=[6, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-535256147-172.17.0.11-1593675272822:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46675,DS-bf4d377e-b6b3-4429-a83a-7ed40e0051e3,DISK], DatanodeInfoWithStorage[127.0.0.1:41064,DS-1bfcdaf6-174b-48a4-8036-b2a35a820a19,DISK], DatanodeInfoWithStorage[127.0.0.1:33452,DS-ee01fbef-3a21-419d-b9f0-a90872bc9c3e,DISK], DatanodeInfoWithStorage[127.0.0.1:33276,DS-e40a8918-42fd-41de-9881-e5fed10b02f8,DISK], DatanodeInfoWithStorage[127.0.0.1:38027,DS-ce398721-40cb-4374-bc28-30aedfe4532c,DISK], DatanodeInfoWithStorage[127.0.0.1:35710,DS-4b5a6799-bd47-4953-b49b-1088c0198cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:40770,DS-152d6814-23a8-4ed5-b9a3-ba3103e747d5,DISK], DatanodeInfoWithStorage[127.0.0.1:33876,DS-eba6c7ab-3665-43f5-ab38-5543cdf82f32,DISK], DatanodeInfoWithStorage[127.0.0.1:34336,DS-edaf7fa6-88dd-4340-bbdf-2036e2342450,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-535256147-172.17.0.11-1593675272822:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35710,DS-b8951ada-c3f5-4198-b85c-0c552d783278,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-535256147-172.17.0.11-1593675272822:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35710,DS-b8951ada-c3f5-4198-b85c-0c552d783278,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-535256147-172.17.0.11-1593675272822:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:46675,DS-bf4d377e-b6b3-4429-a83a-7ed40e0051e3,DISK], DatanodeInfoWithStorage[127.0.0.1:41064,DS-1bfcdaf6-174b-48a4-8036-b2a35a820a19,DISK], DatanodeInfoWithStorage[127.0.0.1:33452,DS-ee01fbef-3a21-419d-b9f0-a90872bc9c3e,DISK], DatanodeInfoWithStorage[127.0.0.1:33276,DS-e40a8918-42fd-41de-9881-e5fed10b02f8,DISK], DatanodeInfoWithStorage[127.0.0.1:38027,DS-ce398721-40cb-4374-bc28-30aedfe4532c,DISK], DatanodeInfoWithStorage[127.0.0.1:35710,DS-4b5a6799-bd47-4953-b49b-1088c0198cb0,DISK], DatanodeInfoWithStorage[127.0.0.1:40770,DS-152d6814-23a8-4ed5-b9a3-ba3103e747d5,DISK], DatanodeInfoWithStorage[127.0.0.1:33876,DS-eba6c7ab-3665-43f5-ab38-5543cdf82f32,DISK], DatanodeInfoWithStorage[127.0.0.1:34336,DS-edaf7fa6-88dd-4340-bbdf-2036e2342450,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-535256147-172.17.0.11-1593675272822:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35710,DS-b8951ada-c3f5-4198-b85c-0c552d783278,DISK]]; indices=[8]}];  lastLocatedBlock=LocatedStripedBlock{BP-535256147-172.17.0.11-1593675272822:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:35710,DS-b8951ada-c3f5-4198-b85c-0c552d783278,DISK]]; indices=[8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: Invalid buffer found, not allowing null
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: Invalid buffer found, not allowing null
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkOutputBuffers(ByteBufferDecodingState.java:132)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:48)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1236569157-172.17.0.11-1593675625411:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45806,DS-ae04238f-9ed7-4128-9bdc-4dd3216c6889,DISK], DatanodeInfoWithStorage[127.0.0.1:46817,DS-7696347a-dfec-46c0-aca5-9198758a361e,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-b3c0657f-a53e-4661-91f0-fd6fbdfba521,DISK], DatanodeInfoWithStorage[127.0.0.1:41852,DS-484bf77a-4c91-4271-bd4b-86e7640c5253,DISK], DatanodeInfoWithStorage[127.0.0.1:36158,DS-7f521dc1-c773-435c-8737-07c6561493db,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-df440797-0164-427b-bf3b-9d10fa342094,DISK], DatanodeInfoWithStorage[127.0.0.1:37335,DS-688004ab-4e33-48f3-96a1-7d82626cc219,DISK], DatanodeInfoWithStorage[127.0.0.1:35889,DS-9cd8263c-5450-4e28-a76b-316b8581b9ca,DISK], DatanodeInfoWithStorage[127.0.0.1:38678,DS-2b8ffedd-514b-4100-8a5d-441e021f851c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1236569157-172.17.0.11-1593675625411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37335,DS-1c29d87a-a38e-4985-ae32-718dccded851,DISK], DatanodeInfoWithStorage[127.0.0.1:38678,DS-c352a56e-35a3-445c-9f9c-6e3bb795d7b1,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1236569157-172.17.0.11-1593675625411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37335,DS-1c29d87a-a38e-4985-ae32-718dccded851,DISK], DatanodeInfoWithStorage[127.0.0.1:38678,DS-c352a56e-35a3-445c-9f9c-6e3bb795d7b1,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-1236569157-172.17.0.11-1593675625411:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:45806,DS-ae04238f-9ed7-4128-9bdc-4dd3216c6889,DISK], DatanodeInfoWithStorage[127.0.0.1:46817,DS-7696347a-dfec-46c0-aca5-9198758a361e,DISK], DatanodeInfoWithStorage[127.0.0.1:46683,DS-b3c0657f-a53e-4661-91f0-fd6fbdfba521,DISK], DatanodeInfoWithStorage[127.0.0.1:41852,DS-484bf77a-4c91-4271-bd4b-86e7640c5253,DISK], DatanodeInfoWithStorage[127.0.0.1:36158,DS-7f521dc1-c773-435c-8737-07c6561493db,DISK], DatanodeInfoWithStorage[127.0.0.1:35759,DS-df440797-0164-427b-bf3b-9d10fa342094,DISK], DatanodeInfoWithStorage[127.0.0.1:37335,DS-688004ab-4e33-48f3-96a1-7d82626cc219,DISK], DatanodeInfoWithStorage[127.0.0.1:35889,DS-9cd8263c-5450-4e28-a76b-316b8581b9ca,DISK], DatanodeInfoWithStorage[127.0.0.1:38678,DS-2b8ffedd-514b-4100-8a5d-441e021f851c,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-1236569157-172.17.0.11-1593675625411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37335,DS-1c29d87a-a38e-4985-ae32-718dccded851,DISK], DatanodeInfoWithStorage[127.0.0.1:38678,DS-c352a56e-35a3-445c-9f9c-6e3bb795d7b1,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-1236569157-172.17.0.11-1593675625411:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:37335,DS-1c29d87a-a38e-4985-ae32-718dccded851,DISK], DatanodeInfoWithStorage[127.0.0.1:38678,DS-c352a56e-35a3-445c-9f9c-6e3bb795d7b1,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-609906845-172.17.0.11-1593676236939:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33038,DS-e77e769e-1372-4a4d-9610-f76e11acc6a2,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-57b05dea-d71f-48aa-9173-440e4e676959,DISK], DatanodeInfoWithStorage[127.0.0.1:39710,DS-60b25515-1505-401b-ad93-e4e2160ff555,DISK], DatanodeInfoWithStorage[127.0.0.1:38399,DS-66061e6a-7f59-4ad1-bfe8-3a3da7eab944,DISK], DatanodeInfoWithStorage[127.0.0.1:42176,DS-eade7453-9b5a-408c-97f0-10518158010f,DISK], DatanodeInfoWithStorage[127.0.0.1:37316,DS-3f2cd188-015e-4bef-ab61-408aae65ea5b,DISK], DatanodeInfoWithStorage[127.0.0.1:45166,DS-a8c83f26-ec8f-44f5-919c-df96f67f3864,DISK], DatanodeInfoWithStorage[127.0.0.1:35500,DS-13b49f61-2022-4e6e-be46-f1cfe47d4c85,DISK], DatanodeInfoWithStorage[127.0.0.1:45423,DS-a958359b-81c0-4e49-93ae-e7a671529a48,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-609906845-172.17.0.11-1593676236939:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45423,DS-17e502da-db55-4983-9fc2-5a2f8964b6d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33038,DS-c221a601-c747-442f-9c4f-4b84ff5b684b,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-609906845-172.17.0.11-1593676236939:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45423,DS-17e502da-db55-4983-9fc2-5a2f8964b6d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33038,DS-c221a601-c747-442f-9c4f-4b84ff5b684b,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-609906845-172.17.0.11-1593676236939:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:33038,DS-e77e769e-1372-4a4d-9610-f76e11acc6a2,DISK], DatanodeInfoWithStorage[127.0.0.1:40653,DS-57b05dea-d71f-48aa-9173-440e4e676959,DISK], DatanodeInfoWithStorage[127.0.0.1:39710,DS-60b25515-1505-401b-ad93-e4e2160ff555,DISK], DatanodeInfoWithStorage[127.0.0.1:38399,DS-66061e6a-7f59-4ad1-bfe8-3a3da7eab944,DISK], DatanodeInfoWithStorage[127.0.0.1:42176,DS-eade7453-9b5a-408c-97f0-10518158010f,DISK], DatanodeInfoWithStorage[127.0.0.1:37316,DS-3f2cd188-015e-4bef-ab61-408aae65ea5b,DISK], DatanodeInfoWithStorage[127.0.0.1:45166,DS-a8c83f26-ec8f-44f5-919c-df96f67f3864,DISK], DatanodeInfoWithStorage[127.0.0.1:35500,DS-13b49f61-2022-4e6e-be46-f1cfe47d4c85,DISK], DatanodeInfoWithStorage[127.0.0.1:45423,DS-a958359b-81c0-4e49-93ae-e7a671529a48,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-609906845-172.17.0.11-1593676236939:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45423,DS-17e502da-db55-4983-9fc2-5a2f8964b6d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33038,DS-c221a601-c747-442f-9c4f-4b84ff5b684b,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-609906845-172.17.0.11-1593676236939:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:45423,DS-17e502da-db55-4983-9fc2-5a2f8964b6d9,DISK], DatanodeInfoWithStorage[127.0.0.1:33038,DS-c221a601-c747-442f-9c4f-4b84ff5b684b,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-360550557-172.17.0.11-1593676615454:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34843,DS-b3fd72a0-c912-47b5-ac0e-001bcd004c43,DISK], DatanodeInfoWithStorage[127.0.0.1:36034,DS-d5376f93-2fc7-401f-bc40-d886c170b974,DISK], DatanodeInfoWithStorage[127.0.0.1:46714,DS-d33dbb40-34c8-4677-bb34-31fac42540e9,DISK], DatanodeInfoWithStorage[127.0.0.1:41527,DS-ced0be7a-3d25-4d3a-8b3d-4271b379644e,DISK], DatanodeInfoWithStorage[127.0.0.1:42336,DS-fb30a8c9-3478-4c7f-b7a1-8c79f507fa61,DISK], DatanodeInfoWithStorage[127.0.0.1:43661,DS-f9fc3e94-b5a5-434f-aa7b-a7f3c99bcb48,DISK], DatanodeInfoWithStorage[127.0.0.1:41712,DS-6304752e-459a-499c-835b-347e5d7dbb8e,DISK], DatanodeInfoWithStorage[127.0.0.1:34982,DS-1c170c43-354a-4132-81ff-d62c2cbc77ba,DISK], DatanodeInfoWithStorage[127.0.0.1:35876,DS-c1263f53-0c5a-4eb9-ad8d-11cf11b48737,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-360550557-172.17.0.11-1593676615454:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41527,DS-ccbf812c-a025-4f4d-bb6c-32b34a3829f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42336,DS-3eb7d317-4e12-455e-8b67-b71421955a7c,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-360550557-172.17.0.11-1593676615454:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41527,DS-ccbf812c-a025-4f4d-bb6c-32b34a3829f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42336,DS-3eb7d317-4e12-455e-8b67-b71421955a7c,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-360550557-172.17.0.11-1593676615454:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:34843,DS-b3fd72a0-c912-47b5-ac0e-001bcd004c43,DISK], DatanodeInfoWithStorage[127.0.0.1:36034,DS-d5376f93-2fc7-401f-bc40-d886c170b974,DISK], DatanodeInfoWithStorage[127.0.0.1:46714,DS-d33dbb40-34c8-4677-bb34-31fac42540e9,DISK], DatanodeInfoWithStorage[127.0.0.1:41527,DS-ced0be7a-3d25-4d3a-8b3d-4271b379644e,DISK], DatanodeInfoWithStorage[127.0.0.1:42336,DS-fb30a8c9-3478-4c7f-b7a1-8c79f507fa61,DISK], DatanodeInfoWithStorage[127.0.0.1:43661,DS-f9fc3e94-b5a5-434f-aa7b-a7f3c99bcb48,DISK], DatanodeInfoWithStorage[127.0.0.1:41712,DS-6304752e-459a-499c-835b-347e5d7dbb8e,DISK], DatanodeInfoWithStorage[127.0.0.1:34982,DS-1c170c43-354a-4132-81ff-d62c2cbc77ba,DISK], DatanodeInfoWithStorage[127.0.0.1:35876,DS-c1263f53-0c5a-4eb9-ad8d-11cf11b48737,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-360550557-172.17.0.11-1593676615454:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41527,DS-ccbf812c-a025-4f4d-bb6c-32b34a3829f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42336,DS-3eb7d317-4e12-455e-8b67-b71421955a7c,DISK]]; indices=[6, 7]}];  lastLocatedBlock=LocatedStripedBlock{BP-360550557-172.17.0.11-1593676615454:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:41527,DS-ccbf812c-a025-4f4d-bb6c-32b34a3829f1,DISK], DatanodeInfoWithStorage[127.0.0.1:42336,DS-3eb7d317-4e12-455e-8b67-b71421955a7c,DISK]]; indices=[6, 7]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readParityChunks(StripeReader.java:211)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:378)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is -1
v1v1 or v2v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: Invalid buffer found, not allowing null
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: Invalid buffer found, not allowing null
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkOutputBuffers(ByteBufferDecodingState.java:132)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:48)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: Invalid buffer found, not allowing null
stackTrace: org.apache.hadoop.HadoopIllegalArgumentException: Invalid buffer found, not allowing null
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.checkOutputBuffers(ByteBufferDecodingState.java:132)
	at org.apache.hadoop.io.erasurecode.rawcoder.ByteBufferDecodingState.<init>(ByteBufferDecodingState.java:48)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:86)
	at org.apache.hadoop.io.erasurecode.rawcoder.RawErasureDecoder.decode(RawErasureDecoder.java:170)
	at org.apache.hadoop.hdfs.StripeReader.decodeAndFillBuffer(StripeReader.java:433)
	at org.apache.hadoop.hdfs.StatefulStripeReader.decode(StatefulStripeReader.java:94)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:390)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readOneStripe(DFSStripedInputStream.java:326)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.readWithStrategy(DFSStripedInputStream.java:419)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:829)
	at java.io.DataInputStream.read(DataInputStream.java:149)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyStatefulRead(StripedFileTestUtil.java:126)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:141)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is -1
v1v2 test failed !!!
reconf_parameter: dfs.blockreport.incremental.intervalMsec
component: hdfs:DataNode
v1: 0
v2: 10000000
testProject: hdfs
unitTest: org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData#testReadCorruptedData[8]
reconfPoint: -1
result: -1
failureMessage: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-349120646-172.17.0.11-1593677181813:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41649,DS-b5a29304-a260-4a83-b258-cbcdbc447c95,DISK], DatanodeInfoWithStorage[127.0.0.1:37022,DS-61e4e272-a448-4042-85d2-189c0c301f06,DISK], DatanodeInfoWithStorage[127.0.0.1:42579,DS-ee7c84f5-d8b0-4d3b-8f3c-b09360a05e53,DISK], DatanodeInfoWithStorage[127.0.0.1:37938,DS-9d200c81-5807-4945-ab53-6fdae7233fd1,DISK], DatanodeInfoWithStorage[127.0.0.1:41530,DS-46176e68-40db-4f5a-ab39-942ecb29c4e5,DISK], DatanodeInfoWithStorage[127.0.0.1:42944,DS-f921b324-4769-477d-9e55-f6897947c130,DISK], DatanodeInfoWithStorage[127.0.0.1:38340,DS-29be1994-6612-486c-a731-5593c5394d52,DISK], DatanodeInfoWithStorage[127.0.0.1:35886,DS-64c2a41c-ef8f-43d6-bec8-f6e5919cae71,DISK], DatanodeInfoWithStorage[127.0.0.1:42858,DS-f3e9a51f-19f0-4156-bf76-1ee8c5084bfa,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-349120646-172.17.0.11-1593677181813:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42944,DS-10755377-8d49-4261-b94c-192881f5b4c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42579,DS-08e04c04-1797-4b37-9991-255843b699bf,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-349120646-172.17.0.11-1593677181813:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42944,DS-10755377-8d49-4261-b94c-192881f5b4c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42579,DS-08e04c04-1797-4b37-9991-255843b699bf,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
stackTrace: java.io.IOException: 4 missing blocks, the stripe is: AlignedStripe(Offset=0, length=123, fetchedChunksNum=0, missingChunksNum=4); locatedBlocks is: LocatedBlocks{;  fileLength=25165947;  underConstruction=false;  blocks=[LocatedStripedBlock{BP-349120646-172.17.0.11-1593677181813:blk_-9223372036854775792_1001; getBlockSize()=25165824; corrupt=false; offset=0; locs=[DatanodeInfoWithStorage[127.0.0.1:41649,DS-b5a29304-a260-4a83-b258-cbcdbc447c95,DISK], DatanodeInfoWithStorage[127.0.0.1:37022,DS-61e4e272-a448-4042-85d2-189c0c301f06,DISK], DatanodeInfoWithStorage[127.0.0.1:42579,DS-ee7c84f5-d8b0-4d3b-8f3c-b09360a05e53,DISK], DatanodeInfoWithStorage[127.0.0.1:37938,DS-9d200c81-5807-4945-ab53-6fdae7233fd1,DISK], DatanodeInfoWithStorage[127.0.0.1:41530,DS-46176e68-40db-4f5a-ab39-942ecb29c4e5,DISK], DatanodeInfoWithStorage[127.0.0.1:42944,DS-f921b324-4769-477d-9e55-f6897947c130,DISK], DatanodeInfoWithStorage[127.0.0.1:38340,DS-29be1994-6612-486c-a731-5593c5394d52,DISK], DatanodeInfoWithStorage[127.0.0.1:35886,DS-64c2a41c-ef8f-43d6-bec8-f6e5919cae71,DISK], DatanodeInfoWithStorage[127.0.0.1:42858,DS-f3e9a51f-19f0-4156-bf76-1ee8c5084bfa,DISK]]; indices=[0, 1, 2, 3, 4, 5, 6, 7, 8]}, LocatedStripedBlock{BP-349120646-172.17.0.11-1593677181813:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42944,DS-10755377-8d49-4261-b94c-192881f5b4c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42579,DS-08e04c04-1797-4b37-9991-255843b699bf,DISK]]; indices=[7, 8]}];  lastLocatedBlock=LocatedStripedBlock{BP-349120646-172.17.0.11-1593677181813:blk_-9223372036854775776_1002; getBlockSize()=123; corrupt=false; offset=25165824; locs=[DatanodeInfoWithStorage[127.0.0.1:42944,DS-10755377-8d49-4261-b94c-192881f5b4c7,DISK], DatanodeInfoWithStorage[127.0.0.1:42579,DS-08e04c04-1797-4b37-9991-255843b699bf,DISK]]; indices=[7, 8]};  isLastBlockComplete=true;  ecPolicy=ErasureCodingPolicy=[Name=RS-6-3-1024k, Schema=[ECSchema=[Codec=rs, numDataUnits=6, numParityUnits=3]], CellSize=1048576, Id=1]}
	at org.apache.hadoop.hdfs.StripeReader.checkMissingBlocks(StripeReader.java:179)
	at org.apache.hadoop.hdfs.StripeReader.readStripe(StripeReader.java:375)
	at org.apache.hadoop.hdfs.DFSStripedInputStream.fetchBlockByteRange(DFSStripedInputStream.java:507)
	at org.apache.hadoop.hdfs.DFSInputStream.pread(DFSInputStream.java:1360)
	at org.apache.hadoop.hdfs.DFSInputStream.read(DFSInputStream.java:1324)
	at org.apache.hadoop.fs.FSInputStream.readFully(FSInputStream.java:121)
	at org.apache.hadoop.fs.FSDataInputStream.readFully(FSDataInputStream.java:111)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:106)
	at org.apache.hadoop.hdfs.StripedFileTestUtil.verifyPread(StripedFileTestUtil.java:86)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.verifyRead(ReadStripedFileWithDecodingHelper.java:139)
	at org.apache.hadoop.hdfs.ReadStripedFileWithDecodingHelper.testReadWithBlockCorrupted(ReadStripedFileWithDecodingHelper.java:221)
	at org.apache.hadoop.hdfs.TestReadStripedFileWithDecodingCorruptData.testReadCorruptedData(TestReadStripedFileWithDecodingCorruptData.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)



Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1

Test vvMode=v1v2
tr.result is 1

Test vvMode=v1v1
tr.result is 1

Test vvMode=v2v2
tr.result is 1
v1v2 failed with probability 13 out of 50
v1v1v2v2 failed with probability 5 out of 50
result: might be true error
Total execution time in seconds : 9820
